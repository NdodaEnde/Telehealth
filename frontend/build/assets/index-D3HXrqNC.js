var RJ=Object.defineProperty;var u2=e=>{throw TypeError(e)};var DJ=(e,t,r)=>t in e?RJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var d2=(e,t,r)=>DJ(e,typeof t!="symbol"?t+"":t,r),Ej=(e,t,r)=>t.has(e)||u2("Cannot "+r);var se=(e,t,r)=>(Ej(e,t,"read from private field"),r?r.call(e):t.get(e)),bt=(e,t,r)=>t.has(e)?u2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),st=(e,t,r,n)=>(Ej(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),En=(e,t,r)=>(Ej(e,t,"access private method"),r);var oy=(e,t,r,n)=>({set _(i){st(e,t,i,r)},get _(){return se(e,t,n)}});function LJ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q5={exports:{}},mw={},G5={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=Symbol.for("react.element"),FJ=Symbol.for("react.portal"),BJ=Symbol.for("react.fragment"),UJ=Symbol.for("react.strict_mode"),zJ=Symbol.for("react.profiler"),VJ=Symbol.for("react.provider"),WJ=Symbol.for("react.context"),HJ=Symbol.for("react.forward_ref"),qJ=Symbol.for("react.suspense"),GJ=Symbol.for("react.memo"),KJ=Symbol.for("react.lazy"),f2=Symbol.iterator;function YJ(e){return e===null||typeof e!="object"?null:(e=f2&&e[f2]||e["@@iterator"],typeof e=="function"?e:null)}var K5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y5=Object.assign,J5={};function Bh(e,t,r){this.props=e,this.context=t,this.refs=J5,this.updater=r||K5}Bh.prototype.isReactComponent={};Bh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function X5(){}X5.prototype=Bh.prototype;function zE(e,t,r){this.props=e,this.context=t,this.refs=J5,this.updater=r||K5}var VE=zE.prototype=new X5;VE.constructor=zE;Y5(VE,Bh.prototype);VE.isPureReactComponent=!0;var h2=Array.isArray,Q5=Object.prototype.hasOwnProperty,WE={current:null},Z5={key:!0,ref:!0,__self:!0,__source:!0};function eB(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Q5.call(t,n)&&!Z5.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:pv,type:e,key:a,ref:s,props:i,_owner:WE.current}}function JJ(e,t){return{$$typeof:pv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function HE(e){return typeof e=="object"&&e!==null&&e.$$typeof===pv}function XJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var p2=/\/+/g;function Oj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XJ(""+e.key):t.toString(36)}function yx(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case pv:case FJ:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Oj(s,0):n,h2(i)?(r="",e!=null&&(r=e.replace(p2,"$&/")+"/"),yx(i,t,r,"",function(u){return u})):i!=null&&(HE(i)&&(i=JJ(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(p2,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",h2(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Oj(a,l);s+=yx(a,t,r,c,i)}else if(c=YJ(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Oj(a,l++),s+=yx(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ly(e,t,r){if(e==null)return e;var n=[],i=0;return yx(e,n,"","",function(a){return t.call(r,a,i++)}),n}function QJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ii={current:null},xx={transition:null},ZJ={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:xx,ReactCurrentOwner:WE};function tB(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:ly,forEach:function(e,t,r){ly(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ly(e,function(){t++}),t},toArray:function(e){return ly(e,function(t){return t})||[]},only:function(e){if(!HE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xt.Component=Bh;xt.Fragment=BJ;xt.Profiler=zJ;xt.PureComponent=zE;xt.StrictMode=UJ;xt.Suspense=qJ;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZJ;xt.act=tB;xt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Y5({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=WE.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Q5.call(t,c)&&!Z5.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:pv,type:e.type,key:i,ref:a,props:n,_owner:s}};xt.createContext=function(e){return e={$$typeof:WJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VJ,_context:e},e.Consumer=e};xt.createElement=eB;xt.createFactory=function(e){var t=eB.bind(null,e);return t.type=e,t};xt.createRef=function(){return{current:null}};xt.forwardRef=function(e){return{$$typeof:HJ,render:e}};xt.isValidElement=HE;xt.lazy=function(e){return{$$typeof:KJ,_payload:{_status:-1,_result:e},_init:QJ}};xt.memo=function(e,t){return{$$typeof:GJ,type:e,compare:t===void 0?null:t}};xt.startTransition=function(e){var t=xx.transition;xx.transition={};try{e()}finally{xx.transition=t}};xt.unstable_act=tB;xt.useCallback=function(e,t){return ii.current.useCallback(e,t)};xt.useContext=function(e){return ii.current.useContext(e)};xt.useDebugValue=function(){};xt.useDeferredValue=function(e){return ii.current.useDeferredValue(e)};xt.useEffect=function(e,t){return ii.current.useEffect(e,t)};xt.useId=function(){return ii.current.useId()};xt.useImperativeHandle=function(e,t,r){return ii.current.useImperativeHandle(e,t,r)};xt.useInsertionEffect=function(e,t){return ii.current.useInsertionEffect(e,t)};xt.useLayoutEffect=function(e,t){return ii.current.useLayoutEffect(e,t)};xt.useMemo=function(e,t){return ii.current.useMemo(e,t)};xt.useReducer=function(e,t,r){return ii.current.useReducer(e,t,r)};xt.useRef=function(e){return ii.current.useRef(e)};xt.useState=function(e){return ii.current.useState(e)};xt.useSyncExternalStore=function(e,t,r){return ii.current.useSyncExternalStore(e,t,r)};xt.useTransition=function(){return ii.current.useTransition()};xt.version="18.3.1";G5.exports=xt;var y=G5.exports;const T=Nt(y),gw=LJ({__proto__:null,default:T},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eX=y,tX=Symbol.for("react.element"),rX=Symbol.for("react.fragment"),nX=Object.prototype.hasOwnProperty,iX=eX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aX={key:!0,ref:!0,__self:!0,__source:!0};function rB(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)nX.call(t,n)&&!aX.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:tX,type:e,key:a,ref:s,props:i,_owner:iX.current}}mw.Fragment=rX;mw.jsx=rB;mw.jsxs=rB;q5.exports=mw;var o=q5.exports,nB={exports:{}},ea={},iB={exports:{}},aB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,F){var G=I.length;I.push(F);e:for(;0<G;){var ne=G-1>>>1,Z=I[ne];if(0<i(Z,F))I[ne]=F,I[G]=Z,G=ne;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var F=I[0],G=I.pop();if(G!==F){I[0]=G;e:for(var ne=0,Z=I.length,S=Z>>>1;ne<S;){var C=2*(ne+1)-1,E=I[C],B=C+1,R=I[B];if(0>i(E,G))B<Z&&0>i(R,E)?(I[ne]=R,I[B]=G,ne=B):(I[ne]=E,I[C]=G,ne=C);else if(B<Z&&0>i(R,G))I[ne]=R,I[B]=G,ne=B;else break e}}return F}function i(I,F){var G=I.sortIndex-F.sortIndex;return G!==0?G:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=I)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function _(I){if(m=!1,w(I),!g)if(r(c)!==null)g=!0,D(N);else{var F=r(u);F!==null&&U(_,F.startTime-I)}}function N(I,F){g=!1,m&&(m=!1,b(O),O=-1),p=!0;var G=h;try{for(w(F),f=r(c);f!==null&&(!(f.expirationTime>F)||I&&!$());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var Z=ne(f.expirationTime<=F);F=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(c)&&n(c),w(F)}else n(c);f=r(c)}if(f!==null)var S=!0;else{var C=r(u);C!==null&&U(_,C.startTime-F),S=!1}return S}finally{f=null,h=G,p=!1}}var j=!1,k=null,O=-1,P=5,A=-1;function $(){return!(e.unstable_now()-A<P)}function M(){if(k!==null){var I=e.unstable_now();A=I;var F=!0;try{F=k(!0,I)}finally{F?z():(j=!1,k=null)}}else j=!1}var z;if(typeof x=="function")z=function(){x(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,V=L.port2;L.port1.onmessage=M,z=function(){V.postMessage(null)}}else z=function(){v(M,0)};function D(I){k=I,j||(j=!0,z())}function U(I,F){O=v(function(){I(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,D(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var G=h;h=F;try{return I()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var G=h;h=I;try{return F()}finally{h=G}},e.unstable_scheduleCallback=function(I,F,G){var ne=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ne+G:ne):G=ne,I){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,I={id:d++,callback:F,priorityLevel:I,startTime:G,expirationTime:Z,sortIndex:-1},G>ne?(I.sortIndex=G,t(u,I),r(c)===null&&I===r(u)&&(m?(b(O),O=-1):m=!0,U(_,G-ne))):(I.sortIndex=Z,t(c,I),g||p||(g=!0,D(N))),I},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(I){var F=h;return function(){var G=h;h=F;try{return I.apply(this,arguments)}finally{h=G}}}})(aB);iB.exports=aB;var sX=iB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oX=y,Qi=sX;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sB=new Set,Fm={};function Zu(e,t){Df(e,t),Df(e+"Capture",t)}function Df(e,t){for(Fm[e]=t,e=0;e<t.length;e++)sB.add(t[e])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qS=Object.prototype.hasOwnProperty,lX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m2={},g2={};function cX(e){return qS.call(g2,e)?!0:qS.call(m2,e)?!1:lX.test(e)?g2[e]=!0:(m2[e]=!0,!1)}function uX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dX(e,t,r,n){if(t===null||typeof t>"u"||uX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ai(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kn[e]=new ai(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kn[t]=new ai(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kn[e]=new ai(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kn[e]=new ai(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kn[e]=new ai(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kn[e]=new ai(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kn[e]=new ai(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kn[e]=new ai(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kn[e]=new ai(e,5,!1,e.toLowerCase(),null,!1,!1)});var qE=/[\-:]([a-z])/g;function GE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qE,GE);kn[t]=new ai(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qE,GE);kn[t]=new ai(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qE,GE);kn[t]=new ai(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kn[e]=new ai(e,1,!1,e.toLowerCase(),null,!1,!1)});kn.xlinkHref=new ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kn[e]=new ai(e,1,!1,e.toLowerCase(),null,!0,!0)});function KE(e,t,r,n){var i=kn.hasOwnProperty(t)?kn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dX(t,r,i,n)&&(r=null),n||i===null?cX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xo=oX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cy=Symbol.for("react.element"),Bd=Symbol.for("react.portal"),Ud=Symbol.for("react.fragment"),YE=Symbol.for("react.strict_mode"),GS=Symbol.for("react.profiler"),oB=Symbol.for("react.provider"),lB=Symbol.for("react.context"),JE=Symbol.for("react.forward_ref"),KS=Symbol.for("react.suspense"),YS=Symbol.for("react.suspense_list"),XE=Symbol.for("react.memo"),vl=Symbol.for("react.lazy"),cB=Symbol.for("react.offscreen"),v2=Symbol.iterator;function jp(e){return e===null||typeof e!="object"?null:(e=v2&&e[v2]||e["@@iterator"],typeof e=="function"?e:null)}var Sr=Object.assign,Pj;function nm(e){if(Pj===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pj=t&&t[1]||""}return`
`+Pj+e}var Tj=!1;function Aj(e,t){if(!e||Tj)return"";Tj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Tj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nm(e):""}function fX(e){switch(e.tag){case 5:return nm(e.type);case 16:return nm("Lazy");case 13:return nm("Suspense");case 19:return nm("SuspenseList");case 0:case 2:case 15:return e=Aj(e.type,!1),e;case 11:return e=Aj(e.type.render,!1),e;case 1:return e=Aj(e.type,!0),e;default:return""}}function JS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ud:return"Fragment";case Bd:return"Portal";case GS:return"Profiler";case YE:return"StrictMode";case KS:return"Suspense";case YS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lB:return(e.displayName||"Context")+".Consumer";case oB:return(e._context.displayName||"Context")+".Provider";case JE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case XE:return t=e.displayName||null,t!==null?t:JS(e.type)||"Memo";case vl:t=e._payload,e=e._init;try{return JS(e(t))}catch{}}return null}function hX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return JS(t);case 8:return t===YE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uB(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pX(e){var t=uB(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uy(e){e._valueTracker||(e._valueTracker=pX(e))}function dB(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=uB(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function XS(e,t){var r=t.checked;return Sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function y2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fB(e,t){t=t.checked,t!=null&&KE(e,"checked",t,!1)}function QS(e,t){fB(e,t);var r=Zl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ZS(e,t.type,r):t.hasOwnProperty("defaultValue")&&ZS(e,t.type,Zl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function x2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ZS(e,t,r){(t!=="number"||Jx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var im=Array.isArray;function df(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zl(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function eN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function b2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(im(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zl(r)}}function hB(e,t){var r=Zl(t.value),n=Zl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function w2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pB(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pB(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dy,mB=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dy=dy||document.createElement("div"),dy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mX=["Webkit","ms","Moz","O"];Object.keys(pm).forEach(function(e){mX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pm[t]=pm[e]})});function gB(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||pm.hasOwnProperty(e)&&pm[e]?(""+t).trim():t+"px"}function vB(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=gB(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var gX=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rN(e,t){if(t){if(gX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function nN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iN=null;function QE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aN=null,ff=null,hf=null;function _2(e){if(e=vv(e)){if(typeof aN!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=ww(t),aN(e.stateNode,e.type,t))}}function yB(e){ff?hf?hf.push(e):hf=[e]:ff=e}function xB(){if(ff){var e=ff,t=hf;if(hf=ff=null,_2(e),t)for(e=0;e<t.length;e++)_2(t[e])}}function bB(e,t){return e(t)}function wB(){}var Mj=!1;function _B(e,t,r){if(Mj)return e(t,r);Mj=!0;try{return bB(e,t,r)}finally{Mj=!1,(ff!==null||hf!==null)&&(wB(),xB())}}function Um(e,t){var r=e.stateNode;if(r===null)return null;var n=ww(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var sN=!1;if(Do)try{var Sp={};Object.defineProperty(Sp,"passive",{get:function(){sN=!0}}),window.addEventListener("test",Sp,Sp),window.removeEventListener("test",Sp,Sp)}catch{sN=!1}function vX(e,t,r,n,i,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var mm=!1,Xx=null,Qx=!1,oN=null,yX={onError:function(e){mm=!0,Xx=e}};function xX(e,t,r,n,i,a,s,l,c){mm=!1,Xx=null,vX.apply(yX,arguments)}function bX(e,t,r,n,i,a,s,l,c){if(xX.apply(this,arguments),mm){if(mm){var u=Xx;mm=!1,Xx=null}else throw Error(ve(198));Qx||(Qx=!0,oN=u)}}function ed(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j2(e){if(ed(e)!==e)throw Error(ve(188))}function wX(e){var t=e.alternate;if(!t){if(t=ed(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return j2(i),e;if(a===n)return j2(i),t;a=a.sibling}throw Error(ve(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function SB(e){return e=wX(e),e!==null?NB(e):null}function NB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NB(e);if(t!==null)return t;e=e.sibling}return null}var kB=Qi.unstable_scheduleCallback,S2=Qi.unstable_cancelCallback,_X=Qi.unstable_shouldYield,jX=Qi.unstable_requestPaint,Tr=Qi.unstable_now,SX=Qi.unstable_getCurrentPriorityLevel,ZE=Qi.unstable_ImmediatePriority,CB=Qi.unstable_UserBlockingPriority,Zx=Qi.unstable_NormalPriority,NX=Qi.unstable_LowPriority,EB=Qi.unstable_IdlePriority,vw=null,Ws=null;function kX(e){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(vw,e,void 0,(e.current.flags&128)===128)}catch{}}var es=Math.clz32?Math.clz32:OX,CX=Math.log,EX=Math.LN2;function OX(e){return e>>>=0,e===0?32:31-(CX(e)/EX|0)|0}var fy=64,hy=4194304;function am(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eb(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=am(l):(a&=s,a!==0&&(n=am(a)))}else s=r&~i,s!==0?n=am(s):a!==0&&(n=am(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-es(t),i=1<<r,n|=e[r],t&=~i;return n}function PX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-es(a),l=1<<s,c=i[s];c===-1?(!(l&r)||l&n)&&(i[s]=PX(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function lN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OB(){var e=fy;return fy<<=1,!(fy&4194240)&&(fy=64),e}function Ij(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-es(t),e[t]=r}function AX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-es(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function eO(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-es(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Bt=0;function PB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var TB,tO,AB,MB,IB,cN=!1,py=[],Bl=null,Ul=null,zl=null,zm=new Map,Vm=new Map,jl=[],MX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N2(e,t){switch(e){case"focusin":case"focusout":Bl=null;break;case"dragenter":case"dragleave":Ul=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":zm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vm.delete(t.pointerId)}}function Np(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=vv(t),t!==null&&tO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function IX(e,t,r,n,i){switch(t){case"focusin":return Bl=Np(Bl,e,t,r,n,i),!0;case"dragenter":return Ul=Np(Ul,e,t,r,n,i),!0;case"mouseover":return zl=Np(zl,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return zm.set(a,Np(zm.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Vm.set(a,Np(Vm.get(a)||null,e,t,r,n,i)),!0}return!1}function $B(e){var t=eu(e.target);if(t!==null){var r=ed(t);if(r!==null){if(t=r.tag,t===13){if(t=jB(r),t!==null){e.blockedOn=t,IB(e.priority,function(){AB(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=uN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);iN=n,r.target.dispatchEvent(n),iN=null}else return t=vv(r),t!==null&&tO(t),e.blockedOn=r,!1;t.shift()}return!0}function k2(e,t,r){bx(e)&&r.delete(t)}function $X(){cN=!1,Bl!==null&&bx(Bl)&&(Bl=null),Ul!==null&&bx(Ul)&&(Ul=null),zl!==null&&bx(zl)&&(zl=null),zm.forEach(k2),Vm.forEach(k2)}function kp(e,t){e.blockedOn===t&&(e.blockedOn=null,cN||(cN=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,$X)))}function Wm(e){function t(i){return kp(i,e)}if(0<py.length){kp(py[0],e);for(var r=1;r<py.length;r++){var n=py[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bl!==null&&kp(Bl,e),Ul!==null&&kp(Ul,e),zl!==null&&kp(zl,e),zm.forEach(t),Vm.forEach(t),r=0;r<jl.length;r++)n=jl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<jl.length&&(r=jl[0],r.blockedOn===null);)$B(r),r.blockedOn===null&&jl.shift()}var pf=Xo.ReactCurrentBatchConfig,tb=!0;function RX(e,t,r,n){var i=Bt,a=pf.transition;pf.transition=null;try{Bt=1,rO(e,t,r,n)}finally{Bt=i,pf.transition=a}}function DX(e,t,r,n){var i=Bt,a=pf.transition;pf.transition=null;try{Bt=4,rO(e,t,r,n)}finally{Bt=i,pf.transition=a}}function rO(e,t,r,n){if(tb){var i=uN(e,t,r,n);if(i===null)Wj(e,t,n,rb,r),N2(e,n);else if(IX(i,e,t,r,n))n.stopPropagation();else if(N2(e,n),t&4&&-1<MX.indexOf(e)){for(;i!==null;){var a=vv(i);if(a!==null&&TB(a),a=uN(e,t,r,n),a===null&&Wj(e,t,n,rb,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Wj(e,t,n,null,r)}}var rb=null;function uN(e,t,r,n){if(rb=null,e=QE(n),e=eu(e),e!==null)if(t=ed(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jB(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rb=e,null}function RB(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SX()){case ZE:return 1;case CB:return 4;case Zx:case NX:return 16;case EB:return 536870912;default:return 16}default:return 16}}var Il=null,nO=null,wx=null;function DB(){if(wx)return wx;var e,t=nO,r=t.length,n,i="value"in Il?Il.value:Il.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return wx=i.slice(e,1<n?1-n:void 0)}function _x(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function my(){return!0}function C2(){return!1}function ta(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?my:C2,this.isPropagationStopped=C2,this}return Sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=my)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=my)},persist:function(){},isPersistent:my}),t}var Uh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iO=ta(Uh),gv=Sr({},Uh,{view:0,detail:0}),LX=ta(gv),$j,Rj,Cp,yw=Sr({},gv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cp&&(Cp&&e.type==="mousemove"?($j=e.screenX-Cp.screenX,Rj=e.screenY-Cp.screenY):Rj=$j=0,Cp=e),$j)},movementY:function(e){return"movementY"in e?e.movementY:Rj}}),E2=ta(yw),FX=Sr({},yw,{dataTransfer:0}),BX=ta(FX),UX=Sr({},gv,{relatedTarget:0}),Dj=ta(UX),zX=Sr({},Uh,{animationName:0,elapsedTime:0,pseudoElement:0}),VX=ta(zX),WX=Sr({},Uh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HX=ta(WX),qX=Sr({},Uh,{data:0}),O2=ta(qX),GX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=YX[e])?!!t[e]:!1}function aO(){return JX}var XX=Sr({},gv,{key:function(e){if(e.key){var t=GX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_x(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aO,charCode:function(e){return e.type==="keypress"?_x(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_x(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QX=ta(XX),ZX=Sr({},yw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P2=ta(ZX),eQ=Sr({},gv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aO}),tQ=ta(eQ),rQ=Sr({},Uh,{propertyName:0,elapsedTime:0,pseudoElement:0}),nQ=ta(rQ),iQ=Sr({},yw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aQ=ta(iQ),sQ=[9,13,27,32],sO=Do&&"CompositionEvent"in window,gm=null;Do&&"documentMode"in document&&(gm=document.documentMode);var oQ=Do&&"TextEvent"in window&&!gm,LB=Do&&(!sO||gm&&8<gm&&11>=gm),T2=" ",A2=!1;function FB(e,t){switch(e){case"keyup":return sQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zd=!1;function lQ(e,t){switch(e){case"compositionend":return BB(t);case"keypress":return t.which!==32?null:(A2=!0,T2);case"textInput":return e=t.data,e===T2&&A2?null:e;default:return null}}function cQ(e,t){if(zd)return e==="compositionend"||!sO&&FB(e,t)?(e=DB(),wx=nO=Il=null,zd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LB&&t.locale!=="ko"?null:t.data;default:return null}}var uQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uQ[e.type]:t==="textarea"}function UB(e,t,r,n){yB(n),t=nb(t,"onChange"),0<t.length&&(r=new iO("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vm=null,Hm=null;function dQ(e){QB(e,0)}function xw(e){var t=Hd(e);if(dB(t))return e}function fQ(e,t){if(e==="change")return t}var zB=!1;if(Do){var Lj;if(Do){var Fj="oninput"in document;if(!Fj){var I2=document.createElement("div");I2.setAttribute("oninput","return;"),Fj=typeof I2.oninput=="function"}Lj=Fj}else Lj=!1;zB=Lj&&(!document.documentMode||9<document.documentMode)}function $2(){vm&&(vm.detachEvent("onpropertychange",VB),Hm=vm=null)}function VB(e){if(e.propertyName==="value"&&xw(Hm)){var t=[];UB(t,Hm,e,QE(e)),_B(dQ,t)}}function hQ(e,t,r){e==="focusin"?($2(),vm=t,Hm=r,vm.attachEvent("onpropertychange",VB)):e==="focusout"&&$2()}function pQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xw(Hm)}function mQ(e,t){if(e==="click")return xw(t)}function gQ(e,t){if(e==="input"||e==="change")return xw(t)}function vQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var os=typeof Object.is=="function"?Object.is:vQ;function qm(e,t){if(os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!qS.call(t,i)||!os(e[i],t[i]))return!1}return!0}function R2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D2(e,t){var r=R2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=R2(r)}}function WB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?WB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function HB(){for(var e=window,t=Jx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jx(e.document)}return t}function oO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yQ(e){var t=HB(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&WB(r.ownerDocument.documentElement,r)){if(n!==null&&oO(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=D2(r,a);var s=D2(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xQ=Do&&"documentMode"in document&&11>=document.documentMode,Vd=null,dN=null,ym=null,fN=!1;function L2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fN||Vd==null||Vd!==Jx(n)||(n=Vd,"selectionStart"in n&&oO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ym&&qm(ym,n)||(ym=n,n=nb(dN,"onSelect"),0<n.length&&(t=new iO("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vd)))}function gy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wd={animationend:gy("Animation","AnimationEnd"),animationiteration:gy("Animation","AnimationIteration"),animationstart:gy("Animation","AnimationStart"),transitionend:gy("Transition","TransitionEnd")},Bj={},qB={};Do&&(qB=document.createElement("div").style,"AnimationEvent"in window||(delete Wd.animationend.animation,delete Wd.animationiteration.animation,delete Wd.animationstart.animation),"TransitionEvent"in window||delete Wd.transitionend.transition);function bw(e){if(Bj[e])return Bj[e];if(!Wd[e])return e;var t=Wd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qB)return Bj[e]=t[r];return e}var GB=bw("animationend"),KB=bw("animationiteration"),YB=bw("animationstart"),JB=bw("transitionend"),XB=new Map,F2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dc(e,t){XB.set(e,t),Zu(t,[e])}for(var Uj=0;Uj<F2.length;Uj++){var zj=F2[Uj],bQ=zj.toLowerCase(),wQ=zj[0].toUpperCase()+zj.slice(1);dc(bQ,"on"+wQ)}dc(GB,"onAnimationEnd");dc(KB,"onAnimationIteration");dc(YB,"onAnimationStart");dc("dblclick","onDoubleClick");dc("focusin","onFocus");dc("focusout","onBlur");dc(JB,"onTransitionEnd");Df("onMouseEnter",["mouseout","mouseover"]);Df("onMouseLeave",["mouseout","mouseover"]);Df("onPointerEnter",["pointerout","pointerover"]);Df("onPointerLeave",["pointerout","pointerover"]);Zu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_Q=new Set("cancel close invalid load scroll toggle".split(" ").concat(sm));function B2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bX(n,t,void 0,e),e.currentTarget=null}function QB(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;B2(i,l,u),a=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;B2(i,l,u),a=c}}}if(Qx)throw e=oN,Qx=!1,oN=null,e}function ar(e,t){var r=t[vN];r===void 0&&(r=t[vN]=new Set);var n=e+"__bubble";r.has(n)||(ZB(t,e,2,!1),r.add(n))}function Vj(e,t,r){var n=0;t&&(n|=4),ZB(r,e,n,t)}var vy="_reactListening"+Math.random().toString(36).slice(2);function Gm(e){if(!e[vy]){e[vy]=!0,sB.forEach(function(r){r!=="selectionchange"&&(_Q.has(r)||Vj(r,!1,e),Vj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vy]||(t[vy]=!0,Vj("selectionchange",!1,t))}}function ZB(e,t,r,n){switch(RB(t)){case 1:var i=RX;break;case 4:i=DX;break;default:i=rO}r=i.bind(null,t,r,e),i=void 0,!sN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Wj(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=eu(l),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}l=l.parentNode}}n=n.return}_B(function(){var u=a,d=QE(r),f=[];e:{var h=XB.get(e);if(h!==void 0){var p=iO,g=e;switch(e){case"keypress":if(_x(r)===0)break e;case"keydown":case"keyup":p=QX;break;case"focusin":g="focus",p=Dj;break;case"focusout":g="blur",p=Dj;break;case"beforeblur":case"afterblur":p=Dj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=E2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=tQ;break;case GB:case KB:case YB:p=VX;break;case JB:p=nQ;break;case"scroll":p=LX;break;case"wheel":p=aQ;break;case"copy":case"cut":case"paste":p=HX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=P2}var m=(t&4)!==0,v=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Um(x,b),_!=null&&m.push(Km(x,_,w)))),v)break;x=x.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==iN&&(g=r.relatedTarget||r.fromElement)&&(eu(g)||g[Lo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?eu(g):null,g!==null&&(v=ed(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=E2,_="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=P2,_="onPointerLeave",b="onPointerEnter",x="pointer"),v=p==null?h:Hd(p),w=g==null?h:Hd(g),h=new m(_,x+"leave",p,r,d),h.target=v,h.relatedTarget=w,_=null,eu(d)===u&&(m=new m(b,x+"enter",g,r,d),m.target=w,m.relatedTarget=v,_=m),v=_,p&&g)t:{for(m=p,b=g,x=0,w=m;w;w=md(w))x++;for(w=0,_=b;_;_=md(_))w++;for(;0<x-w;)m=md(m),x--;for(;0<w-x;)b=md(b),w--;for(;x--;){if(m===b||b!==null&&m===b.alternate)break t;m=md(m),b=md(b)}m=null}else m=null;p!==null&&U2(f,h,p,m,!1),g!==null&&v!==null&&U2(f,v,g,m,!0)}}e:{if(h=u?Hd(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=fQ;else if(M2(h))if(zB)N=gQ;else{N=pQ;var j=hQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=mQ);if(N&&(N=N(e,u))){UB(f,N,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&ZS(h,"number",h.value)}switch(j=u?Hd(u):window,e){case"focusin":(M2(j)||j.contentEditable==="true")&&(Vd=j,dN=u,ym=null);break;case"focusout":ym=dN=Vd=null;break;case"mousedown":fN=!0;break;case"contextmenu":case"mouseup":case"dragend":fN=!1,L2(f,r,d);break;case"selectionchange":if(xQ)break;case"keydown":case"keyup":L2(f,r,d)}var k;if(sO)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else zd?FB(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(LB&&r.locale!=="ko"&&(zd||O!=="onCompositionStart"?O==="onCompositionEnd"&&zd&&(k=DB()):(Il=d,nO="value"in Il?Il.value:Il.textContent,zd=!0)),j=nb(u,O),0<j.length&&(O=new O2(O,e,null,r,d),f.push({event:O,listeners:j}),k?O.data=k:(k=BB(r),k!==null&&(O.data=k)))),(k=oQ?lQ(e,r):cQ(e,r))&&(u=nb(u,"onBeforeInput"),0<u.length&&(d=new O2("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}QB(f,t)})}function Km(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nb(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Um(e,r),a!=null&&n.unshift(Km(e,a,i)),a=Um(e,t),a!=null&&n.push(Km(e,a,i))),e=e.return}return n}function md(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function U2(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Um(r,a),c!=null&&s.unshift(Km(r,c,l))):i||(c=Um(r,a),c!=null&&s.push(Km(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var jQ=/\r\n?/g,SQ=/\u0000|\uFFFD/g;function z2(e){return(typeof e=="string"?e:""+e).replace(jQ,`
`).replace(SQ,"")}function yy(e,t,r){if(t=z2(t),z2(e)!==t&&r)throw Error(ve(425))}function ib(){}var hN=null,pN=null;function mN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gN=typeof setTimeout=="function"?setTimeout:void 0,NQ=typeof clearTimeout=="function"?clearTimeout:void 0,V2=typeof Promise=="function"?Promise:void 0,kQ=typeof queueMicrotask=="function"?queueMicrotask:typeof V2<"u"?function(e){return V2.resolve(null).then(e).catch(CQ)}:gN;function CQ(e){setTimeout(function(){throw e})}function Hj(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Wm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Wm(t)}function Vl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function W2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zh=Math.random().toString(36).slice(2),Is="__reactFiber$"+zh,Ym="__reactProps$"+zh,Lo="__reactContainer$"+zh,vN="__reactEvents$"+zh,EQ="__reactListeners$"+zh,OQ="__reactHandles$"+zh;function eu(e){var t=e[Is];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lo]||r[Is]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=W2(e);e!==null;){if(r=e[Is])return r;e=W2(e)}return t}e=r,r=e.parentNode}return null}function vv(e){return e=e[Is]||e[Lo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function ww(e){return e[Ym]||null}var yN=[],qd=-1;function fc(e){return{current:e}}function ur(e){0>qd||(e.current=yN[qd],yN[qd]=null,qd--)}function Zt(e,t){qd++,yN[qd]=e.current,e.current=t}var ec={},Un=fc(ec),vi=fc(!1),Eu=ec;function Lf(e,t){var r=e.type.contextTypes;if(!r)return ec;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yi(e){return e=e.childContextTypes,e!=null}function ab(){ur(vi),ur(Un)}function H2(e,t,r){if(Un.current!==ec)throw Error(ve(168));Zt(Un,t),Zt(vi,r)}function e6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ve(108,hX(e)||"Unknown",i));return Sr({},r,n)}function sb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ec,Eu=Un.current,Zt(Un,e),Zt(vi,vi.current),!0}function q2(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=e6(e,t,Eu),n.__reactInternalMemoizedMergedChildContext=e,ur(vi),ur(Un),Zt(Un,e)):ur(vi),Zt(vi,r)}var wo=null,_w=!1,qj=!1;function t6(e){wo===null?wo=[e]:wo.push(e)}function PQ(e){_w=!0,t6(e)}function hc(){if(!qj&&wo!==null){qj=!0;var e=0,t=Bt;try{var r=wo;for(Bt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}wo=null,_w=!1}catch(i){throw wo!==null&&(wo=wo.slice(e+1)),kB(ZE,hc),i}finally{Bt=t,qj=!1}}return null}var Gd=[],Kd=0,ob=null,lb=0,ua=[],da=0,Ou=null,So=1,No="";function zc(e,t){Gd[Kd++]=lb,Gd[Kd++]=ob,ob=e,lb=t}function r6(e,t,r){ua[da++]=So,ua[da++]=No,ua[da++]=Ou,Ou=e;var n=So;e=No;var i=32-es(n)-1;n&=~(1<<i),r+=1;var a=32-es(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,So=1<<32-es(t)+i|r<<i|n,No=a+e}else So=1<<a|r<<i|n,No=e}function lO(e){e.return!==null&&(zc(e,1),r6(e,1,0))}function cO(e){for(;e===ob;)ob=Gd[--Kd],Gd[Kd]=null,lb=Gd[--Kd],Gd[Kd]=null;for(;e===Ou;)Ou=ua[--da],ua[da]=null,No=ua[--da],ua[da]=null,So=ua[--da],ua[da]=null}var Gi=null,Hi=null,gr=!1,Ya=null;function n6(e,t){var r=pa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function G2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gi=e,Hi=Vl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gi=e,Hi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ou!==null?{id:So,overflow:No}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Gi=e,Hi=null,!0):!1;default:return!1}}function xN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bN(e){if(gr){var t=Hi;if(t){var r=t;if(!G2(e,t)){if(xN(e))throw Error(ve(418));t=Vl(r.nextSibling);var n=Gi;t&&G2(e,t)?n6(n,r):(e.flags=e.flags&-4097|2,gr=!1,Gi=e)}}else{if(xN(e))throw Error(ve(418));e.flags=e.flags&-4097|2,gr=!1,Gi=e}}}function K2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gi=e}function xy(e){if(e!==Gi)return!1;if(!gr)return K2(e),gr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mN(e.type,e.memoizedProps)),t&&(t=Hi)){if(xN(e))throw i6(),Error(ve(418));for(;t;)n6(e,t),t=Vl(t.nextSibling)}if(K2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hi=Vl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hi=null}}else Hi=Gi?Vl(e.stateNode.nextSibling):null;return!0}function i6(){for(var e=Hi;e;)e=Vl(e.nextSibling)}function Ff(){Hi=Gi=null,gr=!1}function uO(e){Ya===null?Ya=[e]:Ya.push(e)}var TQ=Xo.ReactCurrentBatchConfig;function Ep(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function by(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Y2(e){var t=e._init;return t(e._payload)}function a6(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=Gl(b,x),b.index=0,b.sibling=null,b}function a(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,_){return x===null||x.tag!==6?(x=Zj(w,b.mode,_),x.return=b,x):(x=i(x,w),x.return=b,x)}function c(b,x,w,_){var N=w.type;return N===Ud?d(b,x,w.props.children,_,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vl&&Y2(N)===x.type)?(_=i(x,w.props),_.ref=Ep(b,x,w),_.return=b,_):(_=Ox(w.type,w.key,w.props,null,b.mode,_),_.ref=Ep(b,x,w),_.return=b,_)}function u(b,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=e1(w,b.mode,_),x.return=b,x):(x=i(x,w.children||[]),x.return=b,x)}function d(b,x,w,_,N){return x===null||x.tag!==7?(x=xu(w,b.mode,_,N),x.return=b,x):(x=i(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Zj(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cy:return w=Ox(x.type,x.key,x.props,null,b.mode,w),w.ref=Ep(b,null,x),w.return=b,w;case Bd:return x=e1(x,b.mode,w),x.return=b,x;case vl:var _=x._init;return f(b,_(x._payload),w)}if(im(x)||jp(x))return x=xu(x,b.mode,w,null),x.return=b,x;by(b,x)}return null}function h(b,x,w,_){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(b,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:return w.key===N?c(b,x,w,_):null;case Bd:return w.key===N?u(b,x,w,_):null;case vl:return N=w._init,h(b,x,N(w._payload),_)}if(im(w)||jp(w))return N!==null?null:d(b,x,w,_,null);by(b,w)}return null}function p(b,x,w,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(x,b,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case cy:return b=b.get(_.key===null?w:_.key)||null,c(x,b,_,N);case Bd:return b=b.get(_.key===null?w:_.key)||null,u(x,b,_,N);case vl:var j=_._init;return p(b,x,w,j(_._payload),N)}if(im(_)||jp(_))return b=b.get(w)||null,d(x,b,_,N,null);by(x,_)}return null}function g(b,x,w,_){for(var N=null,j=null,k=x,O=x=0,P=null;k!==null&&O<w.length;O++){k.index>O?(P=k,k=null):P=k.sibling;var A=h(b,k,w[O],_);if(A===null){k===null&&(k=P);break}e&&k&&A.alternate===null&&t(b,k),x=a(A,x,O),j===null?N=A:j.sibling=A,j=A,k=P}if(O===w.length)return r(b,k),gr&&zc(b,O),N;if(k===null){for(;O<w.length;O++)k=f(b,w[O],_),k!==null&&(x=a(k,x,O),j===null?N=k:j.sibling=k,j=k);return gr&&zc(b,O),N}for(k=n(b,k);O<w.length;O++)P=p(k,b,O,w[O],_),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?O:P.key),x=a(P,x,O),j===null?N=P:j.sibling=P,j=P);return e&&k.forEach(function($){return t(b,$)}),gr&&zc(b,O),N}function m(b,x,w,_){var N=jp(w);if(typeof N!="function")throw Error(ve(150));if(w=N.call(w),w==null)throw Error(ve(151));for(var j=N=null,k=x,O=x=0,P=null,A=w.next();k!==null&&!A.done;O++,A=w.next()){k.index>O?(P=k,k=null):P=k.sibling;var $=h(b,k,A.value,_);if($===null){k===null&&(k=P);break}e&&k&&$.alternate===null&&t(b,k),x=a($,x,O),j===null?N=$:j.sibling=$,j=$,k=P}if(A.done)return r(b,k),gr&&zc(b,O),N;if(k===null){for(;!A.done;O++,A=w.next())A=f(b,A.value,_),A!==null&&(x=a(A,x,O),j===null?N=A:j.sibling=A,j=A);return gr&&zc(b,O),N}for(k=n(b,k);!A.done;O++,A=w.next())A=p(k,b,O,A.value,_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?O:A.key),x=a(A,x,O),j===null?N=A:j.sibling=A,j=A);return e&&k.forEach(function(M){return t(b,M)}),gr&&zc(b,O),N}function v(b,x,w,_){if(typeof w=="object"&&w!==null&&w.type===Ud&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:e:{for(var N=w.key,j=x;j!==null;){if(j.key===N){if(N=w.type,N===Ud){if(j.tag===7){r(b,j.sibling),x=i(j,w.props.children),x.return=b,b=x;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vl&&Y2(N)===j.type){r(b,j.sibling),x=i(j,w.props),x.ref=Ep(b,j,w),x.return=b,b=x;break e}r(b,j);break}else t(b,j);j=j.sibling}w.type===Ud?(x=xu(w.props.children,b.mode,_,w.key),x.return=b,b=x):(_=Ox(w.type,w.key,w.props,null,b.mode,_),_.ref=Ep(b,x,w),_.return=b,b=_)}return s(b);case Bd:e:{for(j=w.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=i(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=e1(w,b.mode,_),x.return=b,b=x}return s(b);case vl:return j=w._init,v(b,x,j(w._payload),_)}if(im(w))return g(b,x,w,_);if(jp(w))return m(b,x,w,_);by(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=i(x,w),x.return=b,b=x):(r(b,x),x=Zj(w,b.mode,_),x.return=b,b=x),s(b)):r(b,x)}return v}var Bf=a6(!0),s6=a6(!1),cb=fc(null),ub=null,Yd=null,dO=null;function fO(){dO=Yd=ub=null}function hO(e){var t=cb.current;ur(cb),e._currentValue=t}function wN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function mf(e,t){ub=e,dO=Yd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hi=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(dO!==e)if(e={context:e,memoizedValue:t,next:null},Yd===null){if(ub===null)throw Error(ve(308));Yd=e,ub.dependencies={lanes:0,firstContext:e}}else Yd=Yd.next=e;return t}var tu=null;function pO(e){tu===null?tu=[e]:tu.push(e)}function o6(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,pO(t)):(r.next=i.next,i.next=r),t.interleaved=r,Fo(e,n)}function Fo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yl=!1;function mO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Fo(e,r)}return i=n.interleaved,i===null?(t.next=t,pO(n)):(t.next=i.next,i.next=t),n.interleaved=t,Fo(e,r)}function jx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eO(e,r)}}function J2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function db(e,t,r,n){var i=e.updateQueue;yl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Sr({},f,h);break e;case 2:yl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Tu|=s,e.lanes=s,e.memoizedState=f}}function X2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ve(191,i));i.call(n)}}}var yv={},Hs=fc(yv),Jm=fc(yv),Xm=fc(yv);function ru(e){if(e===yv)throw Error(ve(174));return e}function gO(e,t){switch(Zt(Xm,t),Zt(Jm,e),Zt(Hs,yv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tN(t,e)}ur(Hs),Zt(Hs,t)}function Uf(){ur(Hs),ur(Jm),ur(Xm)}function c6(e){ru(Xm.current);var t=ru(Hs.current),r=tN(t,e.type);t!==r&&(Zt(Jm,e),Zt(Hs,r))}function vO(e){Jm.current===e&&(ur(Hs),ur(Jm))}var wr=fc(0);function fb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gj=[];function yO(){for(var e=0;e<Gj.length;e++)Gj[e]._workInProgressVersionPrimary=null;Gj.length=0}var Sx=Xo.ReactCurrentDispatcher,Kj=Xo.ReactCurrentBatchConfig,Pu=0,jr=null,Yr=null,ln=null,hb=!1,xm=!1,Qm=0,AQ=0;function On(){throw Error(ve(321))}function xO(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!os(e[r],t[r]))return!1;return!0}function bO(e,t,r,n,i,a){if(Pu=a,jr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sx.current=e===null||e.memoizedState===null?RQ:DQ,e=r(n,i),xm){a=0;do{if(xm=!1,Qm=0,25<=a)throw Error(ve(301));a+=1,ln=Yr=null,t.updateQueue=null,Sx.current=LQ,e=r(n,i)}while(xm)}if(Sx.current=pb,t=Yr!==null&&Yr.next!==null,Pu=0,ln=Yr=jr=null,hb=!1,t)throw Error(ve(300));return e}function wO(){var e=Qm!==0;return Qm=0,e}function Ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?jr.memoizedState=ln=e:ln=ln.next=e,ln}function ja(){if(Yr===null){var e=jr.alternate;e=e!==null?e.memoizedState:null}else e=Yr.next;var t=ln===null?jr.memoizedState:ln.next;if(t!==null)ln=t,Yr=e;else{if(e===null)throw Error(ve(310));Yr=e,e={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},ln===null?jr.memoizedState=ln=e:ln=ln.next=e}return ln}function Zm(e,t){return typeof t=="function"?t(e):t}function Yj(e){var t=ja(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=Yr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((Pu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,jr.lanes|=d,Tu|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=l,os(n,t.memoizedState)||(hi=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,jr.lanes|=a,Tu|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jj(e){var t=ja(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);os(a,t.memoizedState)||(hi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function u6(){}function d6(e,t){var r=jr,n=ja(),i=t(),a=!os(n.memoizedState,i);if(a&&(n.memoizedState=i,hi=!0),n=n.queue,_O(p6.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ln!==null&&ln.memoizedState.tag&1){if(r.flags|=2048,eg(9,h6.bind(null,r,n,i,t),void 0,null),hn===null)throw Error(ve(349));Pu&30||f6(r,t,i)}return i}function f6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=jr.updateQueue,t===null?(t={lastEffect:null,stores:null},jr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function h6(e,t,r,n){t.value=r,t.getSnapshot=n,m6(t)&&g6(e)}function p6(e,t,r){return r(function(){m6(t)&&g6(e)})}function m6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!os(e,r)}catch{return!0}}function g6(e){var t=Fo(e,1);t!==null&&ts(t,e,1,-1)}function Q2(e){var t=Ns();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:e},t.queue=e,e=e.dispatch=$Q.bind(null,jr,e),[t.memoizedState,e]}function eg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=jr.updateQueue,t===null?(t={lastEffect:null,stores:null},jr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function v6(){return ja().memoizedState}function Nx(e,t,r,n){var i=Ns();jr.flags|=e,i.memoizedState=eg(1|t,r,void 0,n===void 0?null:n)}function jw(e,t,r,n){var i=ja();n=n===void 0?null:n;var a=void 0;if(Yr!==null){var s=Yr.memoizedState;if(a=s.destroy,n!==null&&xO(n,s.deps)){i.memoizedState=eg(t,r,a,n);return}}jr.flags|=e,i.memoizedState=eg(1|t,r,a,n)}function Z2(e,t){return Nx(8390656,8,e,t)}function _O(e,t){return jw(2048,8,e,t)}function y6(e,t){return jw(4,2,e,t)}function x6(e,t){return jw(4,4,e,t)}function b6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w6(e,t,r){return r=r!=null?r.concat([e]):null,jw(4,4,b6.bind(null,t,e),r)}function jO(){}function _6(e,t){var r=ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xO(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function j6(e,t){var r=ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xO(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function S6(e,t,r){return Pu&21?(os(r,t)||(r=OB(),jr.lanes|=r,Tu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hi=!0),e.memoizedState=r)}function MQ(e,t){var r=Bt;Bt=r!==0&&4>r?r:4,e(!0);var n=Kj.transition;Kj.transition={};try{e(!1),t()}finally{Bt=r,Kj.transition=n}}function N6(){return ja().memoizedState}function IQ(e,t,r){var n=ql(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},k6(e))C6(t,r);else if(r=o6(e,t,r,n),r!==null){var i=ri();ts(r,e,n,i),E6(r,t,n)}}function $Q(e,t,r){var n=ql(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(k6(e))C6(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,r);if(i.hasEagerState=!0,i.eagerState=l,os(l,s)){var c=t.interleaved;c===null?(i.next=i,pO(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=o6(e,t,i,n),r!==null&&(i=ri(),ts(r,e,n,i),E6(r,t,n))}}function k6(e){var t=e.alternate;return e===jr||t!==null&&t===jr}function C6(e,t){xm=hb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function E6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eO(e,r)}}var pb={readContext:_a,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},RQ={readContext:_a,useCallback:function(e,t){return Ns().memoizedState=[e,t===void 0?null:t],e},useContext:_a,useEffect:Z2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Nx(4194308,4,b6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nx(4,2,e,t)},useMemo:function(e,t){var r=Ns();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ns();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=IQ.bind(null,jr,e),[n.memoizedState,e]},useRef:function(e){var t=Ns();return e={current:e},t.memoizedState=e},useState:Q2,useDebugValue:jO,useDeferredValue:function(e){return Ns().memoizedState=e},useTransition:function(){var e=Q2(!1),t=e[0];return e=MQ.bind(null,e[1]),Ns().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=jr,i=Ns();if(gr){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),hn===null)throw Error(ve(349));Pu&30||f6(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Z2(p6.bind(null,n,a,e),[e]),n.flags|=2048,eg(9,h6.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ns(),t=hn.identifierPrefix;if(gr){var r=No,n=So;r=(n&~(1<<32-es(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Qm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=AQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DQ={readContext:_a,useCallback:_6,useContext:_a,useEffect:_O,useImperativeHandle:w6,useInsertionEffect:y6,useLayoutEffect:x6,useMemo:j6,useReducer:Yj,useRef:v6,useState:function(){return Yj(Zm)},useDebugValue:jO,useDeferredValue:function(e){var t=ja();return S6(t,Yr.memoizedState,e)},useTransition:function(){var e=Yj(Zm)[0],t=ja().memoizedState;return[e,t]},useMutableSource:u6,useSyncExternalStore:d6,useId:N6,unstable_isNewReconciler:!1},LQ={readContext:_a,useCallback:_6,useContext:_a,useEffect:_O,useImperativeHandle:w6,useInsertionEffect:y6,useLayoutEffect:x6,useMemo:j6,useReducer:Jj,useRef:v6,useState:function(){return Jj(Zm)},useDebugValue:jO,useDeferredValue:function(e){var t=ja();return Yr===null?t.memoizedState=e:S6(t,Yr.memoizedState,e)},useTransition:function(){var e=Jj(Zm)[0],t=ja().memoizedState;return[e,t]},useMutableSource:u6,useSyncExternalStore:d6,useId:N6,unstable_isNewReconciler:!1};function Ba(e,t){if(e&&e.defaultProps){t=Sr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _N(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Sr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sw={isMounted:function(e){return(e=e._reactInternals)?ed(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ri(),i=ql(e),a=Ao(n,i);a.payload=t,r!=null&&(a.callback=r),t=Wl(e,a,i),t!==null&&(ts(t,e,i,n),jx(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ri(),i=ql(e),a=Ao(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Wl(e,a,i),t!==null&&(ts(t,e,i,n),jx(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ri(),n=ql(e),i=Ao(r,n);i.tag=2,t!=null&&(i.callback=t),t=Wl(e,i,n),t!==null&&(ts(t,e,n,r),jx(t,e,n))}};function eM(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!qm(r,n)||!qm(i,a):!0}function O6(e,t,r){var n=!1,i=ec,a=t.contextType;return typeof a=="object"&&a!==null?a=_a(a):(i=yi(t)?Eu:Un.current,n=t.contextTypes,a=(n=n!=null)?Lf(e,i):ec),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function tM(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sw.enqueueReplaceState(t,t.state,null)}function jN(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},mO(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=_a(a):(a=yi(t)?Eu:Un.current,i.context=Lf(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_N(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Sw.enqueueReplaceState(i,i.state,null),db(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zf(e,t){try{var r="",n=t;do r+=fX(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Xj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function SN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var FQ=typeof WeakMap=="function"?WeakMap:Map;function P6(e,t,r){r=Ao(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gb||(gb=!0,IN=n),SN(e,t)},r}function T6(e,t,r){r=Ao(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){SN(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){SN(e,t),typeof n!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function rM(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new FQ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=ZQ.bind(null,e,t,r),t.then(e,e))}function nM(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iM(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ao(-1,1),t.tag=2,Wl(r,t,1))),r.lanes|=1),e)}var BQ=Xo.ReactCurrentOwner,hi=!1;function qn(e,t,r,n){t.child=e===null?s6(t,null,r,n):Bf(t,e.child,r,n)}function aM(e,t,r,n,i){r=r.render;var a=t.ref;return mf(t,i),n=bO(e,t,r,n,a,i),r=wO(),e!==null&&!hi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i)):(gr&&r&&lO(t),t.flags|=1,qn(e,t,n,i),t.child)}function sM(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!TO(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,A6(e,t,a,n,i)):(e=Ox(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:qm,r(s,n)&&e.ref===t.ref)return Bo(e,t,i)}return t.flags|=1,e=Gl(a,n),e.ref=t.ref,e.return=t,t.child=e}function A6(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(qm(a,n)&&e.ref===t.ref)if(hi=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(hi=!0);else return t.lanes=e.lanes,Bo(e,t,i)}return NN(e,t,r,n,i)}function M6(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Xd,$i),$i|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Zt(Xd,$i),$i|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Zt(Xd,$i),$i|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Zt(Xd,$i),$i|=n;return qn(e,t,i,r),t.child}function I6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function NN(e,t,r,n,i){var a=yi(r)?Eu:Un.current;return a=Lf(t,a),mf(t,i),r=bO(e,t,r,n,a,i),n=wO(),e!==null&&!hi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i)):(gr&&n&&lO(t),t.flags|=1,qn(e,t,r,i),t.child)}function oM(e,t,r,n,i){if(yi(r)){var a=!0;sb(t)}else a=!1;if(mf(t,i),t.stateNode===null)kx(e,t),O6(t,r,n),jN(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=_a(u):(u=yi(r)?Eu:Un.current,u=Lf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&tM(t,s,n,u),yl=!1;var h=t.memoizedState;s.state=h,db(t,n,s,i),c=t.memoizedState,l!==n||h!==c||vi.current||yl?(typeof d=="function"&&(_N(t,r,d,n),c=t.memoizedState),(l=yl||eM(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,l6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ba(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=_a(c):(c=yi(r)?Eu:Un.current,c=Lf(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&tM(t,s,n,c),yl=!1,h=t.memoizedState,s.state=h,db(t,n,s,i);var g=t.memoizedState;l!==f||h!==g||vi.current||yl?(typeof p=="function"&&(_N(t,r,p,n),g=t.memoizedState),(u=yl||eM(t,r,u,n,h,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return kN(e,t,r,n,a,i)}function kN(e,t,r,n,i,a){I6(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&q2(t,r,!1),Bo(e,t,a);n=t.stateNode,BQ.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Bf(t,e.child,null,a),t.child=Bf(t,null,l,a)):qn(e,t,l,a),t.memoizedState=n.state,i&&q2(t,r,!0),t.child}function $6(e){var t=e.stateNode;t.pendingContext?H2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&H2(e,t.context,!1),gO(e,t.containerInfo)}function lM(e,t,r,n,i){return Ff(),uO(i),t.flags|=256,qn(e,t,r,n),t.child}var CN={dehydrated:null,treeContext:null,retryLane:0};function EN(e){return{baseLanes:e,cachePool:null,transitions:null}}function R6(e,t,r){var n=t.pendingProps,i=wr.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Zt(wr,i&1),e===null)return bN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Cw(s,n,0,null),e=xu(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=EN(r),t.memoizedState=CN,e):SO(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return UQ(e,t,s,n,l,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Gl(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Gl(l,a):(a=xu(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?EN(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=CN,n}return a=e.child,e=a.sibling,n=Gl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function SO(e,t){return t=Cw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wy(e,t,r,n){return n!==null&&uO(n),Bf(t,e.child,null,r),e=SO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UQ(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Xj(Error(ve(422))),wy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Cw({mode:"visible",children:n.children},i,0,null),a=xu(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Bf(t,e.child,null,s),t.child.memoizedState=EN(s),t.memoizedState=CN,a);if(!(t.mode&1))return wy(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ve(419)),n=Xj(a,n,void 0),wy(e,t,s,n)}if(l=(s&e.childLanes)!==0,hi||l){if(n=hn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Fo(e,i),ts(n,e,i,-1))}return PO(),n=Xj(Error(ve(421))),wy(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=eZ.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Hi=Vl(i.nextSibling),Gi=t,gr=!0,Ya=null,e!==null&&(ua[da++]=So,ua[da++]=No,ua[da++]=Ou,So=e.id,No=e.overflow,Ou=t),t=SO(t,n.children),t.flags|=4096,t)}function cM(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),wN(e.return,t,r)}function Qj(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function D6(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(qn(e,t,n.children,r),n=wr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cM(e,r,t);else if(e.tag===19)cM(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Zt(wr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&fb(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Qj(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fb(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Qj(t,!0,r,null,a);break;case"together":Qj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=Gl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zQ(e,t,r){switch(t.tag){case 3:$6(t),Ff();break;case 5:c6(t);break;case 1:yi(t.type)&&sb(t);break;case 4:gO(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Zt(cb,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Zt(wr,wr.current&1),t.flags|=128,null):r&t.child.childLanes?R6(e,t,r):(Zt(wr,wr.current&1),e=Bo(e,t,r),e!==null?e.sibling:null);Zt(wr,wr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return D6(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(wr,wr.current),n)break;return null;case 22:case 23:return t.lanes=0,M6(e,t,r)}return Bo(e,t,r)}var L6,ON,F6,B6;L6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ON=function(){};F6=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ru(Hs.current);var a=null;switch(r){case"input":i=XS(e,i),n=XS(e,n),a=[];break;case"select":i=Sr({},i,{value:void 0}),n=Sr({},n,{value:void 0}),a=[];break;case"textarea":i=eN(e,i),n=eN(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ib)}rN(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ar("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};B6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Op(e,t){if(!gr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function VQ(e,t,r){var n=t.pendingProps;switch(cO(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(t),null;case 1:return yi(t.type)&&ab(),Pn(t),null;case 3:return n=t.stateNode,Uf(),ur(vi),ur(Un),yO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ya!==null&&(DN(Ya),Ya=null))),ON(e,t),Pn(t),null;case 5:vO(t);var i=ru(Xm.current);if(r=t.type,e!==null&&t.stateNode!=null)F6(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return Pn(t),null}if(e=ru(Hs.current),xy(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Is]=t,n[Ym]=a,e=(t.mode&1)!==0,r){case"dialog":ar("cancel",n),ar("close",n);break;case"iframe":case"object":case"embed":ar("load",n);break;case"video":case"audio":for(i=0;i<sm.length;i++)ar(sm[i],n);break;case"source":ar("error",n);break;case"img":case"image":case"link":ar("error",n),ar("load",n);break;case"details":ar("toggle",n);break;case"input":y2(n,a),ar("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ar("invalid",n);break;case"textarea":b2(n,a),ar("invalid",n)}rN(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&yy(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&yy(n.textContent,l,e),i=["children",""+l]):Fm.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&ar("scroll",n)}switch(r){case"input":uy(n),x2(n,a,!0);break;case"textarea":uy(n),w2(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ib)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pB(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Is]=t,e[Ym]=n,L6(e,t,!1,!1),t.stateNode=e;e:{switch(s=nN(r,n),r){case"dialog":ar("cancel",e),ar("close",e),i=n;break;case"iframe":case"object":case"embed":ar("load",e),i=n;break;case"video":case"audio":for(i=0;i<sm.length;i++)ar(sm[i],e);i=n;break;case"source":ar("error",e),i=n;break;case"img":case"image":case"link":ar("error",e),ar("load",e),i=n;break;case"details":ar("toggle",e),i=n;break;case"input":y2(e,n),i=XS(e,n),ar("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Sr({},n,{value:void 0}),ar("invalid",e);break;case"textarea":b2(e,n),i=eN(e,n),ar("invalid",e);break;default:i=n}rN(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?vB(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mB(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bm(e,c):typeof c=="number"&&Bm(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Fm.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ar("scroll",e):c!=null&&KE(e,a,c,s))}switch(r){case"input":uy(e),x2(e,n,!1);break;case"textarea":uy(e),w2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zl(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?df(e,!!n.multiple,a,!1):n.defaultValue!=null&&df(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ib)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pn(t),null;case 6:if(e&&t.stateNode!=null)B6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=ru(Xm.current),ru(Hs.current),xy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Is]=t,(a=n.nodeValue!==r)&&(e=Gi,e!==null))switch(e.tag){case 3:yy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yy(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Is]=t,t.stateNode=n}return Pn(t),null;case 13:if(ur(wr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gr&&Hi!==null&&t.mode&1&&!(t.flags&128))i6(),Ff(),t.flags|=98560,a=!1;else if(a=xy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ve(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ve(317));a[Is]=t}else Ff(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pn(t),a=!1}else Ya!==null&&(DN(Ya),Ya=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||wr.current&1?Zr===0&&(Zr=3):PO())),t.updateQueue!==null&&(t.flags|=4),Pn(t),null);case 4:return Uf(),ON(e,t),e===null&&Gm(t.stateNode.containerInfo),Pn(t),null;case 10:return hO(t.type._context),Pn(t),null;case 17:return yi(t.type)&&ab(),Pn(t),null;case 19:if(ur(wr),a=t.memoizedState,a===null)return Pn(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Op(a,!1);else{if(Zr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=fb(e),s!==null){for(t.flags|=128,Op(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Zt(wr,wr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Tr()>Vf&&(t.flags|=128,n=!0,Op(a,!1),t.lanes=4194304)}else{if(!n)if(e=fb(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Op(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!gr)return Pn(t),null}else 2*Tr()-a.renderingStartTime>Vf&&r!==1073741824&&(t.flags|=128,n=!0,Op(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Tr(),t.sibling=null,r=wr.current,Zt(wr,n?r&1|2:r&1),t):(Pn(t),null);case 22:case 23:return OO(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$i&1073741824&&(Pn(t),t.subtreeFlags&6&&(t.flags|=8192)):Pn(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function WQ(e,t){switch(cO(t),t.tag){case 1:return yi(t.type)&&ab(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uf(),ur(vi),ur(Un),yO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vO(t),null;case 13:if(ur(wr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Ff()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ur(wr),null;case 4:return Uf(),null;case 10:return hO(t.type._context),null;case 22:case 23:return OO(),null;case 24:return null;default:return null}}var _y=!1,$n=!1,HQ=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Jd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Cr(e,t,n)}else r.current=null}function PN(e,t,r){try{r()}catch(n){Cr(e,t,n)}}var uM=!1;function qQ(e,t){if(hN=tb,e=HB(),oO(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(l=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=s),h===a&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(pN={focusedElem:e,selectionRange:r},tb=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ba(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(_){Cr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return g=uM,uM=!1,g}function bm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&PN(t,r,a)}i=i.next}while(i!==n)}}function Nw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function TN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function U6(e){var t=e.alternate;t!==null&&(e.alternate=null,U6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Is],delete t[Ym],delete t[vN],delete t[EQ],delete t[OQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function z6(e){return e.tag===5||e.tag===3||e.tag===4}function dM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||z6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function AN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ib));else if(n!==4&&(e=e.child,e!==null))for(AN(e,t,r),e=e.sibling;e!==null;)AN(e,t,r),e=e.sibling}function MN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(MN(e,t,r),e=e.sibling;e!==null;)MN(e,t,r),e=e.sibling}var _n=null,Ha=!1;function sl(e,t,r){for(r=r.child;r!==null;)V6(e,t,r),r=r.sibling}function V6(e,t,r){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(vw,r)}catch{}switch(r.tag){case 5:$n||Jd(r,t);case 6:var n=_n,i=Ha;_n=null,sl(e,t,r),_n=n,Ha=i,_n!==null&&(Ha?(e=_n,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_n.removeChild(r.stateNode));break;case 18:_n!==null&&(Ha?(e=_n,r=r.stateNode,e.nodeType===8?Hj(e.parentNode,r):e.nodeType===1&&Hj(e,r),Wm(e)):Hj(_n,r.stateNode));break;case 4:n=_n,i=Ha,_n=r.stateNode.containerInfo,Ha=!0,sl(e,t,r),_n=n,Ha=i;break;case 0:case 11:case 14:case 15:if(!$n&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&PN(r,t,s),i=i.next}while(i!==n)}sl(e,t,r);break;case 1:if(!$n&&(Jd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Cr(r,t,l)}sl(e,t,r);break;case 21:sl(e,t,r);break;case 22:r.mode&1?($n=(n=$n)||r.memoizedState!==null,sl(e,t,r),$n=n):sl(e,t,r);break;default:sl(e,t,r)}}function fM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new HQ),t.forEach(function(n){var i=tZ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ma(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:_n=l.stateNode,Ha=!1;break e;case 3:_n=l.stateNode.containerInfo,Ha=!0;break e;case 4:_n=l.stateNode.containerInfo,Ha=!0;break e}l=l.return}if(_n===null)throw Error(ve(160));V6(a,s,i),_n=null,Ha=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Cr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)W6(t,e),t=t.sibling}function W6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ma(t,e),Ss(e),n&4){try{bm(3,e,e.return),Nw(3,e)}catch(m){Cr(e,e.return,m)}try{bm(5,e,e.return)}catch(m){Cr(e,e.return,m)}}break;case 1:Ma(t,e),Ss(e),n&512&&r!==null&&Jd(r,r.return);break;case 5:if(Ma(t,e),Ss(e),n&512&&r!==null&&Jd(r,r.return),e.flags&32){var i=e.stateNode;try{Bm(i,"")}catch(m){Cr(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&fB(i,a),nN(l,s);var u=nN(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?vB(i,f):d==="dangerouslySetInnerHTML"?mB(i,f):d==="children"?Bm(i,f):KE(i,d,f,u)}switch(l){case"input":QS(i,a);break;case"textarea":hB(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?df(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?df(i,!!a.multiple,a.defaultValue,!0):df(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ym]=a}catch(m){Cr(e,e.return,m)}}break;case 6:if(Ma(t,e),Ss(e),n&4){if(e.stateNode===null)throw Error(ve(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Cr(e,e.return,m)}}break;case 3:if(Ma(t,e),Ss(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wm(t.containerInfo)}catch(m){Cr(e,e.return,m)}break;case 4:Ma(t,e),Ss(e);break;case 13:Ma(t,e),Ss(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(CO=Tr())),n&4&&fM(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?($n=(u=$n)||d,Ma(t,e),$n=u):Ma(t,e),Ss(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ie=e,d=e.child;d!==null;){for(f=Ie=d;Ie!==null;){switch(h=Ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:bm(4,h,h.return);break;case 1:Jd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Cr(n,r,m)}}break;case 5:Jd(h,h.return);break;case 22:if(h.memoizedState!==null){pM(f);continue}}p!==null?(p.return=h,Ie=p):pM(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=gB("display",s))}catch(m){Cr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Cr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ma(t,e),Ss(e),n&4&&fM(e);break;case 21:break;default:Ma(t,e),Ss(e)}}function Ss(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(z6(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bm(i,""),n.flags&=-33);var a=dM(e);MN(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=dM(e);AN(e,l,s);break;default:throw Error(ve(161))}}catch(c){Cr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GQ(e,t,r){Ie=e,H6(e)}function H6(e,t,r){for(var n=(e.mode&1)!==0;Ie!==null;){var i=Ie,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||_y;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||$n;l=_y;var u=$n;if(_y=s,($n=c)&&!u)for(Ie=i;Ie!==null;)s=Ie,c=s.child,s.tag===22&&s.memoizedState!==null?mM(i):c!==null?(c.return=s,Ie=c):mM(i);for(;a!==null;)Ie=a,H6(a),a=a.sibling;Ie=i,_y=l,$n=u}hM(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ie=a):hM(e)}}function hM(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$n||Nw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$n)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ba(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&X2(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}X2(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}$n||t.flags&512&&TN(t)}catch(h){Cr(t,t.return,h)}}if(t===e){Ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function pM(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ie=r;break}Ie=t.return}}function mM(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Nw(4,t)}catch(c){Cr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Cr(t,i,c)}}var a=t.return;try{TN(t)}catch(c){Cr(t,a,c)}break;case 5:var s=t.return;try{TN(t)}catch(c){Cr(t,s,c)}}}catch(c){Cr(t,t.return,c)}if(t===e){Ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ie=l;break}Ie=t.return}}var KQ=Math.ceil,mb=Xo.ReactCurrentDispatcher,NO=Xo.ReactCurrentOwner,ya=Xo.ReactCurrentBatchConfig,Ct=0,hn=null,Vr=null,Nn=0,$i=0,Xd=fc(0),Zr=0,tg=null,Tu=0,kw=0,kO=0,wm=null,fi=null,CO=0,Vf=1/0,mo=null,gb=!1,IN=null,Hl=null,jy=!1,$l=null,vb=0,_m=0,$N=null,Cx=-1,Ex=0;function ri(){return Ct&6?Tr():Cx!==-1?Cx:Cx=Tr()}function ql(e){return e.mode&1?Ct&2&&Nn!==0?Nn&-Nn:TQ.transition!==null?(Ex===0&&(Ex=OB()),Ex):(e=Bt,e!==0||(e=window.event,e=e===void 0?16:RB(e.type)),e):1}function ts(e,t,r,n){if(50<_m)throw _m=0,$N=null,Error(ve(185));mv(e,r,n),(!(Ct&2)||e!==hn)&&(e===hn&&(!(Ct&2)&&(kw|=r),Zr===4&&Sl(e,Nn)),xi(e,n),r===1&&Ct===0&&!(t.mode&1)&&(Vf=Tr()+500,_w&&hc()))}function xi(e,t){var r=e.callbackNode;TX(e,t);var n=eb(e,e===hn?Nn:0);if(n===0)r!==null&&S2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&S2(r),t===1)e.tag===0?PQ(gM.bind(null,e)):t6(gM.bind(null,e)),kQ(function(){!(Ct&6)&&hc()}),r=null;else{switch(PB(n)){case 1:r=ZE;break;case 4:r=CB;break;case 16:r=Zx;break;case 536870912:r=EB;break;default:r=Zx}r=Z6(r,q6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function q6(e,t){if(Cx=-1,Ex=0,Ct&6)throw Error(ve(327));var r=e.callbackNode;if(gf()&&e.callbackNode!==r)return null;var n=eb(e,e===hn?Nn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yb(e,n);else{t=n;var i=Ct;Ct|=2;var a=K6();(hn!==e||Nn!==t)&&(mo=null,Vf=Tr()+500,yu(e,t));do try{XQ();break}catch(l){G6(e,l)}while(!0);fO(),mb.current=a,Ct=i,Vr!==null?t=0:(hn=null,Nn=0,t=Zr)}if(t!==0){if(t===2&&(i=lN(e),i!==0&&(n=i,t=RN(e,i))),t===1)throw r=tg,yu(e,0),Sl(e,n),xi(e,Tr()),r;if(t===6)Sl(e,n);else{if(i=e.current.alternate,!(n&30)&&!YQ(i)&&(t=yb(e,n),t===2&&(a=lN(e),a!==0&&(n=a,t=RN(e,a))),t===1))throw r=tg,yu(e,0),Sl(e,n),xi(e,Tr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:Vc(e,fi,mo);break;case 3:if(Sl(e,n),(n&130023424)===n&&(t=CO+500-Tr(),10<t)){if(eb(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ri(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gN(Vc.bind(null,e,fi,mo),t);break}Vc(e,fi,mo);break;case 4:if(Sl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-es(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Tr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*KQ(n/1960))-n,10<n){e.timeoutHandle=gN(Vc.bind(null,e,fi,mo),n);break}Vc(e,fi,mo);break;case 5:Vc(e,fi,mo);break;default:throw Error(ve(329))}}}return xi(e,Tr()),e.callbackNode===r?q6.bind(null,e):null}function RN(e,t){var r=wm;return e.current.memoizedState.isDehydrated&&(yu(e,t).flags|=256),e=yb(e,t),e!==2&&(t=fi,fi=r,t!==null&&DN(t)),e}function DN(e){fi===null?fi=e:fi.push.apply(fi,e)}function YQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!os(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sl(e,t){for(t&=~kO,t&=~kw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-es(t),n=1<<r;e[r]=-1,t&=~n}}function gM(e){if(Ct&6)throw Error(ve(327));gf();var t=eb(e,0);if(!(t&1))return xi(e,Tr()),null;var r=yb(e,t);if(e.tag!==0&&r===2){var n=lN(e);n!==0&&(t=n,r=RN(e,n))}if(r===1)throw r=tg,yu(e,0),Sl(e,t),xi(e,Tr()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vc(e,fi,mo),xi(e,Tr()),null}function EO(e,t){var r=Ct;Ct|=1;try{return e(t)}finally{Ct=r,Ct===0&&(Vf=Tr()+500,_w&&hc())}}function Au(e){$l!==null&&$l.tag===0&&!(Ct&6)&&gf();var t=Ct;Ct|=1;var r=ya.transition,n=Bt;try{if(ya.transition=null,Bt=1,e)return e()}finally{Bt=n,ya.transition=r,Ct=t,!(Ct&6)&&hc()}}function OO(){$i=Xd.current,ur(Xd)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,NQ(r)),Vr!==null)for(r=Vr.return;r!==null;){var n=r;switch(cO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ab();break;case 3:Uf(),ur(vi),ur(Un),yO();break;case 5:vO(n);break;case 4:Uf();break;case 13:ur(wr);break;case 19:ur(wr);break;case 10:hO(n.type._context);break;case 22:case 23:OO()}r=r.return}if(hn=e,Vr=e=Gl(e.current,null),Nn=$i=t,Zr=0,tg=null,kO=kw=Tu=0,fi=wm=null,tu!==null){for(t=0;t<tu.length;t++)if(r=tu[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}tu=null}return e}function G6(e,t){do{var r=Vr;try{if(fO(),Sx.current=pb,hb){for(var n=jr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hb=!1}if(Pu=0,ln=Yr=jr=null,xm=!1,Qm=0,NO.current=null,r===null||r.return===null){Zr=1,tg=t,Vr=null;break}e:{var a=e,s=r.return,l=r,c=t;if(t=Nn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=nM(s);if(p!==null){p.flags&=-257,iM(p,s,l,a,t),p.mode&1&&rM(a,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){rM(a,u,t),PO();break e}c=Error(ve(426))}}else if(gr&&l.mode&1){var v=nM(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),iM(v,s,l,a,t),uO(zf(c,l));break e}}a=c=zf(c,l),Zr!==4&&(Zr=2),wm===null?wm=[a]:wm.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=P6(a,c,t);J2(a,b);break e;case 1:l=c;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Hl===null||!Hl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=T6(a,l,t);J2(a,_);break e}}a=a.return}while(a!==null)}J6(r)}catch(N){t=N,Vr===r&&r!==null&&(Vr=r=r.return);continue}break}while(!0)}function K6(){var e=mb.current;return mb.current=pb,e===null?pb:e}function PO(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),hn===null||!(Tu&268435455)&&!(kw&268435455)||Sl(hn,Nn)}function yb(e,t){var r=Ct;Ct|=2;var n=K6();(hn!==e||Nn!==t)&&(mo=null,yu(e,t));do try{JQ();break}catch(i){G6(e,i)}while(!0);if(fO(),Ct=r,mb.current=n,Vr!==null)throw Error(ve(261));return hn=null,Nn=0,Zr}function JQ(){for(;Vr!==null;)Y6(Vr)}function XQ(){for(;Vr!==null&&!_X();)Y6(Vr)}function Y6(e){var t=Q6(e.alternate,e,$i);e.memoizedProps=e.pendingProps,t===null?J6(e):Vr=t,NO.current=null}function J6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=WQ(r,t),r!==null){r.flags&=32767,Vr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zr=6,Vr=null;return}}else if(r=VQ(r,t,$i),r!==null){Vr=r;return}if(t=t.sibling,t!==null){Vr=t;return}Vr=t=e}while(t!==null);Zr===0&&(Zr=5)}function Vc(e,t,r){var n=Bt,i=ya.transition;try{ya.transition=null,Bt=1,QQ(e,t,r,n)}finally{ya.transition=i,Bt=n}return null}function QQ(e,t,r,n){do gf();while($l!==null);if(Ct&6)throw Error(ve(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(AX(e,a),e===hn&&(Vr=hn=null,Nn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jy||(jy=!0,Z6(Zx,function(){return gf(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ya.transition,ya.transition=null;var s=Bt;Bt=1;var l=Ct;Ct|=4,NO.current=null,qQ(e,r),W6(r,e),yQ(pN),tb=!!hN,pN=hN=null,e.current=r,GQ(r),jX(),Ct=l,Bt=s,ya.transition=a}else e.current=r;if(jy&&(jy=!1,$l=e,vb=i),a=e.pendingLanes,a===0&&(Hl=null),kX(r.stateNode),xi(e,Tr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(gb)throw gb=!1,e=IN,IN=null,e;return vb&1&&e.tag!==0&&gf(),a=e.pendingLanes,a&1?e===$N?_m++:(_m=0,$N=e):_m=0,hc(),null}function gf(){if($l!==null){var e=PB(vb),t=ya.transition,r=Bt;try{if(ya.transition=null,Bt=16>e?16:e,$l===null)var n=!1;else{if(e=$l,$l=null,vb=0,Ct&6)throw Error(ve(331));var i=Ct;for(Ct|=4,Ie=e.current;Ie!==null;){var a=Ie,s=a.child;if(Ie.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:bm(8,d,a)}var f=d.child;if(f!==null)f.return=d,Ie=f;else for(;Ie!==null;){d=Ie;var h=d.sibling,p=d.return;if(U6(d),d===u){Ie=null;break}if(h!==null){h.return=p,Ie=h;break}Ie=p}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ie=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ie=s;else e:for(;Ie!==null;){if(a=Ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bm(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ie=b;break e}Ie=a.return}}var x=e.current;for(Ie=x;Ie!==null;){s=Ie;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ie=w;else e:for(s=x;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nw(9,l)}}catch(N){Cr(l,l.return,N)}if(l===s){Ie=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ie=_;break e}Ie=l.return}}if(Ct=i,hc(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(vw,e)}catch{}n=!0}return n}finally{Bt=r,ya.transition=t}}return!1}function vM(e,t,r){t=zf(r,t),t=P6(e,t,1),e=Wl(e,t,1),t=ri(),e!==null&&(mv(e,1,t),xi(e,t))}function Cr(e,t,r){if(e.tag===3)vM(e,e,r);else for(;t!==null;){if(t.tag===3){vM(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hl===null||!Hl.has(n))){e=zf(r,e),e=T6(t,e,1),t=Wl(t,e,1),e=ri(),t!==null&&(mv(t,1,e),xi(t,e));break}}t=t.return}}function ZQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ri(),e.pingedLanes|=e.suspendedLanes&r,hn===e&&(Nn&r)===r&&(Zr===4||Zr===3&&(Nn&130023424)===Nn&&500>Tr()-CO?yu(e,0):kO|=r),xi(e,t)}function X6(e,t){t===0&&(e.mode&1?(t=hy,hy<<=1,!(hy&130023424)&&(hy=4194304)):t=1);var r=ri();e=Fo(e,t),e!==null&&(mv(e,t,r),xi(e,r))}function eZ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),X6(e,r)}function tZ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),X6(e,r)}var Q6;Q6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vi.current)hi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hi=!1,zQ(e,t,r);hi=!!(e.flags&131072)}else hi=!1,gr&&t.flags&1048576&&r6(t,lb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kx(e,t),e=t.pendingProps;var i=Lf(t,Un.current);mf(t,r),i=bO(null,t,n,e,i,r);var a=wO();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(n)?(a=!0,sb(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mO(t),i.updater=Sw,t.stateNode=i,i._reactInternals=t,jN(t,n,e,r),t=kN(null,t,n,!0,a,r)):(t.tag=0,gr&&a&&lO(t),qn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(kx(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=nZ(n),e=Ba(n,e),i){case 0:t=NN(null,t,n,e,r);break e;case 1:t=oM(null,t,n,e,r);break e;case 11:t=aM(null,t,n,e,r);break e;case 14:t=sM(null,t,n,Ba(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ba(n,i),NN(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ba(n,i),oM(e,t,n,i,r);case 3:e:{if($6(t),e===null)throw Error(ve(387));n=t.pendingProps,a=t.memoizedState,i=a.element,l6(e,t),db(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=zf(Error(ve(423)),t),t=lM(e,t,n,r,i);break e}else if(n!==i){i=zf(Error(ve(424)),t),t=lM(e,t,n,r,i);break e}else for(Hi=Vl(t.stateNode.containerInfo.firstChild),Gi=t,gr=!0,Ya=null,r=s6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ff(),n===i){t=Bo(e,t,r);break e}qn(e,t,n,r)}t=t.child}return t;case 5:return c6(t),e===null&&bN(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,mN(n,i)?s=null:a!==null&&mN(n,a)&&(t.flags|=32),I6(e,t),qn(e,t,s,r),t.child;case 6:return e===null&&bN(t),null;case 13:return R6(e,t,r);case 4:return gO(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Bf(t,null,n,r):qn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ba(n,i),aM(e,t,n,i,r);case 7:return qn(e,t,t.pendingProps,r),t.child;case 8:return qn(e,t,t.pendingProps.children,r),t.child;case 12:return qn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Zt(cb,n._currentValue),n._currentValue=s,a!==null)if(os(a.value,s)){if(a.children===i.children&&!vi.current){t=Bo(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ao(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),wN(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ve(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),wN(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}qn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,mf(t,r),i=_a(i),n=n(i),t.flags|=1,qn(e,t,n,r),t.child;case 14:return n=t.type,i=Ba(n,t.pendingProps),i=Ba(n.type,i),sM(e,t,n,i,r);case 15:return A6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ba(n,i),kx(e,t),t.tag=1,yi(n)?(e=!0,sb(t)):e=!1,mf(t,r),O6(t,n,i),jN(t,n,i,r),kN(null,t,n,!0,e,r);case 19:return D6(e,t,r);case 22:return M6(e,t,r)}throw Error(ve(156,t.tag))};function Z6(e,t){return kB(e,t)}function rZ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(e,t,r,n){return new rZ(e,t,r,n)}function TO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nZ(e){if(typeof e=="function")return TO(e)?1:0;if(e!=null){if(e=e.$$typeof,e===JE)return 11;if(e===XE)return 14}return 2}function Gl(e,t){var r=e.alternate;return r===null?(r=pa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ox(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")TO(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ud:return xu(r.children,i,a,t);case YE:s=8,i|=8;break;case GS:return e=pa(12,r,t,i|2),e.elementType=GS,e.lanes=a,e;case KS:return e=pa(13,r,t,i),e.elementType=KS,e.lanes=a,e;case YS:return e=pa(19,r,t,i),e.elementType=YS,e.lanes=a,e;case cB:return Cw(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oB:s=10;break e;case lB:s=9;break e;case JE:s=11;break e;case XE:s=14;break e;case vl:s=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=pa(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function xu(e,t,r,n){return e=pa(7,e,n,t),e.lanes=r,e}function Cw(e,t,r,n){return e=pa(22,e,n,t),e.elementType=cB,e.lanes=r,e.stateNode={isHidden:!1},e}function Zj(e,t,r){return e=pa(6,e,null,t),e.lanes=r,e}function e1(e,t,r){return t=pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iZ(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ij(0),this.expirationTimes=Ij(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ij(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function AO(e,t,r,n,i,a,s,l,c){return e=new iZ(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=pa(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mO(a),e}function aZ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function eU(e){if(!e)return ec;e=e._reactInternals;e:{if(ed(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(yi(r))return e6(e,r,t)}return t}function tU(e,t,r,n,i,a,s,l,c){return e=AO(r,n,!0,e,i,a,s,l,c),e.context=eU(null),r=e.current,n=ri(),i=ql(r),a=Ao(n,i),a.callback=t??null,Wl(r,a,i),e.current.lanes=i,mv(e,i,n),xi(e,n),e}function Ew(e,t,r,n){var i=t.current,a=ri(),s=ql(i);return r=eU(r),t.context===null?t.context=r:t.pendingContext=r,t=Ao(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wl(i,t,s),e!==null&&(ts(e,i,s,a),jx(e,i,s)),s}function xb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function MO(e,t){yM(e,t),(e=e.alternate)&&yM(e,t)}function sZ(){return null}var rU=typeof reportError=="function"?reportError:function(e){console.error(e)};function IO(e){this._internalRoot=e}Ow.prototype.render=IO.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));Ew(e,t,null,null)};Ow.prototype.unmount=IO.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Au(function(){Ew(null,e,null,null)}),t[Lo]=null}};function Ow(e){this._internalRoot=e}Ow.prototype.unstable_scheduleHydration=function(e){if(e){var t=MB();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jl.length&&t!==0&&t<jl[r].priority;r++);jl.splice(r,0,e),r===0&&$B(e)}};function $O(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xM(){}function oZ(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=xb(s);a.call(u)}}var s=tU(t,n,e,0,null,!1,!1,"",xM);return e._reactRootContainer=s,e[Lo]=s.current,Gm(e.nodeType===8?e.parentNode:e),Au(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=xb(c);l.call(u)}}var c=AO(e,0,!1,null,null,!1,!1,"",xM);return e._reactRootContainer=c,e[Lo]=c.current,Gm(e.nodeType===8?e.parentNode:e),Au(function(){Ew(t,c,r,n)}),c}function Tw(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=xb(s);l.call(c)}}Ew(t,s,e,i)}else s=oZ(r,t,e,i,n);return xb(s)}TB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=am(t.pendingLanes);r!==0&&(eO(t,r|1),xi(t,Tr()),!(Ct&6)&&(Vf=Tr()+500,hc()))}break;case 13:Au(function(){var n=Fo(e,1);if(n!==null){var i=ri();ts(n,e,1,i)}}),MO(e,1)}};tO=function(e){if(e.tag===13){var t=Fo(e,134217728);if(t!==null){var r=ri();ts(t,e,134217728,r)}MO(e,134217728)}};AB=function(e){if(e.tag===13){var t=ql(e),r=Fo(e,t);if(r!==null){var n=ri();ts(r,e,t,n)}MO(e,t)}};MB=function(){return Bt};IB=function(e,t){var r=Bt;try{return Bt=e,t()}finally{Bt=r}};aN=function(e,t,r){switch(t){case"input":if(QS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=ww(n);if(!i)throw Error(ve(90));dB(n),QS(n,i)}}}break;case"textarea":hB(e,r);break;case"select":t=r.value,t!=null&&df(e,!!r.multiple,t,!1)}};bB=EO;wB=Au;var lZ={usingClientEntryPoint:!1,Events:[vv,Hd,ww,yB,xB,EO]},Pp={findFiberByHostInstance:eu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cZ={bundleType:Pp.bundleType,version:Pp.version,rendererPackageName:Pp.rendererPackageName,rendererConfig:Pp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=SB(e),e===null?null:e.stateNode},findFiberByHostInstance:Pp.findFiberByHostInstance||sZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sy.isDisabled&&Sy.supportsFiber)try{vw=Sy.inject(cZ),Ws=Sy}catch{}}ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lZ;ea.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$O(t))throw Error(ve(200));return aZ(e,t,null,r)};ea.createRoot=function(e,t){if(!$O(e))throw Error(ve(299));var r=!1,n="",i=rU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=AO(e,1,!1,null,null,r,!1,n,i),e[Lo]=t.current,Gm(e.nodeType===8?e.parentNode:e),new IO(t)};ea.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=SB(t),e=e===null?null:e.stateNode,e};ea.flushSync=function(e){return Au(e)};ea.hydrate=function(e,t,r){if(!Pw(t))throw Error(ve(200));return Tw(null,e,t,!0,r)};ea.hydrateRoot=function(e,t,r){if(!$O(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=rU;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=tU(t,null,e,1,r??null,i,!1,a,s),e[Lo]=t.current,Gm(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Ow(t)};ea.render=function(e,t,r){if(!Pw(t))throw Error(ve(200));return Tw(null,e,t,!1,r)};ea.unmountComponentAtNode=function(e){if(!Pw(e))throw Error(ve(40));return e._reactRootContainer?(Au(function(){Tw(null,null,e,!1,function(){e._reactRootContainer=null,e[Lo]=null})}),!0):!1};ea.unstable_batchedUpdates=EO;ea.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pw(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return Tw(e,t,r,!1,n)};ea.version="18.3.1-next-f1338f8080-20240426";function nU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nU)}catch(e){console.error(e)}}nU(),nB.exports=ea;var rs=nB.exports;const vf=Nt(rs);var iU,bM=rs;iU=bM.createRoot,bM.hydrateRoot;const uZ=1,dZ=1e6;let t1=0;function fZ(){return t1=(t1+1)%Number.MAX_SAFE_INTEGER,t1.toString()}const r1=new Map,wM=e=>{if(r1.has(e))return;const t=setTimeout(()=>{r1.delete(e),jm({type:"REMOVE_TOAST",toastId:e})},dZ);r1.set(e,t)},hZ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,uZ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?wM(r):e.toasts.forEach(n=>{wM(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Px=[];let Tx={toasts:[]};function jm(e){Tx=hZ(Tx,e),Px.forEach(t=>{t(Tx)})}function pZ({...e}){const t=fZ(),r=i=>jm({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>jm({type:"DISMISS_TOAST",toastId:t});return jm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function RO(){const[e,t]=y.useState(Tx);return y.useEffect(()=>(Px.push(t),()=>{const r=Px.indexOf(t);r>-1&&Px.splice(r,1)}),[e]),{...e,toast:pZ,dismiss:r=>jm({type:"DISMISS_TOAST",toastId:r})}}function pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function _M(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eo(...e){return t=>{let r=!1;const n=e.map(i=>{const a=_M(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():_M(e[i],null)}}}}function et(...e){return y.useCallback(eo(...e),e)}function mZ(e,t){const r=y.createContext(t),n=a=>{const{children:s,...l}=a,c=y.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function i(a){const s=y.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function Cn(e,t=[]){let r=[];function n(a,s){const l=y.createContext(s),c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>y.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,gZ(i,...t)]}function gZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function jM(e){const t=vZ(e),r=y.forwardRef((n,i)=>{const{children:a,...s}=n,l=y.Children.toArray(a),c=l.find(xZ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function vZ(e){const t=y.forwardRef((r,n)=>{const{children:i,...a}=r;if(y.isValidElement(i)){const s=wZ(i),l=bZ(a,i.props);return i.type!==y.Fragment&&(l.ref=n?eo(n,s):s),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yZ=Symbol("radix.slottable");function xZ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yZ}function bZ(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function wZ(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Aw(e){const t=e+"CollectionProvider",[r,n]=Cn(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:v,children:b}=m,x=T.useRef(null),w=T.useRef(new Map).current;return o.jsx(i,{scope:v,itemMap:w,collectionRef:x,children:b})};s.displayName=t;const l=e+"CollectionSlot",c=jM(l),u=T.forwardRef((m,v)=>{const{scope:b,children:x}=m,w=a(l,b),_=et(v,w.collectionRef);return o.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=jM(d),p=T.forwardRef((m,v)=>{const{scope:b,children:x,...w}=m,_=T.useRef(null),N=et(v,_),j=a(d,b);return T.useEffect(()=>(j.itemMap.set(_,{ref:_,...w}),()=>void j.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:N,children:x})});p.displayName=d;function g(m){const v=a(e+"CollectionConsumer",m);return T.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((j,k)=>w.indexOf(j.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},g,n]}function _Z(e){const t=jZ(e),r=y.forwardRef((n,i)=>{const{children:a,...s}=n,l=y.Children.toArray(a),c=l.find(NZ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function jZ(e){const t=y.forwardRef((r,n)=>{const{children:i,...a}=r;if(y.isValidElement(i)){const s=CZ(i),l=kZ(a,i.props);return i.type!==y.Fragment&&(l.ref=n?eo(n,s):s),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SZ=Symbol("radix.slottable");function NZ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SZ}function kZ(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function CZ(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var EZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=EZ.reduce((e,t)=>{const r=_Z(`Primitive.${t}`),n=y.forwardRef((i,a)=>{const{asChild:s,...l}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function DO(e,t){e&&rs.flushSync(()=>e.dispatchEvent(t))}function Or(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function OZ(e,t=globalThis==null?void 0:globalThis.document){const r=Or(e);y.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var PZ="DismissableLayer",LN="dismissableLayer.update",TZ="dismissableLayer.pointerDownOutside",AZ="dismissableLayer.focusOutside",SM,aU=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),td=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=e,u=y.useContext(aU),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),g=et(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),x=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,N=IZ(k=>{const O=k.target,P=[...u.branches].some(A=>A.contains(O));!_||P||(i==null||i(k),s==null||s(k),k.defaultPrevented||l==null||l())},h),j=$Z(k=>{const O=k.target;[...u.branches].some(A=>A.contains(O))||(a==null||a(k),s==null||s(k),k.defaultPrevented||l==null||l())},h);return OZ(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),NM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=SM)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),NM())},[d,u]),y.useEffect(()=>{const k=()=>p({});return document.addEventListener(LN,k),()=>document.removeEventListener(LN,k)},[]),o.jsx(Le.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,j.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,N.onPointerDownCapture)})});td.displayName=PZ;var MZ="DismissableLayerBranch",sU=y.forwardRef((e,t)=>{const r=y.useContext(aU),n=y.useRef(null),i=et(t,n);return y.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(Le.div,{...e,ref:i})});sU.displayName=MZ;function IZ(e,t=globalThis==null?void 0:globalThis.document){const r=Or(e),n=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){oU(TZ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $Z(e,t=globalThis==null?void 0:globalThis.document){const r=Or(e),n=y.useRef(!1);return y.useEffect(()=>{const i=a=>{a.target&&!n.current&&oU(AZ,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function NM(){const e=new CustomEvent(LN);document.dispatchEvent(e)}function oU(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?DO(i,a):i.dispatchEvent(a)}var RZ=td,DZ=sU,Ir=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},LZ="Portal",Vh=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,a]=y.useState(!1);Ir(()=>a(!0),[]);const s=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?vf.createPortal(o.jsx(Le.div,{...n,ref:t}),s):null});Vh.displayName=LZ;function FZ(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var tn=e=>{const{present:t,children:r}=e,n=BZ(t),i=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),a=et(n.ref,UZ(i));return typeof r=="function"||n.isPresent?y.cloneElement(i,{ref:a}):null};tn.displayName="Presence";function BZ(e){const[t,r]=y.useState(),n=y.useRef(null),i=y.useRef(e),a=y.useRef("none"),s=e?"mounted":"unmounted",[l,c]=FZ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Ny(n.current);a.current=l==="mounted"?u:"none"},[l]),Ir(()=>{const u=n.current,d=i.current;if(d!==e){const h=a.current,p=Ny(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Ir(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Ny(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(a.current=Ny(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ny(e){return(e==null?void 0:e.animationName)||"none"}function UZ(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zZ=gw[" useInsertionEffect ".trim().toString()]||Ir;function ls({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,s]=VZ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=WZ(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else a(d)},[l,e,a,s]);return[c,u]}function VZ({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),i=y.useRef(r),a=y.useRef(t);return zZ(()=>{a.current=t},[t]),y.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function WZ(e){return typeof e=="function"}var lU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HZ="VisuallyHidden",Mw=y.forwardRef((e,t)=>o.jsx(Le.span,{...e,ref:t,style:{...lU,...e.style}}));Mw.displayName=HZ;var qZ=Mw,LO="ToastProvider",[FO,GZ,KZ]=Aw("Toast"),[cU]=Cn("Toast",[KZ]),[YZ,Iw]=cU(LO),uU=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${LO}\`. Expected non-empty \`string\`.`),o.jsx(FO.Provider,{scope:t,children:o.jsx(YZ,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(p=>p+1),[]),onToastRemove:y.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};uU.displayName=LO;var dU="ToastViewport",JZ=["F8"],FN="toast.viewportPause",BN="toast.viewportResume",fU=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=JZ,label:i="Notifications ({hotkey})",...a}=e,s=Iw(dU,r),l=GZ(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=et(t,f,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=s.toastCount>0;y.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,b=f.current;if(g&&v&&b){const x=()=>{if(!s.isClosePausedRef.current){const j=new CustomEvent(FN);b.dispatchEvent(j),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const j=new CustomEvent(BN);b.dispatchEvent(j),s.isClosePausedRef.current=!1}},_=j=>{!v.contains(j.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,s.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const _=w.ref.current,N=[_,...cee(_)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const b=x=>{var N,j,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const O=document.activeElement,P=x.shiftKey;if(x.target===v&&P){(N=u.current)==null||N.focus();return}const M=m({tabbingDirection:P?"backwards":"forwards"}),z=M.findIndex(L=>L===O);n1(M.slice(z+1))?x.preventDefault():P?(j=u.current)==null||j.focus():(k=d.current)==null||k.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,m]),o.jsxs(DZ,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(UN,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});n1(v)}}),o.jsx(FO.Slot,{scope:r,children:o.jsx(Le.ol,{tabIndex:-1,...a,ref:h})}),g&&o.jsx(UN,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});n1(v)}})]})});fU.displayName=dU;var hU="ToastFocusProxy",UN=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Iw(hU,r);return o.jsx(Mw,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});UN.displayName=hU;var xv="Toast",XZ="toast.swipeStart",QZ="toast.swipeMove",ZZ="toast.swipeCancel",eee="toast.swipeEnd",pU=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=e,[l,c]=ls({prop:n,defaultProp:i??!0,onChange:a,caller:xv});return o.jsx(tn,{present:r||l,children:o.jsx(nee,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:Or(e.onPause),onResume:Or(e.onResume),onSwipeStart:pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});pU.displayName=xv;var[tee,ree]=cU(xv,{onClose(){}}),nee=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=Iw(xv,r),[v,b]=y.useState(null),x=et(t,L=>b(L)),w=y.useRef(null),_=y.useRef(null),N=i||m.duration,j=y.useRef(0),k=y.useRef(N),O=y.useRef(0),{onToastAdd:P,onToastRemove:A}=m,$=Or(()=>{var V;(v==null?void 0:v.contains(document.activeElement))&&((V=m.viewport)==null||V.focus()),s()}),M=y.useCallback(L=>{!L||L===1/0||(window.clearTimeout(O.current),j.current=new Date().getTime(),O.current=window.setTimeout($,L))},[$]);y.useEffect(()=>{const L=m.viewport;if(L){const V=()=>{M(k.current),u==null||u()},D=()=>{const U=new Date().getTime()-j.current;k.current=k.current-U,window.clearTimeout(O.current),c==null||c()};return L.addEventListener(FN,D),L.addEventListener(BN,V),()=>{L.removeEventListener(FN,D),L.removeEventListener(BN,V)}}},[m.viewport,N,c,u,M]),y.useEffect(()=>{a&&!m.isClosePausedRef.current&&M(N)},[a,N,m.isClosePausedRef,M]),y.useEffect(()=>(P(),()=>A()),[P,A]);const z=y.useMemo(()=>v?wU(v):null,[v]);return m.viewport?o.jsxs(o.Fragment,{children:[z&&o.jsx(iee,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:z}),o.jsx(tee,{scope:r,onClose:$,children:rs.createPortal(o.jsx(FO.ItemSlot,{scope:r,children:o.jsx(RZ,{asChild:!0,onEscapeKeyDown:pe(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||$(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Le.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:pe(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:pe(e.onPointerDown,L=>{L.button===0&&(w.current={x:L.clientX,y:L.clientY})}),onPointerMove:pe(e.onPointerMove,L=>{if(!w.current)return;const V=L.clientX-w.current.x,D=L.clientY-w.current.y,U=!!_.current,I=["left","right"].includes(m.swipeDirection),F=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,G=I?F(0,V):0,ne=I?0:F(0,D),Z=L.pointerType==="touch"?10:2,S={x:G,y:ne},C={originalEvent:L,delta:S};U?(_.current=S,ky(QZ,f,C,{discrete:!1})):kM(S,m.swipeDirection,Z)?(_.current=S,ky(XZ,d,C,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(V)>Z||Math.abs(D)>Z)&&(w.current=null)}),onPointerUp:pe(e.onPointerUp,L=>{const V=_.current,D=L.target;if(D.hasPointerCapture(L.pointerId)&&D.releasePointerCapture(L.pointerId),_.current=null,w.current=null,V){const U=L.currentTarget,I={originalEvent:L,delta:V};kM(V,m.swipeDirection,m.swipeThreshold)?ky(eee,p,I,{discrete:!0}):ky(ZZ,h,I,{discrete:!0}),U.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),iee=e=>{const{__scopeToast:t,children:r,...n}=e,i=Iw(xv,t),[a,s]=y.useState(!1),[l,c]=y.useState(!1);return oee(()=>s(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Vh,{asChild:!0,children:o.jsx(Mw,{...n,children:a&&o.jsxs(o.Fragment,{children:[i.label," ",r]})})})},aee="ToastTitle",mU=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Le.div,{...n,ref:t})});mU.displayName=aee;var see="ToastDescription",gU=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Le.div,{...n,ref:t})});gU.displayName=see;var vU="ToastAction",yU=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(bU,{altText:r,asChild:!0,children:o.jsx(BO,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${vU}\`. Expected non-empty \`string\`.`),null)});yU.displayName=vU;var xU="ToastClose",BO=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=ree(xU,r);return o.jsx(bU,{asChild:!0,children:o.jsx(Le.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,i.onClose)})})});BO.displayName=xU;var bU=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return o.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function wU(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),lee(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...wU(n))}}),t}function ky(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?DO(i,a):i.dispatchEvent(a)}var kM=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function oee(e=()=>{}){const t=Or(e);Ir(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function lee(e){return e.nodeType===e.ELEMENT_NODE}function cee(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function n1(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var uee=uU,_U=fU,jU=pU,SU=mU,NU=gU,kU=yU,CU=BO;function EU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=EU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ct(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=EU(e))&&(n&&(n+=" "),n+=t);return n}const CM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,EM=ct,$w=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return EM(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=CM(d)||CM(f);return i[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...a,...l}[m]):{...a,...l}[m]===v})?[...u,f,h]:u},[]);return EM(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OU=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...l},c)=>y.createElement("svg",{ref:c,...fee,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:OU("lucide",i),...l},[...s.map(([u,d])=>y.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=y.forwardRef(({className:n,...i},a)=>y.createElement(hee,{ref:a,iconNode:t,className:OU(`lucide-${dee(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=xe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=xe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=xe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=xe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=xe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=xe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=xe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=xe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=xe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=xe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=xe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=xe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=xe("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=xe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=xe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=xe("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=xe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=xe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=xe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=xe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=xe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=xe("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=xe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=xe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=xe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=xe("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=xe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=xe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=xe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=xe("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),HO="-",Wee=e=>{const t=qee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const l=s.split(HO);return l[0]===""&&l.length!==1&&l.shift(),LU(l,t)||Hee(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},LU=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?LU(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(HO);return(s=t.validators.find(({validator:l})=>l(a)))==null?void 0:s.classGroupId},RM=/^\[(.+)\]$/,Hee=e=>{if(RM.test(e)){const t=RM.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},qee=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Kee(Object.entries(e.classGroups),r).forEach(([a,s])=>{VN(s,n,a,t)}),n},VN=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:DM(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(Gee(i)){VN(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{VN(s,DM(t,a),r,n)})})},DM=(e,t)=>{let r=e;return t.split(HO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Gee=e=>e.isThemeGetter,Kee=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,l])=>[t+s,l])):a);return[r,i]}):e,Yee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},FU="!",Jee=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,s=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===i&&(n||l.slice(v,v+a)===t)){c.push(l.slice(d,v)),d=v+a;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(FU),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:s}):s},Xee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Qee=e=>({cache:Yee(e.cacheSize),parseClassName:Jee(e),...Wee(e)}),Zee=/\s+/,ete=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split(Zee);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Xee(d).join(":"),b=f?v+FU:v,x=b+m;if(a.includes(x))continue;a.push(x);const w=i(m,g);for(let _=0;_<w.length;++_){const N=w[_];a.push(b+N)}l=u+(l.length>0?" "+l:l)}return l};function tte(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=BU(t))&&(n&&(n+=" "),n+=r);return n}const BU=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=BU(e[n]))&&(r&&(r+=" "),r+=t);return r};function rte(e,...t){let r,n,i,a=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=Qee(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=ete(c,r);return i(c,d),d}return function(){return a(tte.apply(null,arguments))}}const ir=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},UU=/^\[(?:([a-z-]+):)?(.+)\]$/i,nte=/^\d+\/\d+$/,ite=new Set(["px","full","screen"]),ate=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ste=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ote=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oo=e=>yf(e)||ite.has(e)||nte.test(e),ol=e=>Hh(e,"length",vte),yf=e=>!!e&&!Number.isNaN(Number(e)),o1=e=>Hh(e,"number",yf),Ap=e=>!!e&&Number.isInteger(Number(e)),ute=e=>e.endsWith("%")&&yf(e.slice(0,-1)),mt=e=>UU.test(e),ll=e=>ate.test(e),dte=new Set(["length","size","percentage"]),fte=e=>Hh(e,dte,zU),hte=e=>Hh(e,"position",zU),pte=new Set(["image","url"]),mte=e=>Hh(e,pte,xte),gte=e=>Hh(e,"",yte),Mp=()=>!0,Hh=(e,t,r)=>{const n=UU.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},vte=e=>ste.test(e)&&!ote.test(e),zU=()=>!1,yte=e=>lte.test(e),xte=e=>cte.test(e),bte=()=>{const e=ir("colors"),t=ir("spacing"),r=ir("blur"),n=ir("brightness"),i=ir("borderColor"),a=ir("borderRadius"),s=ir("borderSpacing"),l=ir("borderWidth"),c=ir("contrast"),u=ir("grayscale"),d=ir("hueRotate"),f=ir("invert"),h=ir("gap"),p=ir("gradientColorStops"),g=ir("gradientColorStopPositions"),m=ir("inset"),v=ir("margin"),b=ir("opacity"),x=ir("padding"),w=ir("saturate"),_=ir("scale"),N=ir("sepia"),j=ir("skew"),k=ir("space"),O=ir("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",mt,t],M=()=>[mt,t],z=()=>["",oo,ol],L=()=>["auto",yf,mt],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",mt],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[yf,mt];return{cacheSize:500,separator:":",theme:{colors:[Mp],spacing:[oo,ol],blur:["none","",ll,mt],brightness:ne(),borderColor:[e],borderRadius:["none","","full",ll,mt],borderSpacing:M(),borderWidth:z(),contrast:ne(),grayscale:F(),hueRotate:ne(),invert:F(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[ute,ol],inset:$(),margin:$(),opacity:ne(),padding:M(),saturate:ne(),scale:ne(),sepia:F(),skew:ne(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[ll]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),mt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ap,mt]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Ap,mt]}],"grid-cols":[{"grid-cols":[Mp]}],"col-start-end":[{col:["auto",{span:["full",Ap,mt]},mt]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Mp]}],"row-start-end":[{row:["auto",{span:[Ap,mt]},mt]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,t]}],"min-w":[{"min-w":[mt,t,"min","max","fit"]}],"max-w":[{"max-w":[mt,t,"none","full","min","max","fit","prose",{screen:[ll]},ll]}],h:[{h:[mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ll,ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",o1]}],"font-family":[{font:[Mp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",yf,o1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oo,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oo,ol]}],"underline-offset":[{"underline-offset":["auto",oo,mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),hte]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mte]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[oo,mt]}],"outline-w":[{outline:[oo,ol]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[oo,ol]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ll,gte]}],"shadow-color":[{shadow:[Mp]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ll,mt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ap,mt]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[oo,ol,o1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wte=rte(bte);function be(...e){return wte(ct(e))}const _te=uee,VU=y.forwardRef(({className:e,...t},r)=>o.jsx(_U,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));VU.displayName=_U.displayName;const jte=$w("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),WU=y.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(jU,{ref:n,className:be(jte({variant:t}),e),...r}));WU.displayName=jU.displayName;const Ste=y.forwardRef(({className:e,...t},r)=>o.jsx(kU,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Ste.displayName=kU.displayName;const HU=y.forwardRef(({className:e,...t},r)=>o.jsx(CU,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(to,{className:"h-4 w-4"})}));HU.displayName=CU.displayName;const qU=y.forwardRef(({className:e,...t},r)=>o.jsx(SU,{ref:r,className:be("text-sm font-semibold",e),...t}));qU.displayName=SU.displayName;const GU=y.forwardRef(({className:e,...t},r)=>o.jsx(NU,{ref:r,className:be("text-sm opacity-90",e),...t}));GU.displayName=NU.displayName;function Nte(){const{toasts:e}=RO();return o.jsxs(_te,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return o.jsxs(WU,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(qU,{children:r}),n&&o.jsx(GU,{children:n})]}),i,o.jsx(HU,{})]},t)}),o.jsx(VU,{})]})}var LM=["light","dark"],kte="(prefers-color-scheme: dark)",Cte=y.createContext(void 0),Ete={setTheme:e=>{},themes:[]},Ote=()=>{var e;return(e=y.useContext(Cte))!=null?e:Ete};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:s,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?LM.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,v=!0)=>{let b=s?s[g]:g,x=m?g+"|| ''":`'${b}'`,w="";return i&&v&&!m&&LM.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?m||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${kte}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Pte=e=>{switch(e){case"success":return Mte;case"info":return $te;case"warning":return Ite;case"error":return Rte;default:return null}},Tte=Array(12).fill(0),Ate=({visible:e,className:t})=>T.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},T.createElement("div",{className:"sonner-spinner"},Tte.map((r,n)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Mte=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ite=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$te=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rte=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dte=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Lte=()=>{let[e,t]=T.useState(document.hidden);return T.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},WN=1,Fte=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:WN++,s=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...i,dismissible:l,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=t instanceof Promise?t:t(),a=n!==void 0,s,l=i.then(async u=>{if(s=["resolve",u],T.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(Ute(u)&&!u.ok){a=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){a=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){a=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;a&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||WN++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ui=new Fte,Bte=(e,t)=>{let r=(t==null?void 0:t.id)||WN++;return ui.addToast({title:e,...t,id:r}),r},Ute=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zte=Bte,Vte=()=>ui.toasts,Wte=()=>ui.getActiveToasts(),ce=Object.assign(zte,{success:ui.success,info:ui.info,warning:ui.warning,error:ui.error,custom:ui.custom,message:ui.message,promise:ui.promise,dismiss:ui.dismiss,loading:ui.loading},{getHistory:Vte,getToasts:Wte});function Hte(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Hte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cy(e){return e.label!==void 0}var qte=3,Gte="32px",Kte="16px",FM=4e3,Yte=356,Jte=14,Xte=20,Qte=200;function Ia(...e){return e.filter(Boolean).join(" ")}function Zte(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var ere=e=>{var t,r,n,i,a,s,l,c,u,d,f;let{invert:h,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:b,heights:x,index:w,toasts:_,expanded:N,removeToast:j,defaultRichColors:k,closeButton:O,style:P,cancelButtonStyle:A,actionButtonStyle:$,className:M="",descriptionClassName:z="",duration:L,position:V,gap:D,loadingIcon:U,expandByDefault:I,classNames:F,icons:G,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:Z}=e,[S,C]=T.useState(null),[E,B]=T.useState(null),[R,q]=T.useState(!1),[H,X]=T.useState(!1),[te,J]=T.useState(!1),[je,Oe]=T.useState(!1),[it,qe]=T.useState(!1),[Ge,jt]=T.useState(0),[$t,Dt]=T.useState(0),W=T.useRef(p.duration||L||FM),Y=T.useRef(null),re=T.useRef(null),Se=w===0,ye=w+1<=b,K=p.type,fe=p.dismissible!==!1,He=p.className||"",tt=p.descriptionClassName||"",Vt=T.useMemo(()=>x.findIndex(at=>at.toastId===p.id)||0,[x,p.id]),ia=T.useMemo(()=>{var at;return(at=p.closeButton)!=null?at:O},[p.closeButton,O]),Ci=T.useMemo(()=>p.duration||L||FM,[p.duration,L]),Oc=T.useRef(0),aa=T.useRef(0),al=T.useRef(0),_s=T.useRef(null),[Pc,bp]=V.split("-"),Tc=T.useMemo(()=>x.reduce((at,At,Wt)=>Wt>=Vt?at:at+At.height,0),[x,Vt]),ny=Lte(),iy=p.invert||h,pd=K==="loading";aa.current=T.useMemo(()=>Vt*D+Tc,[Vt,Tc]),T.useEffect(()=>{W.current=Ci},[Ci]),T.useEffect(()=>{q(!0)},[]),T.useEffect(()=>{let at=re.current;if(at){let At=at.getBoundingClientRect().height;return Dt(At),v(Wt=>[{toastId:p.id,height:At,position:p.position},...Wt]),()=>v(Wt=>Wt.filter(oi=>oi.toastId!==p.id))}},[v,p.id]),T.useLayoutEffect(()=>{if(!R)return;let at=re.current,At=at.style.height;at.style.height="auto";let Wt=at.getBoundingClientRect().height;at.style.height=At,Dt(Wt),v(oi=>oi.find(li=>li.toastId===p.id)?oi.map(li=>li.toastId===p.id?{...li,height:Wt}:li):[{toastId:p.id,height:Wt,position:p.position},...oi])},[R,p.title,p.description,v,p.id]);let Pa=T.useCallback(()=>{X(!0),jt(aa.current),v(at=>at.filter(At=>At.toastId!==p.id)),setTimeout(()=>{j(p)},Qte)},[p,j,v,aa]);T.useEffect(()=>{if(p.promise&&K==="loading"||p.duration===1/0||p.type==="loading")return;let at;return N||m||Z&&ny?(()=>{if(al.current<Oc.current){let At=new Date().getTime()-Oc.current;W.current=W.current-At}al.current=new Date().getTime()})():W.current!==1/0&&(Oc.current=new Date().getTime(),at=setTimeout(()=>{var At;(At=p.onAutoClose)==null||At.call(p,p),Pa()},W.current)),()=>clearTimeout(at)},[N,m,p,K,Z,ny,Pa]),T.useEffect(()=>{p.delete&&Pa()},[Pa,p.delete]);function ay(){var at,At,Wt;return G!=null&&G.loading?T.createElement("div",{className:Ia(F==null?void 0:F.loader,(at=p==null?void 0:p.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":K==="loading"},G.loading):U?T.createElement("div",{className:Ia(F==null?void 0:F.loader,(At=p==null?void 0:p.classNames)==null?void 0:At.loader,"sonner-loader"),"data-visible":K==="loading"},U):T.createElement(Ate,{className:Ia(F==null?void 0:F.loader,(Wt=p==null?void 0:p.classNames)==null?void 0:Wt.loader),visible:K==="loading"})}return T.createElement("li",{tabIndex:0,ref:re,className:Ia(M,He,F==null?void 0:F.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[K],(r=p==null?void 0:p.classNames)==null?void 0:r[K]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":R,"data-promise":!!p.promise,"data-swiped":it,"data-removed":H,"data-visible":ye,"data-y-position":Pc,"data-x-position":bp,"data-index":w,"data-front":Se,"data-swiping":te,"data-dismissible":fe,"data-type":K,"data-invert":iy,"data-swipe-out":je,"data-swipe-direction":E,"data-expanded":!!(N||I&&R),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${H?Ge:aa.current}px`,"--initial-height":I?"auto":`${$t}px`,...P,...p.style},onDragEnd:()=>{J(!1),C(null),_s.current=null},onPointerDown:at=>{pd||!fe||(Y.current=new Date,jt(aa.current),at.target.setPointerCapture(at.pointerId),at.target.tagName!=="BUTTON"&&(J(!0),_s.current={x:at.clientX,y:at.clientY}))},onPointerUp:()=>{var at,At,Wt,oi;if(je||!fe)return;_s.current=null;let li=Number(((at=re.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ta=Number(((At=re.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),js=new Date().getTime()-((Wt=Y.current)==null?void 0:Wt.getTime()),ci=S==="x"?li:Ta,Aa=Math.abs(ci)/js;if(Math.abs(ci)>=Xte||Aa>.11){jt(aa.current),(oi=p.onDismiss)==null||oi.call(p,p),B(S==="x"?li>0?"right":"left":Ta>0?"down":"up"),Pa(),Oe(!0),qe(!1);return}J(!1),C(null)},onPointerMove:at=>{var At,Wt,oi,li;if(!_s.current||!fe||((At=window.getSelection())==null?void 0:At.toString().length)>0)return;let Ta=at.clientY-_s.current.y,js=at.clientX-_s.current.x,ci=(Wt=e.swipeDirections)!=null?Wt:Zte(V);!S&&(Math.abs(js)>1||Math.abs(Ta)>1)&&C(Math.abs(js)>Math.abs(Ta)?"x":"y");let Aa={x:0,y:0};S==="y"?(ci.includes("top")||ci.includes("bottom"))&&(ci.includes("top")&&Ta<0||ci.includes("bottom")&&Ta>0)&&(Aa.y=Ta):S==="x"&&(ci.includes("left")||ci.includes("right"))&&(ci.includes("left")&&js<0||ci.includes("right")&&js>0)&&(Aa.x=js),(Math.abs(Aa.x)>0||Math.abs(Aa.y)>0)&&qe(!0),(oi=re.current)==null||oi.style.setProperty("--swipe-amount-x",`${Aa.x}px`),(li=re.current)==null||li.style.setProperty("--swipe-amount-y",`${Aa.y}px`)}},ia&&!p.jsx?T.createElement("button",{"aria-label":ne,"data-disabled":pd,"data-close-button":!0,onClick:pd||!fe?()=>{}:()=>{var at;Pa(),(at=p.onDismiss)==null||at.call(p,p)},className:Ia(F==null?void 0:F.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=G==null?void 0:G.close)!=null?a:Dte):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:T.createElement(T.Fragment,null,K||p.icon||p.promise?T.createElement("div",{"data-icon":"",className:Ia(F==null?void 0:F.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ay():null,p.type!=="loading"?p.icon||(G==null?void 0:G[K])||Pte(K):null):null,T.createElement("div",{"data-content":"",className:Ia(F==null?void 0:F.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},T.createElement("div",{"data-title":"",className:Ia(F==null?void 0:F.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?T.createElement("div",{"data-description":"",className:Ia(z,tt,F==null?void 0:F.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&Cy(p.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:at=>{var At,Wt;Cy(p.cancel)&&fe&&((Wt=(At=p.cancel).onClick)==null||Wt.call(At,at),Pa())},className:Ia(F==null?void 0:F.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&Cy(p.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||$,onClick:at=>{var At,Wt;Cy(p.action)&&((Wt=(At=p.action).onClick)==null||Wt.call(At,at),!at.defaultPrevented&&Pa())},className:Ia(F==null?void 0:F.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function BM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function tre(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",l=a?Kte:Gte;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var rre=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=qte,toastOptions:m,dir:v=BM(),gap:b=Jte,loadingIcon:x,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:N}=e,[j,k]=T.useState([]),O=T.useMemo(()=>Array.from(new Set([n].concat(j.filter(Z=>Z.position).map(Z=>Z.position)))),[j,n]),[P,A]=T.useState([]),[$,M]=T.useState(!1),[z,L]=T.useState(!1),[V,D]=T.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=T.useRef(null),I=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=T.useRef(null),G=T.useRef(!1),ne=T.useCallback(Z=>{k(S=>{var C;return(C=S.find(E=>E.id===Z.id))!=null&&C.delete||ui.dismiss(Z.id),S.filter(({id:E})=>E!==Z.id)})},[]);return T.useEffect(()=>ui.subscribe(Z=>{if(Z.dismiss){k(S=>S.map(C=>C.id===Z.id?{...C,delete:!0}:C));return}setTimeout(()=>{vf.flushSync(()=>{k(S=>{let C=S.findIndex(E=>E.id===Z.id);return C!==-1?[...S.slice(0,C),{...S[C],...Z},...S.slice(C+1)]:[Z,...S]})})})}),[]),T.useEffect(()=>{if(d!=="system"){D(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:S})=>{D(S?"dark":"light")})}catch{Z.addListener(({matches:C})=>{try{D(C?"dark":"light")}catch(E){console.error(E)}})}},[d]),T.useEffect(()=>{j.length<=1&&M(!1)},[j]),T.useEffect(()=>{let Z=S=>{var C,E;i.every(B=>S[B]||S.code===B)&&(M(!0),(C=U.current)==null||C.focus()),S.code==="Escape"&&(document.activeElement===U.current||(E=U.current)!=null&&E.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[i]),T.useEffect(()=>{if(U.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,G.current=!1)}},[U.current]),T.createElement("section",{ref:t,"aria-label":`${_} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((Z,S)=>{var C;let[E,B]=Z.split("-");return j.length?T.createElement("ol",{key:Z,dir:v==="auto"?BM():v,tabIndex:-1,ref:U,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":E,"data-lifted":$&&j.length>1&&!a,"data-x-position":B,style:{"--front-toast-height":`${((C=P[0])==null?void 0:C.height)||0}px`,"--width":`${Yte}px`,"--gap":`${b}px`,...p,...tre(c,u)},onBlur:R=>{G.current&&!R.currentTarget.contains(R.relatedTarget)&&(G.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:R=>{R.target instanceof HTMLElement&&R.target.dataset.dismissible==="false"||G.current||(G.current=!0,F.current=R.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{z||M(!1)},onDragEnd:()=>M(!1),onPointerDown:R=>{R.target instanceof HTMLElement&&R.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},j.filter(R=>!R.position&&S===0||R.position===Z).map((R,q)=>{var H,X;return T.createElement(ere,{key:R.id,icons:w,index:q,toast:R,defaultRichColors:f,duration:(H=m==null?void 0:m.duration)!=null?H:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(X=m==null?void 0:m.closeButton)!=null?X:s,interacting:z,position:Z,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ne,toasts:j.filter(te=>te.position==R.position),heights:P.filter(te=>te.position==R.position),setHeights:A,expandByDefault:a,gap:b,loadingIcon:x,expanded:$,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const nre=({...e})=>{const{theme:t="system"}=Ote();return o.jsx(rre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var ire=gw[" useId ".trim().toString()]||(()=>{}),are=0;function is(e){const[t,r]=y.useState(ire());return Ir(()=>{r(n=>n??String(are++))},[e]),t?`radix-${t}`:""}const sre=["top","right","bottom","left"],rc=Math.min,Fi=Math.max,_b=Math.round,Ey=Math.floor,qs=e=>({x:e,y:e}),ore={left:"right",right:"left",bottom:"top",top:"bottom"},lre={start:"end",end:"start"};function HN(e,t,r){return Fi(e,rc(t,r))}function zo(e,t){return typeof e=="function"?e(t):e}function Vo(e){return e.split("-")[0]}function qh(e){return e.split("-")[1]}function qO(e){return e==="x"?"y":"x"}function GO(e){return e==="y"?"height":"width"}const cre=new Set(["top","bottom"]);function Ds(e){return cre.has(Vo(e))?"y":"x"}function KO(e){return qO(Ds(e))}function ure(e,t,r){r===void 0&&(r=!1);const n=qh(e),i=KO(e),a=GO(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=jb(s)),[s,jb(s)]}function dre(e){const t=jb(e);return[qN(e),t,qN(t)]}function qN(e){return e.replace(/start|end/g,t=>lre[t])}const UM=["left","right"],zM=["right","left"],fre=["top","bottom"],hre=["bottom","top"];function pre(e,t,r){switch(e){case"top":case"bottom":return r?t?zM:UM:t?UM:zM;case"left":case"right":return t?fre:hre;default:return[]}}function mre(e,t,r,n){const i=qh(e);let a=pre(Vo(e),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(qN)))),a}function jb(e){return e.replace(/left|right|bottom|top/g,t=>ore[t])}function gre(e){return{top:0,right:0,bottom:0,left:0,...e}}function KU(e){return typeof e!="number"?gre(e):{top:e,right:e,bottom:e,left:e}}function Sb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function VM(e,t,r){let{reference:n,floating:i}=e;const a=Ds(t),s=KO(t),l=GO(s),c=Vo(t),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(qh(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const vre=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,l=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=VM(u,n,c),h=n,p={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:b}=l[m],{x,y:w,data:_,reset:N}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=x??d,f=w??f,p={...p,[v]:{...p[v],..._}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:d,y:f}=VM(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function rg(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=zo(t,e),g=KU(p),v=l[h?f==="floating"?"reference":"floating":f],b=Sb(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Sb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-N.top+g.top)/_.y,bottom:(N.bottom-b.bottom+g.bottom)/_.y,left:(b.left-N.left+g.left)/_.x,right:(N.right-b.right+g.right)/_.x}}const yre=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=zo(e,t)||{};if(u==null)return{};const f=KU(d),h={x:r,y:n},p=KO(i),g=GO(p),m=await s.getDimensions(u),v=p==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=a.reference[g]+a.reference[p]-h[p]-a.floating[g],N=h[p]-a.reference[p],j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=j?j[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(j)))&&(k=l.floating[w]||a.floating[g]);const O=_/2-N/2,P=k/2-m[g]/2-1,A=rc(f[b],P),$=rc(f[x],P),M=A,z=k-m[g]-$,L=k/2-m[g]/2+O,V=HN(M,L,z),D=!c.arrow&&qh(i)!=null&&L!==V&&a.reference[g]/2-(L<M?A:$)-m[g]/2<0,U=D?L<M?L-M:L-z:0;return{[p]:h[p]+U,data:{[p]:V,centerOffset:L-V-U,...D&&{alignmentOffset:U}},reset:D}}}),xre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=zo(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=Vo(i),x=Ds(l),w=Vo(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(w||!m?[jb(l)]:dre(l)),j=g!=="none";!h&&j&&N.push(...mre(l,m,g,_));const k=[l,...N],O=await rg(t,v),P=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&P.push(O[b]),f){const L=ure(i,s,_);P.push(O[L[0]],O[L[1]])}if(A=[...A,{placement:i,overflows:P}],!P.every(L=>L<=0)){var $,M;const L=((($=a.flip)==null?void 0:$.index)||0)+1,V=k[L];if(V&&(!(f==="alignment"?x!==Ds(V):!1)||A.every(I=>Ds(I.placement)===x?I.overflows[0]>0:!0)))return{data:{index:L,overflows:A},reset:{placement:V}};let D=(M=A.filter(U=>U.overflows[0]<=0).sort((U,I)=>U.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!D)switch(p){case"bestFit":{var z;const U=(z=A.filter(I=>{if(j){const F=Ds(I.placement);return F===x||F==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(F=>F>0).reduce((F,G)=>F+G,0)]).sort((I,F)=>I[1]-F[1])[0])==null?void 0:z[0];U&&(D=U);break}case"initialPlacement":D=l;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function WM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function HM(e){return sre.some(t=>e[t]>=0)}const bre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=zo(e,t);switch(n){case"referenceHidden":{const a=await rg(t,{...i,elementContext:"reference"}),s=WM(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:HM(s)}}}case"escaped":{const a=await rg(t,{...i,altBoundary:!0}),s=WM(a,r.floating);return{data:{escapedOffsets:s,escaped:HM(s)}}}default:return{}}}}},YU=new Set(["left","top"]);async function wre(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Vo(r),l=qh(r),c=Ds(r)==="y",u=YU.has(s)?-1:1,d=a&&c?-1:1,f=zo(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const _re=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:s,middlewareData:l}=t,c=await wre(t,e);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},jre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...c}=zo(e,t),u={x:r,y:n},d=await rg(t,c),f=Ds(Vo(i)),h=qO(f);let p=u[h],g=u[f];if(a){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=p+d[v],w=p-d[b];p=HN(x,p,w)}if(s){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=g+d[v],w=g-d[b];g=HN(x,g,w)}const m=l.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:s}}}}}},Sre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=zo(e,t),d={x:r,y:n},f=Ds(i),h=qO(f);let p=d[h],g=d[f];const m=zo(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",_=a.reference[h]-a.floating[w]+v.mainAxis,N=a.reference[h]+a.reference[w]-v.mainAxis;p<_?p=_:p>N&&(p=N)}if(u){var b,x;const w=h==="y"?"width":"height",_=YU.has(Vo(i)),N=a.reference[f]-a.floating[w]+(_&&((b=s.offset)==null?void 0:b[f])||0)+(_?0:v.crossAxis),j=a.reference[f]+a.reference[w]+(_?0:((x=s.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);g<N?g=N:g>j&&(g=j)}return{[h]:p,[f]:g}}}},Nre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:s,elements:l}=t,{apply:c=()=>{},...u}=zo(e,t),d=await rg(t,u),f=Vo(i),h=qh(i),p=Ds(i)==="y",{width:g,height:m}=a.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,w=g-d.left-d.right,_=rc(m-d[v],x),N=rc(g-d[b],w),j=!t.middlewareData.shift;let k=_,O=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),j&&!h){const A=Fi(d.left,0),$=Fi(d.right,0),M=Fi(d.top,0),z=Fi(d.bottom,0);p?O=g-2*(A!==0||$!==0?A+$:Fi(d.left,d.right)):k=m-2*(M!==0||z!==0?M+z:Fi(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:k});const P=await s.getDimensions(l.floating);return g!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function Dw(){return typeof window<"u"}function Gh(e){return JU(e)?(e.nodeName||"").toLowerCase():"#document"}function Ki(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ro(e){var t;return(t=(JU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JU(e){return Dw()?e instanceof Node||e instanceof Ki(e).Node:!1}function us(e){return Dw()?e instanceof Element||e instanceof Ki(e).Element:!1}function Xs(e){return Dw()?e instanceof HTMLElement||e instanceof Ki(e).HTMLElement:!1}function qM(e){return!Dw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ki(e).ShadowRoot}const kre=new Set(["inline","contents"]);function _v(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!kre.has(i)}const Cre=new Set(["table","td","th"]);function Ere(e){return Cre.has(Gh(e))}const Ore=[":popover-open",":modal"];function Lw(e){return Ore.some(t=>{try{return e.matches(t)}catch{return!1}})}const Pre=["transform","translate","scale","rotate","perspective"],Tre=["transform","translate","scale","rotate","perspective","filter"],Are=["paint","layout","strict","content"];function YO(e){const t=JO(),r=us(e)?ds(e):e;return Pre.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Tre.some(n=>(r.willChange||"").includes(n))||Are.some(n=>(r.contain||"").includes(n))}function Mre(e){let t=nc(e);for(;Xs(t)&&!Gf(t);){if(YO(t))return t;if(Lw(t))return null;t=nc(t)}return null}function JO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ire=new Set(["html","body","#document"]);function Gf(e){return Ire.has(Gh(e))}function ds(e){return Ki(e).getComputedStyle(e)}function Fw(e){return us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nc(e){if(Gh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qM(e)&&e.host||ro(e);return qM(t)?t.host:t}function XU(e){const t=nc(e);return Gf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xs(t)&&_v(t)?t:XU(t)}function ng(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=XU(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),s=Ki(i);if(a){const l=GN(s);return t.concat(s,s.visualViewport||[],_v(i)?i:[],l&&r?ng(l):[])}return t.concat(i,ng(i,[],r))}function GN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function QU(e){const t=ds(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Xs(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,l=_b(r)!==a||_b(n)!==s;return l&&(r=a,n=s),{width:r,height:n,$:l}}function XO(e){return us(e)?e:e.contextElement}function xf(e){const t=XO(e);if(!Xs(t))return qs(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=QU(t);let s=(a?_b(r.width):r.width)/n,l=(a?_b(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const $re=qs(0);function ZU(e){const t=Ki(e);return!JO()||!t.visualViewport?$re:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Rre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ki(e)?!1:t}function Iu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=XO(e);let s=qs(1);t&&(n?us(n)&&(s=xf(n)):s=xf(e));const l=Rre(a,r,n)?ZU(a):qs(0);let c=(i.left+l.x)/s.x,u=(i.top+l.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=Ki(a),p=n&&us(n)?Ki(n):n;let g=h,m=GN(g);for(;m&&n&&p!==g;){const v=xf(m),b=m.getBoundingClientRect(),x=ds(m),w=b.left+(m.clientLeft+parseFloat(x.paddingLeft))*v.x,_=b.top+(m.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=Ki(m),m=GN(g)}}return Sb({width:d,height:f,x:c,y:u})}function Bw(e,t){const r=Fw(e).scrollLeft;return t?t.left+r:Iu(ro(e)).left+r}function e8(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Bw(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Dre(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",s=ro(n),l=t?Lw(t.floating):!1;if(n===s||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=qs(1);const d=qs(0),f=Xs(n);if((f||!f&&!a)&&((Gh(n)!=="body"||_v(s))&&(c=Fw(n)),Xs(n))){const p=Iu(n);u=xf(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!a?e8(s,c):qs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Lre(e){return Array.from(e.getClientRects())}function Fre(e){const t=ro(e),r=Fw(e),n=e.ownerDocument.body,i=Fi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Fi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Bw(e);const l=-r.scrollTop;return ds(n).direction==="rtl"&&(s+=Fi(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:l}}const GM=25;function Bre(e,t){const r=Ki(e),n=ro(e),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;const d=JO();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=Bw(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=GM&&(a-=g)}else u<=GM&&(a+=u);return{width:a,height:s,x:l,y:c}}const Ure=new Set(["absolute","fixed"]);function zre(e,t){const r=Iu(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Xs(e)?xf(e):qs(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:s,height:l,x:c,y:u}}function KM(e,t,r){let n;if(t==="viewport")n=Bre(e,r);else if(t==="document")n=Fre(ro(e));else if(us(t))n=zre(t,r);else{const i=ZU(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Sb(n)}function t8(e,t){const r=nc(e);return r===t||!us(r)||Gf(r)?!1:ds(r).position==="fixed"||t8(r,t)}function Vre(e,t){const r=t.get(e);if(r)return r;let n=ng(e,[],!1).filter(l=>us(l)&&Gh(l)!=="body"),i=null;const a=ds(e).position==="fixed";let s=a?nc(e):e;for(;us(s)&&!Gf(s);){const l=ds(s),c=YO(s);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&Ure.has(i.position)||_v(s)&&!c&&t8(e,s))?n=n.filter(d=>d!==s):i=l,s=nc(s)}return t.set(e,n),n}function Wre(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?Lw(t)?[]:Vre(t,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=KM(t,d,i);return u.top=Fi(f.top,u.top),u.right=rc(f.right,u.right),u.bottom=rc(f.bottom,u.bottom),u.left=Fi(f.left,u.left),u},KM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Hre(e){const{width:t,height:r}=QU(e);return{width:t,height:r}}function qre(e,t,r){const n=Xs(t),i=ro(t),a=r==="fixed",s=Iu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=qs(0);function u(){c.x=Bw(i)}if(n||!n&&!a)if((Gh(t)!=="body"||_v(i))&&(l=Fw(t)),n){const p=Iu(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();a&&!n&&i&&u();const d=i&&!n&&!a?e8(i,l):qs(0),f=s.left+l.scrollLeft-c.x-d.x,h=s.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function l1(e){return ds(e).position==="static"}function YM(e,t){if(!Xs(e)||ds(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ro(e)===r&&(r=r.ownerDocument.body),r}function r8(e,t){const r=Ki(e);if(Lw(e))return r;if(!Xs(e)){let i=nc(e);for(;i&&!Gf(i);){if(us(i)&&!l1(i))return i;i=nc(i)}return r}let n=YM(e,t);for(;n&&Ere(n)&&l1(n);)n=YM(n,t);return n&&Gf(n)&&l1(n)&&!YO(n)?r:n||Mre(e)||r}const Gre=async function(e){const t=this.getOffsetParent||r8,r=this.getDimensions,n=await r(e.floating);return{reference:qre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Kre(e){return ds(e).direction==="rtl"}const Yre={convertOffsetParentRelativeRectToViewportRelativeRect:Dre,getDocumentElement:ro,getClippingRect:Wre,getOffsetParent:r8,getElementRects:Gre,getClientRects:Lre,getDimensions:Hre,getScale:xf,isElement:us,isRTL:Kre};function n8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jre(e,t){let r=null,n;const i=ro(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=Ey(f),m=Ey(i.clientWidth-(d+h)),v=Ey(i.clientHeight-(f+p)),b=Ey(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:Fi(0,rc(1,c))||1};let _=!0;function N(j){const k=j[0].intersectionRatio;if(k!==c){if(!_)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!n8(u,e.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return s(!0),a}function Xre(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=XO(e),d=i||a?[...u?ng(u):[],...ng(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const f=u&&l?Jre(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Iu(e):null;c&&v();function v(){const b=Iu(e);m&&!n8(m,b)&&r(),m=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const Qre=_re,Zre=jre,ene=xre,tne=Nre,rne=bre,JM=yre,nne=Sre,ine=(e,t,r)=>{const n=new Map,i={platform:Yre,...r},a={...i.platform,_c:n};return vre(e,t,{...i,platform:a})};var ane=typeof document<"u",sne=function(){},Ix=ane?y.useLayoutEffect:sne;function Nb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Nb(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Nb(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function i8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function XM(e,t){const r=i8(e);return Math.round(t*r)/r}function c1(e){const t=y.useRef(e);return Ix(()=>{t.current=e}),t}function one(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(n);Nb(h,n)||p(n);const[g,m]=y.useState(null),[v,b]=y.useState(null),x=y.useCallback(I=>{I!==j.current&&(j.current=I,m(I))},[]),w=y.useCallback(I=>{I!==k.current&&(k.current=I,b(I))},[]),_=a||g,N=s||v,j=y.useRef(null),k=y.useRef(null),O=y.useRef(d),P=c!=null,A=c1(c),$=c1(i),M=c1(u),z=y.useCallback(()=>{if(!j.current||!k.current)return;const I={placement:t,strategy:r,middleware:h};$.current&&(I.platform=$.current),ine(j.current,k.current,I).then(F=>{const G={...F,isPositioned:M.current!==!1};L.current&&!Nb(O.current,G)&&(O.current=G,rs.flushSync(()=>{f(G)}))})},[h,t,r,$,M]);Ix(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const L=y.useRef(!1);Ix(()=>(L.current=!0,()=>{L.current=!1}),[]),Ix(()=>{if(_&&(j.current=_),N&&(k.current=N),_&&N){if(A.current)return A.current(_,N,z);z()}},[_,N,z,A,P]);const V=y.useMemo(()=>({reference:j,floating:k,setReference:x,setFloating:w}),[x,w]),D=y.useMemo(()=>({reference:_,floating:N}),[_,N]),U=y.useMemo(()=>{const I={position:r,left:0,top:0};if(!D.floating)return I;const F=XM(D.floating,d.x),G=XM(D.floating,d.y);return l?{...I,transform:"translate("+F+"px, "+G+"px)",...i8(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:G}},[r,l,D.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:z,refs:V,elements:D,floatingStyles:U}),[d,z,V,D,U])}const lne=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?JM({element:n.current,padding:i}).fn(r):{}:n?JM({element:n,padding:i}).fn(r):{}}}},cne=(e,t)=>({...Qre(e),options:[e,t]}),une=(e,t)=>({...Zre(e),options:[e,t]}),dne=(e,t)=>({...nne(e),options:[e,t]}),fne=(e,t)=>({...ene(e),options:[e,t]}),hne=(e,t)=>({...tne(e),options:[e,t]}),pne=(e,t)=>({...rne(e),options:[e,t]}),mne=(e,t)=>({...lne(e),options:[e,t]});var gne="Arrow",a8=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return o.jsx(Le.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});a8.displayName=gne;var vne=a8;function Uw(e){const[t,r]=y.useState(void 0);return Ir(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;r({width:s,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var QO="Popper",[s8,mc]=Cn(QO),[yne,o8]=s8(QO),l8=e=>{const{__scopePopper:t,children:r}=e,[n,i]=y.useState(null);return o.jsx(yne,{scope:t,anchor:n,onAnchorChange:i,children:r})};l8.displayName=QO;var c8="PopperAnchor",u8=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=o8(c8,r),s=y.useRef(null),l=et(t,s),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||s.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:o.jsx(Le.div,{...i,ref:l})});u8.displayName=c8;var ZO="PopperContent",[xne,bne]=s8(ZO),d8=y.forwardRef((e,t)=>{var R,q,H,X,te,J;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=o8(ZO,r),[b,x]=y.useState(null),w=et(t,je=>x(je)),[_,N]=y.useState(null),j=Uw(_),k=(j==null?void 0:j.width)??0,O=(j==null?void 0:j.height)??0,P=n+(a!=="center"?"-"+a:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],M=$.length>0,z={padding:A,boundary:$.filter(_ne),altBoundary:M},{refs:L,floatingStyles:V,placement:D,isPositioned:U,middlewareData:I}=one({strategy:"fixed",placement:P,whileElementsMounted:(...je)=>Xre(...je,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[cne({mainAxis:i+O,alignmentAxis:s}),c&&une({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dne():void 0,...z}),c&&fne({...z}),hne({...z,apply:({elements:je,rects:Oe,availableWidth:it,availableHeight:qe})=>{const{width:Ge,height:jt}=Oe.reference,$t=je.floating.style;$t.setProperty("--radix-popper-available-width",`${it}px`),$t.setProperty("--radix-popper-available-height",`${qe}px`),$t.setProperty("--radix-popper-anchor-width",`${Ge}px`),$t.setProperty("--radix-popper-anchor-height",`${jt}px`)}}),_&&mne({element:_,padding:l}),jne({arrowWidth:k,arrowHeight:O}),h&&pne({strategy:"referenceHidden",...z})]}),[F,G]=p8(D),ne=Or(g);Ir(()=>{U&&(ne==null||ne())},[U,ne]);const Z=(R=I.arrow)==null?void 0:R.x,S=(q=I.arrow)==null?void 0:q.y,C=((H=I.arrow)==null?void 0:H.centerOffset)!==0,[E,B]=y.useState();return Ir(()=>{b&&B(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:U?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(X=I.transformOrigin)==null?void 0:X.x,(te=I.transformOrigin)==null?void 0:te.y].join(" "),...((J=I.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(xne,{scope:r,placedSide:F,onArrowChange:N,arrowX:Z,arrowY:S,shouldHideArrow:C,children:o.jsx(Le.div,{"data-side":F,"data-align":G,...m,ref:w,style:{...m.style,animation:U?void 0:"none"}})})})});d8.displayName=ZO;var f8="PopperArrow",wne={top:"bottom",right:"left",bottom:"top",left:"right"},h8=y.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=bne(f8,n),s=wne[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(vne,{...i,ref:r,style:{...i.style,display:"block"}})})});h8.displayName=f8;function _ne(e){return e!==null}var jne=e=>({name:"transformOrigin",options:e,fn(t){var v,b,x;const{placement:r,rects:n,middlewareData:i}=t,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=p8(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=s?f:`${h}px`,m=`${-c}px`):u==="top"?(g=s?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=s?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=s?f:`${p}px`),{data:{x:g,y:m}}}});function p8(e){const[t,r="center"]=e.split("-");return[t,r]}var eP=l8,jv=u8,zw=d8,Vw=h8,Sne=Symbol("radix.slottable");function Nne(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Sne,t}var[Ww]=Cn("Tooltip",[mc]),tP=mc(),m8="TooltipProvider",kne=700,QM="tooltip.open",[Cne,g8]=Ww(m8),v8=e=>{const{__scopeTooltip:t,delayDuration:r=kne,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,s=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(Cne,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};v8.displayName=m8;var y8="Tooltip",[sHe,Hw]=Ww(y8),KN="TooltipTrigger",Ene=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Hw(KN,r),a=g8(KN,r),s=tP(r),l=y.useRef(null),c=et(t,l,i.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(jv,{asChild:!0,...s,children:o.jsx(Le.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:pe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:pe(e.onBlur,i.onClose),onClick:pe(e.onClick,i.onClose)})})});Ene.displayName=KN;var One="TooltipPortal",[oHe,Pne]=Ww(One,{forceMount:void 0}),Kf="TooltipContent",x8=y.forwardRef((e,t)=>{const r=Pne(Kf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,s=Hw(Kf,e.__scopeTooltip);return o.jsx(tn,{present:n||s.open,children:s.disableHoverableContent?o.jsx(b8,{side:i,...a,ref:t}):o.jsx(Tne,{side:i,...a,ref:t})})}),Tne=y.forwardRef((e,t)=>{const r=Hw(Kf,e.__scopeTooltip),n=g8(Kf,e.__scopeTooltip),i=y.useRef(null),a=et(t,i),[s,l]=y.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),p=y.useCallback((g,m)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},x=Rne(b,v.getBoundingClientRect()),w=Dne(b,x),_=Lne(m.getBoundingClientRect()),N=Bne([...w,..._]);l(N),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),y.useEffect(()=>{if(s){const g=m=>{const v=m.target,b={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!Fne(b,s);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,s,u,h]),o.jsx(b8,{...e,ref:a})}),[Ane,Mne]=Ww(y8,{isInside:!1}),Ine=Nne("TooltipContent"),b8=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...l}=e,c=Hw(Kf,r),u=tP(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(QM,d),()=>document.removeEventListener(QM,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(td,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(zw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Ine,{children:n}),o.jsx(Ane,{scope:r,isInside:!0,children:o.jsx(qZ,{id:c.contentId,role:"tooltip",children:i||n})})]})})});x8.displayName=Kf;var w8="TooltipArrow",$ne=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=tP(r);return Mne(w8,r).isInside?null:o.jsx(Vw,{...i,...n,ref:t})});$ne.displayName=w8;function Rne(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Dne(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Lne(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function Fne(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const l=t[a],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function Bne(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Une(t)}function Une(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var zne=v8,_8=x8;const Vne=zne,Wne=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(_8,{ref:n,sideOffset:t,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Wne.displayName=_8.displayName;var qw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hne={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},El,UE,D5,qne=(D5=class{constructor(){bt(this,El,Hne);bt(this,UE,!1)}setTimeoutProvider(e){st(this,El,e)}setTimeout(e,t){return se(this,El).setTimeout(e,t)}clearTimeout(e){se(this,El).clearTimeout(e)}setInterval(e,t){return se(this,El).setInterval(e,t)}clearInterval(e){se(this,El).clearInterval(e)}},El=new WeakMap,UE=new WeakMap,D5),YN=new qne;function Gne(e){setTimeout(e,0)}var Gw=typeof window>"u"||"Deno"in globalThis;function Ua(){}function Kne(e,t){return typeof e=="function"?e(t):e}function Yne(e){return typeof e=="number"&&e>=0&&e!==1/0}function Jne(e,t){return Math.max(e+(t||0)-Date.now(),0)}function JN(e,t){return typeof e=="function"?e(t):e}function Xne(e,t){return typeof e=="function"?e(t):e}function ZM(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==rP(s,t.options))return!1}else if(!ag(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function eI(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(ig(t.options.mutationKey)!==ig(a))return!1}else if(!ag(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function rP(e,t){return((t==null?void 0:t.queryKeyHashFn)||ig)(e)}function ig(e){return JSON.stringify(e,(t,r)=>XN(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ag(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ag(e[r],t[r])):!1}var Qne=Object.prototype.hasOwnProperty;function j8(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=tI(e)&&tI(t);if(!n&&!(XN(e)&&XN(t)))return t;const a=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),l=s.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:s[d],h=e[f],p=t[f];if(h===p){c[f]=h,(n?d<a:Qne.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const g=j8(h,p,r+1);c[f]=g,g===h&&u++}return a===l&&u===a?e:c}function tI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function XN(e){if(!rI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!rI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rI(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zne(e){return new Promise(t=>{YN.setTimeout(t,e)})}function eie(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?j8(e,t):t}function tie(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function rie(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var nP=Symbol();function S8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function nie(e,t,r){let n=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),e}var fu,Ol,Of,L5,iie=(L5=class extends qw{constructor(){super();bt(this,fu);bt(this,Ol);bt(this,Of);st(this,Of,t=>{if(!Gw&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){se(this,Ol)||this.setEventListener(se(this,Of))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,Ol))==null||t.call(this),st(this,Ol,void 0))}setEventListener(t){var r;st(this,Of,t),(r=se(this,Ol))==null||r.call(this),st(this,Ol,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){se(this,fu)!==t&&(st(this,fu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof se(this,fu)=="boolean"?se(this,fu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fu=new WeakMap,Ol=new WeakMap,Of=new WeakMap,L5),N8=new iie;function aie(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var sie=Gne;function oie(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=sie;const a=l=>{t?e.push(l):i(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Kn=oie(),Pf,Pl,Tf,F5,lie=(F5=class extends qw{constructor(){super();bt(this,Pf,!0);bt(this,Pl);bt(this,Tf);st(this,Tf,t=>{if(!Gw&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){se(this,Pl)||this.setEventListener(se(this,Tf))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,Pl))==null||t.call(this),st(this,Pl,void 0))}setEventListener(t){var r;st(this,Tf,t),(r=se(this,Pl))==null||r.call(this),st(this,Pl,t(this.setOnline.bind(this)))}setOnline(t){se(this,Pf)!==t&&(st(this,Pf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return se(this,Pf)}},Pf=new WeakMap,Pl=new WeakMap,Tf=new WeakMap,F5),kb=new lie;function cie(e){return Math.min(1e3*2**e,3e4)}function k8(e){return(e??"online")==="online"?kb.isOnline():!0}var QN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function C8(e){let t=!1,r=0,n;const i=aie(),a=()=>i.status!=="pending",s=m=>{var v;if(!a()){const b=new QN(m);h(b),(v=e.onCancel)==null||v.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>N8.isFocused()&&(e.networkMode==="always"||kb.isOnline())&&e.canRun(),d=()=>k8(e.networkMode)&&e.canRun(),f=m=>{a()||(n==null||n(),i.resolve(m))},h=m=>{a()||(n==null||n(),i.reject(m))},p=()=>new Promise(m=>{var v;n=b=>{(a()||u())&&m(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;n=void 0,a()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(a())return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var j;if(a())return;const x=e.retry??(Gw?0:3),w=e.retryDelay??cie,_=typeof w=="function"?w(r,b):w,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!N){h(b);return}r++,(j=e.onFail)==null||j.call(e,r,b),Zne(_).then(()=>u()?void 0:p()).then(()=>{t?h(b):g()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),i)}}var hu,B5,E8=(B5=class{constructor(){bt(this,hu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yne(this.gcTime)&&st(this,hu,YN.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gw?1/0:5*60*1e3))}clearGcTimeout(){se(this,hu)&&(YN.clearTimeout(se(this,hu)),st(this,hu,void 0))}},hu=new WeakMap,B5),pu,Af,ca,mu,nn,dv,gu,Va,ho,U5,uie=(U5=class extends E8{constructor(t){super();bt(this,Va);bt(this,pu);bt(this,Af);bt(this,ca);bt(this,mu);bt(this,nn);bt(this,dv);bt(this,gu);st(this,gu,!1),st(this,dv,t.defaultOptions),this.setOptions(t.options),this.observers=[],st(this,mu,t.client),st(this,ca,se(this,mu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,st(this,pu,iI(this.options)),this.state=t.state??se(this,pu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=se(this,nn))==null?void 0:t.promise}setOptions(t){if(this.options={...se(this,dv),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=iI(this.options);r.data!==void 0&&(this.setState(nI(r.data,r.dataUpdatedAt)),st(this,pu,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,ca).remove(this)}setData(t,r){const n=eie(this.state.data,t,this.options);return En(this,Va,ho).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){En(this,Va,ho).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=se(this,nn))==null?void 0:n.promise;return(i=se(this,nn))==null||i.cancel(t),r?r.then(Ua).catch(Ua):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,pu))}isActive(){return this.observers.some(t=>Xne(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>JN(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Jne(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,nn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,nn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),se(this,ca).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(se(this,nn)&&(se(this,gu)?se(this,nn).cancel({revert:!0}):se(this,nn).cancelRetry()),this.scheduleGc()),se(this,ca).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||En(this,Va,ho).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,g,m,v,b,x,w;if(this.state.fetchStatus!=="idle"&&((c=se(this,nn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,nn))return se(this,nn).continueRetry(),se(this,nn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(N=>N.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(st(this,gu,!0),n.signal)})},a=()=>{const _=S8(this.options,r),j=(()=>{const k={client:se(this,mu),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return st(this,gu,!1),this.options.persister?this.options.persister(_,j,this):_(j)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:se(this,mu),state:this.state,fetchFn:a};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),st(this,Af,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&En(this,Va,ho).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),st(this,nn,C8({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof QN&&_.revert&&this.setState({...se(this,Af),fetchStatus:"idle"}),n.abort()},onFail:(_,N)=>{En(this,Va,ho).call(this,{type:"failed",failureCount:_,error:N})},onPause:()=>{En(this,Va,ho).call(this,{type:"pause"})},onContinue:()=>{En(this,Va,ho).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await se(this,nn).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=se(this,ca).config).onSuccess)==null||p.call(h,_,this),(m=(g=se(this,ca).config).onSettled)==null||m.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof QN){if(_.silent)return se(this,nn).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw En(this,Va,ho).call(this,{type:"error",error:_}),(b=(v=se(this,ca).config).onError)==null||b.call(v,_,this),(w=(x=se(this,ca).config).onSettled)==null||w.call(x,this.state.data,_,this),_}finally{this.scheduleGc()}}},pu=new WeakMap,Af=new WeakMap,ca=new WeakMap,mu=new WeakMap,nn=new WeakMap,dv=new WeakMap,gu=new WeakMap,Va=new WeakSet,ho=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...die(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...nI(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return st(this,Af,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Kn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),se(this,ca).notify({query:this,type:"updated",action:t})})},U5);function die(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nI(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function iI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function aI(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=w=>{nie(w,()=>t.signal,()=>m=!0)},b=S8(t.options,t.fetchOptions),x=async(w,_,N)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};return v($),$})(),O=await b(k),{maxPages:P}=t.options,A=N?rie:tie;return{pages:A(w.pages,O,P),pageParams:A(w.pageParams,_,P)}};if(i&&a.length){const w=i==="backward",_=w?fie:sI,N={pages:a,pageParams:s},j=_(n,N);l=await x(N,j,w)}else{const w=e??a.length;do{const _=c===0?s[0]??n.initialPageParam:sI(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function sI(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function fie(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var fv,Es,Wn,vu,Os,hl,z5,hie=(z5=class extends E8{constructor(t){super();bt(this,Os);bt(this,fv);bt(this,Es);bt(this,Wn);bt(this,vu);st(this,fv,t.client),this.mutationId=t.mutationId,st(this,Wn,t.mutationCache),st(this,Es,[]),this.state=t.state||pie(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){se(this,Es).includes(t)||(se(this,Es).push(t),this.clearGcTimeout(),se(this,Wn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){st(this,Es,se(this,Es).filter(r=>r!==t)),this.scheduleGc(),se(this,Wn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){se(this,Es).length||(this.state.status==="pending"?this.scheduleGc():se(this,Wn).remove(this))}continue(){var t;return((t=se(this,vu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,c,u,d,f,h,p,g,m,v,b,x,w,_,N,j,k,O,P;const r=()=>{En(this,Os,hl).call(this,{type:"continue"})},n={client:se(this,fv),meta:this.options.meta,mutationKey:this.options.mutationKey};st(this,vu,C8({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,$)=>{En(this,Os,hl).call(this,{type:"failed",failureCount:A,error:$})},onPause:()=>{En(this,Os,hl).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Wn).canRun(this)}));const i=this.state.status==="pending",a=!se(this,vu).canStart();try{if(i)r();else{En(this,Os,hl).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(s=se(this,Wn).config).onMutate)==null?void 0:l.call(s,t,this,n));const $=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));$!==this.state.context&&En(this,Os,hl).call(this,{type:"pending",context:$,variables:t,isPaused:a})}const A=await se(this,vu).start();return await((f=(d=se(this,Wn).config).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,A,t,this.state.context,n)),await((m=(g=se(this,Wn).config).onSettled)==null?void 0:m.call(g,A,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,A,null,t,this.state.context,n)),En(this,Os,hl).call(this,{type:"success",data:A}),A}catch(A){try{await((w=(x=se(this,Wn).config).onError)==null?void 0:w.call(x,A,t,this.state.context,this,n))}catch($){Promise.reject($)}try{await((N=(_=this.options).onError)==null?void 0:N.call(_,A,t,this.state.context,n))}catch($){Promise.reject($)}try{await((k=(j=se(this,Wn).config).onSettled)==null?void 0:k.call(j,void 0,A,this.state.variables,this.state.context,this,n))}catch($){Promise.reject($)}try{await((P=(O=this.options).onSettled)==null?void 0:P.call(O,void 0,A,t,this.state.context,n))}catch($){Promise.reject($)}throw En(this,Os,hl).call(this,{type:"error",error:A}),A}finally{se(this,Wn).runNext(this)}}},fv=new WeakMap,Es=new WeakMap,Wn=new WeakMap,vu=new WeakMap,Os=new WeakSet,hl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kn.batch(()=>{se(this,Es).forEach(n=>{n.onMutationUpdate(t)}),se(this,Wn).notify({mutation:this,type:"updated",action:t})})},z5);function pie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jo,Wa,hv,V5,mie=(V5=class extends qw{constructor(t={}){super();bt(this,jo);bt(this,Wa);bt(this,hv);this.config=t,st(this,jo,new Set),st(this,Wa,new Map),st(this,hv,0)}build(t,r,n){const i=new hie({client:t,mutationCache:this,mutationId:++oy(this,hv)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){se(this,jo).add(t);const r=Oy(t);if(typeof r=="string"){const n=se(this,Wa).get(r);n?n.push(t):se(this,Wa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(se(this,jo).delete(t)){const r=Oy(t);if(typeof r=="string"){const n=se(this,Wa).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&se(this,Wa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Oy(t);if(typeof r=="string"){const n=se(this,Wa).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Oy(t);if(typeof r=="string"){const i=(n=se(this,Wa).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kn.batch(()=>{se(this,jo).forEach(t=>{this.notify({type:"removed",mutation:t})}),se(this,jo).clear(),se(this,Wa).clear()})}getAll(){return Array.from(se(this,jo))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>eI(r,n))}findAll(t={}){return this.getAll().filter(r=>eI(t,r))}notify(t){Kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Kn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ua))))}},jo=new WeakMap,Wa=new WeakMap,hv=new WeakMap,V5);function Oy(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ps,W5,gie=(W5=class extends qw{constructor(t={}){super();bt(this,Ps);this.config=t,st(this,Ps,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??rP(i,r);let s=this.get(a);return s||(s=new uie({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){se(this,Ps).has(t.queryHash)||(se(this,Ps).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=se(this,Ps).get(t.queryHash);r&&(t.destroy(),r===t&&se(this,Ps).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return se(this,Ps).get(t)}getAll(){return[...se(this,Ps).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ZM(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ZM(t,n)):r}notify(t){Kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ps=new WeakMap,W5),Nr,Tl,Al,Mf,If,Ml,$f,Rf,H5,vie=(H5=class{constructor(e={}){bt(this,Nr);bt(this,Tl);bt(this,Al);bt(this,Mf);bt(this,If);bt(this,Ml);bt(this,$f);bt(this,Rf);st(this,Nr,e.queryCache||new gie),st(this,Tl,e.mutationCache||new mie),st(this,Al,e.defaultOptions||{}),st(this,Mf,new Map),st(this,If,new Map),st(this,Ml,0)}mount(){oy(this,Ml)._++,se(this,Ml)===1&&(st(this,$f,N8.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,Nr).onFocus())})),st(this,Rf,kb.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,Nr).onOnline())})))}unmount(){var e,t;oy(this,Ml)._--,se(this,Ml)===0&&((e=se(this,$f))==null||e.call(this),st(this,$f,void 0),(t=se(this,Rf))==null||t.call(this),st(this,Rf,void 0))}isFetching(e){return se(this,Nr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return se(this,Tl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,Nr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=se(this,Nr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(JN(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return se(this,Nr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=se(this,Nr).get(n.queryHash),a=i==null?void 0:i.state.data,s=Kne(t,a);if(s!==void 0)return se(this,Nr).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Kn.batch(()=>se(this,Nr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,Nr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=se(this,Nr);Kn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=se(this,Nr);return Kn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Kn.batch(()=>se(this,Nr).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Ua).catch(Ua)}invalidateQueries(e,t={}){return Kn.batch(()=>(se(this,Nr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Kn.batch(()=>se(this,Nr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ua)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ua)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=se(this,Nr).build(this,t);return r.isStaleByTime(JN(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ua).catch(Ua)}fetchInfiniteQuery(e){return e.behavior=aI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ua).catch(Ua)}ensureInfiniteQueryData(e){return e.behavior=aI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return kb.isOnline()?se(this,Tl).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,Nr)}getMutationCache(){return se(this,Tl)}getDefaultOptions(){return se(this,Al)}setDefaultOptions(e){st(this,Al,e)}setQueryDefaults(e,t){se(this,Mf).set(ig(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...se(this,Mf).values()],r={};return t.forEach(n=>{ag(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){se(this,If).set(ig(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...se(this,If).values()],r={};return t.forEach(n=>{ag(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...se(this,Al).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...se(this,Al).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){se(this,Nr).clear(),se(this,Tl).clear()}},Nr=new WeakMap,Tl=new WeakMap,Al=new WeakMap,Mf=new WeakMap,If=new WeakMap,Ml=new WeakMap,$f=new WeakMap,Rf=new WeakMap,H5),yie=y.createContext(void 0),xie=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(yie.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(this,arguments)}var Rl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rl||(Rl={}));const oI="popstate";function bie(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:l}=n.location;return ZN("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Cb(i)}return _ie(t,r,null,e)}function Mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function iP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wie(){return Math.random().toString(36).substr(2,8)}function lI(e,t){return{usr:e.state,key:e.key,idx:t}}function ZN(e,t,r,n){return r===void 0&&(r=null),sg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kh(t):t,{state:r,key:t&&t.key||n||wie()})}function Cb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _ie(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l=Rl.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(sg({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=Rl.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:b})}function h(v,b){l=Rl.Push;let x=ZN(m.location,v,b);u=d()+1;let w=lI(x,u),_=m.createHref(x);try{s.pushState(w,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(_)}a&&c&&c({action:l,location:m.location,delta:1})}function p(v,b){l=Rl.Replace;let x=ZN(m.location,v,b);u=d();let w=lI(x,u),_=m.createHref(x);s.replaceState(w,"",_),a&&c&&c({action:l,location:m.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:Cb(v);return x=x.replace(/ $/,"%20"),Mr(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let m={get action(){return l},get location(){return e(i,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(oI,f),c=v,()=>{i.removeEventListener(oI,f),c=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var cI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cI||(cI={}));function jie(e,t,r){return r===void 0&&(r="/"),Sie(e,t,r)}function Sie(e,t,r,n){let i=typeof t=="string"?Kh(t):t,a=aP(i.pathname||"/",r);if(a==null)return null;let s=O8(e);Nie(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=Die(a);l=Iie(s[c],u)}return l}function O8(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Mr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Kl([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Mr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),O8(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Aie(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of P8(a.path))i(a,s,c)}),t}function P8(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=P8(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Nie(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Mie(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kie=/^:[\w-]+$/,Cie=3,Eie=2,Oie=1,Pie=10,Tie=-2,uI=e=>e==="*";function Aie(e,t){let r=e.split("/"),n=r.length;return r.some(uI)&&(n+=Tie),t&&(n+=Eie),r.filter(i=>!uI(i)).reduce((i,a)=>i+(kie.test(a)?Cie:a===""?Oie:Pie),n)}function Mie(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Iie(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=$ie({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Kl([a,f.pathname]),pathnameBase:zie(Kl([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Kl([a,f.pathnameBase]))}return s}function $ie(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Rie(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function Rie(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),iP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Die(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return iP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function aP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Lie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fie=e=>Lie.test(e);function Bie(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Kh(e):e,a;if(r)if(Fie(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),iP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?a=dI(r.substring(1),"/"):a=dI(r,t)}else a=t;return{pathname:a,search:Vie(n),hash:Wie(i)}}function dI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function u1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Uie(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sP(e,t){let r=Uie(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oP(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Kh(e):(i=sg({},e),Mr(!i.pathname||!i.pathname.includes("?"),u1("?","pathname","search",i)),Mr(!i.pathname||!i.pathname.includes("#"),u1("#","pathname","hash",i)),Mr(!i.search||!i.search.includes("#"),u1("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Bie(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Kl=e=>e.join("/").replace(/\/\/+/g,"/"),zie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Vie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Wie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hie(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const T8=["post","put","patch","delete"];new Set(T8);const qie=["get",...T8];new Set(qie);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(this,arguments)}const lP=y.createContext(null),Gie=y.createContext(null),gc=y.createContext(null),Kw=y.createContext(null),vc=y.createContext({outlet:null,matches:[],isDataRoute:!1}),A8=y.createContext(null);function Kie(e,t){let{relative:r}=t===void 0?{}:t;Yh()||Mr(!1);let{basename:n,navigator:i}=y.useContext(gc),{hash:a,pathname:s,search:l}=I8(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:Kl([n,s])),i.createHref({pathname:c,search:l,hash:a})}function Yh(){return y.useContext(Kw)!=null}function no(){return Yh()||Mr(!1),y.useContext(Kw).location}function M8(e){y.useContext(gc).static||y.useLayoutEffect(e)}function zn(){let{isDataRoute:e}=y.useContext(vc);return e?oae():Yie()}function Yie(){Yh()||Mr(!1);let e=y.useContext(lP),{basename:t,future:r,navigator:n}=y.useContext(gc),{matches:i}=y.useContext(vc),{pathname:a}=no(),s=JSON.stringify(sP(i,r.v7_relativeSplatPath)),l=y.useRef(!1);return M8(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=oP(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Kl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,a,e])}function I8(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(gc),{matches:i}=y.useContext(vc),{pathname:a}=no(),s=JSON.stringify(sP(i,n.v7_relativeSplatPath));return y.useMemo(()=>oP(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function Jie(e,t){return Xie(e,t)}function Xie(e,t,r,n){Yh()||Mr(!1);let{navigator:i}=y.useContext(gc),{matches:a}=y.useContext(vc),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=no(),d;if(t){var f;let v=typeof t=="string"?Kh(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Mr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=jie(e,{pathname:p}),m=rae(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Kl([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Kl([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&m?y.createElement(Kw.Provider,{value:{location:og({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rl.Pop}},m):m}function Qie(){let e=sae(),t=Hie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,null)}const Zie=y.createElement(Qie,null);class eae extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(vc.Provider,{value:this.props.routeContext},y.createElement(A8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tae(e){let{routeContext:t,match:r,children:n}=e,i=y.useContext(lP);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(vc.Provider,{value:t},n)}function rae(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Mr(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Zie,c&&(u<0&&h===0?(lae("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),x=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(tae,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(eae,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var $8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($8||{}),R8=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(R8||{});function nae(e){let t=y.useContext(lP);return t||Mr(!1),t}function iae(e){let t=y.useContext(Gie);return t||Mr(!1),t}function aae(e){let t=y.useContext(vc);return t||Mr(!1),t}function D8(e){let t=aae(),r=t.matches[t.matches.length-1];return r.route.id||Mr(!1),r.route.id}function sae(){var e;let t=y.useContext(A8),r=iae(),n=D8();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function oae(){let{router:e}=nae($8.UseNavigateStable),t=D8(R8.UseNavigateStable),r=y.useRef(!1);return M8(()=>{r.current=!0}),y.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,og({fromRouteId:t},a)))},[e,t])}const fI={};function lae(e,t,r){fI[e]||(fI[e]=!0)}function cae(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hI(e){let{to:t,replace:r,state:n,relative:i}=e;Yh()||Mr(!1);let{future:a,static:s}=y.useContext(gc),{matches:l}=y.useContext(vc),{pathname:c}=no(),u=zn(),d=oP(t,sP(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function Oi(e){Mr(!1)}function uae(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Rl.Pop,navigator:a,static:s=!1,future:l}=e;Yh()&&Mr(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:a,static:s,future:og({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof n=="string"&&(n=Kh(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=y.useMemo(()=>{let v=aP(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:i}},[c,d,f,h,p,g,i]);return m==null?null:y.createElement(gc.Provider,{value:u},y.createElement(Kw.Provider,{children:r,value:m}))}function dae(e){let{children:t,location:r}=e;return Jie(ek(t),r)}new Promise(()=>{});function ek(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let a=[...t,i];if(n.type===y.Fragment){r.push.apply(r,ek(n.props.children,a));return}n.type!==Oi&&Mr(!1),!n.props.index||!n.props.children||Mr(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=ek(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tk.apply(this,arguments)}function fae(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function hae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pae(e,t){return e.button===0&&(!t||t==="_self")&&!hae(e)}function rk(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function mae(e,t){let r=rk(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const gae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vae="6";try{window.__reactRouterVersion=vae}catch{}const yae="startTransition",pI=gw[yae];function xae(e){let{basename:t,children:r,future:n,window:i}=e,a=y.useRef();a.current==null&&(a.current=bie({window:i,v5Compat:!0}));let s=a.current,[l,c]=y.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&pI?pI(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>s.listen(d),[s,d]),y.useEffect(()=>cae(n),[n]),y.createElement(uae,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const bae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,go=y.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=fae(t,gae),{basename:p}=y.useContext(gc),g,m=!1;if(typeof u=="string"&&wae.test(u)&&(g=u,bae))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=aP(_.pathname,p);_.origin===w.origin&&N!=null?u=N+_.search+_.hash:m=!0}catch{}let v=Kie(u,{relative:i}),b=_ae(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",tk({},h,{href:g||v,onClick:m||a?n:x,ref:r,target:c}))});var mI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mI||(mI={}));var gI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gI||(gI={}));function _ae(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:l}=t===void 0?{}:t,c=zn(),u=no(),d=I8(e,{relative:s});return y.useCallback(f=>{if(pae(f,r)){f.preventDefault();let h=n!==void 0?n:Cb(u)===Cb(d);c(e,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:l})}},[u,c,d,n,i,r,e,a,s,l])}function cP(e){let t=y.useRef(rk(e)),r=y.useRef(!1),n=no(),i=y.useMemo(()=>mae(n.search,r.current?null:t.current),[n.search]),a=zn(),s=y.useCallback((l,c)=>{const u=rk(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,s]}var $s=function(){return $s=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},$s.apply(this,arguments)};function Jh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function jae(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Sae(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const Nae=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class uP extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kae extends uP{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vI extends uP{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yI extends uP{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nk;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nk||(nk={}));class Cae{constructor(t,{headers:r={},customFetch:n,region:i=nk.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Nae(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return jae(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let v=d;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),d?(v=s.signal,d.addEventListener("abort",()=>s.abort())):v=s.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:v}).catch(N=>{throw new kae(N)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new vI(b);if(!b.ok)throw new yI(b);let w=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof yI||l instanceof vI?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var Eae=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Oae=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(r.method!=="HEAD"){var p;const b=await a.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const m=await a.text();try{s=JSON.parse(m),Array.isArray(s)&&a.status===404&&(l=[],s=null,u=200,d="OK")}catch{a.status===404&&m===""?(u=204,d="No Content"):s={message:m}}if(s&&r.isMaybeSingle&&(!(s==null||(g=s.details)===null||g===void 0)&&g.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new Eae(s)}return{error:s,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Pae=class extends Oae{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const xI=new RegExp("[,()]");var Id=class extends Pae{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&xI.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&xI.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Tae=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new Id({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new Id({method:i,url:a,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Id({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Id({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Id({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Aae=class L8{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Tae(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new L8(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new Id({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class Mae{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Iae="2.90.1",$ae=`realtime-js/${Iae}`,F8="1.0.0",Rae="2.0.0",bI=F8,ik=1e4,Dae=1e3,Lae=100;var xl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xl||(xl={}));var Kr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Kr||(Kr={}));var qa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qa||(qa={}));var ak;(function(e){e.websocket="websocket"})(ak||(ak={}));var Jc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jc||(Jc={}));class Fae{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var i,a;const s=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,l.length),g.setUint8(m++,s.length),g.setUint8(m++,u.length),g.setUint8(m++,f.length),g.setUint8(m++,r),Array.from(c,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(m++,b.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,l,c]=n;return r({join_ref:i,ref:a,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class B8{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const wI=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=Bae(s,e,t,i),a),{}):{}},Bae=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?U8(a,s):sk(s)},U8=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Wae(t,r)}switch(e){case Yt.bool:return Uae(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return zae(t);case Yt.json:case Yt.jsonb:return Vae(t);case Yt.timestamp:return Hae(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return sk(t);default:return sk(t)}},sk=e=>e,Uae=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zae=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Vae=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Wae=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>U8(t,l))}return e},Hae=e=>typeof e=="string"?e.replace(" ","T"):e,z8=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class d1{constructor(t,r,n={},i=ik){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _I;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_I||(_I={}));class Nm{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nm.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Nm.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Nm.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jI||(jI={}));var km;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(km||(km={}));var vo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vo||(vo={}));class ef{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Kr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new d1(this,qa.join,this.params,this.timeout),this.rejoinTimer=new B8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Kr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qa.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Nm(this),this.broadcastEndpointURL=z8(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Kr.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[km.PRESENCE]&&this.bindings[km.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(vo.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(vo.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(vo.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let x=0;x<v;x++){const w=m[x],{filter:{event:_,schema:N,table:j,filter:k}}=w,O=p&&p[x];if(O&&O.event===_&&ef.isFilterValueEqual(O.schema,N)&&ef.isFilterValueEqual(O.table,j)&&ef.isFilterValueEqual(O.filter,k))b.push(Object.assign(Object.assign({},w),{id:O.id}));else{this.unsubscribe(),this.state=Kr.errored,t==null||t(vo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(vo.SUBSCRIBED);return}}).receive("error",p=>{this.state=Kr.errored,t==null||t(vo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Kr.joined&&t===km.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Kr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new d1(this,qa.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Kr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new d1(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Lae){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=qa;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var g,m,v,b,x,w,_,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const j=p.id,k=(g=p.filter)===null||g===void 0?void 0:g.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((b=p.filter)===null||b===void 0)&&b.table)||p.filter.table===((x=r.data)===null||x===void 0?void 0:x.table))}else{const j=(_=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return j==="*"||j===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:b,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Kr.closed}_isJoined(){return this.state===Kr.joined}_isJoining(){return this.state===Kr.joining}_isLeaving(){return this.state===Kr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ef.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qa.close,{},t)}_onError(t){this._on(qa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=wI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=wI(t.columns,t.old_record)),r}}const f1=()=>{},Py={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qae=[1e3,2e3,5e3,1e4],Gae=1e4,Kae=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yae{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ik,this.transport=null,this.heartbeatIntervalMs=Py.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=f1,this.ref=0,this.reconnectTimer=null,this.vsn=bI,this.logger=f1,this.conn=null,this.sendBuffer=[],this.serializer=new Fae,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ak.websocket}`,this.httpEndpoint=z8(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mae.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return Jc.Connecting;case xl.open:return Jc.Open;case xl.closing:return Jc.Closing;default:return Jc.Closed}}isConnected(){return this.connectionState()===Jc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new ef(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Dae,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Py.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===xl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xl.open||this.conn.readyState===xl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Kae],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:$ae};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(qa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new B8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Py.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ik,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Py.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:f1,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:bI,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>qae[g-1]||Gae,this.vsn){case F8:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case Rae:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var lg=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Jae(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function Xae(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Qae(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const l=Jae(e.baseUrl,n,i),c=await Xae(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new lg((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Ty(e){return e.join("")}var Zae=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ty(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ty(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ty(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ty(e.namespace)}`}),!0}catch(t){if(t instanceof lg&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof lg&&r.status===409)return;throw r}}};function gd(e){return e.join("")}var ese=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gd(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof lg&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof lg&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},tse=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Qae({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Zae(this.client,t),this.tableOps=new ese(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Yw=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function br(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var rse=class extends Yw{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ok=class extends Yw{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const dP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nse=()=>Response,lk=e=>{if(Array.isArray(e))return e.map(r=>lk(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=lk(n)}),t},ise=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ase=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function sse(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ose(e){var t=sse(e,"string");return cg(t)=="symbol"?t:t+""}function lse(e,t,r){return(t=ose(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){lse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const h1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},cse=async(e,t,r)=>{e instanceof await nse()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,a=(n==null?void 0:n.statusCode)||i+"";t(new rse(h1(n),i,a))}).catch(n=>{t(new ok(h1(n),n))}):t(new ok(h1(e),e))},use=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(ise(n)?(i.headers=Je({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Je(Je({},i),r))};async function Sv(e,t,r,n,i,a){return new Promise((s,l)=>{e(r,use(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>cse(c,l,n))})}async function ug(e,t,r,n){return Sv(e,"GET",t,r,n)}async function za(e,t,r,n,i){return Sv(e,"POST",t,n,i,r)}async function ck(e,t,r,n,i){return Sv(e,"PUT",t,n,i,r)}async function dse(e,t,r,n){return Sv(e,"HEAD",t,Je(Je({},r),{},{noResolveJson:!0}),n)}async function fP(e,t,r,n,i){return Sv(e,"DELETE",t,n,i,r)}var fse=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(br(t))return{data:null,error:t};throw t}}};let V8;V8=Symbol.toStringTag;var hse=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[V8]="BlobDownloadBuilder",this.promise=null}asStream(){return new fse(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(br(t))return{data:null,error:t};throw t}}};const pse={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},NI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var mse=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=dP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var i=this;try{let a;const s=Je(Je({},NI),n);let l=Je(Je({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=Je(Je({},l),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),f=await(e=="PUT"?ck:za)(i.fetch,`${i.url}/object/${d}`,a,Je({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),s=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${s}`);l.searchParams.set("token",t);try{let c;const u=Je({upsert:NI.upsert},n),d=Je(Je({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await ck(i.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(br(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const i=Je({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await za(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),l=s.searchParams.get("token");if(!l)throw new Yw("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await za(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}}async copy(e,t,r){var n=this;try{return{data:{path:(await za(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var n=this;try{let i=n._getFinalPath(e),a=await za(n.fetch,`${n.url}/object/sign/${i}`,Je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var n=this;try{const i=await za(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Je(Je({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),s=()=>ug(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new hse(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:lk(await ug(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await dse(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(br(n)&&n instanceof ok){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await fP(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const i=Je(Je(Je({},pse),t),{},{prefix:e||""});return{data:await za(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(br(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const n=Je({},e);return{data:await za(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const W8="2.90.1",H8={"X-Client-Info":`storage-js/${W8}`};var gse=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Je(Je({},H8),t),this.fetch=dP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await ug(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ug(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await za(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await ck(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(br(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await za(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await fP(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vse=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Je(Je({},H8),t),this.fetch=dP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await za(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await ug(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await fP(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(br(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!ase(e))throw new Yw("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new tse({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const hP={"X-Client-Info":`storage-js/${W8}`,"Content-Type":"application/json"};var q8=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ui(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var p1=class extends q8{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yse=class extends q8{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const pP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xse=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kI=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bse=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new p1(kI(a),n,s))}).catch(()=>{const a=n+"";t(new p1(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new p1(i.statusText||`HTTP ${n} error`,n,a))}}else t(new yse(kI(e),e))},wse=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(xse(n)?(i.headers=Je({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Je(Je({},i),r)):i};async function _se(e,t,r,n,i,a){return new Promise((s,l)=>{e(r,wse(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>bse(c,l,n))})}async function zi(e,t,r,n,i){return _se(e,"POST",t,n,i,r)}var jse=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Je(Je({},hP),t),this.fetch=pP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await zi(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await zi(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ui(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await zi(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await zi(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ui(n))return{data:null,error:n};throw n}}},Sse=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Je(Je({},hP),t),this.fetch=pP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await zi(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await zi(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await zi(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await zi(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await zi(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}},Nse=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Je(Je({},hP),t),this.fetch=pP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await zi(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await zi(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await zi(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await zi(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ui(r))return{data:null,error:r};throw r}}},kse=class extends Nse{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Cse(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Cse=class extends jse{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Ese(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ese=class extends Sse{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Ose=class extends gse{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new mse(this.url,this.headers,e,this.fetch)}get vectors(){return new kse(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vse(this.url+"/iceberg",this.headers,this.fetch)}};const G8="2.90.1",$d=30*1e3,uk=3,m1=uk*$d,Pse="http://localhost:9999",Tse="supabase.auth.token",Ase={"X-Client-Info":`gotrue-js/${G8}`},dk="X-Supabase-Api-Version",K8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mse=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ise=10*60*1e3;class dg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $se extends dg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Rse(e){return Ue(e)&&e.name==="AuthApiError"}class Xc extends dg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Qo extends dg{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Pi extends Qo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dse(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class vd extends Qo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ay extends Qo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class My extends Qo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lse(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class CI extends Qo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fse extends Qo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class fk extends Qo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function g1(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class EI extends Qo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class hk extends Qo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),OI=` 	
\r=`.split(""),Bse=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<OI.length;t+=1)e[OI[t].charCodeAt(0)]=-2;for(let t=0;t<Eb.length;t+=1)e[Eb[t].charCodeAt(0)]=t;return e})();function PI(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Eb[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Eb[n]),t.queuedBits-=6}}function Y8(e,t,r){const n=Bse[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function TI(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{Vse(s,n,r)};for(let s=0;s<e.length;s+=1)Y8(e.charCodeAt(s),i,a);return t.join("")}function Use(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zse(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Use(n,t)}}function Vse(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function bf(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Y8(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Wse(e){const t=[];return zse(e,r=>t.push(r)),new Uint8Array(t)}function nu(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>PI(i,r,n)),PI(null,r,n),t.join("")}function Hse(e){return Math.round(Date.now()/1e3)+e}function qse(){return Symbol("auth-callback")}const bn=()=>typeof window<"u"&&typeof document<"u",Mc={tested:!1,writable:!1},J8=()=>{if(!bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mc.tested)return Mc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mc.tested=!0,Mc.writable=!0}catch{Mc.tested=!0,Mc.writable=!1}return Mc.writable};function Gse(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const X8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Kse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ic=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yn=async(e,t)=>{await e.removeItem(t)};class Jw{constructor(){this.promise=new Jw.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Jw.promiseConstructor=Promise;function v1(e){const t=e.split(".");if(t.length!==3)throw new hk("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Mse.test(t[n]))throw new hk("JWT not in base64url format");return{header:JSON.parse(TI(t[0])),payload:JSON.parse(TI(t[1])),signature:bf(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yse(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jse(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function Xse(e){return("0"+e.toString(16)).substr(-2)}function Qse(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Xse).join("")}async function Zse(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function eoe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Zse(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yd(e,t,r=!1){const n=Qse();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Rd(e,`${t}-code-verifier`,i);const a=await eoe(n);return[a,n===a?"plain":"s256"]}const toe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function roe(e){const t=e.headers.get(dk);if(!t||!t.match(toe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function noe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ioe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aoe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xd(e){if(!aoe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function y1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function soe(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function AI(e){return JSON.parse(JSON.stringify(e))}const Wc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ooe=[502,503,504];async function MI(e){var t;if(!Kse(e))throw new fk(Wc(e),0);if(ooe.includes(e.status))throw new fk(Wc(e),e.status);let r;try{r=await e.json()}catch(a){throw new Xc(Wc(a),a)}let n;const i=roe(e);if(i&&i.getTime()>=K8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new EI(Wc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new EI(Wc(r),e.status,r.weak_password.reasons);throw new $se(Wc(r),e.status||500,n)}const loe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ye(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[dk]||(a[dk]=K8["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await coe(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function coe(e,t,r,n,i,a){const s=loe(t,n,i,a);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new fk(Wc(c),0)}if(l.ok||await MI(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await MI(c)}}function Da(e){var t;let r=null;foe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Hse(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function II(e){const t=Da(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uoe(e){return{data:e,error:null}}function doe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=Jh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function $I(e){return e}function foe(e){return e.access_token&&e.refresh_token&&e.expires_in}const x1=["global","local","others"];class hoe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=X8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=x1[0]){if(x1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${x1.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nl})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Jh(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:doe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nl})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$I});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){xd(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nl})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){xd(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Nl})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){xd(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nl})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){xd(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){xd(t.userId),xd(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$I});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function RI(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const bd={debug:!!(globalThis&&J8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Q8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class poe extends Q8{}async function moe(e,t,r){bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw bd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new poe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function goe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Z8(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function voe(e){return parseInt(e,16)}function yoe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function xoe(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Z8(e.address),g=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${v}
${b}`}class Ur extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Ob extends Ur{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function boe({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ur({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ur({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ur({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ur({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ur({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ur({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ur({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ur({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(ez(s)){if(a.rp.id!==s)return new Ur({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ur({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ur({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function woe({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ur({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ur({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ez(n)){if(r.rpId!==n)return new Ur({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ur({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class _oe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const joe=new _oe;function Soe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Jh(e,["challenge","user","excludeCredentials"]),a=bf(t).buffer,s=Object.assign(Object.assign({},r),{id:bf(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:bf(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Noe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Jh(e,["challenge","allowCredentials"]),i=bf(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:bf(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function koe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:nu(new Uint8Array(e.response.attestationObject)),clientDataJSON:nu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Coe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:nu(new Uint8Array(i.authenticatorData)),clientDataJSON:nu(new Uint8Array(i.clientDataJSON)),signature:nu(new Uint8Array(i.signature)),userHandle:i.userHandle?nu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ez(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function DI(){var e,t;return!!(bn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Eoe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ob("Browser returned unexpected credential type",t)}:{data:null,error:new Ob("Empty credential response",t)}}catch(t){return{data:null,error:boe({error:t,options:e})}}}async function Ooe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ob("Browser returned unexpected credential type",t)}:{data:null,error:new Ob("Empty credential response",t)}}catch(t){return{data:null,error:woe({error:t,options:e})}}}const Poe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Toe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pb(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const l=n[a];t(l)?n[a]=Pb(l,s):n[a]=Pb(s)}else n[a]=s}return n}function Aoe(e,t){return Pb(Poe,e,t||{})}function Moe(e,t){return Pb(Toe,e,t||{})}class Ioe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:l};const c=i??joe.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=Aoe(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await Eoe({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Moe(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await Ooe(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return Ue(s)?{data:null,error:s}:{data:null,error:new Xc("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new dg("rpId is required for WebAuthn authentication")};try{if(!DI())return{data:null,error:new Xc("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return Ue(s)?{data:null,error:s}:{data:null,error:new Xc("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new dg("rpId is required for WebAuthn registration")};try{if(!DI())return{data:null,error:new Xc("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return Ue(s)?{data:null,error:s}:{data:null,error:new Xc("Unexpected error in register",s)}}}}goe();const $oe={url:Pse,storageKey:Tse,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ase,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function LI(e,t,r){return await r()}const wd={};class fg{get jwks(){var t,r;return(r=(t=wd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){wd[this.storageKey]=Object.assign(Object.assign({},wd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=wd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wd[this.storageKey]=Object.assign(Object.assign({},wd[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},$oe),t);if(this.storageKey=a.storageKey,this.instanceID=(r=fg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&bn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new hoe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=X8(a.fetch),this.lock=a.lock||LI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&bn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=moe:this.lock=LI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ioe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:J8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=RI(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=RI(this.memoryStorage)),bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${G8}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(bn()&&(r=Gse(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),bn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Lse(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new Xc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Da}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await yd(this.storage,this.storageKey)),a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Da})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Da})}else throw new Ay("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return await yn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:II})}else if("phone"in t){const{phone:a,password:s,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:II})}else throw new Ay("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new vd;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,l,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:b,options:x}=t;let w;if(bn())if(typeof v=="object")w=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=Z8(N[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const P=await w.request({method:"eth_chainId"});k=voe(P)}const O={domain:_.host,address:j,statement:b,uri:_.href,version:"1",chainId:k,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=xoe(O),g=await w.request({method:"personal_sign",params:[yoe(p),j]})}try{const{data:m,error:v}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Da});if(v)throw v;if(!m||!m.session||!m.user){const b=new vd;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(Ue(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,a,s,l,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let _;if(bn())if(typeof b=="object")_=b;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=j}}try{const{data:v,error:b}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:nu(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Da});if(b)throw b;if(!v||!v.session||!v.user){const x=new vd;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Ue(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Ic(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Fse;const{data:a,error:s}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Da});if(await yn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new vd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Da}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new vd;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await yd(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ay("You must provide either an email or phone number.")}catch(l){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Da});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await yd(this.storage,this.storageKey));const u=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:uoe});return!((a=u.data)===null||a===void 0)&&a.url&&bn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pi;const{error:i}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new Ay("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ic(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<m1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ic(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=y1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=soe(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nl}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pi}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Nl})})}catch(r){if(Ue(r))return Dse(r)&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Pi;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await yd(this.storage,this.storageKey));const{data:u,error:d}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Nl});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pi;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=v1(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!bn())throw new My("No browser detected.");if(t.error||t.error_description||t.error_code)throw new My(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new CI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new My("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new CI("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!s||!u)throw new My("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=$d&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ic(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(Rse(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=qse(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await yd(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return bn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Da}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new vd}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await yn(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Jse(async i=>(i>0&&await Yse(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Da})),(i,a)=>{const s=200*Math.pow(2,i);return a&&g1(a)&&Date.now()+s-n<$d})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),bn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ic(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ic(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Rd(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:y1()}else if(i&&!i.user&&!i.user){const s=await Ic(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await yn(this.storage,this.storageKey+"-user"),await Rd(this.storage,this.storageKey,i)):i.user=y1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<m1;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${m1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),g1(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jw;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Pi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Ue(a)){const s={data:null,error:a};return g1(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await yn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Rd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=AI(i);await Rd(this.storage,this.storageKey,a)}else{const i=AI(r);await Rd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yn(this.storage,this.storageKey),await yn(this.storage,this.storageKey+"-code-verifier"),await yn(this.storage,this.storageKey+"-user"),this.userStorage&&await yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$d);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/$d);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$d}ms, refresh threshold is ${uk} ticks`),i<=uk&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Q8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await yd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?koe(t.webauthn.credential_response):Coe(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Soe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Noe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=v1(n.access_token);let s=null;a.aal&&(s=a.aal);let l=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Pi})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Pi});const s=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&bn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Pi});const s=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&bn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Pi})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pi})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Ise>i)return n;const{data:a,error:s}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=v1(n);r!=null&&r.allowExpired||noe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=ioe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,Wse(`${l}.${c}`)))throw new hk("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}fg.nextInstanceID={};const Roe=fg,Doe="2.90.1";let om="";typeof Deno<"u"?om="deno":typeof document<"u"?om="web":typeof navigator<"u"&&navigator.product==="ReactNative"?om="react-native":om="node";const Loe={"X-Client-Info":`supabase-js-${om}/${Doe}`},Foe={headers:Loe},Boe={schema:"public"},Uoe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zoe={};function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function Voe(e,t){if(hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Woe(e){var t=Voe(e,"string");return hg(t)=="symbol"?t:t+""}function Hoe(e,t,r){return(t=Woe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){Hoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const qoe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Goe=()=>Headers,Koe=(e,t,r)=>{const n=qoe(r),i=Goe();return async(a,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,kr(kr({},s),{},{headers:u}))}};function Yoe(e){return e.endsWith("/")?e:e+"/"}function Joe(e,t){var r,n;const{db:i,auth:a,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:kr(kr({},c),i),auth:kr(kr({},u),a),realtime:kr(kr({},d),s),storage:{},global:kr(kr(kr({},f),l),{},{headers:kr(kr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Xoe(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yoe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qoe=class extends Roe{constructor(e){super(e)}},Zoe=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=Xoe(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:Boe,realtime:zoe,auth:kr(kr({},Uoe),{},{storageKey:s}),global:Foe},c=Joe(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Koe(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(kr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Aae(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Ose(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Cae(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qoe({url:this.authUrl.href,headers:kr(kr({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Yae(this.realtimeUrl.href,kr(kr({},e),{},{params:kr(kr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const ele=(e,t,r)=>new Zoe(e,t,r);function tle(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}tle()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rle="https://ihyzfrfzazrbrufzcunm.supabase.co",nle="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImloeXpmcmZ6YXpyYnJ1ZnpjdW5tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDQyNTQsImV4cCI6MjA4MjU4MDI1NH0.2DAOh3w-iye0TzrzXte1GZ1h8X-xfQQ4vOR8YWFow_o",Me=ele(rle,nle,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Wo=Object.freeze(Object.defineProperty({__proto__:null,supabase:Me},Symbol.toStringTag,{value:"Module"})),tz=y.createContext(void 0),Dr=()=>{const e=y.useContext(tz);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ile=({children:e})=>{const[t,r]=y.useState(null),[n,i]=y.useState(null),[a,s]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!0),[f,h]=y.useState(!1),p=async x=>{console.log("[AuthContext] Fetching user data for:",x);try{const{data:w,error:_}=await Me.from("profiles").select("id, first_name, last_name, phone, avatar_url, id_number, date_of_birth").eq("id",x).single();_&&console.error("[AuthContext] Profile fetch error:",_),w&&(console.log("[AuthContext] Profile data:",w),console.log("[AuthContext] id_number value:",w.id_number),s(w));const{data:N,error:j}=await Me.from("user_roles").select("role").eq("user_id",x).single();if(j&&console.error("[AuthContext] Role fetch error:",j),N)if(console.log("[AuthContext] Role:",N.role),c(N.role),N.role==="patient"){const k=!!(w!=null&&w.id_number);console.log("[AuthContext] Is patient onboarded:",k),h(k)}else console.log("[AuthContext] Non-patient role, marking as onboarded"),h(!0)}catch(w){console.error("[AuthContext] Error fetching user data:",w)}},g=async()=>{console.log("[AuthContext] Refreshing profile..."),t&&(await p(t.id),console.log("[AuthContext] Profile refreshed, onboardingComplete:",f))};y.useEffect(()=>{const{data:{subscription:x}}=Me.auth.onAuthStateChange((w,_)=>{console.log("[AuthContext] Auth state changed:",w),i(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?setTimeout(()=>{p(_.user.id)},0):(s(null),c(null),h(!1)),w==="SIGNED_OUT"&&(s(null),c(null),h(!1))});return Me.auth.getSession().then(({data:{session:w}})=>{i(w),r((w==null?void 0:w.user)??null),w!=null&&w.user&&p(w.user.id),d(!1)}),()=>x.unsubscribe()},[]);const m=async(x,w,_)=>{const N=`${window.location.origin}/`,{error:j}=await Me.auth.signUp({email:x,password:w,options:{emailRedirectTo:N,data:{first_name:_.first_name,last_name:_.last_name,role:_.role||"patient",hpcsa_number:_.hpcsa_number,id_number:_.id_number}}});return{error:j}},v=async(x,w)=>{const{error:_}=await Me.auth.signInWithPassword({email:x,password:w});return{error:_}},b=async()=>{await Me.auth.signOut(),r(null),i(null),s(null),c(null),h(!1)};return o.jsx(tz.Provider,{value:{user:t,session:n,profile:a,role:l,isLoading:u,onboardingComplete:f,signUp:m,signIn:v,signOut:b,refreshProfile:g},children:e})},lo=({children:e,allowedRoles:t})=>{const{user:r,role:n,isLoading:i}=Dr(),a=no();if(i)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!r)return o.jsx(hI,{to:"/auth",state:{from:a},replace:!0});if(t&&n&&!t.includes(n)){const s={patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"};return o.jsx(hI,{to:s[n],replace:!0})}return o.jsx(o.Fragment,{children:e})};var ale=Symbol.for("react.lazy"),Tb=gw[" use ".trim().toString()];function sle(e){return typeof e=="object"&&e!==null&&"then"in e}function rz(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===ale&&"_payload"in e&&sle(e._payload)}function Nv(e){const t=ole(e),r=y.forwardRef((n,i)=>{let{children:a,...s}=n;rz(a)&&typeof Tb=="function"&&(a=Tb(a._payload));const l=y.Children.toArray(a),c=l.find(cle);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var nz=Nv("Slot");function ole(e){const t=y.forwardRef((r,n)=>{let{children:i,...a}=r;if(rz(i)&&typeof Tb=="function"&&(i=Tb(i._payload)),y.isValidElement(i)){const s=dle(i),l=ule(a,i.props);return i.type!==y.Fragment&&(l.ref=n?eo(n,s):s),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lle=Symbol("radix.slottable");function cle(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lle}function ule(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function dle(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const pg=$w("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-md hover:shadow-lg",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] font-semibold",heroOutline:"border-2 border-primary-foreground/30 bg-primary-foreground/10 text-primary-foreground backdrop-blur-sm hover:bg-primary-foreground/20 font-semibold",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md",coral:"gradient-coral text-secondary-foreground shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const s=n?nz:"button";return o.jsx(s,{className:be(pg({variant:t,size:r,className:e})),ref:a,...i})});Q.displayName="Button";const fle=()=>{const[e,t]=y.useState(!1),{user:r,profile:n,role:i,signOut:a}=Dr(),s=zn(),l=[{label:"How It Works",href:"#how-it-works"},{label:"Services",href:"#services"},{label:"For Clinicians",href:"#clinicians"},{label:"Contact",href:"#contact"}],c=async()=>{await a(),s("/")},u=d=>({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin"})[d];return o.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-md border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[o.jsx(go,{to:"/",className:"flex items-center gap-2",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-10 sm:h-12 w-auto"})}),o.jsx("nav",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:l.map(d=>o.jsx("a",{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.label))}),o.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[o.jsxs(Q,{variant:"ghost",size:"sm",className:"gap-2",children:[o.jsx(Si,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"0800 QUADCARE"})]}),r?o.jsxs(o.Fragment,{children:[o.jsx(go,{to:i?u(i):"/patient",children:o.jsxs(Q,{variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(Rr,{className:"w-4 h-4"}),(n==null?void 0:n.first_name)||"Dashboard"]})}),o.jsx(Q,{variant:"ghost",size:"sm",onClick:c,children:o.jsx(tc,{className:"w-4 h-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(go,{to:"/auth",children:o.jsx(Q,{variant:"outline",size:"sm",children:"Sign In"})}),o.jsx(go,{to:"/auth",children:o.jsx(Q,{variant:"default",size:"sm",children:"Book Consultation"})})]})]}),o.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 hover:bg-accent rounded-lg transition-colors","aria-label":"Toggle menu",children:e?o.jsx(to,{className:"w-5 h-5 sm:w-6 sm:h-6"}):o.jsx(bv,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e&&o.jsx("div",{className:"lg:hidden py-4 border-t border-border animate-fade-in max-h-[calc(100vh-4rem)] overflow-y-auto",children:o.jsxs("nav",{className:"flex flex-col gap-1",children:[l.map(d=>o.jsx("a",{href:d.href,className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors",onClick:()=>t(!1),children:d.label},d.label)),o.jsxs("a",{href:"tel:0800QUADCARE",className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors flex items-center gap-2",onClick:()=>t(!1),children:[o.jsx(Si,{className:"w-4 h-4"}),"0800 QUADCARE"]}),o.jsx("div",{className:"flex flex-col gap-2 mt-4 px-4 pt-4 border-t border-border",children:r?o.jsxs(o.Fragment,{children:[o.jsx(go,{to:i?u(i):"/patient",onClick:()=>t(!1),children:o.jsxs(Q,{variant:"outline",className:"w-full gap-2 justify-start",children:[o.jsx(jee,{className:"w-4 h-4"}),"My Dashboard"]})}),o.jsxs(Q,{variant:"ghost",className:"w-full justify-start",onClick:c,children:[o.jsx(tc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(go,{to:"/auth",onClick:()=>t(!1),children:o.jsx(Q,{variant:"outline",className:"w-full",children:"Sign In"})}),o.jsx(go,{to:"/auth",onClick:()=>t(!1),children:o.jsx(Q,{variant:"default",className:"w-full",children:"Book Consultation"})})]})})]})})]})})},hle="/assets/hero-medical-D5FvmeGo.jpg",ple=()=>{const e=["HPCSA Compliant Consultations","POPIA Protected Data","Medical Aid Integration"];return o.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 sm:pt-20 lg:pt-0 overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/20"}),o.jsx("div",{className:"absolute top-1/4 right-0 w-[300px] sm:w-[600px] h-[300px] sm:h-[600px] bg-primary/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-[200px] sm:w-[400px] h-[200px] sm:h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10 py-8 sm:py-12 lg:py-0",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[o.jsxs("div",{className:"space-y-5 sm:space-y-8 animate-slide-up",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-accent rounded-full",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-accent-foreground",children:"Serving 12 Quadcare Clinics Across South Africa"})]}),o.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight",children:["Healthcare at Your"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Fingertips"})]}),o.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground max-w-xl leading-relaxed",children:"Experience seamless telehealth consultations with qualified South African doctors. From booking to prescription  all digitally compliant and medically integrated."}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4",children:e.map(t=>o.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[o.jsx(mn,{className:"w-4 h-4 text-success shrink-0"}),o.jsx("span",{children:t})]},t))}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-2 sm:pt-4",children:[o.jsx(go,{to:"/auth",className:"w-full sm:w-auto",children:o.jsxs(Q,{variant:"hero",size:"xl",className:"group w-full sm:w-auto",children:[o.jsx(Rt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"Book Consultation"}),o.jsx(ns,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})}),o.jsxs(Q,{variant:"outline",size:"xl",className:"w-full sm:w-auto",children:[o.jsx(dr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"How It Works"})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 pt-2 sm:pt-4 text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),o.jsx("span",{children:"HPCSA Registered"})]}),o.jsx("div",{className:"hidden sm:block h-4 w-px bg-border"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(t=>o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-accent border-2 border-card flex items-center justify-center text-[10px] sm:text-xs font-medium text-accent-foreground",children:t===4?"5K+":""},t))}),o.jsx("span",{children:"Active Patients"})]})]})]}),o.jsxs("div",{className:"relative animate-fade-in order-first lg:order-last",style:{animationDelay:"0.2s"},children:[o.jsxs("div",{className:"relative rounded-2xl sm:rounded-3xl overflow-hidden shadow-xl sm:shadow-2xl",children:[o.jsx("img",{src:hle,alt:"Quadcare Telehealth Platform",className:"w-full h-auto object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]}),o.jsx("div",{className:"hidden sm:block absolute -left-4 lg:-left-8 top-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-success/20 flex items-center justify-center",children:o.jsx(dr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-success"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Live Now"}),o.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"Dr. Mokoena"})]})]})}),o.jsx("div",{className:"absolute -right-2 sm:-right-4 lg:-right-8 bottom-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",style:{animationDelay:"1s"},children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:o.jsx(Rt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Next Available"}),o.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"10:30 AM Today"})]})]})})]})]})})]})},mle=()=>{const e=[{icon:Rt,title:"Smart Booking",description:"Self-service appointment scheduling with intelligent symptom assessment and urgency triaging.",color:"bg-primary/10 text-primary"},{icon:xa,title:"Symptom Checker",description:"AI-powered preliminary assessment to route patients to the right level of care.",color:"bg-info/10 text-info"},{icon:Ln,title:"Clinical Workflow",description:"Seamless nurse triage to doctor escalation with complete patient handoff documentation.",color:"bg-secondary/10 text-secondary"},{icon:dr,title:"HD Video Consults",description:"Secure, high-quality video consultations with screen sharing and file transfer.",color:"bg-success/10 text-success"},{icon:gn,title:"E-Prescriptions",description:"Digital prescriptions with ICD-10 coding, sent directly to pharmacies via HealthBridge.",color:"bg-warning/10 text-warning"},{icon:MU,title:"Medical Aid Billing",description:"Real-time benefit verification and automatic claim submission to medical schemes.",color:"bg-primary/10 text-primary"},{icon:xee,title:"Clinical Notes",description:"Structured SOAP notes with ICD-10 coding and automatic EHR synchronization.",color:"bg-info/10 text-info"},{icon:wv,title:"POPIA Compliant",description:"Full data protection with encrypted storage, audit trails, and patient consent management.",color:"bg-success/10 text-success"},{icon:Zd,title:"Analytics Dashboard",description:"Clinical quality metrics, utilization reports, and billing analytics for practice management.",color:"bg-secondary/10 text-secondary"}];return o.jsx("section",{id:"services",className:"py-24 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Complete Telehealth Ecosystem"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["Everything You Need for"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Digital Healthcare"})]}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"From patient self-service to clinical documentation, our platform handles the entire consultation lifecycle."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>o.jsxs("div",{className:"group bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20",style:{animationDelay:`${r*.1}s`},children:[o.jsx("div",{className:`w-14 h-14 rounded-xl ${t.color} flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:o.jsx(t.icon,{className:"w-7 h-7"})}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]},t.title))})]})})},gle=()=>{const e=[{number:"01",icon:Rr,title:"Patient Registration",description:"Quick signup with ID verification, medical history, and medical aid details capture.",color:"bg-primary"},{number:"02",icon:AU,title:"Symptom Assessment",description:"AI-guided symptom checker determines urgency and appropriate care pathway.",color:"bg-info"},{number:"03",icon:xa,title:"Nurse Triage",description:"Qualified nurse reviews case, gathers vitals, and prepares patient for consultation.",color:"bg-secondary"},{number:"04",icon:dr,title:"Doctor Consultation",description:"HD video call with board-certified physician, complete with screen sharing.",color:"bg-success"},{number:"05",icon:IU,title:"Documentation",description:"Structured clinical notes, ICD-10 codes, and e-prescriptions generated automatically.",color:"bg-warning"},{number:"06",icon:MU,title:"Billing & Follow-up",description:"Automatic medical aid claim or payment processing with follow-up scheduling.",color:"bg-primary"}];return o.jsx("section",{id:"how-it-works",className:"py-24 bg-background",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Seamless Patient Journey"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["How"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Quadcare Telehealth"})," ","Works"]}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"A fully digitized workflow from first contact to follow-up care, designed for South African healthcare compliance."})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden lg:block absolute top-24 left-[8.33%] right-[8.33%] h-0.5 bg-gradient-to-r from-primary via-success to-primary"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 h-full",children:[o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl ${t.color} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:o.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),o.jsx("span",{className:"text-5xl font-bold text-muted/30 group-hover:text-primary/20 transition-colors",children:t.number})]}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]}),r<e.length-1&&o.jsx("div",{className:"lg:hidden flex justify-center py-4",children:o.jsx(ns,{className:"w-6 h-6 text-primary rotate-90"})})]},t.number))})]})]})})},vle=()=>{const e=[{icon:bb,value:"12",label:"Quadcare Clinics",sublabel:"Gauteng & Limpopo"},{icon:Ln,value:"5,000+",label:"Active Patients",sublabel:"And growing"},{icon:rr,value:"<15min",label:"Avg Wait Time",sublabel:"For consultations"},{icon:DU,value:"4.8",label:"Patient Rating",sublabel:"Out of 5 stars"}];return o.jsx("section",{className:"py-16 gradient-hero",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>o.jsxs("div",{className:"text-center group",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm mb-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),o.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-2",children:t.value}),o.jsx("div",{className:"text-primary-foreground/90 font-medium",children:t.label}),o.jsx("div",{className:"text-primary-foreground/60 text-sm",children:t.sublabel})]},t.label))})})})},yle=()=>{const e=[{icon:Eee,title:"Unified Dashboard",description:"All patient queues, schedules, and clinical tools in one interface."},{icon:rr,title:"Smart Scheduling",description:"AI-optimized appointment slots based on consultation type and duration."},{icon:gn,title:"Auto Documentation",description:"Structured notes with ICD-10 suggestions and HPCSA compliant templates."},{icon:dr,title:"HD Consultations",description:"Crystal clear video with screen sharing, annotations, and recordings."},{icon:Zd,title:"Performance Analytics",description:"Track consultation metrics, patient outcomes, and earnings in real-time."},{icon:wv,title:"Medico-Legal Protection",description:"Full audit trails, consent management, and compliant documentation."}],t=["Reduced admin time by 60%","Automatic HealthBridge sync","Mobile-friendly interface","Multi-clinic support"];return o.jsx("section",{id:"clinicians",className:"py-24 bg-muted/30",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"For Healthcare Providers"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:["Empower Your"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Clinical Practice"})]}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Purpose-built for South African healthcare professionals. Streamline your telehealth workflow while maintaining full HPCSA compliance and clinical quality standards."}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(r=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mn,{className:"w-5 h-5 text-success flex-shrink-0"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:r})]},r))}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsxs(Q,{variant:"hero",size:"lg",className:"group",children:["Join as Provider",o.jsx(ns,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(Q,{variant:"outline",size:"lg",children:"View Demo"})]})]}),o.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:e.map((r,n)=>o.jsxs("div",{className:"bg-card rounded-xl p-5 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20 group",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(r.icon,{className:"w-6 h-6 text-primary"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:r.title}),o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})})})},xle=()=>o.jsxs("section",{className:"py-24 bg-background relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs("div",{className:"gradient-primary rounded-3xl p-12 md:p-16 shadow-2xl",children:[o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-6",children:"Ready to Transform Your Healthcare Experience?"}),o.jsx("p",{className:"text-lg md:text-xl text-primary-foreground/80 mb-10 max-w-2xl mx-auto",children:"Join thousands of patients across Gauteng and Limpopo who've already made the switch to convenient, compliant telehealth."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Q,{variant:"heroOutline",size:"xl",className:"group",children:[o.jsx(Rt,{className:"w-5 h-5"}),"Book Your First Consultation",o.jsx(ns,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(Q,{variant:"ghost",size:"xl",className:"text-primary-foreground hover:bg-primary-foreground/10",children:[o.jsx(Si,{className:"w-5 h-5"}),"0800 QUADCARE"]})]}),o.jsx("p",{className:"text-primary-foreground/60 text-sm mt-8",children:"No registration fees  Medical aid accepted  Available 7 days a week"})]})})})]}),ble=()=>{const e={patients:[{label:"Book Consultation",href:"#"},{label:"Symptom Checker",href:"#"},{label:"Find a Doctor",href:"#"},{label:"Pricing",href:"#"},{label:"FAQs",href:"#"}],providers:[{label:"Join as Doctor",href:"#"},{label:"Nurse Portal",href:"#"},{label:"Clinical Guidelines",href:"#"},{label:"Training Resources",href:"#"}],company:[{label:"About Quadcare",href:"#"},{label:"Our Clinics",href:"#"},{label:"Careers",href:"#"},{label:"Contact Us",href:"#"}],legal:[{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"},{label:"POPIA Compliance",href:"#"},{label:"Cookie Policy",href:"#"}]},t=[{icon:wee,href:"#",label:"Facebook"},{icon:Uee,href:"#",label:"Twitter"},{icon:Oee,href:"#",label:"LinkedIn"},{icon:Cee,href:"#",label:"Instagram"}];return o.jsx("footer",{id:"contact",className:"bg-foreground text-primary-foreground pt-16 pb-8",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 pb-12 border-b border-primary-foreground/10",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(go,{to:"/",className:"flex items-center gap-2 mb-6",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-12 w-auto brightness-0 invert"})}),o.jsx("p",{className:"text-primary-foreground/60 text-sm mb-6 max-w-xs",children:"Digitizing healthcare for South Africa. Compliant, convenient, connected."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("a",{href:"tel:0800423227",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[o.jsx(Si,{className:"w-4 h-4"}),"0800 QUADCARE (0800 782 322)"]}),o.jsxs("a",{href:"mailto:support@quadcare.co.za",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[o.jsx(Rs,{className:"w-4 h-4"}),"support@quadcare.co.za"]}),o.jsxs("div",{className:"flex items-start gap-3 text-sm text-primary-foreground/60",children:[o.jsx($U,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),o.jsxs("span",{children:["Quadcare Head Office",o.jsx("br",{}),"Johannesburg, Gauteng"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Patients"}),o.jsx("ul",{className:"space-y-3",children:e.patients.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Providers"}),o.jsx("ul",{className:"space-y-3",children:e.providers.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Company"}),o.jsx("ul",{className:"space-y-3",children:e.company.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Legal"}),o.jsx("ul",{className:"space-y-3",children:e.legal.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]})]}),o.jsxs("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-sm text-primary-foreground/40",children:" 2026 Quadcare Telehealth. All rights reserved."}),o.jsx("div",{className:"flex items-center gap-4",children:t.map(r=>o.jsx("a",{href:r.href,"aria-label":r.label,className:"w-10 h-10 rounded-lg bg-primary-foreground/5 hover:bg-primary-foreground/10 flex items-center justify-center transition-colors",children:o.jsx(r.icon,{className:"w-5 h-5 text-primary-foreground/60"})},r.label))})]})]})})},wle=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(fle,{}),o.jsxs("main",{children:[o.jsx(ple,{}),o.jsx(mle,{}),o.jsx(gle,{}),o.jsx(vle,{}),o.jsx(yle,{}),o.jsx(xle,{})]}),o.jsx(ble,{})]});var kv=e=>e.type==="checkbox",iu=e=>e instanceof Date,di=e=>e==null;const iz=e=>typeof e=="object";var Wr=e=>!di(e)&&!Array.isArray(e)&&iz(e)&&!iu(e),az=e=>Wr(e)&&e.target?kv(e.target)?e.target.checked:e.target.value:e,_le=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,sz=(e,t)=>e.has(_le(t)),jle=e=>{const t=e.constructor&&e.constructor.prototype;return Wr(t)&&t.hasOwnProperty("isPrototypeOf")},mP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(mP&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Wr(e)&&jle(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=Lr(e[i]));return n}var Xw=e=>/^\w*$/.test(e),pr=e=>e===void 0,gP=e=>Array.isArray(e)?e.filter(Boolean):[],vP=e=>gP(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(e,t,r)=>{if(!t||!Wr(e))return r;const n=(Xw(t)?[t]:vP(t)).reduce((i,a)=>di(i)?i:i[a],e);return pr(n)||n===e?pr(e[t])?r:e[t]:n},Di=e=>typeof e=="boolean",Yn=e=>typeof e=="function",Lt=(e,t,r)=>{let n=-1;const i=Xw(t)?[t]:vP(t),a=i.length,s=a-1;for(;++n<a;){const l=i[n];let c=r;if(n!==s){const u=e[l];c=Wr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ab={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ja={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},co={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yP=T.createContext(null);yP.displayName="HookFormControlContext";const xP=()=>T.useContext(yP);var oz=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==Ja.all&&(t._proxyFormState[s]=!n||Ja.all),r&&(r[s]=!0),e[s]}});return i};const bP=typeof window<"u"?T.useLayoutEffect:T.useEffect;function Sle(e){const t=xP(),{control:r=t,disabled:n,name:i,exact:a}=e||{},[s,l]=T.useState(r._formState),c=T.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return bP(()=>r._subscribe({name:i,formState:c.current,exact:a,callback:u=>{!n&&l({...r._formState,...u})}}),[i,n,a]),T.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),T.useMemo(()=>oz(s,r,c.current,!1),[s,r])}var Vi=e=>typeof e=="string",pk=(e,t,r,n,i)=>Vi(e)?(n&&t.watch.add(e),Ne(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ne(r,a))):(n&&(t.watchAll=!0),r),mk=e=>di(e)||!iz(e);function Xa(e,t,r=new WeakSet){if(mk(e)||mk(t))return Object.is(e,t);if(iu(e)&&iu(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const s=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(iu(s)&&iu(l)||Wr(s)&&Wr(l)||Array.isArray(s)&&Array.isArray(l)?!Xa(s,l,r):!Object.is(s,l))return!1}}return!0}function Nle(e){const t=xP(),{control:r=t,name:n,defaultValue:i,disabled:a,exact:s,compute:l}=e||{},c=T.useRef(i),u=T.useRef(l),d=T.useRef(void 0),f=T.useRef(r),h=T.useRef(n);u.current=l;const[p,g]=T.useState(()=>{const _=r._getWatch(n,c.current);return u.current?u.current(_):_}),m=T.useCallback(_=>{const N=pk(n,r._names,_||r._formValues,!1,c.current);return u.current?u.current(N):N},[r._formValues,r._names,n]),v=T.useCallback(_=>{if(!a){const N=pk(n,r._names,_||r._formValues,!1,c.current);if(u.current){const j=u.current(N);Xa(j,d.current)||(g(j),d.current=j)}else g(N)}},[r._formValues,r._names,a,n]);bP(()=>((f.current!==r||!Xa(h.current,n))&&(f.current=r,h.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:s,callback:_=>{v(_.values)}})),[r,s,n,v]),T.useEffect(()=>r._removeUnmounted());const b=f.current!==r,x=h.current,w=T.useMemo(()=>{if(a)return null;const _=!b&&!Xa(x,n);return b||_?m():null},[a,b,n,x,m]);return w!==null?w:p}function kle(e){const t=xP(),{name:r,disabled:n,control:i=t,shouldUnregister:a,defaultValue:s,exact:l=!0}=e,c=sz(i._names.array,r),u=T.useMemo(()=>Ne(i._formValues,r,Ne(i._defaultValues,r,s)),[i,r,s]),d=Nle({control:i,name:r,defaultValue:u,exact:l}),f=Sle({control:i,name:r,exact:l}),h=T.useRef(e),p=T.useRef(void 0),g=T.useRef(i.register(r,{...e.rules,value:d,...Di(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=T.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ne(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ne(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ne(f.validatingFields,r)},error:{enumerable:!0,get:()=>Ne(f.errors,r)}}),[f,r]),v=T.useCallback(_=>g.current.onChange({target:{value:az(_),name:r},type:Ab.CHANGE}),[r]),b=T.useCallback(()=>g.current.onBlur({target:{value:Ne(i._formValues,r),name:r},type:Ab.BLUR}),[r,i._formValues]),x=T.useCallback(_=>{const N=Ne(i._fields,r);N&&N._f&&_&&(N._f.ref={focus:()=>Yn(_.focus)&&_.focus(),select:()=>Yn(_.select)&&_.select(),setCustomValidity:j=>Yn(_.setCustomValidity)&&_.setCustomValidity(j),reportValidity:()=>Yn(_.reportValidity)&&_.reportValidity()})},[i._fields,r]),w=T.useMemo(()=>({name:r,value:d,...Di(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:v,onBlur:b,ref:x}),[r,n,f.disabled,v,b,x,d]);return T.useEffect(()=>{const _=i._options.shouldUnregister||a,N=p.current;N&&N!==r&&!c&&i.unregister(N),i.register(r,{...h.current.rules,...Di(h.current.disabled)?{disabled:h.current.disabled}:{}});const j=(k,O)=>{const P=Ne(i._fields,k);P&&P._f&&(P._f.mount=O)};if(j(r,!0),_){const k=Lr(Ne(i._options.defaultValues,r,h.current.defaultValue));Lt(i._defaultValues,r,k),pr(Ne(i._formValues,r))&&Lt(i._formValues,r,k)}return!c&&i.register(r),p.current=r,()=>{(c?_&&!i._state.action:_)?i.unregister(r):j(r,!1)}},[r,i,c,a]),T.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),T.useMemo(()=>({field:w,formState:f,fieldState:m}),[w,f,m])}const Cle=e=>e.render(kle(e)),wP=T.createContext(null);wP.displayName="HookFormContext";const Ele=()=>T.useContext(wP),Ole=e=>{const{children:t,watch:r,getValues:n,getFieldState:i,setError:a,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:g,register:m,setFocus:v,subscribe:b}=e;return T.createElement(wP.Provider,{value:T.useMemo(()=>({watch:r,getValues:n,getFieldState:i,setError:a,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:g,register:m,setFocus:v,subscribe:b}),[s,g,u,i,n,h,m,f,d,a,v,l,b,c,p,r])},T.createElement(yP.Provider,{value:g},t))};var lz=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Cm=e=>Array.isArray(e)?e:[e],BI=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}};function cz(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],a=t[n];if(i&&Wr(i)&&a){const s=cz(i,a);Wr(s)&&(r[n]=s)}else e[n]&&(r[n]=a)}return r}var Hn=e=>Wr(e)&&!Object.keys(e).length,_P=e=>e.type==="file",Mb=e=>{if(!mP)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},uz=e=>e.type==="select-multiple",jP=e=>e.type==="radio",Ple=e=>jP(e)||kv(e),b1=e=>Mb(e)&&e.isConnected;function Tle(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=pr(e)?n++:e[t[n++]];return e}function Ale(e){for(const t in e)if(e.hasOwnProperty(t)&&!pr(e[t]))return!1;return!0}function Fr(e,t){const r=Array.isArray(t)?t:Xw(t)?[t]:vP(t),n=r.length===1?e:Tle(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Wr(n)&&Hn(n)||Array.isArray(n)&&Ale(n))&&Fr(e,r.slice(0,-1)),e}var Mle=e=>{for(const t in e)if(Yn(e[t]))return!0;return!1};function dz(e){return Array.isArray(e)||Wr(e)&&!Mle(e)}function gk(e,t={}){for(const r in e){const n=e[r];dz(n)?(t[r]=Array.isArray(n)?[]:{},gk(n,t[r])):pr(n)||(t[r]=!0)}return t}function Dd(e,t,r){r||(r=gk(t));for(const n in e){const i=e[n];if(dz(i))pr(t)||mk(r[n])?r[n]=gk(i,Array.isArray(i)?[]:{}):Dd(i,di(t)?{}:t[n],r[n]);else{const a=t[n];r[n]=!Xa(i,a)}}return r}const UI={value:!1,isValid:!1},zI={value:!0,isValid:!0};var fz=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pr(e[0].attributes.value)?pr(e[0].value)||e[0].value===""?zI:{value:e[0].value,isValid:!0}:zI:UI}return UI},hz=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>pr(e)?e:t?e===""?NaN:e&&+e:r&&Vi(e)?new Date(e):n?n(e):e;const VI={isValid:!1,value:null};var pz=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,VI):VI;function WI(e){const t=e.ref;return _P(t)?t.files:jP(t)?pz(e.refs).value:uz(t)?[...t.selectedOptions].map(({value:r})=>r):kv(t)?fz(e.refs).value:hz(pr(t.value)?e.ref.value:t.value,e)}var Ile=(e,t,r,n)=>{const i={};for(const a of e){const s=Ne(t,a);s&&Lt(i,a,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Ib=e=>e instanceof RegExp,Ip=e=>pr(e)?e:Ib(e)?e.source:Wr(e)?Ib(e.value)?e.value.source:e.value:e,HI=e=>({isOnSubmit:!e||e===Ja.onSubmit,isOnBlur:e===Ja.onBlur,isOnChange:e===Ja.onChange,isOnAll:e===Ja.all,isOnTouch:e===Ja.onTouched});const qI="AsyncFunction";var $le=e=>!!e&&!!e.validate&&!!(Yn(e.validate)&&e.validate.constructor.name===qI||Wr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===qI)),Rle=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),GI=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Em=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=Ne(e,i);if(a){const{_f:s,...l}=a;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(Em(l,t))break}else if(Wr(l)&&Em(l,t))break}}};function KI(e,t,r){const n=Ne(e,r);if(n||Xw(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=Ne(t,a),l=Ne(e,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:r}}var Dle=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return Hn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===(!n||Ja.all))},Lle=(e,t,r)=>!e||!t||e===t||Cm(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Fle=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Ble=(e,t)=>!gP(Ne(e,t)).length&&Fr(e,t),Ule=(e,t,r)=>{const n=Cm(Ne(e,r));return Lt(n,"root",t[r]),Lt(e,r,n),e};function YI(e,t,r="validate"){if(Vi(e)||Array.isArray(e)&&e.every(Vi)||Di(e)&&!e)return{type:r,message:Vi(e)?e:"",ref:t}}var _d=e=>Wr(e)&&!Ib(e)?e:{value:e,message:""},JI=async(e,t,r,n,i,a)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:b}=e._f,x=Ne(r,m);if(!b||t.has(m))return{};const w=l?l[0]:s,_=M=>{i&&w.reportValidity&&(w.setCustomValidity(Di(M)?"":M||""),w.reportValidity())},N={},j=jP(s),k=kv(s),O=j||k,P=(v||_P(s))&&pr(s.value)&&pr(x)||Mb(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,A=lz.bind(null,m,n,N),$=(M,z,L,V=co.maxLength,D=co.minLength)=>{const U=M?z:L;N[m]={type:M?V:D,message:U,ref:s,...A(M?V:D,U)}};if(a?!Array.isArray(x)||!x.length:c&&(!O&&(P||di(x))||Di(x)&&!x||k&&!fz(l).isValid||j&&!pz(l).isValid)){const{value:M,message:z}=Vi(c)?{value:!!c,message:c}:_d(c);if(M&&(N[m]={type:co.required,message:z,ref:w,...A(co.required,z)},!n))return _(z),N}if(!P&&(!di(f)||!di(h))){let M,z;const L=_d(h),V=_d(f);if(!di(x)&&!isNaN(x)){const D=s.valueAsNumber||x&&+x;di(L.value)||(M=D>L.value),di(V.value)||(z=D<V.value)}else{const D=s.valueAsDate||new Date(x),U=G=>new Date(new Date().toDateString()+" "+G),I=s.type=="time",F=s.type=="week";Vi(L.value)&&x&&(M=I?U(x)>U(L.value):F?x>L.value:D>new Date(L.value)),Vi(V.value)&&x&&(z=I?U(x)<U(V.value):F?x<V.value:D<new Date(V.value))}if((M||z)&&($(!!M,L.message,V.message,co.max,co.min),!n))return _(N[m].message),N}if((u||d)&&!P&&(Vi(x)||a&&Array.isArray(x))){const M=_d(u),z=_d(d),L=!di(M.value)&&x.length>+M.value,V=!di(z.value)&&x.length<+z.value;if((L||V)&&($(L,M.message,z.message),!n))return _(N[m].message),N}if(p&&!P&&Vi(x)){const{value:M,message:z}=_d(p);if(Ib(M)&&!x.match(M)&&(N[m]={type:co.pattern,message:z,ref:s,...A(co.pattern,z)},!n))return _(z),N}if(g){if(Yn(g)){const M=await g(x,r),z=YI(M,w);if(z&&(N[m]={...z,...A(co.validate,z.message)},!n))return _(z.message),N}else if(Wr(g)){let M={};for(const z in g){if(!Hn(M)&&!n)break;const L=YI(await g[z](x,r),w,z);L&&(M={...L,...A(z,L.message)},_(L.message),n&&(N[m]=M))}if(!Hn(M)&&(N[m]={ref:w,...M},!n))return N}}return _(!0),N};const zle={mode:Ja.onSubmit,reValidateMode:Ja.onChange,shouldFocusError:!0};function Vle(e={}){let t={...zle,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Wr(t.defaultValues)||Wr(t.values)?Lr(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Lr(i),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:BI(),state:BI()},g=t.criteriaMode===Ja.all,m=W=>Y=>{clearTimeout(u),u=setTimeout(W,Y)},v=async W=>{if(!s.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||W)){let Y;t.resolver?(Y=Hn((await O()).errors),b()):Y=await A(n,!0),Y!==r.isValid&&p.state.next({isValid:Y})}},b=(W,Y)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((W||Array.from(l.mount)).forEach(re=>{re&&(Y?Lt(r.validatingFields,re,Y):Fr(r.validatingFields,re))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Hn(r.validatingFields)}))},x=(W,Y=[],re,Se,ye=!0,K=!0)=>{if(Se&&re&&!t.disabled){if(s.action=!0,K&&Array.isArray(Ne(n,W))){const fe=re(Ne(n,W),Se.argA,Se.argB);ye&&Lt(n,W,fe)}if(K&&Array.isArray(Ne(r.errors,W))){const fe=re(Ne(r.errors,W),Se.argA,Se.argB);ye&&Lt(r.errors,W,fe),Ble(r.errors,W)}if((f.touchedFields||h.touchedFields)&&K&&Array.isArray(Ne(r.touchedFields,W))){const fe=re(Ne(r.touchedFields,W),Se.argA,Se.argB);ye&&Lt(r.touchedFields,W,fe)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Dd(i,a)),p.state.next({name:W,isDirty:M(W,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Lt(a,W,Y)},w=(W,Y)=>{Lt(r.errors,W,Y),p.state.next({errors:r.errors})},_=W=>{r.errors=W,p.state.next({errors:r.errors,isValid:!1})},N=(W,Y,re,Se)=>{const ye=Ne(n,W);if(ye){const K=Ne(a,W,pr(re)?Ne(i,W):re);pr(K)||Se&&Se.defaultChecked||Y?Lt(a,W,Y?K:WI(ye._f)):V(W,K),s.mount&&!s.action&&v()}},j=(W,Y,re,Se,ye)=>{let K=!1,fe=!1;const He={name:W};if(!t.disabled){if(!re||Se){(f.isDirty||h.isDirty)&&(fe=r.isDirty,r.isDirty=He.isDirty=M(),K=fe!==He.isDirty);const tt=Xa(Ne(i,W),Y);fe=!!Ne(r.dirtyFields,W),tt?Fr(r.dirtyFields,W):Lt(r.dirtyFields,W,!0),He.dirtyFields=r.dirtyFields,K=K||(f.dirtyFields||h.dirtyFields)&&fe!==!tt}if(re){const tt=Ne(r.touchedFields,W);tt||(Lt(r.touchedFields,W,re),He.touchedFields=r.touchedFields,K=K||(f.touchedFields||h.touchedFields)&&tt!==re)}K&&ye&&p.state.next(He)}return K?He:{}},k=(W,Y,re,Se)=>{const ye=Ne(r.errors,W),K=(f.isValid||h.isValid)&&Di(Y)&&r.isValid!==Y;if(t.delayError&&re?(c=m(()=>w(W,re)),c(t.delayError)):(clearTimeout(u),c=null,re?Lt(r.errors,W,re):Fr(r.errors,W)),(re?!Xa(ye,re):ye)||!Hn(Se)||K){const fe={...Se,...K&&Di(Y)?{isValid:Y}:{},errors:r.errors,name:W};r={...r,...fe},p.state.next(fe)}},O=async W=>(b(W,!0),await t.resolver(a,t.context,Ile(W||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),P=async W=>{const{errors:Y}=await O(W);if(b(W),W)for(const re of W){const Se=Ne(Y,re);Se?Lt(r.errors,re,Se):Fr(r.errors,re)}else r.errors=Y;return Y},A=async(W,Y,re={valid:!0})=>{for(const Se in W){const ye=W[Se];if(ye){const{_f:K,...fe}=ye;if(K){const He=l.array.has(K.name),tt=ye._f&&$le(ye._f);tt&&f.validatingFields&&b([K.name],!0);const Vt=await JI(ye,l.disabled,a,g,t.shouldUseNativeValidation&&!Y,He);if(tt&&f.validatingFields&&b([K.name]),Vt[K.name]&&(re.valid=!1,Y||e.shouldUseNativeValidation))break;!Y&&(Ne(Vt,K.name)?He?Ule(r.errors,Vt,K.name):Lt(r.errors,K.name,Vt[K.name]):Fr(r.errors,K.name))}!Hn(fe)&&await A(fe,Y,re)}}return re.valid},$=()=>{for(const W of l.unMount){const Y=Ne(n,W);Y&&(Y._f.refs?Y._f.refs.every(re=>!b1(re)):!b1(Y._f.ref))&&q(W)}l.unMount=new Set},M=(W,Y)=>!t.disabled&&(W&&Y&&Lt(a,W,Y),!Xa(ne(),i)),z=(W,Y,re)=>pk(W,l,{...s.mount?a:pr(Y)?i:Vi(W)?{[W]:Y}:Y},re,Y),L=W=>gP(Ne(s.mount?a:i,W,t.shouldUnregister?Ne(i,W,[]):[])),V=(W,Y,re={})=>{const Se=Ne(n,W);let ye=Y;if(Se){const K=Se._f;K&&(!K.disabled&&Lt(a,W,hz(Y,K)),ye=Mb(K.ref)&&di(Y)?"":Y,uz(K.ref)?[...K.ref.options].forEach(fe=>fe.selected=ye.includes(fe.value)):K.refs?kv(K.ref)?K.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(ye)?fe.checked=!!ye.find(He=>He===fe.value):fe.checked=ye===fe.value||!!ye)}):K.refs.forEach(fe=>fe.checked=fe.value===ye):_P(K.ref)?K.ref.value="":(K.ref.value=ye,K.ref.type||p.state.next({name:W,values:Lr(a)})))}(re.shouldDirty||re.shouldTouch)&&j(W,ye,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&G(W)},D=(W,Y,re)=>{for(const Se in Y){if(!Y.hasOwnProperty(Se))return;const ye=Y[Se],K=W+"."+Se,fe=Ne(n,K);(l.array.has(W)||Wr(ye)||fe&&!fe._f)&&!iu(ye)?D(K,ye,re):V(K,ye,re)}},U=(W,Y,re={})=>{const Se=Ne(n,W),ye=l.array.has(W),K=Lr(Y);Lt(a,W,K),ye?(p.array.next({name:W,values:Lr(a)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&re.shouldDirty&&p.state.next({name:W,dirtyFields:Dd(i,a),isDirty:M(W,K)})):Se&&!Se._f&&!di(K)?D(W,K,re):V(W,K,re),GI(W,l)?p.state.next({...r,name:W,values:Lr(a)}):p.state.next({name:s.mount?W:void 0,values:Lr(a)})},I=async W=>{s.mount=!0;const Y=W.target;let re=Y.name,Se=!0;const ye=Ne(n,re),K=tt=>{Se=Number.isNaN(tt)||iu(tt)&&isNaN(tt.getTime())||Xa(tt,Ne(a,re,tt))},fe=HI(t.mode),He=HI(t.reValidateMode);if(ye){let tt,Vt;const ia=Y.type?WI(ye._f):az(W),Ci=W.type===Ab.BLUR||W.type===Ab.FOCUS_OUT,Oc=!Rle(ye._f)&&!t.resolver&&!Ne(r.errors,re)&&!ye._f.deps||Fle(Ci,Ne(r.touchedFields,re),r.isSubmitted,He,fe),aa=GI(re,l,Ci);Lt(a,re,ia),Ci?(!Y||!Y.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(W),c&&c(0)):ye._f.onChange&&ye._f.onChange(W);const al=j(re,ia,Ci),_s=!Hn(al)||aa;if(!Ci&&p.state.next({name:re,type:W.type,values:Lr(a)}),Oc)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Ci&&v():Ci||v()),_s&&p.state.next({name:re,...aa?{}:al});if(!Ci&&aa&&p.state.next({...r}),t.resolver){const{errors:Pc}=await O([re]);if(b([re]),K(ia),Se){const bp=KI(r.errors,n,re),Tc=KI(Pc,n,bp.name||re);tt=Tc.error,re=Tc.name,Vt=Hn(Pc)}}else b([re],!0),tt=(await JI(ye,l.disabled,a,g,t.shouldUseNativeValidation))[re],b([re]),K(ia),Se&&(tt?Vt=!1:(f.isValid||h.isValid)&&(Vt=await A(n,!0)));Se&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&G(ye._f.deps),k(re,Vt,tt,al))}},F=(W,Y)=>{if(Ne(r.errors,Y)&&W.focus)return W.focus(),1},G=async(W,Y={})=>{let re,Se;const ye=Cm(W);if(t.resolver){const K=await P(pr(W)?W:ye);re=Hn(K),Se=W?!ye.some(fe=>Ne(K,fe)):re}else W?(Se=(await Promise.all(ye.map(async K=>{const fe=Ne(n,K);return await A(fe&&fe._f?{[K]:fe}:fe)}))).every(Boolean),!(!Se&&!r.isValid)&&v()):Se=re=await A(n);return p.state.next({...!Vi(W)||(f.isValid||h.isValid)&&re!==r.isValid?{}:{name:W},...t.resolver||!W?{isValid:re}:{},errors:r.errors}),Y.shouldFocus&&!Se&&Em(n,F,W?ye:l.mount),Se},ne=(W,Y)=>{let re={...s.mount?a:i};return Y&&(re=cz(Y.dirtyFields?r.dirtyFields:r.touchedFields,re)),pr(W)?re:Vi(W)?Ne(re,W):W.map(Se=>Ne(re,Se))},Z=(W,Y)=>({invalid:!!Ne((Y||r).errors,W),isDirty:!!Ne((Y||r).dirtyFields,W),error:Ne((Y||r).errors,W),isValidating:!!Ne(r.validatingFields,W),isTouched:!!Ne((Y||r).touchedFields,W)}),S=W=>{W&&Cm(W).forEach(Y=>Fr(r.errors,Y)),p.state.next({errors:W?r.errors:{}})},C=(W,Y,re)=>{const Se=(Ne(n,W,{_f:{}})._f||{}).ref,ye=Ne(r.errors,W)||{},{ref:K,message:fe,type:He,...tt}=ye;Lt(r.errors,W,{...tt,...Y,ref:Se}),p.state.next({name:W,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&Se&&Se.focus&&Se.focus()},E=(W,Y)=>Yn(W)?p.state.subscribe({next:re=>"values"in re&&W(z(void 0,Y),re)}):z(W,Y,!0),B=W=>p.state.subscribe({next:Y=>{Lle(W.name,Y.name,W.exact)&&Dle(Y,W.formState||f,jt,W.reRenderRoot)&&W.callback({values:{...a},...r,...Y,defaultValues:i})}}).unsubscribe,R=W=>(s.mount=!0,h={...h,...W.formState},B({...W,formState:{...d,...W.formState}})),q=(W,Y={})=>{for(const re of W?Cm(W):l.mount)l.mount.delete(re),l.array.delete(re),Y.keepValue||(Fr(n,re),Fr(a,re)),!Y.keepError&&Fr(r.errors,re),!Y.keepDirty&&Fr(r.dirtyFields,re),!Y.keepTouched&&Fr(r.touchedFields,re),!Y.keepIsValidating&&Fr(r.validatingFields,re),!t.shouldUnregister&&!Y.keepDefaultValue&&Fr(i,re);p.state.next({values:Lr(a)}),p.state.next({...r,...Y.keepDirty?{isDirty:M()}:{}}),!Y.keepIsValid&&v()},H=({disabled:W,name:Y})=>{if(Di(W)&&s.mount||W||l.disabled.has(Y)){const ye=l.disabled.has(Y)!==!!W;W?l.disabled.add(Y):l.disabled.delete(Y),ye&&s.mount&&!s.action&&v()}},X=(W,Y={})=>{let re=Ne(n,W);const Se=Di(Y.disabled)||Di(t.disabled);return Lt(n,W,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:W}},name:W,mount:!0,...Y}}),l.mount.add(W),re?H({disabled:Di(Y.disabled)?Y.disabled:t.disabled,name:W}):N(W,!0,Y.value),{...Se?{disabled:Y.disabled||t.disabled}:{},...t.progressive?{required:!!Y.required,min:Ip(Y.min),max:Ip(Y.max),minLength:Ip(Y.minLength),maxLength:Ip(Y.maxLength),pattern:Ip(Y.pattern)}:{},name:W,onChange:I,onBlur:I,ref:ye=>{if(ye){X(W,Y),re=Ne(n,W);const K=pr(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,fe=Ple(K),He=re._f.refs||[];if(fe?He.find(tt=>tt===K):K===re._f.ref)return;Lt(n,W,{_f:{...re._f,...fe?{refs:[...He.filter(b1),K,...Array.isArray(Ne(i,W))?[{}]:[]],ref:{type:K.type,name:W}}:{ref:K}}}),N(W,!1,void 0,K)}else re=Ne(n,W,{}),re._f&&(re._f.mount=!1),(t.shouldUnregister||Y.shouldUnregister)&&!(sz(l.array,W)&&s.action)&&l.unMount.add(W)}}},te=()=>t.shouldFocusError&&Em(n,F,l.mount),J=W=>{Di(W)&&(p.state.next({disabled:W}),Em(n,(Y,re)=>{const Se=Ne(n,re);Se&&(Y.disabled=Se._f.disabled||W,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(ye=>{ye.disabled=Se._f.disabled||W}))},0,!1))},je=(W,Y)=>async re=>{let Se;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let ye=Lr(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:K,values:fe}=await O();b(),r.errors=K,ye=Lr(fe)}else await A(n);if(l.disabled.size)for(const K of l.disabled)Fr(ye,K);if(Fr(r.errors,"root"),Hn(r.errors)){p.state.next({errors:{}});try{await W(ye,re)}catch(K){Se=K}}else Y&&await Y({...r.errors},re),te(),setTimeout(te);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hn(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},Oe=(W,Y={})=>{Ne(n,W)&&(pr(Y.defaultValue)?U(W,Lr(Ne(i,W))):(U(W,Y.defaultValue),Lt(i,W,Lr(Y.defaultValue))),Y.keepTouched||Fr(r.touchedFields,W),Y.keepDirty||(Fr(r.dirtyFields,W),r.isDirty=Y.defaultValue?M(W,Lr(Ne(i,W))):M()),Y.keepError||(Fr(r.errors,W),f.isValid&&v()),p.state.next({...r}))},it=(W,Y={})=>{const re=W?Lr(W):i,Se=Lr(re),ye=Hn(W),K=ye?i:Se;if(Y.keepDefaultValues||(i=re),!Y.keepValues){if(Y.keepDirtyValues){const fe=new Set([...l.mount,...Object.keys(Dd(i,a))]);for(const He of Array.from(fe)){const tt=Ne(r.dirtyFields,He),Vt=Ne(a,He),ia=Ne(K,He);tt&&!pr(Vt)?Lt(K,He,Vt):!tt&&!pr(ia)&&U(He,ia)}}else{if(mP&&pr(W))for(const fe of l.mount){const He=Ne(n,fe);if(He&&He._f){const tt=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(Mb(tt)){const Vt=tt.closest("form");if(Vt){Vt.reset();break}}}}if(Y.keepFieldsRef)for(const fe of l.mount)U(fe,Ne(K,fe));else n={}}a=t.shouldUnregister?Y.keepDefaultValues?Lr(i):{}:Lr(K),p.array.next({values:{...K}}),p.state.next({values:{...K}})}l={mount:Y.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues||!t.shouldUnregister&&!Hn(K),s.watch=!!t.shouldUnregister,s.keepIsValid=!!Y.keepIsValid,s.action=!1,Y.keepErrors||(r.errors={}),p.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!Xa(W,i)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:Y.keepDirtyValues?Y.keepDefaultValues&&a?Dd(i,a):r.dirtyFields:Y.keepDefaultValues&&W?Dd(i,W):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},qe=(W,Y)=>it(Yn(W)?W(a):W,{...t.resetOptions,...Y}),Ge=(W,Y={})=>{const re=Ne(n,W),Se=re&&re._f;if(Se){const ye=Se.refs?Se.refs[0]:Se.ref;ye.focus&&setTimeout(()=>{ye.focus(),Y.shouldSelect&&Yn(ye.select)&&ye.select()})}},jt=W=>{r={...r,...W}},Dt={control:{register:X,unregister:q,getFieldState:Z,handleSubmit:je,setError:C,_subscribe:B,_runSchema:O,_updateIsValidating:b,_focusError:te,_getWatch:z,_getDirty:M,_setValid:v,_setFieldArray:x,_setDisabledField:H,_setErrors:_,_getFieldArray:L,_reset:it,_resetDefaultValues:()=>Yn(t.defaultValues)&&t.defaultValues().then(W=>{qe(W,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:J,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(W){s=W},get _defaultValues(){return i},get _names(){return l},set _names(W){l=W},get _formState(){return r},get _options(){return t},set _options(W){t={...t,...W}}},subscribe:R,trigger:G,register:X,handleSubmit:je,watch:E,setValue:U,getValues:ne,reset:qe,resetField:Oe,clearErrors:S,unregister:q,setError:C,setFocus:Ge,getFieldState:Z};return{...Dt,formControl:Dt}}function tf(e={}){const t=T.useRef(void 0),r=T.useRef(void 0),[n,i]=T.useState({isDirty:!1,isValidating:!1,isLoading:Yn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Yn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Yn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=Vle(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,bP(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,s},[a]),T.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),T.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),T.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),T.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),T.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),T.useEffect(()=>{var s;e.values&&!Xa(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((s=a._options.resetOptions)===null||s===void 0)&&s.keepIsValid||a._setValid(),r.current=e.values,i(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),T.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=T.useMemo(()=>oz(n,a),[a,n]),t.current}const XI=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ne(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},mz=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?XI(n.ref,r,e):n.refs&&n.refs.forEach(i=>XI(i,r,e))}},Wle=(e,t)=>{t.shouldUseNativeValidation&&mz(e,t);const r={};for(const n in e){const i=Ne(t.fields,n),a=Object.assign(e[n]||{},{ref:i&&i.ref});if(Hle(t.names||Object.keys(e),n)){const s=Object.assign({},Ne(r,n));Lt(s,"root",a),Lt(r,n,s)}else Lt(r,n,a)}return r},Hle=(e,t)=>e.some(r=>r.startsWith(t+"."));var qle=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=lz(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},rf=function(e,t,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&mz({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(s){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(s))return{values:{},errors:Wle(qle(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}},Pt;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),s={};for(const l of a)s[l]=i[l];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Pt||(Pt={}));var QI;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(QI||(QI={}));const De=Pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bl=e=>{switch(typeof e){case"undefined":return De.undefined;case"string":return De.string;case"number":return Number.isNaN(e)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(e)?De.array:e===null?De.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?De.promise:typeof Map<"u"&&e instanceof Map?De.map:typeof Set<"u"&&e instanceof Set?De.set:typeof Date<"u"&&e instanceof Date?De.date:De.object;default:return De.unknown}},we=Pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ho extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let l=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof Ho))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ho.create=e=>new Ho(e);const vk=(e,t)=>{let r;switch(e.code){case we.invalid_type:e.received===De.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case we.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Pt.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:r=`Unrecognized key(s) in object: ${Pt.joinValues(e.keys,", ")}`;break;case we.invalid_union:r="Invalid input";break;case we.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Pt.joinValues(e.options)}`;break;case we.invalid_enum_value:r=`Invalid enum value. Expected ${Pt.joinValues(e.options)}, received '${e.received}'`;break;case we.invalid_arguments:r="Invalid function arguments";break;case we.invalid_return_type:r="Invalid function return type";break;case we.invalid_date:r="Invalid date";break;case we.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Pt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case we.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case we.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case we.custom:r="Invalid input";break;case we.invalid_intersection_types:r="Intersection results could not be merged";break;case we.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case we.not_finite:r="Number must be finite";break;default:r=t.defaultError,Pt.assertNever(e)}return{message:r}};let Gle=vk;function Kle(){return Gle}const Yle=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:t,defaultError:l}).message;return{...i,path:a,message:l}};function Pe(e,t){const r=Kle(),n=Yle({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===vk?void 0:vk].filter(i=>!!i)});e.common.issues.push(n)}class Zi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return dt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return Zi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return dt;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const dt=Object.freeze({status:"aborted"}),lm=e=>({status:"dirty",value:e}),ka=e=>({status:"valid",value:e}),ZI=e=>e.status==="aborted",e$=e=>e.status==="dirty",Yf=e=>e.status==="valid",$b=e=>typeof Promise<"u"&&e instanceof Promise;var Fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Fe||(Fe={}));class ic{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const t$=(e,t)=>{if(Yf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ho(e.common.issues);return this._error=r,this._error}}};function vt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,l)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class Ot{get description(){return this._def.description}_getType(t){return bl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:bl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Zi,ctx:{common:t.parent.common,data:t.data,parsedType:bl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if($b(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bl(t)},i=this._parseSync({data:t,path:n.path,parent:n});return t$(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bl(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Yf(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Yf(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bl(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await($b(i)?i:Promise.resolve(i));return t$(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),l=()=>a.addIssue({code:we.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Xf({schema:this,typeName:ht.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Yl.create(this,this._def)}nullable(){return Qf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gs.create(this)}promise(){return Lb.create(this,this._def)}or(t){return Rb.create([this,t],this._def)}and(t){return Db.create(this,t,this._def)}transform(t){return new Xf({...vt(this._def),schema:this,typeName:ht.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new bk({...vt(this._def),innerType:this,defaultValue:r,typeName:ht.ZodDefault})}brand(){return new yce({typeName:ht.ZodBranded,type:this,...vt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new wk({...vt(this._def),innerType:this,catchValue:r,typeName:ht.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return SP.create(this,t)}readonly(){return _k.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Jle=/^c[^\s-]{8,}$/i,Xle=/^[0-9a-z]+$/,Qle=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Zle=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ece=/^[a-z0-9_-]{21}$/i,tce=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rce=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nce=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ice="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let w1;const ace=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cce=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uce=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dce=new RegExp(`^${gz}$`);function vz(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function fce(e){return new RegExp(`^${vz(e)}$`)}function hce(e){let t=`${gz}T${vz(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function pce(e,t){return!!((t==="v4"||!t)&&ace.test(e)||(t==="v6"||!t)&&oce.test(e))}function mce(e,t){if(!tce.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function gce(e,t){return!!((t==="v4"||!t)&&sce.test(e)||(t==="v6"||!t)&&lce.test(e))}class Dl extends Ot{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==De.string){const a=this._getOrReturnCtx(t);return Pe(a,{code:we.invalid_type,expected:De.string,received:a.parsedType}),dt}const n=new Zi;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,l=t.data.length<a.value;(s||l)&&(i=this._getOrReturnCtx(t,i),s?Pe(i,{code:we.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pe(i,{code:we.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")nce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"email",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")w1||(w1=new RegExp(ice,"u")),w1.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"emoji",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Zle.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"uuid",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")ece.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"nanoid",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Jle.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"cuid",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Xle.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"cuid2",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Qle.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"ulid",code:we.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Pe(i,{validation:"url",code:we.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"regex",code:we.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?hce(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?dce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?fce(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?rce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"duration",code:we.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?pce(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"ip",code:we.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?mce(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"jwt",code:we.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?gce(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"cidr",code:we.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?cce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"base64",code:we.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?uce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"base64url",code:we.invalid_string,message:a.message}),n.dirty()):Pt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:we.invalid_string,...Fe.errToObj(n)})}_addCheck(t){return new Dl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Fe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Fe.errToObj(r)})}nonempty(t){return this.min(1,Fe.errToObj(t))}trim(){return new Dl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Dl.create=e=>new Dl({checks:[],typeName:ht.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...vt(e)});function vce(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class mg extends Ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==De.number){const a=this._getOrReturnCtx(t);return Pe(a,{code:we.invalid_type,expected:De.number,received:a.parsedType}),dt}let n;const i=new Zi;for(const a of this._def.checks)a.kind==="int"?Pt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:we.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:we.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:we.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?vce(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:we.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:we.not_finite,message:a.message}),i.dirty()):Pt.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,i){return new mg({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(i)}]})}_addCheck(t){return new mg({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Pt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}mg.create=e=>new mg({checks:[],typeName:ht.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...vt(e)});class gg extends Ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==De.bigint)return this._getInvalidInput(t);let n;const i=new Zi;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:we.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:we.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:we.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Pt.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:we.invalid_type,expected:De.bigint,received:r.parsedType}),dt}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,i){return new gg({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(i)}]})}_addCheck(t){return new gg({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gg.create=e=>new gg({checks:[],typeName:ht.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...vt(e)});class yk extends Ot{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==De.boolean){const n=this._getOrReturnCtx(t);return Pe(n,{code:we.invalid_type,expected:De.boolean,received:n.parsedType}),dt}return ka(t.data)}}yk.create=e=>new yk({typeName:ht.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...vt(e)});class vg extends Ot{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==De.date){const a=this._getOrReturnCtx(t);return Pe(a,{code:we.invalid_type,expected:De.date,received:a.parsedType}),dt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Pe(a,{code:we.invalid_date}),dt}const n=new Zi;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:we.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Pt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vg({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}vg.create=e=>new vg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ht.ZodDate,...vt(e)});class r$ extends Ot{_parse(t){if(this._getType(t)!==De.symbol){const n=this._getOrReturnCtx(t);return Pe(n,{code:we.invalid_type,expected:De.symbol,received:n.parsedType}),dt}return ka(t.data)}}r$.create=e=>new r$({typeName:ht.ZodSymbol,...vt(e)});class n$ extends Ot{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:we.invalid_type,expected:De.undefined,received:n.parsedType}),dt}return ka(t.data)}}n$.create=e=>new n$({typeName:ht.ZodUndefined,...vt(e)});class i$ extends Ot{_parse(t){if(this._getType(t)!==De.null){const n=this._getOrReturnCtx(t);return Pe(n,{code:we.invalid_type,expected:De.null,received:n.parsedType}),dt}return ka(t.data)}}i$.create=e=>new i$({typeName:ht.ZodNull,...vt(e)});class a$ extends Ot{constructor(){super(...arguments),this._any=!0}_parse(t){return ka(t.data)}}a$.create=e=>new a$({typeName:ht.ZodAny,...vt(e)});class s$ extends Ot{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ka(t.data)}}s$.create=e=>new s$({typeName:ht.ZodUnknown,...vt(e)});class ac extends Ot{_parse(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:we.invalid_type,expected:De.never,received:r.parsedType}),dt}}ac.create=e=>new ac({typeName:ht.ZodNever,...vt(e)});class o$ extends Ot{_parse(t){if(this._getType(t)!==De.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:we.invalid_type,expected:De.void,received:n.parsedType}),dt}return ka(t.data)}}o$.create=e=>new o$({typeName:ht.ZodVoid,...vt(e)});class Gs extends Ot{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==De.array)return Pe(r,{code:we.invalid_type,expected:De.array,received:r.parsedType}),dt;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(s||l)&&(Pe(r,{code:s?we.too_big:we.too_small,minimum:l?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Pe(r,{code:we.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Pe(r,{code:we.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>i.type._parseAsync(new ic(r,s,r.path,l)))).then(s=>Zi.mergeArray(n,s));const a=[...r.data].map((s,l)=>i.type._parseSync(new ic(r,s,r.path,l)));return Zi.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Gs({...this._def,minLength:{value:t,message:Fe.toString(r)}})}max(t,r){return new Gs({...this._def,maxLength:{value:t,message:Fe.toString(r)}})}length(t,r){return new Gs({...this._def,exactLength:{value:t,message:Fe.toString(r)}})}nonempty(t){return this.min(1,t)}}Gs.create=(e,t)=>new Gs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ht.ZodArray,...vt(t)});function Ld(e){if(e instanceof zr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Yl.create(Ld(n))}return new zr({...e._def,shape:()=>t})}else return e instanceof Gs?new Gs({...e._def,type:Ld(e.element)}):e instanceof Yl?Yl.create(Ld(e.unwrap())):e instanceof Qf?Qf.create(Ld(e.unwrap())):e instanceof $u?$u.create(e.items.map(t=>Ld(t))):e}class zr extends Ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Pt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==De.object){const u=this._getOrReturnCtx(t);return Pe(u,{code:we.invalid_type,expected:De.object,received:u.parsedType}),dt}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof ac&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const d=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ic(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ac){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(Pe(i,{code:we.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ic(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Zi.mergeObjectSync(n,u)):Zi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Fe.errToObj,new zr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Fe.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new zr({...this._def,unknownKeys:"strip"})}passthrough(){return new zr({...this._def,unknownKeys:"passthrough"})}extend(t){return new zr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new zr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ht.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new zr({...this._def,catchall:t})}pick(t){const r={};for(const n of Pt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new zr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Pt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new zr({...this._def,shape:()=>r})}deepPartial(){return Ld(this)}partial(t){const r={};for(const n of Pt.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new zr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Pt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Yl;)a=a._def.innerType;r[n]=a}return new zr({...this._def,shape:()=>r})}keyof(){return yz(Pt.objectKeys(this.shape))}}zr.create=(e,t)=>new zr({shape:()=>e,unknownKeys:"strip",catchall:ac.create(),typeName:ht.ZodObject,...vt(t)});zr.strictCreate=(e,t)=>new zr({shape:()=>e,unknownKeys:"strict",catchall:ac.create(),typeName:ht.ZodObject,...vt(t)});zr.lazycreate=(e,t)=>new zr({shape:e,unknownKeys:"strip",catchall:ac.create(),typeName:ht.ZodObject,...vt(t)});class Rb extends Ot{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=a.map(l=>new Ho(l.ctx.common.issues));return Pe(r,{code:we.invalid_union,unionErrors:s}),dt}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=s.map(c=>new Ho(c));return Pe(r,{code:we.invalid_union,unionErrors:l}),dt}}get options(){return this._def.options}}Rb.create=(e,t)=>new Rb({options:e,typeName:ht.ZodUnion,...vt(t)});function xk(e,t){const r=bl(e),n=bl(t);if(e===t)return{valid:!0,data:e};if(r===De.object&&n===De.object){const i=Pt.objectKeys(t),a=Pt.objectKeys(e).filter(l=>i.indexOf(l)!==-1),s={...e,...t};for(const l of a){const c=xk(e[l],t[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(r===De.array&&n===De.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],l=t[a],c=xk(s,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===De.date&&n===De.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Db extends Ot{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(ZI(a)||ZI(s))return dt;const l=xk(a.value,s.value);return l.valid?((e$(a)||e$(s))&&r.dirty(),{status:r.value,value:l.data}):(Pe(n,{code:we.invalid_intersection_types}),dt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Db.create=(e,t,r)=>new Db({left:e,right:t,typeName:ht.ZodIntersection,...vt(r)});class $u extends Ot{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.array)return Pe(n,{code:we.invalid_type,expected:De.array,received:n.parsedType}),dt;if(n.data.length<this._def.items.length)return Pe(n,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),dt;!this._def.rest&&n.data.length>this._def.items.length&&(Pe(n,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ic(n,s,n.path,l)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Zi.mergeArray(r,s)):Zi.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new $u({...this._def,rest:t})}}$u.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $u({items:e,typeName:ht.ZodTuple,rest:null,...vt(t)})};class l$ extends Ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.map)return Pe(n,{code:we.invalid_type,expected:De.map,received:n.parsedType}),dt;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new ic(n,l,n.path,[u,"key"])),value:a._parse(new ic(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return dt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return dt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}l$.create=(e,t,r)=>new l$({valueType:t,keyType:e,typeName:ht.ZodMap,...vt(r)});class yg extends Ot{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==De.set)return Pe(n,{code:we.invalid_type,expected:De.set,received:n.parsedType}),dt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Pe(n,{code:we.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Pe(n,{code:we.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return dt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new ic(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(t,r){return new yg({...this._def,minSize:{value:t,message:Fe.toString(r)}})}max(t,r){return new yg({...this._def,maxSize:{value:t,message:Fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}yg.create=(e,t)=>new yg({valueType:e,minSize:null,maxSize:null,typeName:ht.ZodSet,...vt(t)});class c$ extends Ot{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}c$.create=(e,t)=>new c$({getter:e,typeName:ht.ZodLazy,...vt(t)});class u$ extends Ot{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Pe(r,{received:r.data,code:we.invalid_literal,expected:this._def.value}),dt}return{status:"valid",value:t.data}}get value(){return this._def.value}}u$.create=(e,t)=>new u$({value:e,typeName:ht.ZodLiteral,...vt(t)});function yz(e,t){return new Jf({values:e,typeName:ht.ZodEnum,...vt(t)})}class Jf extends Ot{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{expected:Pt.joinValues(n),received:r.parsedType,code:we.invalid_type}),dt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{received:r.data,code:we.invalid_enum_value,options:n}),dt}return ka(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Jf.create(t,{...this._def,...r})}exclude(t,r=this._def){return Jf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Jf.create=yz;class d$ extends Ot{_parse(t){const r=Pt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==De.string&&n.parsedType!==De.number){const i=Pt.objectValues(r);return Pe(n,{expected:Pt.joinValues(i),received:n.parsedType,code:we.invalid_type}),dt}if(this._cache||(this._cache=new Set(Pt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Pt.objectValues(r);return Pe(n,{received:n.data,code:we.invalid_enum_value,options:i}),dt}return ka(t.data)}get enum(){return this._def.values}}d$.create=(e,t)=>new d$({values:e,typeName:ht.ZodNativeEnum,...vt(t)});class Lb extends Ot{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==De.promise&&r.common.async===!1)return Pe(r,{code:we.invalid_type,expected:De.promise,received:r.parsedType}),dt;const n=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return ka(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Lb.create=(e,t)=>new Lb({type:e,typeName:ht.ZodPromise,...vt(t)});class Xf extends Ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{Pe(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return dt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?dt:c.status==="dirty"||r.value==="dirty"?lm(c.value):c});{if(r.value==="aborted")return dt;const l=this._def.schema._parseSync({data:s,path:n.path,parent:n});return l.status==="aborted"?dt:l.status==="dirty"||r.value==="dirty"?lm(l.value):l}}if(i.type==="refinement"){const s=l=>{const c=i.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?dt:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?dt:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Yf(s))return dt;const l=i.transform(s.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Yf(s)?Promise.resolve(i.transform(s.value,a)).then(l=>({status:r.value,value:l})):dt);Pt.assertNever(i)}}Xf.create=(e,t,r)=>new Xf({schema:e,typeName:ht.ZodEffects,effect:t,...vt(r)});Xf.createWithPreprocess=(e,t,r)=>new Xf({schema:t,effect:{type:"preprocess",transform:e},typeName:ht.ZodEffects,...vt(r)});class Yl extends Ot{_parse(t){return this._getType(t)===De.undefined?ka(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yl.create=(e,t)=>new Yl({innerType:e,typeName:ht.ZodOptional,...vt(t)});class Qf extends Ot{_parse(t){return this._getType(t)===De.null?ka(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qf.create=(e,t)=>new Qf({innerType:e,typeName:ht.ZodNullable,...vt(t)});class bk extends Ot{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===De.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}bk.create=(e,t)=>new bk({innerType:e,typeName:ht.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...vt(t)});class wk extends Ot{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $b(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ho(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ho(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}wk.create=(e,t)=>new wk({innerType:e,typeName:ht.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...vt(t)});class f$ extends Ot{_parse(t){if(this._getType(t)!==De.nan){const n=this._getOrReturnCtx(t);return Pe(n,{code:we.invalid_type,expected:De.nan,received:n.parsedType}),dt}return{status:"valid",value:t.data}}}f$.create=e=>new f$({typeName:ht.ZodNaN,...vt(e)});class yce extends Ot{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class SP extends Ot{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?dt:a.status==="dirty"?(r.dirty(),lm(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?dt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new SP({in:t,out:r,typeName:ht.ZodPipeline})}}class _k extends Ot{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Yf(i)&&(i.value=Object.freeze(i.value)),i);return $b(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}_k.create=(e,t)=>new _k({innerType:e,typeName:ht.ZodReadonly,...vt(t)});var ht;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ht||(ht={}));const mr=Dl.create,xce=yk.create,bce=vg.create;ac.create;Gs.create;const Xh=zr.create;Rb.create;Db.create;$u.create;const wce=Jf.create;Lb.create;Yl.create;Qf.create;const nt=y.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));nt.displayName="Input";var _ce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jce=_ce.reduce((e,t)=>{const r=Nv(`Primitive.${t}`),n=y.forwardRef((i,a)=>{const{asChild:s,...l}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Sce="Label",xz=y.forwardRef((e,t)=>o.jsx(jce.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xz.displayName=Sce;var bz=xz;const Nce=$w("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),he=y.forwardRef(({className:e,...t},r)=>o.jsx(bz,{ref:r,className:be(Nce(),e),...t}));he.displayName=bz.displayName;const oe=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));oe.displayName="Card";const me=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const _e=y.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",e),...t}));_e.displayName="CardTitle";const Ce=y.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Ce.displayName="CardDescription";const de=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:be("p-6 pt-0",e),...t}));de.displayName="CardContent";const kce=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",e),...t}));kce.displayName="CardFooter";function jk(e,[t,r]){return Math.min(r,Math.max(t,e))}var Cce=y.createContext(void 0);function Qh(e){const t=y.useContext(Cce);return e||t||"ltr"}var _1=0;function Qw(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??h$()),document.body.insertAdjacentElement("beforeend",e[1]??h$()),_1++,()=>{_1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_1--}},[])}function h$(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var j1="focusScope.autoFocusOnMount",S1="focusScope.autoFocusOnUnmount",p$={bubbles:!1,cancelable:!0},Ece="FocusScope",Cv=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=y.useState(null),u=Or(i),d=Or(a),f=y.useRef(null),h=et(t,m=>c(m)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:pl(f.current,{select:!0})},v=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||pl(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&pl(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,p.paused]),y.useEffect(()=>{if(l){g$.add(p);const m=document.activeElement;if(!l.contains(m)){const b=new CustomEvent(j1,p$);l.addEventListener(j1,u),l.dispatchEvent(b),b.defaultPrevented||(Oce(Ice(wz(l)),{select:!0}),document.activeElement===m&&pl(l))}return()=>{l.removeEventListener(j1,u),setTimeout(()=>{const b=new CustomEvent(S1,p$);l.addEventListener(S1,d),l.dispatchEvent(b),b.defaultPrevented||pl(m??document.body,{select:!0}),l.removeEventListener(S1,d),g$.remove(p)},0)}}},[l,u,d,p]);const g=y.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(v&&b){const x=m.currentTarget,[w,_]=Pce(x);w&&_?!m.shiftKey&&b===_?(m.preventDefault(),r&&pl(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&pl(_,{select:!0})):b===x&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(Le.div,{tabIndex:-1,...s,ref:h,onKeyDown:g})});Cv.displayName=Ece;function Oce(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(pl(n,{select:t}),document.activeElement!==r)return}function Pce(e){const t=wz(e),r=m$(t,e),n=m$(t.reverse(),e);return[r,n]}function wz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function m$(e,t){for(const r of e)if(!Tce(r,{upTo:t}))return r}function Tce(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ace(e){return e instanceof HTMLInputElement&&"select"in e}function pl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ace(e)&&t&&e.select()}}var g$=Mce();function Mce(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=v$(e,t),e.unshift(t)},remove(t){var r;e=v$(e,t),(r=e[0])==null||r.resume()}}}function v$(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ice(e){return e.filter(t=>t.tagName!=="A")}function $ce(e){const t=Rce(e),r=y.forwardRef((n,i)=>{const{children:a,...s}=n,l=y.Children.toArray(a),c=l.find(Lce);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Rce(e){const t=y.forwardRef((r,n)=>{const{children:i,...a}=r;if(y.isValidElement(i)){const s=Bce(i),l=Fce(a,i.props);return i.type!==y.Fragment&&(l.ref=n?eo(n,s):s),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Dce=Symbol("radix.slottable");function Lce(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dce}function Fce(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Bce(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Zw(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Uce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jd=new WeakMap,Iy=new WeakMap,$y={},N1=0,_z=function(e){return e&&(e.host||_z(e.parentNode))},zce=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=_z(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Vce=function(e,t,r,n){var i=zce(t,Array.isArray(e)?e:[e]);$y[r]||($y[r]=new WeakMap);var a=$y[r],s=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(jd.get(h)||0)+1,v=(a.get(h)||0)+1;jd.set(h,m),a.set(h,v),s.push(h),m===1&&g&&Iy.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),N1++,function(){s.forEach(function(f){var h=jd.get(f)-1,p=a.get(f)-1;jd.set(f,h),a.set(f,p),h||(Iy.has(f)||f.removeAttribute(n),Iy.delete(f)),p||f.removeAttribute(r)}),N1--,N1||(jd=new WeakMap,jd=new WeakMap,Iy=new WeakMap,$y={})}},e_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Uce(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Vce(n,i,r,"aria-hidden")):function(){return null}},$x="right-scroll-bar-position",Rx="width-before-scroll-bar",Wce="with-scroll-bars-hidden",Hce="--removed-body-scroll-bar-size";function k1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qce(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var Gce=typeof window<"u"?y.useLayoutEffect:y.useEffect,y$=new WeakMap;function Kce(e,t){var r=qce(null,function(n){return e.forEach(function(i){return k1(i,n)})});return Gce(function(){var n=y$.get(r);if(n){var i=new Set(n),a=new Set(e),s=r.current;i.forEach(function(l){a.has(l)||k1(l,null)}),a.forEach(function(l){i.has(l)||k1(l,s)})}y$.set(r,e)},[e]),r}function Yce(e){return e}function Jce(e,t){t===void 0&&(t=Yce);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var s=t(a,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(a),s=r}var c=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return i}function Xce(e){e===void 0&&(e={});var t=Jce(null);return t.options=$s({async:!0,ssr:!1},e),t}var jz=function(e){var t=e.sideCar,r=Jh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,$s({},r))};jz.isSideCarExport=!0;function Qce(e,t){return e.useMedium(t),jz}var Sz=Xce(),C1=function(){},t_=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:C1,onWheelCapture:C1,onTouchMoveCapture:C1}),i=n[0],a=n[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,w=e.gapMode,_=Jh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,j=Kce([r,t]),k=$s($s({},_),i);return y.createElement(y.Fragment,null,d&&y.createElement(N,{sideCar:Sz,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),s?y.cloneElement(y.Children.only(l),$s($s({},k),{ref:j})):y.createElement(x,$s({},k,{className:c,ref:j}),l))});t_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};t_.classNames={fullWidth:Rx,zeroRight:$x};var Zce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eue(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Zce();return t&&e.setAttribute("nonce",t),e}function tue(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function rue(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var nue=function(){var e=0,t=null;return{add:function(r){e==0&&(t=eue())&&(tue(t,r),rue(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iue=function(){var e=nue();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Nz=function(){var e=iue(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},aue={left:0,top:0,right:0,gap:0},E1=function(e){return parseInt(e||"",10)||0},sue=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[E1(r),E1(n),E1(i)]},oue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aue;var t=sue(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},lue=Nz(),wf="data-scroll-locked",cue=function(e,t,r,n){var i=e.left,a=e.top,s=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Wce,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(wf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($x,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Rx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($x," .").concat($x,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Rx," .").concat(Rx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wf,`] {
    `).concat(Hce,": ").concat(l,`px;
  }
`)},x$=function(){var e=parseInt(document.body.getAttribute(wf)||"0",10);return isFinite(e)?e:0},uue=function(){y.useEffect(function(){return document.body.setAttribute(wf,(x$()+1).toString()),function(){var e=x$()-1;e<=0?document.body.removeAttribute(wf):document.body.setAttribute(wf,e.toString())}},[])},due=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;uue();var a=y.useMemo(function(){return oue(i)},[i]);return y.createElement(lue,{styles:cue(a,!t,i,r?"":"!important")})},Sk=!1;if(typeof window<"u")try{var Ry=Object.defineProperty({},"passive",{get:function(){return Sk=!0,!0}});window.addEventListener("test",Ry,Ry),window.removeEventListener("test",Ry,Ry)}catch{Sk=!1}var Sd=Sk?{passive:!1}:!1,fue=function(e){return e.tagName==="TEXTAREA"},kz=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!fue(e)&&r[t]==="visible")},hue=function(e){return kz(e,"overflowY")},pue=function(e){return kz(e,"overflowX")},b$=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Cz(e,n);if(i){var a=Ez(e,n),s=a[1],l=a[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},mue=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},gue=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Cz=function(e,t){return e==="v"?hue(t):pue(t)},Ez=function(e,t){return e==="v"?mue(t):gue(t)},vue=function(e,t){return e==="h"&&t==="rtl"?-1:1},yue=function(e,t,r,n,i){var a=vue(e,window.getComputedStyle(t).direction),s=a*n,l=r.target,c=t.contains(l),u=!1,d=s>0,f=0,h=0;do{if(!l)break;var p=Ez(e,l),g=p[0],m=p[1],v=p[2],b=m-v-a*g;(g||b)&&Cz(e,l)&&(f+=b,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Dy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},w$=function(e){return[e.deltaX,e.deltaY]},_$=function(e){return e&&"current"in e?e.current:e},xue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wue=0,Nd=[];function _ue(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),i=y.useState(wue++)[0],a=y.useState(Nz)[0],s=y.useRef(e);y.useEffect(function(){s.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Sae([e.lockRef.current],(e.shards||[]).map(_$),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var b=Dy(m),x=r.current,w="deltaX"in m?m.deltaX:x[0]-b[0],_="deltaY"in m?m.deltaY:x[1]-b[1],N,j=m.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&j.type==="range")return!1;var O=window.getSelection(),P=O&&O.anchorNode,A=P?P===j||P.contains(j):!1;if(A)return!1;var $=b$(k,j);if(!$)return!0;if($?N=k:(N=k==="v"?"h":"v",$=b$(k,j)),!$)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=N),!N)return!0;var M=n.current||N;return yue(M,v,m,M==="h"?w:_)},[]),c=y.useCallback(function(m){var v=m;if(!(!Nd.length||Nd[Nd.length-1]!==a)){var b="deltaY"in v?w$(v):Dy(v),x=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&xue(N.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(s.current.shards||[]).map(_$).filter(Boolean).filter(function(N){return N.contains(v.target)}),_=w.length>0?l(v,w[0]):!s.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(m,v,b,x){var w={name:m,delta:v,target:b,should:x,shadowParent:jue(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=y.useCallback(function(m){r.current=Dy(m),n.current=void 0},[]),f=y.useCallback(function(m){u(m.type,w$(m),m.target,l(m,e.lockRef.current))},[]),h=y.useCallback(function(m){u(m.type,Dy(m),m.target,l(m,e.lockRef.current))},[]);y.useEffect(function(){return Nd.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Sd),document.addEventListener("touchmove",c,Sd),document.addEventListener("touchstart",d,Sd),function(){Nd=Nd.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,Sd),document.removeEventListener("touchmove",c,Sd),document.removeEventListener("touchstart",d,Sd)}},[]);var p=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(a,{styles:bue(i)}):null,p?y.createElement(due,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function jue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Sue=Qce(Sz,_ue);var Ev=y.forwardRef(function(e,t){return y.createElement(t_,$s({},e,{ref:t,sideCar:Sue}))});Ev.classNames=t_.classNames;var Nue=[" ","Enter","ArrowUp","ArrowDown"],kue=[" ","Enter"],Ru="Select",[r_,n_,Cue]=Aw(Ru),[Zh]=Cn(Ru,[Cue,mc]),i_=mc(),[Eue,yc]=Zh(Ru),[Oue,Pue]=Zh(Ru),Oz=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=i_(t),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,N]=y.useState(!1),j=Qh(u),[k,O]=ls({prop:n,defaultProp:i??!1,onChange:a,caller:Ru}),[P,A]=ls({prop:s,defaultProp:l,onChange:c,caller:Ru}),$=y.useRef(null),M=v?g||!!v.closest("form"):!0,[z,L]=y.useState(new Set),V=Array.from(z).map(D=>D.props.value).join(";");return o.jsx(eP,{...m,children:o.jsxs(Eue,{required:p,scope:t,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:is(),value:P,onValueChange:A,open:k,onOpenChange:O,dir:j,triggerPointerDownPosRef:$,disabled:h,children:[o.jsx(r_.Provider,{scope:t,children:o.jsx(Oue,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(D=>{L(U=>new Set(U).add(D))},[]),onNativeOptionRemove:y.useCallback(D=>{L(U=>{const I=new Set(U);return I.delete(D),I})},[]),children:r})}),M?o.jsxs(Zz,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:D=>A(D.target.value),disabled:h,form:g,children:[P===void 0?o.jsx("option",{value:""}):null,Array.from(z)]},V):null]})})};Oz.displayName=Ru;var Pz="SelectTrigger",Tz=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=i_(r),s=yc(Pz,r),l=s.disabled||n,c=et(t,s.onTriggerChange),u=n_(r),d=y.useRef("touch"),[f,h,p]=tV(m=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===s.value),x=rV(v,m,b);x!==void 0&&s.onValueChange(x.value)}),g=m=>{l||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(jv,{asChild:!0,...a,children:o.jsx(Le.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":eV(s.value)?"":void 0,...i,ref:c,onClick:pe(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:pe(i.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:pe(i.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&Nue.includes(m.key)&&(g(),m.preventDefault())})})})});Tz.displayName=Pz;var Az="SelectValue",Mz=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...l}=e,c=yc(Az,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=et(t,c.onValueNodeChange);return Ir(()=>{u(d)},[u,d]),o.jsx(Le.span,{...l,ref:f,style:{pointerEvents:"none"},children:eV(c.value)?o.jsx(o.Fragment,{children:s}):a})});Mz.displayName=Az;var Tue="SelectIcon",Iz=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return o.jsx(Le.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});Iz.displayName=Tue;var Aue="SelectPortal",$z=e=>o.jsx(Vh,{asChild:!0,...e});$z.displayName=Aue;var Du="SelectContent",Rz=y.forwardRef((e,t)=>{const r=yc(Du,e.__scopeSelect),[n,i]=y.useState();if(Ir(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?rs.createPortal(o.jsx(Dz,{scope:e.__scopeSelect,children:o.jsx(r_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(Lz,{...e,ref:t})});Rz.displayName=Du;var La=10,[Dz,xc]=Zh(Du),Mue="SelectContentImpl",Iue=$ce("SelectContent.RemoveScroll"),Lz=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...b}=e,x=yc(Du,r),[w,_]=y.useState(null),[N,j]=y.useState(null),k=et(t,R=>_(R)),[O,P]=y.useState(null),[A,$]=y.useState(null),M=n_(r),[z,L]=y.useState(!1),V=y.useRef(!1);y.useEffect(()=>{if(w)return e_(w)},[w]),Qw();const D=y.useCallback(R=>{const[q,...H]=M().map(J=>J.ref.current),[X]=H.slice(-1),te=document.activeElement;for(const J of R)if(J===te||(J==null||J.scrollIntoView({block:"nearest"}),J===q&&N&&(N.scrollTop=0),J===X&&N&&(N.scrollTop=N.scrollHeight),J==null||J.focus(),document.activeElement!==te))return},[M,N]),U=y.useCallback(()=>D([O,w]),[D,O,w]);y.useEffect(()=>{z&&U()},[z,U]);const{onOpenChange:I,triggerPointerDownPosRef:F}=x;y.useEffect(()=>{if(w){let R={x:0,y:0};const q=X=>{var te,J;R={x:Math.abs(Math.round(X.pageX)-(((te=F.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(X.pageY)-(((J=F.current)==null?void 0:J.y)??0))}},H=X=>{R.x<=10&&R.y<=10?X.preventDefault():w.contains(X.target)||I(!1),document.removeEventListener("pointermove",q),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",H,{capture:!0})}}},[w,I,F]),y.useEffect(()=>{const R=()=>I(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[I]);const[G,ne]=tV(R=>{const q=M().filter(te=>!te.disabled),H=q.find(te=>te.ref.current===document.activeElement),X=rV(q,R,H);X&&setTimeout(()=>X.ref.current.focus())}),Z=y.useCallback((R,q,H)=>{const X=!V.current&&!H;(x.value!==void 0&&x.value===q||X)&&(P(R),X&&(V.current=!0))},[x.value]),S=y.useCallback(()=>w==null?void 0:w.focus(),[w]),C=y.useCallback((R,q,H)=>{const X=!V.current&&!H;(x.value!==void 0&&x.value===q||X)&&$(R)},[x.value]),E=n==="popper"?Nk:Fz,B=E===Nk?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(Dz,{scope:r,content:w,viewport:N,onViewportChange:j,itemRefCallback:Z,selectedItem:O,onItemLeave:S,itemTextRefCallback:C,focusSelectedItem:U,selectedItemText:A,position:n,isPositioned:z,searchRef:G,children:o.jsx(Ev,{as:Iue,allowPinchZoom:!0,children:o.jsx(Cv,{asChild:!0,trapped:x.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:pe(i,R=>{var q;(q=x.trigger)==null||q.focus({preventScroll:!0}),R.preventDefault()}),children:o.jsx(td,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(E,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:R=>R.preventDefault(),...b,...B,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:pe(b.onKeyDown,R=>{const q=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!q&&R.key.length===1&&ne(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let X=M().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(R.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const te=R.target,J=X.indexOf(te);X=X.slice(J+1)}setTimeout(()=>D(X)),R.preventDefault()}})})})})})})});Lz.displayName=Mue;var $ue="SelectItemAlignedPosition",Fz=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=yc(Du,r),s=xc(Du,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=et(t,k=>d(k)),h=n_(r),p=y.useRef(!1),g=y.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=s,w=y.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&v&&b){const k=a.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(a.dir!=="rtl"){const te=A.left-O.left,J=P.left-te,je=k.left-J,Oe=k.width+je,it=Math.max(Oe,O.width),qe=window.innerWidth-La,Ge=jk(J,[La,Math.max(La,qe-it)]);l.style.minWidth=Oe+"px",l.style.left=Ge+"px"}else{const te=O.right-A.right,J=window.innerWidth-P.right-te,je=window.innerWidth-k.right-J,Oe=k.width+je,it=Math.max(Oe,O.width),qe=window.innerWidth-La,Ge=jk(J,[La,Math.max(La,qe-it)]);l.style.minWidth=Oe+"px",l.style.right=Ge+"px"}const $=h(),M=window.innerHeight-La*2,z=m.scrollHeight,L=window.getComputedStyle(u),V=parseInt(L.borderTopWidth,10),D=parseInt(L.paddingTop,10),U=parseInt(L.borderBottomWidth,10),I=parseInt(L.paddingBottom,10),F=V+D+z+I+U,G=Math.min(v.offsetHeight*5,F),ne=window.getComputedStyle(m),Z=parseInt(ne.paddingTop,10),S=parseInt(ne.paddingBottom,10),C=k.top+k.height/2-La,E=M-C,B=v.offsetHeight/2,R=v.offsetTop+B,q=V+D+R,H=F-q;if(q<=C){const te=$.length>0&&v===$[$.length-1].ref.current;l.style.bottom="0px";const J=u.clientHeight-m.offsetTop-m.offsetHeight,je=Math.max(E,B+(te?S:0)+J+U),Oe=q+je;l.style.height=Oe+"px"}else{const te=$.length>0&&v===$[0].ref.current;l.style.top="0px";const je=Math.max(C,V+m.offsetTop+(te?Z:0)+B)+H;l.style.height=je+"px",m.scrollTop=q-C+m.offsetTop}l.style.margin=`${La}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,m,v,b,a.dir,n]);Ir(()=>w(),[w]);const[_,N]=y.useState();Ir(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=y.useCallback(k=>{k&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return o.jsx(Due,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Le.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Fz.displayName=$ue;var Rue="SelectPopperPosition",Nk=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=La,...a}=e,s=i_(r);return o.jsx(zw,{...s,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nk.displayName=Rue;var[Due,NP]=Zh(Du,{}),kk="SelectViewport",Bz=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=xc(kk,r),s=NP(kk,r),l=et(t,a.onViewportChange),c=y.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(r_.Slot,{scope:r,children:o.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-La*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(m,v);if(b<g){const x=b+p,w=Math.min(g,x),_=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Bz.displayName=kk;var Uz="SelectGroup",[Lue,Fue]=Zh(Uz),Bue=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=is();return o.jsx(Lue,{scope:r,id:i,children:o.jsx(Le.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Bue.displayName=Uz;var zz="SelectLabel",Vz=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Fue(zz,r);return o.jsx(Le.div,{id:i.id,...n,ref:t})});Vz.displayName=zz;var Fb="SelectItem",[Uue,Wz]=Zh(Fb),Hz=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=e,l=yc(Fb,r),c=xc(Fb,r),u=l.value===n,[d,f]=y.useState(a??""),[h,p]=y.useState(!1),g=et(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,i)}),m=is(),v=y.useRef("touch"),b=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Uue,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:y.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(r_.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:o.jsx(Le.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:g,onFocus:pe(s.onFocus,()=>p(!0)),onBlur:pe(s.onBlur,()=>p(!1)),onClick:pe(s.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:pe(s.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:pe(s.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:pe(s.onPointerMove,x=>{var w;v.current=x.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(s.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:pe(s.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(kue.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});Hz.displayName=Fb;var cm="SelectItemText",qz=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,s=yc(cm,r),l=xc(cm,r),c=Wz(cm,r),u=Pue(cm,r),[d,f]=y.useState(null),h=et(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=y.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Ir(()=>(m(g),()=>v(g)),[m,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(Le.span,{id:c.textId,...a,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?rs.createPortal(a.children,s.valueNode):null]})});qz.displayName=cm;var Gz="SelectItemIndicator",Kz=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Wz(Gz,r).isSelected?o.jsx(Le.span,{"aria-hidden":!0,...n,ref:t}):null});Kz.displayName=Gz;var Ck="SelectScrollUpButton",Yz=y.forwardRef((e,t)=>{const r=xc(Ck,e.__scopeSelect),n=NP(Ck,e.__scopeSelect),[i,a]=y.useState(!1),s=et(t,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(Xz,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Yz.displayName=Ck;var Ek="SelectScrollDownButton",Jz=y.forwardRef((e,t)=>{const r=xc(Ek,e.__scopeSelect),n=NP(Ek,e.__scopeSelect),[i,a]=y.useState(!1),s=et(t,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(Xz,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Jz.displayName=Ek;var Xz=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=xc("SelectScrollButton",r),s=y.useRef(null),l=n_(r),c=y.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Ir(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Le.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:pe(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{c()})})}),zue="SelectSeparator",Qz=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Le.div,{"aria-hidden":!0,...n,ref:t})});Qz.displayName=zue;var Ok="SelectArrow",Vue=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=i_(r),a=yc(Ok,r),s=xc(Ok,r);return a.open&&s.position==="popper"?o.jsx(Vw,{...i,...n,ref:t}):null});Vue.displayName=Ok;var Wue="SelectBubbleInput",Zz=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=y.useRef(null),a=et(n,i),s=Zw(t);return y.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[s,t]),o.jsx(Le.select,{...r,style:{...lU,...r.style},ref:a,defaultValue:t})});Zz.displayName=Wue;function eV(e){return e===""||e===void 0}function tV(e){const t=Or(e),r=y.useRef(""),n=y.useRef(0),i=y.useCallback(s=>{const l=r.current+s;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function rV(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=Hue(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Hue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var que=Oz,nV=Tz,Gue=Mz,Kue=Iz,Yue=$z,iV=Rz,Jue=Bz,aV=Vz,sV=Hz,Xue=qz,Que=Kz,oV=Yz,lV=Jz,cV=Qz;const vr=que,yr=Gue,lr=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(nV,{ref:n,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(Kue,{asChild:!0,children:o.jsx(PU,{className:"h-4 w-4 opacity-50"})})]}));lr.displayName=nV.displayName;const uV=y.forwardRef(({className:e,...t},r)=>o.jsx(oV,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(gee,{className:"h-4 w-4"})}));uV.displayName=oV.displayName;const dV=y.forwardRef(({className:e,...t},r)=>o.jsx(lV,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(PU,{className:"h-4 w-4"})}));dV.displayName=lV.displayName;const cr=y.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>o.jsx(Yue,{children:o.jsxs(iV,{ref:i,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(uV,{}),o.jsx(Jue,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(dV,{})]})}));cr.displayName=iV.displayName;const Zue=y.forwardRef(({className:e,...t},r)=>o.jsx(aV,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Zue.displayName=aV.displayName;const We=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(sV,{ref:n,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Que,{children:o.jsx(Rw,{className:"h-4 w-4"})})}),o.jsx(Xue,{children:t})]}));We.displayName=sV.displayName;const ede=y.forwardRef(({className:e,...t},r)=>o.jsx(cV,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));ede.displayName=cV.displayName;const tde="modulepreload",rde=function(e){return"/"+e},j$={},qo=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=rde(c),c in j$)return;j$[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":tde,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Jl="";class Dx extends Error{constructor(r,n){super(r);d2(this,"status");this.name="APIError",this.status=n}}const Om=async()=>{const{supabase:e}=await qo(async()=>{const{supabase:r}=await Promise.resolve().then(()=>Wo);return{supabase:r}},void 0),{data:{session:t}}=await e.auth.getSession();return(t==null?void 0:t.access_token)||null};async function Be(e,t={}){const r=await Om(),n={"Content-Type":"application/json",...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);const i=await fetch(`${Jl}${e}`,{...t,headers:n});if(!i.ok){const a=await i.json().catch(()=>({}));throw new Dx(a.detail||a.message||"API request failed",i.status)}return i.json()}const nde={list:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.limit&&t.set("limit",e.limit.toString());const r=t.toString()?`?${t}`:"";return Be(`/api/prescriptions${r}`)},get:e=>Be(`/api/prescriptions/${e}`),create:e=>Be("/api/prescriptions",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>Be(`/api/prescriptions/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Be(`/api/prescriptions/${e}/cancel`,{method:"POST"}),getPDF:e=>Be(`/api/prescriptions/${e}/pdf`),generatePDF:e=>Be("/api/prescriptions/generate-pdf",{method:"POST",body:JSON.stringify(e)})},fV={requestPasswordReset:e=>Be("/api/auth/password/reset-request",{method:"POST",body:JSON.stringify({email:e})}),confirmPasswordReset:(e,t)=>Be("/api/auth/password/reset-confirm",{method:"POST",body:JSON.stringify({token:e,new_password:t})}),verifyToken:e=>Be(`/api/auth/verify-token?token=${e}`),checkAccount:e=>fetch(`${Jl}/api/auth/check-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json()),sendSetupLink:e=>fetch(`${Jl}/api/auth/send-setup-link`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json())},an={createConversation:e=>Be("/api/chat/conversations",{method:"POST",body:JSON.stringify({initial_message:e})}),getConversations:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.assigned_to_me&&t.set("assigned_to_me","true"),e!=null&&e.unassigned_only&&t.set("unassigned_only","true");const r=t.toString()?`?${t}`:"";return Be(`/api/chat/conversations${r}`)},getUnassignedConversations:()=>Be("/api/chat/conversations/unassigned"),getMyChats:()=>Be("/api/chat/conversations/my-chats"),getConversation:e=>Be(`/api/chat/conversations/${e}`),claimConversation:e=>Be(`/api/chat/conversations/${e}/claim`,{method:"POST"}),reassignConversation:(e,t)=>Be(`/api/chat/conversations/${e}/reassign`,{method:"POST",body:JSON.stringify({receptionist_id:t})}),updateConversationStatus:(e,t)=>Be(`/api/chat/conversations/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),updatePatientType:(e,t)=>Be(`/api/chat/conversations/${e}/patient-type`,{method:"PATCH",body:JSON.stringify({patient_type:t})}),getMessages:(e,t=100)=>Be(`/api/chat/conversations/${e}/messages?limit=${t}`),sendMessage:(e,t,r="text",n,i)=>Be(`/api/chat/conversations/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,message_type:r,file_url:n,file_name:i})}),markAsRead:e=>Be(`/api/chat/conversations/${e}/read`,{method:"POST"}),getStats:()=>Be("/api/chat/stats")},_o={getFeeSchedule:()=>Be("/api/bookings/fee-schedule"),getAvailableClinicians:()=>Be("/api/bookings/clinicians/available"),create:e=>Be("/api/bookings",{method:"POST",body:JSON.stringify(e)}),list:e=>{const t=new URLSearchParams;e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.clinician_id&&t.set("clinician_id",e.clinician_id),e!=null&&e.status&&t.set("status",e.status);const r=t.toString()?`?${t}`:"";return Be(`/api/bookings/${r}`)},get:e=>Be(`/api/bookings/${e}`),update:(e,t)=>Be(`/api/bookings/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Be(`/api/bookings/${e}`,{method:"DELETE"}),getMyInvoices:e=>{const t=e?`?status=${e}`:"";return Be(`/api/bookings/invoices/my-invoices${t}`)},getInvoice:e=>Be(`/api/bookings/invoices/${e}`),getInvoicePDF:async e=>{const{data:{session:t}}=await supabase.auth.getSession(),r={};t!=null&&t.access_token&&(r.Authorization=`Bearer ${t.access_token}`);const n=await fetch(`${Jl}/api/bookings/invoices/${e}/pdf`,{headers:r});if(!n.ok)throw new Error("Failed to download PDF");return n.blob()},downloadInvoicePDF:async(e,t)=>{try{const r=await _o.getInvoicePDF(e),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=t||`invoice_${e.slice(0,8)}.pdf`,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(n),document.body.removeChild(i)}catch(r){throw console.error("Failed to download invoice PDF:",r),r}},updateInvoiceStatus:(e,t,r)=>Be(`/api/bookings/invoices/${e}/status?status=${t}${r?`&payment_reference=${r}`:""}`,{method:"PATCH"})},S$={createRoom:e=>Be("/api/video/room",{method:"POST",body:JSON.stringify({appointment_id:e})}),createToken:(e,t,r=!1)=>Be("/api/video/token",{method:"POST",body:JSON.stringify({room_name:e,user_name:t,is_owner:r})}),getRoom:e=>Be(`/api/video/room/${e}`),checkHealth:()=>Be("/api/video/health")},cl={getSummary:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Be(`/api/admin/analytics/summary?${n}`)},getPeakTimes:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Be(`/api/admin/analytics/peak-times?${n}`)},getCancellationStats:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Be(`/api/admin/analytics/cancellation-reasons?${n}`)},getConversionFunnel:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Be(`/api/admin/analytics/conversion-funnel?${n}`)},getNoShowRates:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Be(`/api/admin/analytics/no-show-rates?${n}`)},getReceptionistWorkload:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Be(`/api/admin/analytics/receptionist-workload?${n}`)},getTimestampTrends:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Be(`/api/admin/analytics/timestamp-trends?${n}`)},exportCSV:async(e="month",t,r)=>{const n=await Om(),i=new URLSearchParams({period:e});t&&i.set("start_date",t),r&&i.set("end_date",r);const a=await fetch(`${Jl}/api/admin/analytics/export/csv?${i}`,{headers:{Authorization:`Bearer ${n}`}});if(!a.ok)throw new Error("Failed to export CSV");const s=await a.blob(),l=window.URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download=`quadcare_analytics_${e}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}},$p={preview:async(e,t)=>{const r=await Om(),n=new FormData;n.append("file",e),t&&n.append("password",t);const i=await fetch(`${Jl}/api/admin/bulk-import/preview`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n});if(!i.ok){const a=await i.json().catch(()=>({}));throw new Dx(a.detail||"Preview failed",i.status)}return i.json()},importStudents:async(e,t,r,n)=>{const i=await Om(),a=new FormData;a.append("file",e),t&&a.append("password",t),r&&a.append("corporate_client",r),n&&a.append("client_type",n);const s=await fetch(`${Jl}/api/admin/bulk-import/students`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:a});if(!s.ok){const l=await s.json().catch(()=>({}));throw new Dx(l.detail||"Import failed",s.status)}return s.json()},startImport:async(e,t,r,n)=>{const i=await Om(),a=new FormData;a.append("file",e),t&&a.append("password",t),r&&a.append("corporate_client",r),n&&a.append("client_type",n);const s=await fetch(`${Jl}/api/admin/bulk-import/start`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:a});if(!s.ok){const l=await s.json().catch(()=>({}));throw new Dx(l.detail||"Failed to start import",s.status)}return s.json()},getJobStatus:e=>Be(`/api/admin/bulk-import/jobs/${e}`),cancelJob:e=>Be(`/api/admin/bulk-import/jobs/${e}/cancel`,{method:"POST"}),listJobs:()=>Be("/api/admin/bulk-import/jobs"),getTemplate:()=>Be("/api/admin/bulk-import/template"),getCorporateClients:()=>Be("/api/admin/bulk-import/corporate-clients"),createCorporateClient:e=>Be("/api/admin/bulk-import/corporate-clients",{method:"POST",body:JSON.stringify(e)}),getAnalyticsByClient:()=>Be("/api/admin/bulk-import/analytics/by-client")},Ly={preview:e=>{const t=e?`?corporate_client_id=${e}`:"";return Be(`/api/admin/welcome-emails/preview${t}`)},send:e=>Be("/api/admin/welcome-emails/send",{method:"POST",body:JSON.stringify(e)}),getJobStatus:e=>Be(`/api/admin/welcome-emails/jobs/${e}`),listJobs:()=>Be("/api/admin/welcome-emails/jobs"),sendTest:()=>Be("/api/admin/welcome-emails/test",{method:"POST"})},Ov={upload:e=>Be("/api/profile-photo/upload",{method:"POST",body:JSON.stringify({image_data:e})}),getUrl:e=>Be(`/api/profile-photo/url/${e}`),delete:()=>Be("/api/profile-photo/",{method:"DELETE"})},ide=({onBack:e})=>{const[t,r]=y.useState(""),[n,i]=y.useState(!1),[a,s]=y.useState(!1),l=async c=>{if(c.preventDefault(),!t){ce.error("Please enter your email address");return}i(!0);try{await fV.requestPasswordReset(t),s(!0),ce.success("Password reset link sent!")}catch{s(!0)}finally{i(!1)}};return a?o.jsx(oe,{className:"w-full max-w-md mx-auto",children:o.jsxs(de,{className:"pt-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(mn,{className:"w-8 h-8 text-success"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),o.jsxs("p",{className:"text-muted-foreground mb-6",children:["If an account exists with ",o.jsx("strong",{children:t}),", you will receive a password reset link shortly."]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Please check your spam folder if you don't see the email within a few minutes."}),o.jsxs(Q,{onClick:e,variant:"outline",className:"w-full",children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})}):o.jsxs(oe,{className:"w-full max-w-md mx-auto",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary flex items-center justify-center mx-auto mb-4",children:o.jsx(Rs,{className:"w-6 h-6 text-primary-foreground"})}),o.jsx(_e,{children:"Reset Password"}),o.jsx(Ce,{children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsx(de,{children:o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"email",children:"Email Address"}),o.jsx(nt,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:c=>r(c.target.value),required:!0,disabled:n})]}),o.jsx(Q,{type:"submit",className:"w-full",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})}),o.jsxs(Q,{type:"button",variant:"ghost",className:"w-full",onClick:e,disabled:n,children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})})]})},ade=Xh({email:mr().email("Please enter a valid email address")}),sde=Xh({password:mr().min(6,"Password must be at least 6 characters")}),ode=Xh({password:mr().min(8,"Password must be at least 8 characters"),confirm_password:mr()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}),lde=Xh({first_name:mr().min(1,"First name is required").max(50,"First name too long"),last_name:mr().min(1,"Last name is required").max(50,"Last name too long"),email:mr().email("Please enter a valid email address"),password:mr().min(8,"Password must be at least 8 characters"),confirm_password:mr(),role:wce(["patient","nurse","doctor","receptionist"]),hpcsa_number:mr().optional()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}).refine(e=>!((e.role==="nurse"||e.role==="doctor")&&!e.hpcsa_number),{message:"HPCSA number is required for healthcare professionals",path:["hpcsa_number"]}),cde=()=>{var z,L;const[e,t]=y.useState("email"),[r,n]=y.useState(""),[i,a]=y.useState(null),[s,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState("patient"),{signIn:h,signUp:p,user:g,role:m}=Dr(),v=zn(),b=no(),{toast:x}=RO();(L=(z=b.state)==null?void 0:z.from)!=null&&L.pathname,y.useEffect(()=>{g&&m&&v({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"}[m],{replace:!0})},[g,m,v]);const w=tf({resolver:rf(ade),defaultValues:{email:""}}),_=tf({resolver:rf(sde),defaultValues:{password:""}}),N=tf({resolver:rf(ode),defaultValues:{password:"",confirm_password:""}}),j=tf({resolver:rf(lde),defaultValues:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",role:"patient",hpcsa_number:""}}),k=async V=>{u(!0);const D=V.email.toLowerCase().trim();n(D);try{const U=await fV.checkAccount(D);U!=null&&U.data?(a(U.data),U.data.exists?U.data.needs_password_setup?t("set-password"):t("password"):(x({title:"No account found",description:"Let's create your account!"}),j.setValue("email",D),t("signup"))):(j.setValue("email",D),t("signup"))}catch(U){console.error("Account check failed:",U),t("password")}u(!1)},O=async V=>{u(!0);const{error:D}=await h(r,V.password);D&&x({variant:"destructive",title:"Login failed",description:D.message==="Invalid login credentials"?"Invalid password. Please try again.":D.message}),u(!1)},P=async V=>{u(!0);try{const{error:D}=await Me.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/auth?type=recovery`});if(D)throw D;x({title:"Check your email!",description:"We've sent you a link to set your password. Click it to complete setup."}),t("email"),a(null),w.reset()}catch(D){console.error("Set password failed:",D),x({variant:"destructive",title:"Failed to send password setup email",description:D.message||"Please try again."})}u(!1)},A=async V=>{u(!0);const{error:D}=await p(V.email,V.password,{first_name:V.first_name,last_name:V.last_name,role:V.role,hpcsa_number:V.hpcsa_number});D?D.message.includes("already registered")?(x({variant:"destructive",title:"Account exists",description:"An account with this email already exists. Please sign in."}),t("email")):x({variant:"destructive",title:"Signup failed",description:D.message}):x({title:"Account created!",description:"Welcome to Quadcare Telehealth. Redirecting..."}),u(!1)},$=V=>{f(V),j.setValue("role",V)},M=()=>{t("email"),a(null),_.reset(),N.reset()};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 px-4 py-12",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-16 w-auto",onError:V=>{V.currentTarget.style.display="none"}})}),e==="password-reset"?o.jsx(ide,{onBack:()=>t("email")}):e==="set-password"&&i?o.jsxs(oe,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-4 rounded-full bg-green-100 dark:bg-green-900/30",children:o.jsx(Vee,{className:"w-10 h-10 text-green-600"})})}),o.jsxs(_e,{className:"text-2xl",children:["Welcome",i.first_name?`, ${i.first_name}`:"","!"]}),o.jsx(Ce,{className:"mt-2",children:"Set a password to activate your account."})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx(bb,{className:"w-4 h-4 text-green-600"}),o.jsxs("span",{children:["Pre-registered by ",o.jsx("strong",{children:"Campus Africa"})]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-sm flex items-center gap-2",children:[o.jsx(Rs,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:r})]}),o.jsxs("form",{onSubmit:N.handleSubmit(P),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"new-password",children:"Create Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"new-password",type:s?"text":"password",placeholder:"At least 8 characters",className:"pl-10 pr-10",...N.register("password")}),o.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(i1,{className:"w-4 h-4"}):o.jsx(Ax,{className:"w-4 h-4"})})]}),N.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.password.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"confirm-new-password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"confirm-new-password",type:"password",placeholder:"Confirm your password",className:"pl-10",...N.register("confirm_password")})]}),N.formState.errors.confirm_password&&o.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.confirm_password.message})]}),o.jsx(Q,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending setup email..."]}):o.jsxs(o.Fragment,{children:[o.jsx(mn,{className:"w-4 h-4 mr-2"}),"Set Password & Activate"]})})]}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"We'll send you an email with a secure link to set your password."}),o.jsx("button",{type:"button",onClick:M,className:"w-full text-sm text-muted-foreground hover:text-foreground",children:" Use a different email"})]})]}):e==="password"?o.jsxs(oe,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(_e,{className:"text-2xl",children:"Welcome back!"}),o.jsx(Ce,{children:"Enter your password to continue"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-sm flex items-center gap-2",children:[o.jsx(Rs,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:r}),o.jsx("button",{type:"button",onClick:M,className:"ml-auto text-primary text-xs hover:underline",children:"Change"})]}),o.jsxs("form",{onSubmit:_.handleSubmit(O),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"password",type:s?"text":"password",placeholder:"",className:"pl-10 pr-10",autoFocus:!0,..._.register("password")}),o.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(i1,{className:"w-4 h-4"}):o.jsx(Ax,{className:"w-4 h-4"})})]}),_.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.password.message})]}),o.jsx(Q,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]}),o.jsx("button",{type:"button",onClick:()=>t("password-reset"),className:"w-full text-sm text-primary hover:underline",children:"Forgot your password?"})]})]}):e==="signup"?o.jsxs(oe,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(_e,{className:"text-2xl",children:"Create your account"}),o.jsx(Ce,{children:"Join Quadcare Telehealth for quality healthcare"})]}),o.jsxs(de,{children:[o.jsxs("form",{onSubmit:j.handleSubmit(A),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"first_name",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Rr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"first_name",placeholder:"John",className:"pl-10",...j.register("first_name")})]}),j.formState.errors.first_name&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.first_name.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"last_name",children:"Last Name"}),o.jsx(nt,{id:"last_name",placeholder:"Doe",...j.register("last_name")}),j.formState.errors.last_name&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.last_name.message})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"signup-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"signup-email",type:"email",className:"pl-10 bg-muted/50",readOnly:!0,...j.register("email")})]}),j.formState.errors.email&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.email.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"role",children:"I am a"}),o.jsxs(vr,{value:d,onValueChange:$,children:[o.jsx(lr,{children:o.jsx(yr,{placeholder:"Select your role"})}),o.jsxs(cr,{children:[o.jsx(We,{value:"patient",children:"Patient"}),o.jsx(We,{value:"receptionist",children:"Receptionist"}),o.jsx(We,{value:"nurse",children:"Nurse"}),o.jsx(We,{value:"doctor",children:"Doctor"})]})]})]}),(d==="nurse"||d==="doctor")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"hpcsa_number",children:"HPCSA Registration Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(wv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"hpcsa_number",placeholder:"MP 0123456",className:"pl-10",...j.register("hpcsa_number")})]}),j.formState.errors.hpcsa_number&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.hpcsa_number.message}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for healthcare professionals per HPCSA guidelines"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"signup-password",type:s?"text":"password",placeholder:"At least 8 characters",className:"pl-10 pr-10",...j.register("password")}),o.jsx("button",{type:"button",onClick:()=>l(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s?o.jsx(i1,{className:"w-4 h-4"}):o.jsx(Ax,{className:"w-4 h-4"})})]}),j.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.password.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"confirm_password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"confirm_password",type:"password",placeholder:"",className:"pl-10",...j.register("confirm_password")})]}),j.formState.errors.confirm_password&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.confirm_password.message})]}),o.jsx(Q,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating account..."]}):"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("button",{type:"button",onClick:M,className:"text-sm text-muted-foreground hover:text-foreground",children:" Back to login"})})]})]}):o.jsxs(oe,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(_e,{className:"text-2xl",children:"Sign in to Quadcare"}),o.jsx(Ce,{children:"Enter your email to continue"})]}),o.jsxs(de,{children:[o.jsxs("form",{onSubmit:w.handleSubmit(k),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"email",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10",autoFocus:!0,...w.register("email")})]}),w.formState.errors.email&&o.jsx("p",{className:"text-sm text-destructive",children:w.formState.errors.email.message})]}),o.jsx(Q,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking..."]}):o.jsxs(o.Fragment,{children:["Continue",o.jsx(ns,{className:"w-4 h-4 ml-2"})]})})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"New to Quadcare?"})})]}),o.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"Enter your email above. If you don't have an account, we'll help you create one."})]}),o.jsx("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:o.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[o.jsx("strong",{children:"Campus Africa students:"})," Your account is pre-registered.",o.jsx("br",{}),"Just enter your email to get started!"]})})]})]}),o.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["By continuing, you agree to our Terms of Service and Privacy Policy.",o.jsx("br",{}),"Your data is protected under POPIA regulations."]})]})})},hV=y.createContext(void 0),pV=()=>{const e=y.useContext(hV);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},mV=({children:e})=>{const{user:t,session:r}=Dr(),[n,i]=y.useState([]),[a,s]=y.useState(null),[l,c]=y.useState([]),[u,d]=y.useState(!1),[f,h]=y.useState(null),p=y.useRef(null);y.useEffect(()=>{p.current=a},[a]);const g=n.reduce((O,P)=>O+(P.unread_count||0),0),m=y.useCallback(async()=>{if(t){d(!0),h(null);try{const O=await an.getConversations();i(O||[])}catch(O){console.error("Error loading conversations:",O),h(O.message||"Failed to load conversations")}finally{d(!1)}}},[t]),v=y.useCallback(async()=>{try{return await an.getUnassignedConversations()||[]}catch(O){return console.error("Error loading unassigned conversations:",O),[]}},[]),b=y.useCallback(async()=>{try{return await an.getMyChats()||[]}catch(O){return console.error("Error loading my chats:",O),[]}},[]),x=y.useCallback(async O=>{d(!0),h(null);try{const P=await an.getConversation(O);console.log("[ChatContext] Selected conversation with names:",{id:P.id,patient_name:P.patient_name,receptionist_name:P.receptionist_name}),s(P);const A=await an.getMessages(O);c(A||[]),await an.markAsRead(O),i($=>$.map(M=>M.id===O?{...P,unread_count:0}:M))}catch(P){console.error("Error loading conversation:",P),h(P.message||"Failed to load conversation")}finally{d(!1)}},[]),w=y.useCallback(async O=>{d(!0),h(null);try{const P=await an.createConversation(O);i($=>$.some(M=>M.id===P.id)?$:[P,...$]),s(P);const A=await an.getMessages(P.id);return c(A||[]),P}catch(P){throw console.error("Error creating conversation:",P),h(P.message||"Failed to create conversation"),P}finally{d(!1)}},[]),_=y.useCallback(async(O,P="text",A,$)=>{if(!a)throw new Error("No conversation selected");try{const M=await an.sendMessage(a.id,O,P,A,$);c(z=>z.some(L=>L.id===M.id)?z:[...z,M]),i(z=>z.map(L=>L.id===a.id?{...L,last_message:O,last_message_at:new Date().toISOString()}:L))}catch(M){throw console.error("Error sending message:",M),M}},[a]),N=y.useCallback(async O=>{try{await an.claimConversation(O),await x(O),await m()}catch(P){throw console.error("Error claiming conversation:",P),P}},[x,m]),j=y.useCallback(async(O,P)=>{try{await an.updateConversationStatus(O,P),i(A=>A.map($=>$.id===O?{...$,status:P}:$)),(a==null?void 0:a.id)===O&&s(A=>A?{...A,status:P}:null)}catch(A){throw console.error("Error updating status:",A),A}},[a]),k=y.useCallback(async()=>{if(a)try{await an.markAsRead(a.id),i(O=>O.map(P=>P.id===a.id?{...P,unread_count:0}:P))}catch(O){console.error("Error marking as read:",O)}},[a]);return y.useEffect(()=>{if(!t||!r)return;const O=Me.channel("chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},A=>{var z;const $=A.new;console.log("[ChatContext] Realtime message received:",{id:$.id,sender_name:$.sender_name,sender_role:$.sender_role,content:(z=$.content)==null?void 0:z.substring(0,50)});const M=p.current;if(M&&$.conversation_id===M.id&&$.sender_id!==t.id){let L={...$};(!L.sender_name||L.sender_name===null)&&(L.sender_role==="patient"?L.sender_name=M.patient_name||"Patient":L.sender_role==="system"?L.sender_name="System":L.sender_name=M.receptionist_name||"Staff",console.log("[ChatContext] Enriched message sender_name to:",L.sender_name)),c(V=>V.some(D=>D.id===$.id)?V:[...V,L])}i(L=>L.map(V=>{var D;return V.id===$.conversation_id?{...V,last_message:(D=$.content)==null?void 0:D.substring(0,100),last_message_at:$.created_at,unread_count:V.id===(M==null?void 0:M.id)?0:(V.unread_count||0)+1}:V}))}).subscribe(),P=Me.channel("chat_conversations_changes").on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},A=>{const $=A.new,M=p.current;console.log("[ChatContext] Realtime conversation update:",A.eventType,{id:$.id,status:$.status,has_patient_name:!!$.patient_name,has_receptionist_name:!!$.receptionist_name}),A.eventType==="INSERT"?(i(z=>z.some(L=>L.id===$.id)?z:[{...$,patient_name:"Loading...",receptionist_name:null},...z]),setTimeout(async()=>{try{const z=await an.getConversation($.id);console.log("[ChatContext] Fetched enriched new conversation:",z.patient_name),i(L=>L.map(V=>V.id===z.id?z:V))}catch(z){console.error("[ChatContext] Failed to fetch enriched conversation:",z)}},500)):A.eventType==="UPDATE"&&(i(z=>z.map(L=>L.id===$.id?{...L,...$,patient_name:L.patient_name,receptionist_name:L.receptionist_name}:L)),(M==null?void 0:M.id)===$.id&&s(z=>z?{...z,...$,patient_name:z.patient_name,receptionist_name:z.receptionist_name}:null))}).subscribe();return()=>{Me.removeChannel(O),Me.removeChannel(P)}},[t,r]),y.useEffect(()=>{t&&m()},[t,m]),o.jsx(hV.Provider,{value:{conversations:n,currentConversation:a,messages:l,isLoading:u,error:f,unreadCount:g,loadConversations:m,loadUnassignedConversations:v,loadMyChats:b,selectConversation:x,createConversation:w,sendMessage:_,claimConversation:N,updateConversationStatus:j,markAsRead:k},children:e})},ude=$w("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ee({className:e,variant:t,...r}){return o.jsx("div",{className:be(ude({variant:t}),e),...r})}var O1="rovingFocusGroup.onEntryFocus",dde={bubbles:!1,cancelable:!0},Pv="RovingFocusGroup",[Pk,gV,fde]=Aw(Pv),[hde,ep]=Cn(Pv,[fde]),[pde,mde]=hde(Pv),vV=y.forwardRef((e,t)=>o.jsx(Pk.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Pk.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(gde,{...e,ref:t})})}));vV.displayName=Pv;var gde=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),p=et(t,h),g=Qh(a),[m,v]=ls({prop:s,defaultProp:l??null,onChange:c,caller:Pv}),[b,x]=y.useState(!1),w=Or(u),_=gV(r),N=y.useRef(!1),[j,k]=y.useState(0);return y.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(O1,w),()=>O.removeEventListener(O1,w)},[w]),o.jsx(pde,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:m,onItemFocus:y.useCallback(O=>v(O),[v]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(O=>O+1),[]),onFocusableItemRemove:y.useCallback(()=>k(O=>O-1),[]),children:o.jsx(Le.div,{tabIndex:b||j===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:pe(e.onMouseDown,()=>{N.current=!0}),onFocus:pe(e.onFocus,O=>{const P=!N.current;if(O.target===O.currentTarget&&P&&!b){const A=new CustomEvent(O1,dde);if(O.currentTarget.dispatchEvent(A),!A.defaultPrevented){const $=_().filter(D=>D.focusable),M=$.find(D=>D.active),z=$.find(D=>D.id===m),V=[M,z,...$].filter(Boolean).map(D=>D.ref.current);bV(V,d)}}N.current=!1}),onBlur:pe(e.onBlur,()=>x(!1))})})}),yV="RovingFocusGroupItem",xV=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...l}=e,c=is(),u=a||c,d=mde(yV,r),f=d.currentTabStopId===u,h=gV(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return y.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),o.jsx(Pk.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:o.jsx(Le.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:pe(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:pe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:pe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=xde(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?bde(w,_+1):w.slice(_+1)}setTimeout(()=>bV(w))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});xV.displayName=yV;var vde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yde(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xde(e,t,r){const n=yde(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vde[n]}function bV(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function bde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var kP=vV,CP=xV,a_="Tabs",[wde]=Cn(a_,[ep]),wV=ep(),[_de,EP]=wde(a_),_V=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Qh(l),[f,h]=ls({prop:n,onChange:i,defaultProp:a??"",caller:a_});return o.jsx(_de,{scope:r,baseId:is(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:o.jsx(Le.div,{dir:d,"data-orientation":s,...u,ref:t})})});_V.displayName=a_;var jV="TabsList",SV=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=EP(jV,r),s=wV(r);return o.jsx(kP,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(Le.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});SV.displayName=jV;var NV="TabsTrigger",kV=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,s=EP(NV,r),l=wV(r),c=OV(s.baseId,n),u=PV(s.baseId,n),d=n===s.value;return o.jsx(CP,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(Le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:pe(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:pe(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(n)})})})});kV.displayName=NV;var CV="TabsContent",EV=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=e,l=EP(CV,r),c=OV(l.baseId,n),u=PV(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(tn,{present:i||d,children:({present:h})=>o.jsx(Le.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});EV.displayName=CV;function OV(e,t){return`${e}-trigger-${t}`}function PV(e,t){return`${e}-content-${t}`}var jde=_V,TV=SV,AV=kV,MV=EV;const bc=jde,Zo=y.forwardRef(({className:e,...t},r)=>o.jsx(TV,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Zo.displayName=TV.displayName;const Gt=y.forwardRef(({className:e,...t},r)=>o.jsx(AV,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Gt.displayName=AV.displayName;const _r=y.forwardRef(({className:e,...t},r)=>o.jsx(MV,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_r.displayName=MV.displayName;function Sde(e){const t=Nde(e),r=y.forwardRef((n,i)=>{const{children:a,...s}=n,l=y.Children.toArray(a),c=l.find(Cde);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Nde(e){const t=y.forwardRef((r,n)=>{const{children:i,...a}=r;if(y.isValidElement(i)){const s=Ode(i),l=Ede(a,i.props);return i.type!==y.Fragment&&(l.ref=n?eo(n,s):s),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kde=Symbol("radix.slottable");function Cde(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kde}function Ede(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Ode(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var s_="Dialog",[IV,$V]=Cn(s_),[Pde,vs]=IV(s_),RV=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=ls({prop:n,defaultProp:i??!1,onChange:a,caller:s_});return o.jsx(Pde,{scope:t,triggerRef:l,contentRef:c,contentId:is(),titleId:is(),descriptionId:is(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};RV.displayName=s_;var DV="DialogTrigger",LV=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vs(DV,r),a=et(t,i.triggerRef);return o.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":TP(i.open),...n,ref:a,onClick:pe(e.onClick,i.onOpenToggle)})});LV.displayName=DV;var OP="DialogPortal",[Tde,FV]=IV(OP,{forceMount:void 0}),BV=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=vs(OP,t);return o.jsx(Tde,{scope:t,forceMount:r,children:y.Children.map(n,s=>o.jsx(tn,{present:r||a.open,children:o.jsx(Vh,{asChild:!0,container:i,children:s})}))})};BV.displayName=OP;var Bb="DialogOverlay",UV=y.forwardRef((e,t)=>{const r=FV(Bb,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=vs(Bb,e.__scopeDialog);return a.modal?o.jsx(tn,{present:n||a.open,children:o.jsx(Mde,{...i,ref:t})}):null});UV.displayName=Bb;var Ade=Sde("DialogOverlay.RemoveScroll"),Mde=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vs(Bb,r);return o.jsx(Ev,{as:Ade,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Le.div,{"data-state":TP(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Lu="DialogContent",zV=y.forwardRef((e,t)=>{const r=FV(Lu,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=vs(Lu,e.__scopeDialog);return o.jsx(tn,{present:n||a.open,children:a.modal?o.jsx(Ide,{...i,ref:t}):o.jsx($de,{...i,ref:t})})});zV.displayName=Lu;var Ide=y.forwardRef((e,t)=>{const r=vs(Lu,e.__scopeDialog),n=y.useRef(null),i=et(t,r.contentRef,n);return y.useEffect(()=>{const a=n.current;if(a)return e_(a)},[]),o.jsx(VV,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&a.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault())})}),$de=y.forwardRef((e,t)=>{const r=vs(Lu,e.__scopeDialog),n=y.useRef(!1),i=y.useRef(!1);return o.jsx(VV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),VV=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=vs(Lu,r),c=y.useRef(null),u=et(t,c);return Qw(),o.jsxs(o.Fragment,{children:[o.jsx(Cv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(td,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":TP(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Dde,{titleId:l.titleId}),o.jsx(Fde,{contentRef:c,descriptionId:l.descriptionId})]})]})}),PP="DialogTitle",WV=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vs(PP,r);return o.jsx(Le.h2,{id:i.titleId,...n,ref:t})});WV.displayName=PP;var HV="DialogDescription",qV=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vs(HV,r);return o.jsx(Le.p,{id:i.descriptionId,...n,ref:t})});qV.displayName=HV;var GV="DialogClose",KV=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vs(GV,r);return o.jsx(Le.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))})});KV.displayName=GV;function TP(e){return e?"open":"closed"}var YV="DialogTitleWarning",[Rde,JV]=mZ(YV,{contentName:Lu,titleName:PP,docsSlug:"dialog"}),Dde=({titleId:e})=>{const t=JV(YV),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Lde="DialogDescriptionWarning",Fde=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JV(Lde).contentName}}.`;return y.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},XV=RV,QV=LV,ZV=BV,AP=UV,MP=zV,IP=WV,$P=qV,RP=KV;const Yi=XV,Ub=QV,Bde=ZV,eW=y.forwardRef(({className:e,...t},r)=>o.jsx(AP,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));eW.displayName=AP.displayName;const bi=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Bde,{children:[o.jsx(eW,{}),o.jsxs(MP,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(RP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(to,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bi.displayName=MP.displayName;const wi=({className:e,...t})=>o.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wi.displayName="DialogHeader";const _f=({className:e,...t})=>o.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_f.displayName="DialogFooter";const _i=y.forwardRef(({className:e,...t},r)=>o.jsx(IP,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));_i.displayName=IP.displayName;const sc=y.forwardRef(({className:e,...t},r)=>o.jsx($P,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));sc.displayName=$P.displayName;function Ze(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ni(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function cn(e,t){const r=Ze(e);return isNaN(t)?Ni(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function fs(e,t){const r=Ze(e);if(isNaN(t))return Ni(e,NaN);if(!t)return r;const n=r.getDate(),i=Ni(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const DP=6048e5,Ude=864e5,tW=6e4,rW=36e5,Fy=43200,N$=1440;let zde={};function rd(){return zde}function hs(e,t){var l,c,u,d;const r=rd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Ze(e),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Fu(e){return hs(e,{weekStartsOn:1})}function nW(e){const t=Ze(e),r=t.getFullYear(),n=Ni(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Fu(n),a=Ni(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=Fu(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Qs(e){const t=Ze(e);return t.setHours(0,0,0,0),t}function Zf(e){const t=Ze(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ls(e,t){const r=Qs(e),n=Qs(t),i=+r-Zf(r),a=+n-Zf(n);return Math.round((i-a)/Ude)}function Vde(e){const t=nW(e),r=Ni(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Fu(r)}function xg(e,t){const r=t*7;return cn(e,r)}function Wde(e,t){return fs(e,t*12)}function Hde(e){let t;return e.forEach(function(r){const n=Ze(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function qde(e){let t;return e.forEach(r=>{const n=Ze(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Lx(e,t){const r=Ze(e),n=Ze(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function LP(e){return Ni(e,Date.now())}function Fn(e,t){const r=Qs(e),n=Qs(t);return+r==+n}function FP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gde(e){if(!FP(e)&&typeof e!="number")return!1;const t=Ze(e);return!isNaN(Number(t))}function eh(e,t){const r=Ze(e),n=Ze(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Kde(e,t,r){const n=hs(e,r),i=hs(t,r),a=+n-Zf(n),s=+i-Zf(i);return Math.round((a-s)/DP)}function Yde(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Jde(e,t){return+Ze(e)-+Ze(t)}function BP(e){const t=Ze(e);return t.setHours(23,59,59,999),t}function o_(e){const t=Ze(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Xde(e){const t=Ze(e);return+BP(t)==+o_(t)}function Qde(e,t){const r=Ze(e),n=Ze(t),i=Lx(r,n),a=Math.abs(eh(r,n));let s;if(a<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let l=Lx(r,n)===-i;Xde(Ze(e))&&a===1&&Lx(e,n)===1&&(l=!1),s=i*(a-Number(l))}return s===0?0:s}function Zde(e,t,r){const n=Jde(e,t)/1e3;return Yde(r==null?void 0:r.roundingMethod)(n)}function ji(e){const t=Ze(e);return t.setDate(1),t.setHours(0,0,0,0),t}function iW(e){const t=Ze(e),r=Ni(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function l_(e,t){var l,c,u,d;const r=rd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Ze(e),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function aW(e){return l_(e,{weekStartsOn:1})}const efe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tfe=(e,t,r)=>{let n;const i=efe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function P1(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const rfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ife={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},afe={date:P1({formats:rfe,defaultWidth:"full"}),time:P1({formats:nfe,defaultWidth:"full"}),dateTime:P1({formats:ife,defaultWidth:"full"})},sfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ofe=(e,t,r,n)=>sfe[e];function Rp(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const lfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ufe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ffe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pfe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mfe={ordinalNumber:pfe,era:Rp({values:lfe,defaultWidth:"wide"}),quarter:Rp({values:cfe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rp({values:ufe,defaultWidth:"wide"}),day:Rp({values:dfe,defaultWidth:"wide"}),dayPeriod:Rp({values:ffe,defaultWidth:"wide",formattingValues:hfe,defaultFormattingWidth:"wide"})};function Dp(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?vfe(l,f=>f.test(s)):gfe(l,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function gfe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function vfe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yfe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(i.length);return{value:s,rest:l}}}const xfe=/^(\d+)(th|st|nd|rd)?/i,bfe=/\d+/i,wfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_fe={any:[/^b/i,/^(a|c)/i]},jfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sfe={any:[/1/i,/2/i,/3/i,/4/i]},Nfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Efe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ofe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tfe={ordinalNumber:yfe({matchPattern:xfe,parsePattern:bfe,valueCallback:e=>parseInt(e,10)}),era:Dp({matchPatterns:wfe,defaultMatchWidth:"wide",parsePatterns:_fe,defaultParseWidth:"any"}),quarter:Dp({matchPatterns:jfe,defaultMatchWidth:"wide",parsePatterns:Sfe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Dp({matchPatterns:Nfe,defaultMatchWidth:"wide",parsePatterns:kfe,defaultParseWidth:"any"}),day:Dp({matchPatterns:Cfe,defaultMatchWidth:"wide",parsePatterns:Efe,defaultParseWidth:"any"}),dayPeriod:Dp({matchPatterns:Ofe,defaultMatchWidth:"any",parsePatterns:Pfe,defaultParseWidth:"any"})},UP={code:"en-US",formatDistance:tfe,formatLong:afe,formatRelative:ofe,localize:mfe,match:Tfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Afe(e){const t=Ze(e);return Ls(t,iW(t))+1}function sW(e){const t=Ze(e),r=+Fu(t)-+Vde(t);return Math.round(r/DP)+1}function oW(e,t){var d,f,h,p;const r=Ze(e),n=r.getFullYear(),i=rd(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Ni(e,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const l=hs(s,t),c=Ni(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=hs(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Mfe(e,t){var l,c,u,d;const r=rd(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=oW(e,t),a=Ni(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),hs(a,t)}function lW(e,t){const r=Ze(e),n=+hs(r,t)-+Mfe(r,t);return Math.round(n/DP)+1}function Ft(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ul={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ft(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ft(r+1,2)},d(e,t){return Ft(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ft(e.getHours()%12||12,t.length)},H(e,t){return Ft(e.getHours(),t.length)},m(e,t){return Ft(e.getMinutes(),t.length)},s(e,t){return Ft(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ft(i,t.length)}},kd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k$={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ul.y(e,t)},Y:function(e,t,r,n){const i=oW(e,n),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return Ft(s,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ft(a,t.length)},R:function(e,t){const r=nW(e);return Ft(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ft(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ft(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ft(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ul.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ft(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=lW(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Ft(i,t.length)},I:function(e,t,r){const n=sW(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ft(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ul.d(e,t)},D:function(e,t,r){const n=Afe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ft(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ft(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ft(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Ft(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=kd.noon:n===0?i=kd.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=kd.evening:n>=12?i=kd.afternoon:n>=4?i=kd.morning:i=kd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ul.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ul.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ft(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ft(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ul.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ul.s(e,t)},S:function(e,t){return ul.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return E$(n);case"XXXX":case"XX":return Hc(n);case"XXXXX":case"XXX":default:return Hc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return E$(n);case"xxxx":case"xx":return Hc(n);case"xxxxx":case"xxx":default:return Hc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+C$(n,":");case"OOOO":default:return"GMT"+Hc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+C$(n,":");case"zzzz":default:return"GMT"+Hc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ft(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ft(n,t.length)}};function C$(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Ft(a,2)}function E$(e,t){return e%60===0?(e>0?"-":"+")+Ft(Math.abs(e)/60,2):Hc(e,t)}function Hc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Ft(Math.trunc(n/60),2),a=Ft(n%60,2);return r+i+t+a}const O$=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ife=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return O$(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",O$(n,t)).replace("{{time}}",cW(i,t))},$fe={p:cW,P:Ife},Rfe=/^D+$/,Dfe=/^Y+$/,Lfe=["D","DD","YY","YYYY"];function Ffe(e){return Rfe.test(e)}function Bfe(e){return Dfe.test(e)}function Ufe(e,t,r){const n=zfe(e,t,r);if(console.warn(n),Lfe.includes(e))throw new RangeError(n)}function zfe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hfe=/^'([^]*?)'?$/,qfe=/''/g,Gfe=/[a-zA-Z]/;function Et(e,t,r){var d,f,h,p,g,m,v,b;const n=rd(),i=(r==null?void 0:r.locale)??n.locale??UP,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=Ze(e);if(!Gde(l))throw new RangeError("Invalid time value");let c=t.match(Wfe).map(x=>{const w=x[0];if(w==="p"||w==="P"){const _=$fe[w];return _(x,i.formatLong)}return x}).join("").match(Vfe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:Kfe(x)};if(k$[w])return{isToken:!0,value:x};if(w.match(Gfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Bfe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ffe(w))&&Ufe(w,t,String(e));const _=k$[w[0]];return _(l,w,i.localize,u)}).join("")}function Kfe(e){const t=e.match(Hfe);return t?t[1].replace(qfe,"'"):e}function Yfe(e,t,r){const n=rd(),i=(r==null?void 0:r.locale)??n.locale??UP,a=2520,s=Lx(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let c,u;s>0?(c=Ze(t),u=Ze(e)):(c=Ze(e),u=Ze(t));const d=Zde(u,c),f=(Zf(u)-Zf(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):h===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<N$){const g=Math.round(h/60);return i.formatDistance("aboutXHours",g,l)}else{if(h<a)return i.formatDistance("xDays",1,l);if(h<Fy){const g=Math.round(h/N$);return i.formatDistance("xDays",g,l)}else if(h<Fy*2)return p=Math.round(h/Fy),i.formatDistance("aboutXMonths",p,l)}if(p=Qde(u,c),p<12){const g=Math.round(h/Fy);return i.formatDistance("xMonths",g,l)}else{const g=p%12,m=Math.trunc(p/12);return g<3?i.formatDistance("aboutXYears",m,l):g<9?i.formatDistance("overXYears",m,l):i.formatDistance("almostXYears",m+1,l)}}function P$(e,t){return Yfe(e,LP(e),t)}function Jfe(e){const t=Ze(e),r=t.getFullYear(),n=t.getMonth(),i=Ni(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Xfe(){return Object.assign({},rd())}function Qfe(e){return Math.trunc(+Ze(e)/1e3)}function Zfe(e){const t=Ze(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function ehe(e,t){return Kde(Zfe(e),ji(e),t)+1}function Tk(e,t){const r=Ze(e),n=Ze(t);return r.getTime()>n.getTime()}function zb(e,t){const r=Ze(e),n=Ze(t);return+r<+n}function zP(e,t){const r=Ze(e),n=Ze(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function the(e,t){const r=Ze(e),n=Ze(t);return r.getFullYear()===n.getFullYear()}function rhe(e){return Fn(e,LP(e))}function nhe(e){return Fn(e,cn(LP(e),1))}function T1(e,t){return cn(e,-t)}function VP(e,t){const n=ohe(e);let i;if(n.date){const c=lhe(n.date,2);i=che(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(n.time&&(s=uhe(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(l=dhe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+s+l)}const By={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ihe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ahe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,she=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ohe(e){const t={},r=e.split(By.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],By.timeZoneDelimiter.test(t.date)&&(t.date=e.split(By.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=By.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function lhe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function che(e,t){if(t===null)return new Date(NaN);const r=e.match(ihe);if(!r)return new Date(NaN);const n=!!r[4],i=Lp(r[1]),a=Lp(r[2])-1,s=Lp(r[3]),l=Lp(r[4]),c=Lp(r[5])-1;if(n)return ghe(t,l,c)?fhe(t,l,c):new Date(NaN);{const u=new Date(0);return!phe(t,a,s)||!mhe(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,s)),u)}}function Lp(e){return e?parseInt(e):1}function uhe(e){const t=e.match(ahe);if(!t)return NaN;const r=A1(t[1]),n=A1(t[2]),i=A1(t[3]);return vhe(r,n,i)?r*rW+n*tW+i*1e3:NaN}function A1(e){return e&&parseFloat(e.replace(",","."))||0}function dhe(e){if(e==="Z")return 0;const t=e.match(she);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return yhe(n,i)?r*(n*rW+i*tW):NaN}function fhe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const hhe=[31,null,31,30,31,30,31,31,30,31,30,31];function uW(e){return e%400===0||e%4===0&&e%100!==0}function phe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(hhe[t]||(uW(e)?29:28))}function mhe(e,t){return t>=1&&t<=(uW(e)?366:365)}function ghe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function vhe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function yhe(e,t){return t>=0&&t<=59}function M1(e,t){const r=Ze(e),n=r.getFullYear(),i=r.getDate(),a=Ni(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const s=Jfe(a);return r.setMonth(t,Math.min(i,s)),r}function dW(e,t){const r=Ze(e);return r.setHours(t),r}function fW(e,t){const r=Ze(e);return r.setMinutes(t),r}function T$(e,t){const r=Ze(e);return isNaN(+r)?Ni(e,NaN):(r.setFullYear(t),r)}function A$(e,t,r){const n=Xfe(),i=whe(e,r.timeZone,r.locale??n.locale);return"formatToParts"in i?xhe(i,t):bhe(i,t)}function xhe(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function bhe(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function whe(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function _he(e,t){const r=Che(t);return"formatToParts"in r?She(r,e):Nhe(r,e)}const jhe={year:0,month:1,day:2,hour:3,minute:4,second:5};function She(e,t){try{const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const a=jhe[r[i].type];a!==void 0&&(n[a]=parseInt(r[i].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function Nhe(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const I1={},M$=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),khe=M$==="06/25/2014, 00:00:00"||M$==="06/25/2014 00:00:00";function Che(e){return I1[e]||(I1[e]=khe?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),I1[e]}function hW(e,t,r,n,i,a,s){const l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(n,i,a,s),l}const I$=36e5,Ehe=6e4,$1={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function WP(e,t,r){if(!e)return 0;let n=$1.timezoneZ.exec(e);if(n)return 0;let i,a;if(n=$1.timezoneHH.exec(e),n)return i=parseInt(n[1],10),$$(i)?-(i*I$):NaN;if(n=$1.timezoneHHMM.exec(e),n){i=parseInt(n[2],10);const s=parseInt(n[3],10);return $$(i,s)?(a=Math.abs(i)*I$+s*Ehe,n[1]==="+"?-a:a):NaN}if(The(e)){t=new Date(t||Date.now());const s=r?t:Ohe(t),l=Ak(s,e);return-(r?l:Phe(t,l,e))}return NaN}function Ohe(e){return hW(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Ak(e,t){const r=_he(e,t),n=hW(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let i=e.getTime();const a=i%1e3;return i-=a>=0?a:1e3+a,n-i}function Phe(e,t,r){let i=e.getTime()-t;const a=Ak(new Date(i),r);if(t===a)return t;i-=a-t;const s=Ak(new Date(i),r);return a===s?a:Math.max(a,s)}function $$(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const R$={};function The(e){if(R$[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),R$[e]=!0,!0}catch{return!1}}const Ahe=60*1e3,Mhe={X:function(e,t,r){const n=R1(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return D$(n);case"XXXX":case"XX":return Fd(n);case"XXXXX":case"XXX":default:return Fd(n,":")}},x:function(e,t,r){const n=R1(r.timeZone,e);switch(t){case"x":return D$(n);case"xxxx":case"xx":return Fd(n);case"xxxxx":case"xxx":default:return Fd(n,":")}},O:function(e,t,r){const n=R1(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+Ihe(n,":");case"OOOO":default:return"GMT"+Fd(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return A$("short",e,r);case"zzzz":default:return A$("long",e,r)}}};function R1(e,t){const r=e?WP(e,t,!0)/Ahe:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function Vb(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function Fd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Vb(Math.floor(n/60),2),a=Vb(Math.floor(n%60),2);return r+i+t+a}function D$(e,t){return e%60===0?(e>0?"-":"+")+Vb(Math.abs(e)/60,2):Fd(e,t)}function Ihe(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+Vb(a,2)}function L$(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const $he=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,D1=36e5,F$=6e4,Rhe=2,Jn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:$he};function pW(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?Rhe:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=Dhe(e),{year:i,restDateString:a}=Lhe(n.date,r),s=Fhe(a,i);if(s===null||isNaN(s.getTime()))return new Date(NaN);if(s){const l=s.getTime();let c=0,u;if(n.time&&(c=Bhe(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||t.timeZone){if(u=WP(n.timeZone||t.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=L$(new Date(l+c)),u=L$(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function Dhe(e){const t={};let r=Jn.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Jn.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const i=Jn.timeZone.exec(n);i?(t.time=n.replace(i[1],""),t.timeZone=i[1].trim()):t.time=n}return t}function Lhe(e,t){if(e){const r=Jn.YYY[t],n=Jn.YYYYY[t];let i=Jn.YYYY.exec(e)||n.exec(e);if(i){const a=i[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(i=Jn.YY.exec(e)||r.exec(e),i){const a=i[1];return{year:parseInt(a,10)*100,restDateString:e.slice(a.length)}}}return{year:null}}function Fhe(e,t){if(t===null)return null;let r,n,i;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let a=Jn.MM.exec(e);if(a)return r=new Date(0),n=parseInt(a[1],10)-1,U$(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(a=Jn.DDD.exec(e),a){r=new Date(0);const s=parseInt(a[1],10);return Vhe(t,s)?(r.setUTCFullYear(t,0,s),r):new Date(NaN)}if(a=Jn.MMDD.exec(e),a){r=new Date(0),n=parseInt(a[1],10)-1;const s=parseInt(a[2],10);return U$(t,n,s)?(r.setUTCFullYear(t,n,s),r):new Date(NaN)}if(a=Jn.Www.exec(e),a)return i=parseInt(a[1],10)-1,z$(i)?B$(t,i):new Date(NaN);if(a=Jn.WwwD.exec(e),a){i=parseInt(a[1],10)-1;const s=parseInt(a[2],10)-1;return z$(i,s)?B$(t,i,s):new Date(NaN)}return null}function Bhe(e){let t,r,n=Jn.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),L1(t)?t%24*D1:NaN;if(n=Jn.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),L1(t,r)?t%24*D1+r*F$:NaN;if(n=Jn.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const i=parseFloat(n[3].replace(",","."));return L1(t,r,i)?t%24*D1+r*F$+i*1e3:NaN}return null}function B$(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=t*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const Uhe=[31,28,31,30,31,30,31,31,30,31,30,31],zhe=[31,29,31,30,31,30,31,31,30,31,30,31];function mW(e){return e%400===0||e%4===0&&e%100!==0}function U$(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=mW(e);if(n&&r>zhe[t]||!n&&r>Uhe[t])return!1}return!0}function Vhe(e,t){if(t<1)return!1;const r=mW(e);return!(r&&t>366||!r&&t>365)}function z$(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function L1(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const Whe=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Hhe(e,t,r={}){t=String(t);const n=t.match(Whe);if(n){const i=pW(r.originalDate||e,r);t=n.reduce(function(a,s){if(s[0]==="'")return a;const l=a.indexOf(s),c=a[l-1]==="'",u=a.replace(s,"'"+Mhe[s[0]](i,s,r)+"'");return c?u.substring(0,l-1)+u.substring(l+1):u},t)}return Et(e,t,r)}function qhe(e,t,r){e=pW(e,r);const n=WP(t,e,!0),i=new Date(e.getTime()-n),a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}function Ghe(e,t,r,n){return n={...n,timeZone:t,originalDate:e},Hhe(qhe(e,t,{timeZone:n.timeZone}),r,n)}const Khe="Africa/Johannesburg",bg="SAST",pi=(e,t)=>{const r=typeof e=="string"?VP(e):e;return Ghe(r,Khe,t)},Yhe=e=>pi(e,"MMM d, yyyy"),Wb=e=>pi(e,"EEEE, MMMM d, yyyy");function er({className:e,...t}){return o.jsx("div",{className:be("animate-pulse rounded-md bg-muted",e),...t})}const Cd={active:{label:"Active",variant:"default",icon:$r},cancelled:{label:"Cancelled",variant:"destructive",icon:cs},expired:{label:"Expired",variant:"secondary",icon:pc},completed:{label:"Completed",variant:"secondary",icon:$r}},Jhe=()=>{const{user:e}=Dr(),[t,r]=y.useState([]),[n,i]=y.useState(!0),[a,s]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!1),f=m=>{c(m),d(!0)},h=async(m,v,b)=>{b==null||b.stopPropagation(),s(m);try{const x=await nde.getPDF(m);if(x.success&&x.pdf_base64){const w=atob(x.pdf_base64),_=new Array(w.length);for(let P=0;P<w.length;P++)_[P]=w.charCodeAt(P);const N=new Uint8Array(_),j=new Blob([N],{type:"application/pdf"}),k=window.URL.createObjectURL(j),O=document.createElement("a");O.href=k,O.download=`prescription_${v.replace(/\s+/g,"_")}_${m.slice(0,8)}.pdf`,document.body.appendChild(O),O.click(),document.body.removeChild(O),window.URL.revokeObjectURL(k),ce.success("Prescription downloaded successfully")}else throw new Error(x.error||"Failed to generate PDF")}catch(x){console.error("Error downloading prescription:",x),ce.error(x.message||"Failed to download prescription")}finally{s(null)}};y.useEffect(()=>{(async()=>{if(e)try{const{data:v,error:b}=await Me.from("prescriptions").select("*").eq("patient_id",e.id).order("prescribed_at",{ascending:!1});if(b)throw b;if(v&&v.length>0){const x=[...new Set(v.map(j=>j.clinician_id))],{data:w}=await Me.from("profiles").select("id, first_name, last_name").in("id",x),_=new Map((w==null?void 0:w.map(j=>[j.id,`Dr. ${j.first_name} ${j.last_name}`]))||[]),N=v.map(j=>({id:j.id,medication_name:j.medication_name,dosage:j.dosage,frequency:j.frequency,duration:j.duration,quantity:j.quantity,refills:j.refills,instructions:j.instructions,status:j.status,prescribed_at:j.prescribed_at,clinician_name:_.get(j.clinician_id)||"Unknown"}));r(N)}}catch(v){console.error("Error fetching prescriptions:",v)}finally{i(!1)}})()},[e]);const p=t.filter(m=>m.status==="active"),g=t.filter(m=>m.status!=="active");return n?o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsx(er,{className:"h-6 w-40"}),o.jsx(er,{className:"h-4 w-60"})]}),o.jsx(de,{className:"space-y-4",children:[1,2].map(m=>o.jsx(er,{className:"h-24 w-full"},m))})]}):o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Qr,{className:"w-5 h-5 text-primary"}),"My Prescriptions"]}),o.jsxs(Ce,{children:[t.length," prescription(s)  ",p.length," active"]})]}),o.jsx(de,{children:t.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Qr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No prescriptions yet"})]}):o.jsxs("div",{className:"space-y-4",children:[p.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Active Prescriptions"}),o.jsx("div",{className:"space-y-3",children:p.map(m=>{const v=Cd[m.status]||Cd.active,b=v.icon;return o.jsxs("div",{className:"p-4 rounded-lg border border-primary/30 bg-primary/5 cursor-pointer hover:border-primary hover:shadow-md transition-all",onClick:()=>f(m),children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Qr,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold",children:m.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.dosage,"  ",m.frequency]})]})]}),o.jsxs(Ee,{variant:v.variant,className:"flex items-center gap-1",children:[o.jsx(b,{className:"w-3 h-3"}),v.label]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mt-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),o.jsx("p",{className:"font-medium",children:m.duration})]}),m.quantity&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Quantity:"}),o.jsx("p",{className:"font-medium",children:m.quantity})]}),m.refills>0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Refills:"}),o.jsx("p",{className:"font-medium",children:m.refills})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Prescribed:"}),o.jsx("p",{className:"font-medium",children:Et(new Date(m.prescribed_at),"MMM d, yyyy")})]})]}),m.instructions&&o.jsxs("div",{className:"mt-3 p-2 bg-muted/50 rounded text-sm",children:[o.jsx("span",{className:"font-medium",children:"Instructions:"})," ",m.instructions]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 mt-3 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rr,{className:"w-4 h-4"}),m.clinician_name]}),o.jsxs(Q,{variant:"outline",size:"sm",onClick:x=>h(m.id,m.medication_name,x),disabled:a===m.id,children:[a===m.id?o.jsx(ft,{className:"w-4 h-4 mr-1 animate-spin"}):o.jsx(bu,{className:"w-4 h-4 mr-1"}),"PDF"]})]})]},m.id)})})]}),g.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Past Prescriptions"}),o.jsx("div",{className:"space-y-3",children:g.map(m=>{const v=Cd[m.status]||Cd.completed,b=v.icon;return o.jsx("div",{className:"p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>f(m),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-muted",children:o.jsx(Qr,{className:"w-5 h-5 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:m.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.dosage,"  ",m.frequency,"  ",m.duration]})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs(Ee,{variant:v.variant,className:"flex items-center gap-1",children:[o.jsx(b,{className:"w-3 h-3"}),v.label]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:pi(m.prescribed_at,"MMM d, yyyy")})]}),o.jsx(Q,{variant:"outline",size:"sm",onClick:x=>h(m.id,m.medication_name,x),disabled:a===m.id,children:a===m.id?o.jsx(ft,{className:"w-4 h-4 animate-spin"}):o.jsx(bu,{className:"w-4 h-4"})})]})]})},m.id)})})]})]})}),o.jsx(Yi,{open:u,onOpenChange:d,children:o.jsxs(bi,{className:"sm:max-w-md",children:[o.jsxs(wi,{children:[o.jsxs(_i,{className:"flex items-center gap-2",children:[o.jsx(Qr,{className:"w-5 h-5 text-primary"}),"Prescription Details"]}),o.jsx(sc,{children:l&&pi(l.prescribed_at,"MMMM d, yyyy 'at' h:mm a")})]}),l&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx("h3",{className:"font-semibold text-lg",children:l.medication_name}),o.jsx("p",{className:"text-muted-foreground",children:l.dosage})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Frequency"}),o.jsx("p",{className:"font-medium",children:l.frequency})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),o.jsx("p",{className:"font-medium",children:l.duration})]}),l.quantity&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),o.jsx("p",{className:"font-medium",children:l.quantity})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Refills"}),o.jsx("p",{className:"font-medium",children:l.refills})]})]}),l.instructions&&o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Instructions"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:l.instructions})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground pt-2 border-t",children:[o.jsx(Rr,{className:"w-4 h-4"}),o.jsxs("span",{children:["Prescribed by ",l.clinician_name]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[(()=>{const m=Cd[l.status]||Cd.active,v=m.icon;return o.jsxs(Ee,{variant:m.variant,className:"flex items-center gap-1",children:[o.jsx(v,{className:"w-3 h-3"}),m.label]})})(),o.jsxs(Q,{variant:"outline",size:"sm",onClick:m=>h(l.id,l.medication_name,m),disabled:a===l.id,children:[a===l.id?o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(bu,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})]})})]})},Jr=y.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Jr.displayName="Textarea";const V$={new:{label:"New",color:"bg-blue-500",icon:o.jsx(Mu,{className:"w-3 h-3"})},active:{label:"Active",color:"bg-green-500",icon:o.jsx(rr,{className:"w-3 h-3"})},booking_pending:{label:"Pending",color:"bg-yellow-500",icon:o.jsx(rr,{className:"w-3 h-3"})},booked:{label:"Booked",color:"bg-purple-500",icon:o.jsx(Rt,{className:"w-3 h-3"})},consultation_complete:{label:"Complete",color:"bg-gray-500",icon:o.jsx($r,{className:"w-3 h-3"})},closed:{label:"Closed",color:"bg-gray-400",icon:o.jsx($r,{className:"w-3 h-3"})}},Mk=({conversations:e,selectedId:t,onSelect:r,showPatientName:n=!1})=>e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[o.jsx(Mu,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No conversations yet"})]}):o.jsx("div",{className:"divide-y divide-border",children:e.map(i=>{const a=V$[i.status]||V$.new,s=t===i.id;return o.jsx("div",{onClick:()=>r(i),className:be("p-4 cursor-pointer transition-colors hover:bg-accent",s&&"bg-accent border-l-4 border-l-primary"),children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n?o.jsx("span",{className:"font-medium text-sm truncate",children:i.patient_name||"Unknown Patient"}):o.jsx("span",{className:"font-medium text-sm truncate",children:i.receptionist_name||"Waiting for receptionist..."}),o.jsxs(Ee,{variant:"secondary",className:be("text-xs text-white",a.color),children:[a.icon,o.jsx("span",{className:"ml-1",children:a.label})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.last_message||"No messages yet"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[o.jsx(rr,{className:"w-3 h-3"}),o.jsx("span",{children:i.last_message_at?P$(new Date(i.last_message_at),{addSuffix:!0}):P$(new Date(i.created_at),{addSuffix:!0})})]})]}),i.unread_count>0&&o.jsx(Ee,{variant:"destructive",className:"rounded-full px-2",children:i.unread_count})]})},i.id)})}),gW=({messages:e,currentUserId:t})=>{const r=y.useRef(null);if(y.useEffect(()=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})},[e]),e.length===0)return o.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:o.jsx("p",{children:"No messages yet. Start the conversation!"})});const n=i=>{switch(i.message_type){case"image":return o.jsxs("div",{className:"space-y-2",children:[i.file_url&&o.jsx("img",{src:i.file_url,alt:i.file_name||"Image",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(i.file_url,"_blank")}),i.content&&o.jsx("p",{children:i.content})]});case"file":return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gn,{className:"w-5 h-5"}),o.jsx("a",{href:i.file_url,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:i.file_name||"Download file"})]});case"system":return o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(pee,{className:"w-4 h-4"}),o.jsx("span",{children:i.content})]});case"booking_confirmation":return o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium mb-1",children:[o.jsx(Rt,{className:"w-4 h-4"}),o.jsx("span",{children:"Booking Confirmed"})]}),o.jsx("p",{className:"text-sm",children:i.content})]});default:return o.jsx("p",{className:"whitespace-pre-wrap",children:i.content})}};return o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((i,a)=>{const s=i.sender_id===t,l=i.message_type==="system"||i.sender_role==="system",c=a===0||Et(new Date(i.created_at),"yyyy-MM-dd")!==Et(new Date(e[a-1].created_at),"yyyy-MM-dd");return o.jsxs(T.Fragment,{children:[c&&o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-3 py-1 rounded-full",children:Et(new Date(i.created_at),"MMMM d, yyyy")})}),l?o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 px-4 py-2 rounded-full",children:n(i)})}):o.jsxs("div",{className:be("flex gap-3",s?"flex-row-reverse":"flex-row"),children:[o.jsx("div",{className:be("w-8 h-8 rounded-full flex items-center justify-center shrink-0",s?"bg-primary text-primary-foreground":"bg-muted"),children:o.jsx(Rr,{className:"w-4 h-4"})}),o.jsxs("div",{className:be("max-w-[70%] space-y-1",s?"items-end":"items-start"),children:[o.jsxs("div",{className:be("flex items-center gap-2 text-xs text-muted-foreground",s?"flex-row-reverse":"flex-row"),children:[o.jsx("span",{className:"font-medium",children:s?"You":i.sender_name||i.sender_role}),o.jsx("span",{children:Et(new Date(i.created_at),"HH:mm")})]}),o.jsx("div",{className:be("rounded-2xl px-4 py-2",s?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted rounded-tl-sm"),children:n(i)})]})]})]},i.id)}),o.jsx("div",{ref:r})]})},vW=({onSend:e,disabled:t=!1,placeholder:r="Type your message..."})=>{const[n,i]=y.useState(""),[a,s]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(null),f=y.useRef(null),h=async()=>{if(!(!n.trim()&&!l||a)){s(!0);try{if(l){const v=n.trim()?`${n.trim()}
 ${l.name}`:` ${l.name}`;await e(v,"text")}else await e(n.trim(),"text");i(""),c(null),d(null)}catch(v){console.error("Error sending message:",v)}finally{s(!1)}}},p=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),h())},g=v=>{var x;const b=(x=v.target.files)==null?void 0:x[0];if(b)if(c(b),b.type.startsWith("image/")){const w=new FileReader;w.onloadend=()=>{d(w.result)},w.readAsDataURL(b)}else d(null)},m=()=>{c(null),d(null),f.current&&(f.current.value="")};return o.jsxs("div",{className:"border-t border-border p-4 bg-card",children:[l&&o.jsxs("div",{className:"mb-3 p-2 bg-muted rounded-lg flex items-center gap-3",children:[u?o.jsx("img",{src:u,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-background rounded flex items-center justify-center",children:o.jsx($ee,{className:"w-6 h-6 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:l.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l.size/1024).toFixed(1)," KB"]})]}),o.jsx(Q,{variant:"ghost",size:"icon",onClick:m,children:o.jsx(to,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsx("input",{ref:f,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:g,className:"hidden"}),o.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{var v;return(v=f.current)==null?void 0:v.click()},disabled:t||a,className:"shrink-0",children:o.jsx(Nee,{className:"w-5 h-5"})}),o.jsx(Jr,{value:n,onChange:v=>i(v.target.value),onKeyDown:p,placeholder:r,disabled:t||a,className:"min-h-[44px] max-h-32 resize-none",rows:1}),o.jsx(Q,{onClick:h,disabled:t||a||!n.trim()&&!l,size:"icon",className:"shrink-0",children:a?o.jsx(ft,{className:"w-5 h-5 animate-spin"}):o.jsx(RU,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})},Xhe=({onStartBooking:e})=>{const{user:t}=Dr(),{conversations:r,currentConversation:n,messages:i,isLoading:a,loadConversations:s,selectConversation:l,createConversation:c,sendMessage:u}=pV(),[d,f]=y.useState(!1),[h,p]=y.useState(""),[g,m]=y.useState(!1),[v,b]=y.useState("list");y.useEffect(()=>{s()},[s]);const x=async()=>{if(!(!h.trim()||g)){m(!0);try{await c(h.trim()),p(""),f(!1),b("chat")}catch(j){console.error("Error creating conversation:",j)}finally{m(!1)}}},w=async j=>{await l(j.id),b("chat")},_=()=>{b("list")},N=typeof window<"u"&&window.innerWidth<768;return d?o.jsxs(oe,{className:"h-full",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>f(!1),children:o.jsx(pn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx(_e,{children:"Start a New Conversation"}),o.jsx(Ce,{children:"Tell us how we can help you today"})]})]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsx(Jr,{value:h,onChange:j=>p(j.target.value),placeholder:"Hi, I'd like to book a consultation for...",className:"min-h-[150px]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Q,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(Q,{onClick:x,disabled:!h.trim()||g,children:g?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Mu,{className:"w-4 h-4 mr-2"}),"Start Chat"]})})]})]})]}):o.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[o.jsxs(oe,{className:`md:w-80 shrink-0 ${v==="chat"&&N?"hidden":""}`,children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(_e,{className:"text-lg",children:"Messages"}),o.jsxs(Q,{size:"sm",onClick:()=>f(!0),"data-tour":"new-chat-button",children:[o.jsx(qf,{className:"w-4 h-4 mr-1"}),"New"]})]})}),o.jsx(de,{className:"p-0 overflow-y-auto max-h-[500px]",children:a&&r.length===0?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx(ft,{className:"w-6 h-6 animate-spin"})}):o.jsx(Mk,{conversations:r,selectedId:n==null?void 0:n.id,onSelect:w,showPatientName:!1})})]}),o.jsx(oe,{className:`flex-1 flex flex-col min-h-[500px] ${v==="list"&&N?"hidden":""}`,children:n?o.jsxs(o.Fragment,{children:[o.jsx(me,{className:"pb-2 border-b",children:o.jsxs("div",{className:"flex items-center gap-2",children:[N&&o.jsx(Q,{variant:"ghost",size:"icon",onClick:_,children:o.jsx(pn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(_e,{className:"text-lg",children:n.receptionist_name||"Waiting for receptionist"}),o.jsxs(Ce,{children:["Status: ",n.status.replace("_"," ")]})]})]})}),o.jsx(gW,{messages:i,currentUserId:t==null?void 0:t.id}),o.jsx(vW,{onSend:u,disabled:n.status==="closed",placeholder:n.status==="closed"?"This conversation is closed":"Type your message..."})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[o.jsx(Mu,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Welcome to Chat"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Start a conversation to book a consultation or ask questions"}),o.jsxs(Q,{onClick:()=>f(!0),"data-tour":"new-chat-button",children:[o.jsx(qf,{className:"w-4 h-4 mr-2"}),"Start New Conversation"]})]})})]})},yW=({onCapture:e,onSkip:t,existingPhoto:r,required:n=!0,title:i="Take a Selfie",description:a="This photo will be used to verify your identity during consultations."})=>{const s=y.useRef(null),l=y.useRef(null),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=y.useState(r||null),[p,g]=y.useState(null),[m,v]=y.useState(!1),[b,x]=y.useState("user"),w=y.useCallback(async()=>{v(!0),g(null);try{c.current&&c.current.getTracks().forEach($=>$.stop());const P={video:{facingMode:b,width:{ideal:640},height:{ideal:480}},audio:!1},A=await navigator.mediaDevices.getUserMedia(P);c.current=A,s.current&&(s.current.srcObject=A,await s.current.play(),d(!0))}catch(P){console.error("Camera error:",P),P.name==="NotAllowedError"?g("Camera access denied. Please allow camera access in your browser settings."):P.name==="NotFoundError"?g("No camera found. Please connect a camera and try again."):g("Failed to access camera. Please try again.")}finally{v(!1)}},[b]),_=y.useCallback(()=>{c.current&&(c.current.getTracks().forEach(P=>P.stop()),c.current=null),s.current&&(s.current.srcObject=null),d(!1)},[]),N=y.useCallback(()=>{if(!s.current||!l.current)return;const P=s.current,A=l.current,$=A.getContext("2d");if(!$)return;A.width=P.videoWidth,A.height=P.videoHeight,$.translate(A.width,0),$.scale(-1,1),$.drawImage(P,0,0,A.width,A.height);const M=A.toDataURL("image/jpeg",.8);h(M),_()},[_]),j=y.useCallback(()=>{h(null),w()},[w]),k=y.useCallback(()=>{f&&e(f)},[f,e]),O=y.useCallback(()=>{x(P=>P==="user"?"environment":"user")},[]);return y.useEffect(()=>{u&&w()},[b]),y.useEffect(()=>()=>{_()},[_]),o.jsx(oe,{className:"w-full max-w-md mx-auto",children:o.jsxs(de,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center justify-center gap-2",children:[o.jsx(Sm,{className:"w-5 h-5"}),i]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a})]}),o.jsxs("div",{className:"relative aspect-[4/3] bg-muted rounded-lg overflow-hidden",children:[p&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4 text-center",children:[o.jsx(pc,{className:"w-10 h-10 text-destructive mb-2"}),o.jsx("p",{className:"text-sm text-destructive",children:p}),o.jsx(Q,{variant:"outline",size:"sm",onClick:w,className:"mt-4",children:"Try Again"})]}),m&&!p&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(ft,{className:"w-8 h-8 animate-spin text-primary"})}),f&&!u&&o.jsx("img",{src:f,alt:"Captured selfie",className:"w-full h-full object-cover"}),o.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-full object-cover ${u?"block":"hidden"}`,style:{transform:"scaleX(-1)"}}),o.jsx("canvas",{ref:l,className:"hidden"}),!u&&!f&&!p&&!m&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-muted-foreground/10 flex items-center justify-center mb-4",children:o.jsx(Sm,{className:"w-12 h-12 text-muted-foreground"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Click below to start camera"})]}),u&&o.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-4",children:[o.jsx(Q,{variant:"outline",size:"icon",onClick:O,className:"bg-background/80 backdrop-blur-sm",title:"Switch camera",children:o.jsx(TM,{className:"w-4 h-4"})}),o.jsx(Q,{size:"lg",onClick:N,className:"rounded-full w-16 h-16 bg-white border-4 border-primary hover:bg-gray-100",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary"})}),o.jsx(Q,{variant:"outline",size:"icon",onClick:_,className:"bg-background/80 backdrop-blur-sm",title:"Cancel",children:o.jsx(to,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex gap-3",children:[!u&&!f&&o.jsxs(o.Fragment,{children:[o.jsxs(Q,{onClick:w,className:"flex-1",disabled:m,children:[m?o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Sm,{className:"w-4 h-4 mr-2"}),"Open Camera"]}),!n&&t&&o.jsx(Q,{variant:"outline",onClick:t,children:"Skip for Now"})]}),f&&!u&&o.jsxs(o.Fragment,{children:[o.jsxs(Q,{variant:"outline",onClick:j,className:"flex-1",children:[o.jsx(TM,{className:"w-4 h-4 mr-2"}),"Retake"]}),o.jsxs(Q,{onClick:k,className:"flex-1",children:[o.jsx(Rw,{className:"w-4 h-4 mr-2"}),"Use This Photo"]})]})]}),n&&o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:" A clear photo of your face is required for identity verification"})]})})},Qhe=({isOpen:e,onComplete:t,userName:r="there"})=>{const[n,i]=y.useState(!1),a=async s=>{i(!0);try{const l=await Ov.upload(s);l!=null&&l.success?(ce.success("Profile photo saved! Thank you for verifying your identity."),t()):ce.error("Failed to save photo. Please try again.")}catch(l){console.error("Photo upload error:",l),ce.error(l.message||"Failed to upload photo")}finally{i(!1)}};return o.jsx(Yi,{open:e,onOpenChange:()=>{},children:o.jsxs(bi,{className:"sm:max-w-lg",onInteractOutside:s=>s.preventDefault(),children:[o.jsxs(wi,{children:[o.jsxs(_i,{className:"text-xl",children:["Welcome, ",r,"! "]}),o.jsx(sc,{children:"Before you continue, please take a quick selfie. This helps us verify your identity during consultations and protects your healthcare benefits."})]}),n?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(ft,{className:"w-8 h-8 animate-spin text-primary mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Saving your photo..."})]}):o.jsx(yW,{onCapture:a,required:!0,title:"Verification Photo",description:"Take a clear photo of your face. This will be shown to healthcare providers during your consultations."}),o.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Your photo is stored securely and only visible to Quadcare healthcare staff."})]})})};function xW(e){return t=>typeof t===e}var Zhe=xW("function"),epe=e=>e===null,W$=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",H$=e=>!tpe(e)&&!epe(e)&&(Zhe(e)||typeof e=="object"),tpe=xW("undefined");function rpe(e,t){const{length:r}=e;if(r!==t.length)return!1;for(let n=r;n--!==0;)if(!Qn(e[n],t[n]))return!1;return!0}function npe(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e.buffer),n=new DataView(t.buffer);let i=e.byteLength;for(;i--;)if(r.getUint8(i)!==n.getUint8(i))return!1;return!0}function ipe(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;for(const r of e.entries())if(!Qn(r[1],t.get(r[0])))return!1;return!0}function ape(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;return!0}function Qn(e,t){if(e===t)return!0;if(e&&H$(e)&&t&&H$(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return rpe(e,t);if(e instanceof Map&&t instanceof Map)return ipe(e,t);if(e instanceof Set&&t instanceof Set)return ape(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return npe(e,t);if(W$(e)&&W$(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=r.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[i]))return!1;for(let i=r.length;i--!==0;){const a=r[i];if(!(a==="_owner"&&e.$$typeof)&&!Qn(e[a],t[a]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}var spe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],ope=["bigint","boolean","null","number","string","symbol","undefined"];function c_(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(lpe(t))return t}function ys(e){return t=>c_(t)===e}function lpe(e){return spe.includes(e)}function tp(e){return t=>typeof t===e}function cpe(e){return ope.includes(e)}var upe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function Te(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Te.array(e))return"Array";if(Te.plainFunction(e))return"Function";const t=c_(e);return t||"Object"}Te.array=Array.isArray;Te.arrayOf=(e,t)=>!Te.array(e)&&!Te.function(t)?!1:e.every(r=>t(r));Te.asyncGeneratorFunction=e=>c_(e)==="AsyncGeneratorFunction";Te.asyncFunction=ys("AsyncFunction");Te.bigint=tp("bigint");Te.boolean=e=>e===!0||e===!1;Te.date=ys("Date");Te.defined=e=>!Te.undefined(e);Te.domElement=e=>Te.object(e)&&!Te.plainObject(e)&&e.nodeType===1&&Te.string(e.nodeName)&&upe.every(t=>t in e);Te.empty=e=>Te.string(e)&&e.length===0||Te.array(e)&&e.length===0||Te.object(e)&&!Te.map(e)&&!Te.set(e)&&Object.keys(e).length===0||Te.set(e)&&e.size===0||Te.map(e)&&e.size===0;Te.error=ys("Error");Te.function=tp("function");Te.generator=e=>Te.iterable(e)&&Te.function(e.next)&&Te.function(e.throw);Te.generatorFunction=ys("GeneratorFunction");Te.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;Te.iterable=e=>!Te.nullOrUndefined(e)&&Te.function(e[Symbol.iterator]);Te.map=ys("Map");Te.nan=e=>Number.isNaN(e);Te.null=e=>e===null;Te.nullOrUndefined=e=>Te.null(e)||Te.undefined(e);Te.number=e=>tp("number")(e)&&!Te.nan(e);Te.numericString=e=>Te.string(e)&&e.length>0&&!Number.isNaN(Number(e));Te.object=e=>!Te.nullOrUndefined(e)&&(Te.function(e)||typeof e=="object");Te.oneOf=(e,t)=>Te.array(e)?e.indexOf(t)>-1:!1;Te.plainFunction=ys("Function");Te.plainObject=e=>{if(c_(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};Te.primitive=e=>Te.null(e)||cpe(typeof e);Te.promise=ys("Promise");Te.propertyOf=(e,t,r)=>{if(!Te.object(e)||!t)return!1;const n=e[t];return Te.function(r)?r(n):Te.defined(n)};Te.regexp=ys("RegExp");Te.set=ys("Set");Te.string=tp("string");Te.symbol=tp("symbol");Te.undefined=tp("undefined");Te.weakMap=ys("WeakMap");Te.weakSet=ys("WeakSet");var fn=Te,dpe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],fpe=["bigint","boolean","null","number","string","symbol","undefined"];function u_(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(hpe(t))return t}function xs(e){return t=>u_(t)===e}function hpe(e){return dpe.includes(e)}function rp(e){return t=>typeof t===e}function ppe(e){return fpe.includes(e)}var mpe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function Ae(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Ae.array(e))return"Array";if(Ae.plainFunction(e))return"Function";const t=u_(e);return t||"Object"}Ae.array=Array.isArray;Ae.arrayOf=(e,t)=>!Ae.array(e)&&!Ae.function(t)?!1:e.every(r=>t(r));Ae.asyncGeneratorFunction=e=>u_(e)==="AsyncGeneratorFunction";Ae.asyncFunction=xs("AsyncFunction");Ae.bigint=rp("bigint");Ae.boolean=e=>e===!0||e===!1;Ae.date=xs("Date");Ae.defined=e=>!Ae.undefined(e);Ae.domElement=e=>Ae.object(e)&&!Ae.plainObject(e)&&e.nodeType===1&&Ae.string(e.nodeName)&&mpe.every(t=>t in e);Ae.empty=e=>Ae.string(e)&&e.length===0||Ae.array(e)&&e.length===0||Ae.object(e)&&!Ae.map(e)&&!Ae.set(e)&&Object.keys(e).length===0||Ae.set(e)&&e.size===0||Ae.map(e)&&e.size===0;Ae.error=xs("Error");Ae.function=rp("function");Ae.generator=e=>Ae.iterable(e)&&Ae.function(e.next)&&Ae.function(e.throw);Ae.generatorFunction=xs("GeneratorFunction");Ae.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;Ae.iterable=e=>!Ae.nullOrUndefined(e)&&Ae.function(e[Symbol.iterator]);Ae.map=xs("Map");Ae.nan=e=>Number.isNaN(e);Ae.null=e=>e===null;Ae.nullOrUndefined=e=>Ae.null(e)||Ae.undefined(e);Ae.number=e=>rp("number")(e)&&!Ae.nan(e);Ae.numericString=e=>Ae.string(e)&&e.length>0&&!Number.isNaN(Number(e));Ae.object=e=>!Ae.nullOrUndefined(e)&&(Ae.function(e)||typeof e=="object");Ae.oneOf=(e,t)=>Ae.array(e)?e.indexOf(t)>-1:!1;Ae.plainFunction=xs("Function");Ae.plainObject=e=>{if(u_(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};Ae.primitive=e=>Ae.null(e)||ppe(typeof e);Ae.promise=xs("Promise");Ae.propertyOf=(e,t,r)=>{if(!Ae.object(e)||!t)return!1;const n=e[t];return Ae.function(r)?r(n):Ae.defined(n)};Ae.regexp=xs("RegExp");Ae.set=xs("Set");Ae.string=rp("string");Ae.symbol=rp("symbol");Ae.undefined=rp("undefined");Ae.weakMap=xs("WeakMap");Ae.weakSet=xs("WeakSet");var ot=Ae;function gpe(...e){return e.every(t=>ot.string(t)||ot.array(t)||ot.plainObject(t))}function vpe(e,t,r){return bW(e,t)?[e,t].every(ot.array)?!e.some(J$(r))&&t.some(J$(r)):[e,t].every(ot.plainObject)?!Object.entries(e).some(Y$(r))&&Object.entries(t).some(Y$(r)):t===r:!1}function q$(e,t,r){const{actual:n,key:i,previous:a,type:s}=r,l=Fs(e,i),c=Fs(t,i);let u=[l,c].every(ot.number)&&(s==="increased"?l<c:l>c);return ot.undefined(n)||(u=u&&c===n),ot.undefined(a)||(u=u&&l===a),u}function G$(e,t,r){const{key:n,type:i,value:a}=r,s=Fs(e,n),l=Fs(t,n),c=i==="added"?s:l,u=i==="added"?l:s;if(!ot.nullOrUndefined(a)){if(ot.defined(c)){if(ot.array(c)||ot.plainObject(c))return vpe(c,u,a)}else return Qn(u,a);return!1}return[s,l].every(ot.array)?!u.every(HP(c)):[s,l].every(ot.plainObject)?ype(Object.keys(c),Object.keys(u)):![s,l].every(d=>ot.primitive(d)&&ot.defined(d))&&(i==="added"?!ot.defined(s)&&ot.defined(l):ot.defined(s)&&!ot.defined(l))}function K$(e,t,{key:r}={}){let n=Fs(e,r),i=Fs(t,r);if(!bW(n,i))throw new TypeError("Inputs have different types");if(!gpe(n,i))throw new TypeError("Inputs don't have length");return[n,i].every(ot.plainObject)&&(n=Object.keys(n),i=Object.keys(i)),[n,i]}function Y$(e){return([t,r])=>ot.array(e)?Qn(e,r)||e.some(n=>Qn(n,r)||ot.array(r)&&HP(r)(n)):ot.plainObject(e)&&e[t]?!!e[t]&&Qn(e[t],r):Qn(e,r)}function ype(e,t){return t.some(r=>!e.includes(r))}function J$(e){return t=>ot.array(e)?e.some(r=>Qn(r,t)||ot.array(t)&&HP(t)(r)):Qn(e,t)}function Fp(e,t){return ot.array(e)?e.some(r=>Qn(r,t)):Qn(e,t)}function HP(e){return t=>e.some(r=>Qn(r,t))}function bW(...e){return e.every(ot.array)||e.every(ot.number)||e.every(ot.plainObject)||e.every(ot.string)}function Fs(e,t){return ot.plainObject(e)||ot.array(e)?ot.string(t)?t.split(".").reduce((n,i)=>n&&n[i],e):ot.number(t)?e[t]:e:e}function Hb(e,t){if([e,t].some(ot.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(d=>ot.plainObject(d)||ot.array(d)))throw new Error("Expected plain objects or array");return{added:(d,f)=>{try{return G$(e,t,{key:d,type:"added",value:f})}catch{return!1}},changed:(d,f,h)=>{try{const p=Fs(e,d),g=Fs(t,d),m=ot.defined(f),v=ot.defined(h);if(m||v){const b=v?Fp(h,p):!Fp(f,p),x=Fp(f,g);return b&&x}return[p,g].every(ot.array)||[p,g].every(ot.plainObject)?!Qn(p,g):p!==g}catch{return!1}},changedFrom:(d,f,h)=>{if(!ot.defined(d))return!1;try{const p=Fs(e,d),g=Fs(t,d),m=ot.defined(h);return Fp(f,p)&&(m?Fp(h,g):!m)}catch{return!1}},decreased:(d,f,h)=>{if(!ot.defined(d))return!1;try{return q$(e,t,{key:d,actual:f,previous:h,type:"decreased"})}catch{return!1}},emptied:d=>{try{const[f,h]=K$(e,t,{key:d});return!!f.length&&!h.length}catch{return!1}},filled:d=>{try{const[f,h]=K$(e,t,{key:d});return!f.length&&!!h.length}catch{return!1}},increased:(d,f,h)=>{if(!ot.defined(d))return!1;try{return q$(e,t,{key:d,actual:f,previous:h,type:"increased"})}catch{return!1}},removed:(d,f)=>{try{return G$(e,t,{key:d,type:"removed",value:f})}catch{return!1}}}}var xpe=new Error("Element already at target scroll position"),bpe=new Error("Scroll cancelled"),wpe=Math.min,X$=Date.now,_pe={left:Q$("scrollLeft"),top:Q$("scrollTop")};function Q$(e){return function(r,n,i,a){i=i||{},typeof i=="function"&&(a=i,i={}),typeof a!="function"&&(a=Spe);var s=X$(),l=r[e],c=i.ease||jpe,u=isNaN(i.duration)?350:+i.duration,d=!1;return l===n?a(xpe,r[e]):requestAnimationFrame(h),f;function f(){d=!0}function h(p){if(d)return a(bpe,r[e]);var g=X$(),m=wpe(1,(g-s)/u),v=c(m);r[e]=v*(n-l)+l,m<1?requestAnimationFrame(h):requestAnimationFrame(function(){a(null,r[e])})}}}function jpe(e){return .5*(1-Math.cos(Math.PI*e))}function Spe(){}const Npe=Nt(_pe);var wW={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.Scrollparent=r()})(rm,function(){function t(n){var i=getComputedStyle(n,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function r(n){if(n instanceof HTMLElement||n instanceof SVGElement){for(var i=n.parentNode;i.parentNode;){if(t(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return r})})(wW);var kpe=wW.exports;const _W=Nt(kpe);var Cpe=function(e){return Object.prototype.hasOwnProperty.call(e,"props")},Epe=function(e,t){return e+wg(t)},wg=function(e){return e===null||typeof e=="boolean"||typeof e>"u"?"":typeof e=="number"?e.toString():typeof e=="string"?e:Array.isArray(e)?e.reduce(Epe,""):Cpe(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?wg(e.props.children):""};wg.default=wg;var Ope=wg;const Z$=Nt(Ope);var Ppe=function(t){return Tpe(t)&&!Ape(t)};function Tpe(e){return!!e&&typeof e=="object"}function Ape(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||$pe(e)}var Mpe=typeof Symbol=="function"&&Symbol.for,Ipe=Mpe?Symbol.for("react.element"):60103;function $pe(e){return e.$$typeof===Ipe}function Rpe(e){return Array.isArray(e)?[]:{}}function _g(e,t){return t.clone!==!1&&t.isMergeableObject(e)?th(Rpe(e),e,t):e}function Dpe(e,t,r){return e.concat(t).map(function(n){return _g(n,r)})}function Lpe(e,t){if(!t.customMerge)return th;var r=t.customMerge(e);return typeof r=="function"?r:th}function Fpe(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function eR(e){return Object.keys(e).concat(Fpe(e))}function jW(e,t){try{return t in e}catch{return!1}}function Bpe(e,t){return jW(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Upe(e,t,r){var n={};return r.isMergeableObject(e)&&eR(e).forEach(function(i){n[i]=_g(e[i],r)}),eR(t).forEach(function(i){Bpe(e,i)||(jW(e,i)&&r.isMergeableObject(t[i])?n[i]=Lpe(i,r)(e[i],t[i],r):n[i]=_g(t[i],r))}),n}function th(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Dpe,r.isMergeableObject=r.isMergeableObject||Ppe,r.cloneUnlessOtherwiseSpecified=_g;var n=Array.isArray(t),i=Array.isArray(e),a=n===i;return a?n?r.arrayMerge(e,t,r):Upe(e,t,r):_g(t,r)}th.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,i){return th(n,i,r)},{})};var zpe=th,Vpe=zpe;const Za=Nt(Vpe);var SW={exports:{}},Wpe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hpe=Wpe,qpe=Hpe;function NW(){}function kW(){}kW.resetWarningCache=NW;var Gpe=function(){function e(n,i,a,s,l,c){if(c!==qpe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kW,resetWarningCache:NW};return r.PropTypes=r,r};SW.exports=Gpe();var Kpe=SW.exports;const le=Nt(Kpe);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Tv=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",Ype=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Tv&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function Jpe(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function Xpe(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},Ype))}}var Qpe=Tv&&window.Promise,Zpe=Qpe?Jpe:Xpe;function CW(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function nd(e,t){if(e.nodeType!==1)return[];var r=e.ownerDocument.defaultView,n=r.getComputedStyle(e,null);return t?n[t]:n}function qP(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function Av(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=nd(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(r+i+n)?e:Av(qP(e))}function EW(e){return e&&e.referenceNode?e.referenceNode:e}var tR=Tv&&!!(window.MSInputMethodContext&&document.documentMode),rR=Tv&&/MSIE 10/.test(navigator.userAgent);function np(e){return e===11?tR:e===10?rR:tR||rR}function rh(e){if(!e)return document.documentElement;for(var t=np(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return!n||n==="BODY"||n==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(r.nodeName)!==-1&&nd(r,"position")==="static"?rh(r):r}function eme(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||rh(e.firstElementChild)===e}function Ik(e){return e.parentNode!==null?Ik(e.parentNode):e}function qb(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,a=document.createRange();a.setStart(n,0),a.setEnd(i,0);var s=a.commonAncestorContainer;if(e!==s&&t!==s||n.contains(i))return eme(s)?s:rh(s);var l=Ik(e);return l.host?qb(l.host,t):qb(e,Ik(t).host)}function nh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",r=t==="top"?"scrollTop":"scrollLeft",n=e.nodeName;if(n==="BODY"||n==="HTML"){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[r]}return e[r]}function tme(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=nh(t,"top"),i=nh(t,"left"),a=r?-1:1;return e.top+=n*a,e.bottom+=n*a,e.left+=i*a,e.right+=i*a,e}function nR(e,t){var r=t==="x"?"Left":"Top",n=r==="Left"?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function iR(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],np(10)?parseInt(r["offset"+e])+parseInt(n["margin"+(e==="Height"?"Top":"Left")])+parseInt(n["margin"+(e==="Height"?"Bottom":"Right")]):0)}function OW(e){var t=e.body,r=e.documentElement,n=np(10)&&getComputedStyle(r);return{height:iR("Height",t,r,n),width:iR("Width",t,r,n)}}var rme=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},nme=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ih=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function oc(e){return ma({},e,{right:e.left+e.width,bottom:e.top+e.height})}function $k(e){var t={};try{if(np(10)){t=e.getBoundingClientRect();var r=nh(e,"top"),n=nh(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch{}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a=e.nodeName==="HTML"?OW(e.ownerDocument):{},s=a.width||e.clientWidth||i.width,l=a.height||e.clientHeight||i.height,c=e.offsetWidth-s,u=e.offsetHeight-l;if(c||u){var d=nd(e);c-=nR(d,"x"),u-=nR(d,"y"),i.width-=c,i.height-=u}return oc(i)}function GP(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=np(10),i=t.nodeName==="HTML",a=$k(e),s=$k(t),l=Av(e),c=nd(t),u=parseFloat(c.borderTopWidth),d=parseFloat(c.borderLeftWidth);r&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=oc({top:a.top-s.top-u,left:a.left-s.left-d,width:a.width,height:a.height});if(f.marginTop=0,f.marginLeft=0,!n&&i){var h=parseFloat(c.marginTop),p=parseFloat(c.marginLeft);f.top-=u-h,f.bottom-=u-h,f.left-=d-p,f.right-=d-p,f.marginTop=h,f.marginLeft=p}return(n&&!r?t.contains(l):t===l&&l.nodeName!=="BODY")&&(f=tme(f,t)),f}function ime(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.ownerDocument.documentElement,n=GP(e,r),i=Math.max(r.clientWidth,window.innerWidth||0),a=Math.max(r.clientHeight,window.innerHeight||0),s=t?0:nh(r),l=t?0:nh(r,"left"),c={top:s-n.top+n.marginTop,left:l-n.left+n.marginLeft,width:i,height:a};return oc(c)}function PW(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(nd(e,"position")==="fixed")return!0;var r=qP(e);return r?PW(r):!1}function TW(e){if(!e||!e.parentElement||np())return document.documentElement;for(var t=e.parentElement;t&&nd(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function KP(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a={top:0,left:0},s=i?TW(e):qb(e,EW(t));if(n==="viewport")a=ime(s,i);else{var l=void 0;n==="scrollParent"?(l=Av(qP(t)),l.nodeName==="BODY"&&(l=e.ownerDocument.documentElement)):n==="window"?l=e.ownerDocument.documentElement:l=n;var c=GP(l,s,i);if(l.nodeName==="HTML"&&!PW(s)){var u=OW(e.ownerDocument),d=u.height,f=u.width;a.top+=c.top-c.marginTop,a.bottom=d+c.top,a.left+=c.left-c.marginLeft,a.right=f+c.left}else a=c}r=r||0;var h=typeof r=="number";return a.left+=h?r:r.left||0,a.top+=h?r:r.top||0,a.right-=h?r:r.right||0,a.bottom-=h?r:r.bottom||0,a}function ame(e){var t=e.width,r=e.height;return t*r}function AW(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var s=KP(r,n,a,i),l={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},c=Object.keys(l).map(function(h){return ma({key:h},l[h],{area:ame(l[h])})}).sort(function(h,p){return p.area-h.area}),u=c.filter(function(h){var p=h.width,g=h.height;return p>=r.clientWidth&&g>=r.clientHeight}),d=u.length>0?u[0].key:c[0].key,f=e.split("-")[1];return d+(f?"-"+f:"")}function MW(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=n?TW(t):qb(t,EW(r));return GP(r,i,n)}function IW(e){var t=e.ownerDocument.defaultView,r=t.getComputedStyle(e),n=parseFloat(r.marginTop||0)+parseFloat(r.marginBottom||0),i=parseFloat(r.marginLeft||0)+parseFloat(r.marginRight||0),a={width:e.offsetWidth+i,height:e.offsetHeight+n};return a}function Gb(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(r){return t[r]})}function $W(e,t,r){r=r.split("-")[0];var n=IW(e),i={width:n.width,height:n.height},a=["right","left"].indexOf(r)!==-1,s=a?"top":"left",l=a?"left":"top",c=a?"height":"width",u=a?"width":"height";return i[s]=t[s]+t[c]/2-n[c]/2,r===l?i[l]=t[l]-n[u]:i[l]=t[Gb(l)],i}function Mv(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function sme(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(i){return i[t]===r});var n=Mv(e,function(i){return i[t]===r});return e.indexOf(n)}function RW(e,t,r){var n=r===void 0?e:e.slice(0,sme(e,"name",r));return n.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var a=i.function||i.fn;i.enabled&&CW(a)&&(t.offsets.popper=oc(t.offsets.popper),t.offsets.reference=oc(t.offsets.reference),t=a(t,i))}),t}function ome(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=MW(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=AW(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=$W(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=RW(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function DW(e,t){return e.some(function(r){var n=r.name,i=r.enabled;return i&&n===t})}function YP(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],a=i?""+i+r:e;if(typeof document.body.style[a]<"u")return a}return null}function lme(){return this.state.isDestroyed=!0,DW(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[YP("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function LW(e){var t=e.ownerDocument;return t?t.defaultView:window}function FW(e,t,r,n){var i=e.nodeName==="BODY",a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,r,{passive:!0}),i||FW(Av(a.parentNode),t,r,n),n.push(a)}function cme(e,t,r,n){r.updateBound=n,LW(e).addEventListener("resize",r.updateBound,{passive:!0});var i=Av(e);return FW(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function ume(){this.state.eventsEnabled||(this.state=cme(this.reference,this.options,this.state,this.scheduleUpdate))}function dme(e,t){return LW(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(r){r.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function fme(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=dme(this.reference,this.state))}function JP(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function Rk(e,t){Object.keys(t).forEach(function(r){var n="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&JP(t[r])&&(n="px"),e.style[r]=t[r]+n})}function hme(e,t){Object.keys(t).forEach(function(r){var n=t[r];n!==!1?e.setAttribute(r,t[r]):e.removeAttribute(r)})}function pme(e){return Rk(e.instance.popper,e.styles),hme(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Rk(e.arrowElement,e.arrowStyles),e}function mme(e,t,r,n,i){var a=MW(i,t,e,r.positionFixed),s=AW(r.placement,a,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",s),Rk(t,{position:r.positionFixed?"fixed":"absolute"}),r}function gme(e,t){var r=e.offsets,n=r.popper,i=r.reference,a=Math.round,s=Math.floor,l=function(b){return b},c=a(i.width),u=a(n.width),d=["left","right"].indexOf(e.placement)!==-1,f=e.placement.indexOf("-")!==-1,h=c%2===u%2,p=c%2===1&&u%2===1,g=t?d||f||h?a:s:l,m=t?a:l;return{left:g(p&&!f&&t?n.left-1:n.left),top:m(n.top),bottom:m(n.bottom),right:g(n.right)}}var vme=Tv&&/Firefox/i.test(navigator.userAgent);function yme(e,t){var r=t.x,n=t.y,i=e.offsets.popper,a=Mv(e.instance.modifiers,function(w){return w.name==="applyStyle"}).gpuAcceleration;a!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=a!==void 0?a:t.gpuAcceleration,l=rh(e.instance.popper),c=$k(l),u={position:i.position},d=gme(e,window.devicePixelRatio<2||!vme),f=r==="bottom"?"top":"bottom",h=n==="right"?"left":"right",p=YP("transform"),g=void 0,m=void 0;if(f==="bottom"?l.nodeName==="HTML"?m=-l.clientHeight+d.bottom:m=-c.height+d.bottom:m=d.top,h==="right"?l.nodeName==="HTML"?g=-l.clientWidth+d.right:g=-c.width+d.right:g=d.left,s&&p)u[p]="translate3d("+g+"px, "+m+"px, 0)",u[f]=0,u[h]=0,u.willChange="transform";else{var v=f==="bottom"?-1:1,b=h==="right"?-1:1;u[f]=m*v,u[h]=g*b,u.willChange=f+", "+h}var x={"x-placement":e.placement};return e.attributes=ma({},x,e.attributes),e.styles=ma({},u,e.styles),e.arrowStyles=ma({},e.offsets.arrow,e.arrowStyles),e}function BW(e,t,r){var n=Mv(e,function(l){var c=l.name;return c===t}),i=!!n&&e.some(function(l){return l.name===r&&l.enabled&&l.order<n.order});if(!i){var a="`"+t+"`",s="`"+r+"`";console.warn(s+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}function xme(e,t){var r;if(!BW(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if(typeof n=="string"){if(n=e.instance.popper.querySelector(n),!n)return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,s=a.popper,l=a.reference,c=["left","right"].indexOf(i)!==-1,u=c?"height":"width",d=c?"Top":"Left",f=d.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",g=IW(n)[u];l[p]-g<s[f]&&(e.offsets.popper[f]-=s[f]-(l[p]-g)),l[f]+g>s[p]&&(e.offsets.popper[f]+=l[f]+g-s[p]),e.offsets.popper=oc(e.offsets.popper);var m=l[f]+l[u]/2-g/2,v=nd(e.instance.popper),b=parseFloat(v["margin"+d]),x=parseFloat(v["border"+d+"Width"]),w=m-e.offsets.popper[f]-b-x;return w=Math.max(Math.min(s[u]-g,w),0),e.arrowElement=n,e.offsets.arrow=(r={},ih(r,f,Math.round(w)),ih(r,h,""),r),e}function bme(e){return e==="end"?"start":e==="start"?"end":e}var UW=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],F1=UW.slice(3);function aR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=F1.indexOf(e),n=F1.slice(r+1).concat(F1.slice(0,r));return t?n.reverse():n}var B1={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function wme(e,t){if(DW(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var r=KP(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],i=Gb(n),a=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case B1.FLIP:s=[n,i];break;case B1.CLOCKWISE:s=aR(n);break;case B1.COUNTERCLOCKWISE:s=aR(n,!0);break;default:s=t.behavior}return s.forEach(function(l,c){if(n!==l||s.length===c+1)return e;n=e.placement.split("-")[0],i=Gb(n);var u=e.offsets.popper,d=e.offsets.reference,f=Math.floor,h=n==="left"&&f(u.right)>f(d.left)||n==="right"&&f(u.left)<f(d.right)||n==="top"&&f(u.bottom)>f(d.top)||n==="bottom"&&f(u.top)<f(d.bottom),p=f(u.left)<f(r.left),g=f(u.right)>f(r.right),m=f(u.top)<f(r.top),v=f(u.bottom)>f(r.bottom),b=n==="left"&&p||n==="right"&&g||n==="top"&&m||n==="bottom"&&v,x=["top","bottom"].indexOf(n)!==-1,w=!!t.flipVariations&&(x&&a==="start"&&p||x&&a==="end"&&g||!x&&a==="start"&&m||!x&&a==="end"&&v),_=!!t.flipVariationsByContent&&(x&&a==="start"&&g||x&&a==="end"&&p||!x&&a==="start"&&v||!x&&a==="end"&&m),N=w||_;(h||b||N)&&(e.flipped=!0,(h||b)&&(n=s[c+1]),N&&(a=bme(a)),e.placement=n+(a?"-"+a:""),e.offsets.popper=ma({},e.offsets.popper,$W(e.instance.popper,e.offsets.reference,e.placement)),e=RW(e.instance.modifiers,e,"flip"))}),e}function _me(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],a=Math.floor,s=["top","bottom"].indexOf(i)!==-1,l=s?"right":"bottom",c=s?"left":"top",u=s?"width":"height";return r[l]<a(n[c])&&(e.offsets.popper[c]=a(n[c])-r[u]),r[c]>a(n[l])&&(e.offsets.popper[c]=a(n[l])),e}function jme(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],s=i[2];if(!a)return e;if(s.indexOf("%")===0){var l=void 0;switch(s){case"%p":l=r;break;case"%":case"%r":default:l=n}var c=oc(l);return c[t]/100*a}else if(s==="vh"||s==="vw"){var u=void 0;return s==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*a}else return a}function Sme(e,t,r,n){var i=[0,0],a=["right","left"].indexOf(n)!==-1,s=e.split(/(\+|\-)/).map(function(d){return d.trim()}),l=s.indexOf(Mv(s,function(d){return d.search(/,|\s/)!==-1}));s[l]&&s[l].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=l!==-1?[s.slice(0,l).concat([s[l].split(c)[0]]),[s[l].split(c)[1]].concat(s.slice(l+1))]:[s];return u=u.map(function(d,f){var h=(f===1?!a:a)?"height":"width",p=!1;return d.reduce(function(g,m){return g[g.length-1]===""&&["+","-"].indexOf(m)!==-1?(g[g.length-1]=m,p=!0,g):p?(g[g.length-1]+=m,p=!1,g):g.concat(m)},[]).map(function(g){return jme(g,h,t,r)})}),u.forEach(function(d,f){d.forEach(function(h,p){JP(h)&&(i[f]+=h*(d[p-1]==="-"?-1:1))})}),i}function Nme(e,t){var r=t.offset,n=e.placement,i=e.offsets,a=i.popper,s=i.reference,l=n.split("-")[0],c=void 0;return JP(+r)?c=[+r,0]:c=Sme(r,a,s,l),l==="left"?(a.top+=c[0],a.left-=c[1]):l==="right"?(a.top+=c[0],a.left+=c[1]):l==="top"?(a.left+=c[0],a.top-=c[1]):l==="bottom"&&(a.left+=c[0],a.top+=c[1]),e.popper=a,e}function kme(e,t){var r=t.boundariesElement||rh(e.instance.popper);e.instance.reference===r&&(r=rh(r));var n=YP("transform"),i=e.instance.popper.style,a=i.top,s=i.left,l=i[n];i.top="",i.left="",i[n]="";var c=KP(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);i.top=a,i.left=s,i[n]=l,t.boundaries=c;var u=t.priority,d=e.offsets.popper,f={primary:function(p){var g=d[p];return d[p]<c[p]&&!t.escapeWithReference&&(g=Math.max(d[p],c[p])),ih({},p,g)},secondary:function(p){var g=p==="right"?"left":"top",m=d[g];return d[p]>c[p]&&!t.escapeWithReference&&(m=Math.min(d[g],c[p]-(p==="right"?d.width:d.height))),ih({},g,m)}};return u.forEach(function(h){var p=["left","top"].indexOf(h)!==-1?"primary":"secondary";d=ma({},d,f[p](h))}),e.offsets.popper=d,e}function Cme(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,a=i.reference,s=i.popper,l=["bottom","top"].indexOf(r)!==-1,c=l?"left":"top",u=l?"width":"height",d={start:ih({},c,a[c]),end:ih({},c,a[c]+a[u]-s[u])};e.offsets.popper=ma({},s,d[n])}return e}function Eme(e){if(!BW(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=Mv(e.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Ome(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,a=n.reference,s=["left","right"].indexOf(r)!==-1,l=["top","left"].indexOf(r)===-1;return i[s?"left":"top"]=a[r]-(l?i[s?"width":"height"]:0),e.placement=Gb(t),e.offsets.popper=oc(i),e}var Pme={shift:{order:100,enabled:!0,fn:Cme},offset:{order:200,enabled:!0,fn:Nme,offset:0},preventOverflow:{order:300,enabled:!0,fn:kme,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:_me},arrow:{order:500,enabled:!0,fn:xme,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:wme,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Ome},hide:{order:800,enabled:!0,fn:Eme},computeStyle:{order:850,enabled:!0,fn:yme,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:pme,onLoad:mme,gpuAcceleration:void 0}},Tme={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Pme},jg=function(){function e(t,r){var n=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};rme(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=Zpe(this.update.bind(this)),this.options=ma({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(ma({},e.Defaults.modifiers,i.modifiers)).forEach(function(s){n.options.modifiers[s]=ma({},e.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return ma({name:s},n.options.modifiers[s])}).sort(function(s,l){return s.order-l.order}),this.modifiers.forEach(function(s){s.enabled&&CW(s.onLoad)&&s.onLoad(n.reference,n.popper,n.options,s,n.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return nme(e,[{key:"update",value:function(){return ome.call(this)}},{key:"destroy",value:function(){return lme.call(this)}},{key:"enableEventListeners",value:function(){return ume.call(this)}},{key:"disableEventListeners",value:function(){return fme.call(this)}}]),e}();jg.Utils=(typeof window<"u"?window:global).PopperUtils;jg.placements=UW;jg.Defaults=Tme;var Ame=["innerHTML","ownerDocument","style","attributes","nodeValue"],Mme=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Ime=["bigint","boolean","null","number","string","symbol","undefined"];function d_(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if($me(t))return t}function bs(e){return function(t){return d_(t)===e}}function $me(e){return Mme.includes(e)}function ip(e){return function(t){return typeof t===e}}function Rme(e){return Ime.includes(e)}function ie(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(ie.array(e))return"Array";if(ie.plainFunction(e))return"Function";var t=d_(e);return t||"Object"}ie.array=Array.isArray;ie.arrayOf=function(e,t){return!ie.array(e)&&!ie.function(t)?!1:e.every(function(r){return t(r)})};ie.asyncGeneratorFunction=function(e){return d_(e)==="AsyncGeneratorFunction"};ie.asyncFunction=bs("AsyncFunction");ie.bigint=ip("bigint");ie.boolean=function(e){return e===!0||e===!1};ie.date=bs("Date");ie.defined=function(e){return!ie.undefined(e)};ie.domElement=function(e){return ie.object(e)&&!ie.plainObject(e)&&e.nodeType===1&&ie.string(e.nodeName)&&Ame.every(function(t){return t in e})};ie.empty=function(e){return ie.string(e)&&e.length===0||ie.array(e)&&e.length===0||ie.object(e)&&!ie.map(e)&&!ie.set(e)&&Object.keys(e).length===0||ie.set(e)&&e.size===0||ie.map(e)&&e.size===0};ie.error=bs("Error");ie.function=ip("function");ie.generator=function(e){return ie.iterable(e)&&ie.function(e.next)&&ie.function(e.throw)};ie.generatorFunction=bs("GeneratorFunction");ie.instanceOf=function(e,t){return!e||!t?!1:Object.getPrototypeOf(e)===t.prototype};ie.iterable=function(e){return!ie.nullOrUndefined(e)&&ie.function(e[Symbol.iterator])};ie.map=bs("Map");ie.nan=function(e){return Number.isNaN(e)};ie.null=function(e){return e===null};ie.nullOrUndefined=function(e){return ie.null(e)||ie.undefined(e)};ie.number=function(e){return ip("number")(e)&&!ie.nan(e)};ie.numericString=function(e){return ie.string(e)&&e.length>0&&!Number.isNaN(Number(e))};ie.object=function(e){return!ie.nullOrUndefined(e)&&(ie.function(e)||typeof e=="object")};ie.oneOf=function(e,t){return ie.array(e)?e.indexOf(t)>-1:!1};ie.plainFunction=bs("Function");ie.plainObject=function(e){if(d_(e)!=="Object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};ie.primitive=function(e){return ie.null(e)||Rme(typeof e)};ie.promise=bs("Promise");ie.propertyOf=function(e,t,r){if(!ie.object(e)||!t)return!1;var n=e[t];return ie.function(r)?r(n):ie.defined(n)};ie.regexp=bs("RegExp");ie.set=bs("Set");ie.string=ip("string");ie.symbol=ip("symbol");ie.undefined=ip("undefined");ie.weakMap=bs("WeakMap");ie.weakSet=bs("WeakSet");function zW(e){return function(t){return typeof t===e}}var Dme=zW("function"),Lme=function(e){return e===null},sR=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},oR=function(e){return!Fme(e)&&!Lme(e)&&(Dme(e)||typeof e=="object")},Fme=zW("undefined"),Dk=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Bme(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=r;n--!==0;)if(!mi(e[n],t[n]))return!1;return!0}function Ume(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=new DataView(e.buffer),n=new DataView(t.buffer),i=e.byteLength;i--;)if(r.getUint8(i)!==n.getUint8(i))return!1;return!0}function zme(e,t){var r,n,i,a;if(e.size!==t.size)return!1;try{for(var s=Dk(e.entries()),l=s.next();!l.done;l=s.next()){var c=l.value;if(!t.has(c[0]))return!1}}catch(f){r={error:f}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}try{for(var u=Dk(e.entries()),d=u.next();!d.done;d=u.next()){var c=d.value;if(!mi(c[1],t.get(c[0])))return!1}}catch(f){i={error:f}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return!0}function Vme(e,t){var r,n;if(e.size!==t.size)return!1;try{for(var i=Dk(e.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;if(!t.has(s[0]))return!1}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!0}function mi(e,t){if(e===t)return!0;if(e&&oR(e)&&t&&oR(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return Bme(e,t);if(e instanceof Map&&t instanceof Map)return zme(e,t);if(e instanceof Set&&t instanceof Set)return Vme(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return Ume(e,t);if(sR(e)&&sR(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=r.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[i]))return!1;for(var i=r.length;i--!==0;){var a=r[i];if(!(a==="_owner"&&e.$$typeof)&&!mi(e[a],t[a]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function Wme(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(r){return ie.string(r)||ie.array(r)||ie.plainObject(r)})}function Hme(e,t,r){return VW(e,t)?[e,t].every(ie.array)?!e.some(fR(r))&&t.some(fR(r)):[e,t].every(ie.plainObject)?!Object.entries(e).some(dR(r))&&Object.entries(t).some(dR(r)):t===r:!1}function lR(e,t,r){var n=r.actual,i=r.key,a=r.previous,s=r.type,l=Bs(e,i),c=Bs(t,i),u=[l,c].every(ie.number)&&(s==="increased"?l<c:l>c);return ie.undefined(n)||(u=u&&c===n),ie.undefined(a)||(u=u&&l===a),u}function cR(e,t,r){var n=r.key,i=r.type,a=r.value,s=Bs(e,n),l=Bs(t,n),c=i==="added"?s:l,u=i==="added"?l:s;if(!ie.nullOrUndefined(a)){if(ie.defined(c)){if(ie.array(c)||ie.plainObject(c))return Hme(c,u,a)}else return mi(u,a);return!1}return[s,l].every(ie.array)?!u.every(XP(c)):[s,l].every(ie.plainObject)?qme(Object.keys(c),Object.keys(u)):![s,l].every(function(d){return ie.primitive(d)&&ie.defined(d)})&&(i==="added"?!ie.defined(s)&&ie.defined(l):ie.defined(s)&&!ie.defined(l))}function uR(e,t,r){var n=r===void 0?{}:r,i=n.key,a=Bs(e,i),s=Bs(t,i);if(!VW(a,s))throw new TypeError("Inputs have different types");if(!Wme(a,s))throw new TypeError("Inputs don't have length");return[a,s].every(ie.plainObject)&&(a=Object.keys(a),s=Object.keys(s)),[a,s]}function dR(e){return function(t){var r=t[0],n=t[1];return ie.array(e)?mi(e,n)||e.some(function(i){return mi(i,n)||ie.array(n)&&XP(n)(i)}):ie.plainObject(e)&&e[r]?!!e[r]&&mi(e[r],n):mi(e,n)}}function qme(e,t){return t.some(function(r){return!e.includes(r)})}function fR(e){return function(t){return ie.array(e)?e.some(function(r){return mi(r,t)||ie.array(t)&&XP(t)(r)}):mi(e,t)}}function Bp(e,t){return ie.array(e)?e.some(function(r){return mi(r,t)}):mi(e,t)}function XP(e){return function(t){return e.some(function(r){return mi(r,t)})}}function VW(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(ie.array)||e.every(ie.number)||e.every(ie.plainObject)||e.every(ie.string)}function Bs(e,t){if(ie.plainObject(e)||ie.array(e)){if(ie.string(t)){var r=t.split(".");return r.reduce(function(n,i){return n&&n[i]},e)}return ie.number(t)?e[t]:e}return e}function Gme(e,t){if([e,t].some(ie.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(f){return ie.plainObject(f)||ie.array(f)}))throw new Error("Expected plain objects or array");var r=function(f,h){try{return cR(e,t,{key:f,type:"added",value:h})}catch{return!1}},n=function(f,h,p){try{var g=Bs(e,f),m=Bs(t,f),v=ie.defined(h),b=ie.defined(p);if(v||b){var x=b?Bp(p,g):!Bp(h,g),w=Bp(h,m);return x&&w}return[g,m].every(ie.array)||[g,m].every(ie.plainObject)?!mi(g,m):g!==m}catch{return!1}},i=function(f,h,p){if(!ie.defined(f))return!1;try{var g=Bs(e,f),m=Bs(t,f),v=ie.defined(p);return Bp(h,g)&&(v?Bp(p,m):!v)}catch{return!1}},a=function(f,h){return ie.defined(f)?n(f,h):!1},s=function(f,h,p){if(!ie.defined(f))return!1;try{return lR(e,t,{key:f,actual:h,previous:p,type:"decreased"})}catch{return!1}},l=function(f){try{var h=uR(e,t,{key:f}),p=h[0],g=h[1];return!!p.length&&!g.length}catch{return!1}},c=function(f){try{var h=uR(e,t,{key:f}),p=h[0],g=h[1];return!p.length&&!!g.length}catch{return!1}},u=function(f,h,p){if(!ie.defined(f))return!1;try{return lR(e,t,{key:f,actual:h,previous:p,type:"increased"})}catch{return!1}},d=function(f,h){try{return cR(e,t,{key:f,type:"removed",value:h})}catch{return!1}};return{added:r,changed:n,changedFrom:i,changedTo:a,decreased:s,emptied:l,filled:c,increased:u,removed:d}}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){An(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HW(n.key),n)}}function $v(e,t,r){return t&&Kme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function An(e,t,r){return t=HW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lk(e,t)}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(e)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lk(e,t)}function Yme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jme(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function WW(e,t){if(e==null)return{};var r=Jme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function po(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xme(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return po(e)}function Dv(e){var t=Yme();return function(){var n=Kb(e),i;if(t){var a=Kb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Xme(this,i)}}function Qme(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HW(e){var t=Qme(e,"string");return typeof t=="symbol"?t:String(t)}var Zme={flip:{padding:20},preventOverflow:{padding:10}},ege="The typeValidator argument must be a function with the signature function(props, propName, componentName).",tge="The error message is optional, but must be a string if provided.";function rge(e,t,r,n){return typeof e=="boolean"?e:typeof e=="function"?e(t,r,n):e?!!e:!1}function nge(e,t){return Object.hasOwnProperty.call(e,t)}function ige(e,t,r,n){return new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(r,"`."))}function age(e,t){if(typeof e!="function")throw new TypeError(ege);if(t&&typeof t!="string")throw new TypeError(tge)}function pR(e,t,r){return age(e,r),function(n,i,a){for(var s=arguments.length,l=new Array(s>3?s-3:0),c=3;c<s;c++)l[c-3]=arguments[c];return rge(t,n,i,a)?nge(n,i)?e.apply(void 0,[n,i,a].concat(l)):ige(n,i,a):e.apply(void 0,[n,i,a].concat(l))}}var St={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Up=vf.createPortal!==void 0;function Ts(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function U1(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Uy(e){var t=e.title,r=e.data,n=e.warn,i=n===void 0?!1:n,a=e.debug,s=a===void 0?!1:a,l=i?console.warn||console.error:console.log;s&&t&&r&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach(function(c){ie.plainObject(c)&&c.key?l.apply(console,[c.key,c.value]):l.apply(console,[c])}):l.apply(console,[r]),console.groupEnd())}function sge(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(t,r,n)}function oge(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(t,r,n)}function lge(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(s){r(s),oge(e,t,i)},sge(e,t,i,n)}function mR(){}var qW=function(e){Rv(r,e);var t=Dv(r);function r(){return Iv(this,r),t.apply(this,arguments)}return $v(r,[{key:"componentDidMount",value:function(){Ts()&&(this.node||this.appendNode(),Up||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Ts()&&(Up||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Ts()||!this.node||(Up||vf.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,a=i.id,s=i.zIndex;this.node||(this.node=document.createElement("div"),a&&(this.node.id=a),s&&(this.node.style.zIndex=s),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Ts())return null;var i=this.props,a=i.children,s=i.setRef;if(this.node||this.appendNode(),Up)return vf.createPortal(a,this.node);var l=vf.unstable_renderSubtreeIntoContainer(this,a.length>1?T.createElement("div",null,a):a[0],this.node);return s(l),null}},{key:"renderReact16",value:function(){var i=this.props,a=i.hasChildren,s=i.placement,l=i.target;return a?this.renderPortal():l||s==="center"?this.renderPortal():null}},{key:"render",value:function(){return Up?this.renderReact16():null}}]),r}(T.Component);An(qW,"propTypes",{children:le.oneOfType([le.element,le.array]),hasChildren:le.bool,id:le.oneOfType([le.string,le.number]),placement:le.string,setRef:le.func.isRequired,target:le.oneOfType([le.object,le.string]),zIndex:le.number});var GW=function(e){Rv(r,e);var t=Dv(r);function r(){return Iv(this,r),t.apply(this,arguments)}return $v(r,[{key:"parentStyle",get:function(){var i=this.props,a=i.placement,s=i.styles,l=s.arrow.length,c={pointerEvents:"none",position:"absolute",width:"100%"};return a.startsWith("top")?(c.bottom=0,c.left=0,c.right=0,c.height=l):a.startsWith("bottom")?(c.left=0,c.right=0,c.top=0,c.height=l):a.startsWith("left")?(c.right=0,c.top=0,c.bottom=0):a.startsWith("right")&&(c.left=0,c.top=0),c}},{key:"render",value:function(){var i=this.props,a=i.placement,s=i.setArrowRef,l=i.styles,c=l.arrow,u=c.color,d=c.display,f=c.length,h=c.margin,p=c.position,g=c.spread,m={display:d,position:p},v,b=g,x=f;return a.startsWith("top")?(v="0,0 ".concat(b/2,",").concat(x," ").concat(b,",0"),m.bottom=0,m.marginLeft=h,m.marginRight=h):a.startsWith("bottom")?(v="".concat(b,",").concat(x," ").concat(b/2,",0 0,").concat(x),m.top=0,m.marginLeft=h,m.marginRight=h):a.startsWith("left")?(x=g,b=f,v="0,0 ".concat(b,",").concat(x/2," 0,").concat(x),m.right=0,m.marginTop=h,m.marginBottom=h):a.startsWith("right")&&(x=g,b=f,v="".concat(b,",").concat(x," ").concat(b,",0 0,").concat(x/2),m.left=0,m.marginTop=h,m.marginBottom=h),T.createElement("div",{className:"__floater__arrow",style:this.parentStyle},T.createElement("span",{ref:s,style:m},T.createElement("svg",{width:b,height:x,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},T.createElement("polygon",{points:v,fill:u}))))}}]),r}(T.Component);An(GW,"propTypes",{placement:le.string.isRequired,setArrowRef:le.func.isRequired,styles:le.object.isRequired});var cge=["color","height","width"];function KW(e){var t=e.handleClick,r=e.styles,n=r.color,i=r.height,a=r.width,s=WW(r,cge);return T.createElement("button",{"aria-label":"close",onClick:t,style:s,type:"button"},T.createElement("svg",{width:"".concat(a,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},T.createElement("g",null,T.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}KW.propTypes={handleClick:le.func.isRequired,styles:le.object.isRequired};function YW(e){var t=e.content,r=e.footer,n=e.handleClick,i=e.open,a=e.positionWrapper,s=e.showCloseButton,l=e.title,c=e.styles,u={content:T.isValidElement(t)?t:T.createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(u.title=T.isValidElement(l)?l:T.createElement("div",{className:"__floater__title",style:c.title},l)),r&&(u.footer=T.isValidElement(r)?r:T.createElement("div",{className:"__floater__footer",style:c.footer},r)),(s||a)&&!ie.boolean(i)&&(u.close=T.createElement(KW,{styles:c.close,handleClick:n})),T.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)}YW.propTypes={content:le.node.isRequired,footer:le.node,handleClick:le.func.isRequired,open:le.bool,positionWrapper:le.bool.isRequired,showCloseButton:le.bool.isRequired,styles:le.object.isRequired,title:le.node};var JW=function(e){Rv(r,e);var t=Dv(r);function r(){return Iv(this,r),t.apply(this,arguments)}return $v(r,[{key:"style",get:function(){var i=this.props,a=i.disableAnimation,s=i.component,l=i.placement,c=i.hideArrow,u=i.status,d=i.styles,f=d.arrow.length,h=d.floater,p=d.floaterCentered,g=d.floaterClosing,m=d.floaterOpening,v=d.floaterWithAnimation,b=d.floaterWithComponent,x={};return c||(l.startsWith("top")?x.padding="0 0 ".concat(f,"px"):l.startsWith("bottom")?x.padding="".concat(f,"px 0 0"):l.startsWith("left")?x.padding="0 ".concat(f,"px 0 0"):l.startsWith("right")&&(x.padding="0 0 0 ".concat(f,"px"))),[St.OPENING,St.OPEN].indexOf(u)!==-1&&(x=hr(hr({},x),m)),u===St.CLOSING&&(x=hr(hr({},x),g)),u===St.OPEN&&!a&&(x=hr(hr({},x),v)),l==="center"&&(x=hr(hr({},x),p)),s&&(x=hr(hr({},x),b)),hr(hr({},h),x)}},{key:"render",value:function(){var i=this.props,a=i.component,s=i.handleClick,l=i.hideArrow,c=i.setFloaterRef,u=i.status,d={},f=["__floater"];return a?T.isValidElement(a)?d.content=T.cloneElement(a,{closeFn:s}):d.content=a({closeFn:s}):d.content=T.createElement(YW,this.props),u===St.OPEN&&f.push("__floater__open"),l||(d.arrow=T.createElement(GW,this.props)),T.createElement("div",{ref:c,className:f.join(" "),style:this.style},T.createElement("div",{className:"__floater__body"},d.content,d.arrow))}}]),r}(T.Component);An(JW,"propTypes",{component:le.oneOfType([le.func,le.element]),content:le.node,disableAnimation:le.bool.isRequired,footer:le.node,handleClick:le.func.isRequired,hideArrow:le.bool.isRequired,open:le.bool,placement:le.string.isRequired,positionWrapper:le.bool.isRequired,setArrowRef:le.func.isRequired,setFloaterRef:le.func.isRequired,showCloseButton:le.bool,status:le.string.isRequired,styles:le.object.isRequired,title:le.node});var XW=function(e){Rv(r,e);var t=Dv(r);function r(){return Iv(this,r),t.apply(this,arguments)}return $v(r,[{key:"render",value:function(){var i=this.props,a=i.children,s=i.handleClick,l=i.handleMouseEnter,c=i.handleMouseLeave,u=i.setChildRef,d=i.setWrapperRef,f=i.style,h=i.styles,p;if(a)if(T.Children.count(a)===1)if(!T.isValidElement(a))p=T.createElement("span",null,a);else{var g=ie.function(a.type)?"innerRef":"ref";p=T.cloneElement(T.Children.only(a),An({},g,u))}else p=a;return p?T.createElement("span",{ref:d,style:hr(hr({},h),f),onClick:s,onMouseEnter:l,onMouseLeave:c},p):null}}]),r}(T.Component);An(XW,"propTypes",{children:le.node,handleClick:le.func.isRequired,handleMouseEnter:le.func.isRequired,handleMouseLeave:le.func.isRequired,setChildRef:le.func.isRequired,setWrapperRef:le.func.isRequired,style:le.object,styles:le.object.isRequired});var uge={zIndex:100};function dge(e){var t=Za(uge,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}var fge=["arrow","flip","offset"],hge=["position","top","right","bottom","left"],QP=function(e){Rv(r,e);var t=Dv(r);function r(n){var i;return Iv(this,r),i=t.call(this,n),An(po(i),"setArrowRef",function(a){i.arrowRef=a}),An(po(i),"setChildRef",function(a){i.childRef=a}),An(po(i),"setFloaterRef",function(a){i.floaterRef=a}),An(po(i),"setWrapperRef",function(a){i.wrapperRef=a}),An(po(i),"handleTransitionEnd",function(){var a=i.state.status,s=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:a===St.OPENING?St.OPEN:St.IDLE},function(){var l=i.state.status;s(l===St.OPEN?"open":"close",i.props)})}),An(po(i),"handleClick",function(){var a=i.props,s=a.event,l=a.open;if(!ie.boolean(l)){var c=i.state,u=c.positionWrapper,d=c.status;(i.event==="click"||i.event==="hover"&&u)&&(Uy({title:"click",data:[{event:s,status:d===St.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),An(po(i),"handleMouseEnter",function(){var a=i.props,s=a.event,l=a.open;if(!(ie.boolean(l)||U1())){var c=i.state.status;i.event==="hover"&&c===St.IDLE&&(Uy({title:"mouseEnter",data:[{key:"originalEvent",value:s}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),An(po(i),"handleMouseLeave",function(){var a=i.props,s=a.event,l=a.eventDelay,c=a.open;if(!(ie.boolean(c)||U1())){var u=i.state,d=u.status,f=u.positionWrapper;i.event==="hover"&&(Uy({title:"mouseLeave",data:[{key:"originalEvent",value:s}],debug:i.debug}),l?[St.OPENING,St.OPEN].indexOf(d)!==-1&&!f&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},l*1e3)):i.toggle(St.IDLE))}}),i.state={currentPlacement:n.placement,needsUpdate:!1,positionWrapper:n.wrapperOptions.position&&!!n.target,status:St.INIT,statusWrapper:St.INIT},i._isMounted=!1,i.hasMounted=!1,Ts()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return $v(r,[{key:"componentDidMount",value:function(){if(Ts()){var i=this.state.positionWrapper,a=this.props,s=a.children,l=a.open,c=a.target;this._isMounted=!0,Uy({title:"init",data:{hasChildren:!!s,hasTarget:!!c,isControlled:ie.boolean(l),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!s&&c&&ie.boolean(l)}}},{key:"componentDidUpdate",value:function(i,a){if(Ts()){var s=this.props,l=s.autoOpen,c=s.open,u=s.target,d=s.wrapperOptions,f=Gme(a,this.state),h=f.changedFrom,p=f.changed;if(i.open!==c){var g;ie.boolean(c)&&(g=c?St.OPENING:St.CLOSING),this.toggle(g)}(i.wrapperOptions.position!==d.position||i.target!==u)&&this.changeWrapperPosition(this.props),p("status",St.IDLE)&&c?this.toggle(St.OPEN):h("status",St.INIT,St.IDLE)&&l&&this.toggle(St.OPEN),this.popper&&p("status",St.OPENING)&&this.popper.instance.update(),this.floaterRef&&(p("status",St.OPENING)||p("status",St.CLOSING))&&lge(this.floaterRef,"transitionend",this.handleTransitionEnd),p("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Ts()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,s=this.state.positionWrapper,l=this.props,c=l.disableFlip,u=l.getPopper,d=l.hideArrow,f=l.offset,h=l.placement,p=l.wrapperOptions,g=h==="top"||h==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(h==="center")this.setState({status:St.IDLE});else if(a&&this.floaterRef){var m=this.options,v=m.arrow,b=m.flip,x=m.offset,w=WW(m,fge);new jg(a,this.floaterRef,{placement:h,modifiers:hr({arrow:hr({enabled:!d,element:this.arrowRef},v),flip:hr({enabled:!c,behavior:g},b),offset:hr({offset:"0, ".concat(f,"px")},x)},w),onCreate:function(j){var k;if(i.popper=j,!((k=i.floaterRef)!==null&&k!==void 0&&k.isConnected)){i.setState({needsUpdate:!0});return}u(j,"floater"),i._isMounted&&i.setState({currentPlacement:j.placement,status:St.IDLE}),h!==j.placement&&setTimeout(function(){j.instance.update()},1)},onUpdate:function(j){i.popper=j;var k=i.state.currentPlacement;i._isMounted&&j.placement!==k&&i.setState({currentPlacement:j.placement})}})}if(s){var _=ie.undefined(p.offset)?0:p.offset;new jg(this.target,this.wrapperRef,{placement:p.placement||h,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(_,"px")},flip:{enabled:!1}},onCreate:function(j){i.wrapperPopper=j,i._isMounted&&i.setState({statusWrapper:St.IDLE}),u(j,"wrapper"),h!==j.placement&&setTimeout(function(){j.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var a;(a=i.floaterRef)!==null&&a!==void 0&&a.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var a=i.target,s=i.wrapperOptions;this.setState({positionWrapper:s.position&&!!a})}},{key:"toggle",value:function(i){var a=this.state.status,s=a===St.OPEN?St.CLOSING:St.OPENING;ie.undefined(i)||(s=i),this.setState({status:s})}},{key:"debug",get:function(){var i=this.props.debug;return i||Ts()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,a=i.disableHoverToClick,s=i.event;return s==="hover"&&U1()&&!a?"click":s}},{key:"options",get:function(){var i=this.props.options;return Za(Zme,i||{})}},{key:"styles",get:function(){var i=this,a=this.state,s=a.status,l=a.positionWrapper,c=a.statusWrapper,u=this.props.styles,d=Za(dge(u),u);if(l){var f;[St.IDLE].indexOf(s)===-1||[St.IDLE].indexOf(c)===-1?f=d.wrapperPosition:f=this.wrapperPopper.styles,d.wrapper=hr(hr({},d.wrapper),f)}if(this.target){var h=window.getComputedStyle(this.target);this.wrapperStyles?d.wrapper=hr(hr({},d.wrapper),this.wrapperStyles):["relative","static"].indexOf(h.position)===-1&&(this.wrapperStyles={},l||(hge.forEach(function(p){i.wrapperStyles[p]=h[p]}),d.wrapper=hr(hr({},d.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return d}},{key:"target",get:function(){if(!Ts())return null;var i=this.props.target;return i?ie.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,a=i.currentPlacement,s=i.positionWrapper,l=i.status,c=this.props,u=c.children,d=c.component,f=c.content,h=c.disableAnimation,p=c.footer,g=c.hideArrow,m=c.id,v=c.open,b=c.showCloseButton,x=c.style,w=c.target,_=c.title,N=T.createElement(XW,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:x,styles:this.styles.wrapper},u),j={};return s?j.wrapperInPortal=N:j.wrapperAsChildren=N,T.createElement("span",null,T.createElement(qW,{hasChildren:!!u,id:m,placement:a,setRef:this.setFloaterRef,target:w,zIndex:this.styles.options.zIndex},T.createElement(JW,{component:d,content:f,disableAnimation:h,footer:p,handleClick:this.handleClick,hideArrow:g||a==="center",open:v,placement:a,positionWrapper:s,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:b,status:l,styles:this.styles,title:_}),j.wrapperInPortal),j.wrapperAsChildren)}}]),r}(T.Component);An(QP,"propTypes",{autoOpen:le.bool,callback:le.func,children:le.node,component:pR(le.oneOfType([le.func,le.element]),function(e){return!e.content}),content:pR(le.node,function(e){return!e.component}),debug:le.bool,disableAnimation:le.bool,disableFlip:le.bool,disableHoverToClick:le.bool,event:le.oneOf(["hover","click"]),eventDelay:le.number,footer:le.node,getPopper:le.func,hideArrow:le.bool,id:le.oneOfType([le.string,le.number]),offset:le.number,open:le.bool,options:le.object,placement:le.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:le.bool,style:le.object,styles:le.object,target:le.oneOfType([le.object,le.string]),title:le.node,wrapperOptions:le.shape({offset:le.number,placement:le.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:le.bool})});An(QP,"defaultProps",{autoOpen:!1,callback:mR,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:mR,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var pge=Object.defineProperty,mge=(e,t,r)=>t in e?pge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Re=(e,t,r)=>mge(e,typeof t!="symbol"?t+"":t,r),Mt={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Bi={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},pt={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},gt={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function kl(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function QW(e){return e?e.getBoundingClientRect():null}function gge(e=!1){const{body:t,documentElement:r}=document;if(!t||!r)return 0;if(e){const n=[t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight].sort((a,s)=>a-s),i=Math.floor(n.length/2);return n.length%2===0?(n[i-1]+n[i])/2:n[i]}return Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}function ko(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function vge(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function Sg(e,t,r){if(!e)return au();const n=_W(e);if(n){if(n.isSameNode(au()))return r?document:au();if(!(n.scrollHeight>n.offsetHeight)&&!t)return n.style.overflow="initial",au()}return n}function f_(e,t){if(!e)return!1;const r=Sg(e,t);return r?!r.isSameNode(au()):!1}function yge(e){return e.offsetParent!==document.body}function ah(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:r}=e,n=vge(e);return r==="BODY"||r==="HTML"?!1:n&&n.position===t?!0:e.parentNode?ah(e.parentNode,t):!1}function xge(e){var t;if(!e)return!1;let r=e;for(;r&&r!==document.body;){if(r instanceof HTMLElement){const{display:n,visibility:i}=getComputedStyle(r);if(n==="none"||i==="hidden")return!1}r=(t=r.parentElement)!=null?t:null}return!0}function bge(e,t,r){var n,i,a;const s=QW(e),l=Sg(e,r),c=f_(e,r),u=ah(e);let d=0,f=(n=s==null?void 0:s.top)!=null?n:0;if(c&&u){const h=(i=e==null?void 0:e.offsetTop)!=null?i:0,p=(a=l==null?void 0:l.scrollTop)!=null?a:0;f=h-p}else l instanceof HTMLElement&&(d=l.scrollTop,!c&&!ah(e)&&(f+=d),l.isSameNode(au())||(f+=au().scrollTop));return Math.floor(f-t)}function wge(e,t,r){var n;if(!e)return 0;const{offsetTop:i=0,scrollTop:a=0}=(n=_W(e))!=null?n:{};let s=e.getBoundingClientRect().top+a;i&&(f_(e,r)||yge(e))&&(s-=i);const l=Math.floor(s-t);return l<0?0:l}function au(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function _ge(e,t){const{duration:r,element:n}=t;return new Promise((i,a)=>{const{scrollTop:s}=n,l=e>s?e-s:s-e;Npe.top(n,e,{duration:l<100?50:r},c=>c&&c.message!=="Element already at target scroll position"?a(c):i())})}var zp=rs.createPortal!==void 0;function ZW(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function Fx(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function As(e,t={}){const{defaultValue:r,step:n,steps:i}=t;let a=Z$(e);if(a)(a.includes("{step}")||a.includes("{steps}"))&&n&&i&&(a=a.replace("{step}",n.toString()).replace("{steps}",i.toString()));else if(y.isValidElement(e)&&!Object.values(e.props).length&&Fx(e.type)==="function"){const s=e.type({});a=As(s,t)}else a=Z$(r);return a}function jge(e,t){return!fn.plainObject(e)||!fn.array(t)?!1:Object.keys(e).every(r=>t.includes(r))}function Sge(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,r=e.replace(t,(i,a,s,l)=>a+a+s+s+l+l),n=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(r);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function gR(e){return e.disableBeacon||e.placement==="center"}function vR(){return!["chrome","safari","firefox","opera"].includes(ZW())}function Bu({data:e,debug:t=!1,title:r,warn:n=!1}){const i=n?console.warn||console.error:console.log;t&&(r&&e?(console.groupCollapsed(`%creact-joyride: ${r}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(a=>{fn.plainObject(a)&&a.key?i.apply(console,[a.key,a.value]):i.apply(console,[a])}):i.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function Nge(e){return Object.keys(e)}function e9(e,...t){if(!fn.plainObject(e))throw new TypeError("Expected an object");const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&(t.includes(n)||(r[n]=e[n]));return r}function kge(e,...t){if(!fn.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&t.includes(n)&&(r[n]=e[n]);return r}function Fk(e,t,r){const n=a=>a.replace("{step}",String(t)).replace("{steps}",String(r));if(Fx(e)==="string")return n(e);if(!y.isValidElement(e))return e;const{children:i}=e.props;if(Fx(i)==="string"&&i.includes("{step}"))return y.cloneElement(e,{children:n(i)});if(Array.isArray(i))return y.cloneElement(e,{children:i.map(a=>typeof a=="string"?n(a):Fk(a,t,r))});if(Fx(e.type)==="function"&&!Object.values(e.props).length){const a=e.type({});return Fk(a,t,r)}return e}function Cge(e){const{isFirstStep:t,lifecycle:r,previousLifecycle:n,scrollToFirstStep:i,step:a,target:s}=e;return!a.disableScrolling&&(!t||i||r===pt.TOOLTIP)&&a.placement!=="center"&&(!a.isFixed||!ah(s))&&n!==r&&[pt.BEACON,pt.TOOLTIP].includes(r)}var Ege={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},t9={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},Oge={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:t9,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},Pge={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},Tge={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Vp={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},yR={borderRadius:4,position:"absolute"};function Age(e,t){var r,n,i,a,s;const{floaterProps:l,styles:c}=e,u=Za((r=t.floaterProps)!=null?r:{},l??{}),d=Za(c??{},(n=t.styles)!=null?n:{}),f=Za(Tge,d.options||{}),h=t.placement==="center"||t.disableBeacon;let{width:p}=f;window.innerWidth>480&&(p=380),"width"in f&&(p=typeof f.width=="number"&&window.innerWidth<f.width?window.innerWidth-30:f.width);const g={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:f.zIndex},m={beacon:{...Vp,display:h?"none":"inline-block",height:f.beaconSize,position:"relative",width:f.beaconSize,zIndex:f.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:f.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${Sge(f.primaryColor).join(",")}, 0.2)`,border:`2px solid ${f.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:f.backgroundColor,borderRadius:5,boxSizing:"border-box",color:f.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:p},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Vp,backgroundColor:f.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Vp,color:f.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Vp,color:f.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Vp,color:f.textColor,fontSize:14},overlay:{...g,backgroundColor:f.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...g},overlayLegacyCenter:{...g,backgroundColor:f.overlayColor},spotlight:{...yR,backgroundColor:"gray"},spotlightLegacy:{...yR,boxShadow:`0 0 0 9999px ${f.overlayColor}, ${f.spotlightShadow}`},floaterStyles:{arrow:{color:(s=(a=(i=u==null?void 0:u.styles)==null?void 0:i.arrow)==null?void 0:a.color)!=null?s:f.arrowColor},options:{zIndex:f.zIndex+100}},options:f};return Za(m,d)}function Mge(e){return kge(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function Ed(e,t){var r,n,i,a,s,l;const c=t??{},u=Za.all([Oge,Mge(e),c],{isMergeableObject:fn.plainObject}),d=Age(e,u),f=f_(ko(u.target),u.disableScrollParentFix),h=Za.all([Ege,(r=e.floaterProps)!=null?r:{},(n=u.floaterProps)!=null?n:{}]);return h.offset=u.offset,h.styles=Za((i=h.styles)!=null?i:{},d.floaterStyles),h.offset+=(s=(a=e.spotlightPadding)!=null?a:u.spotlightPadding)!=null?s:0,u.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=u.placementBeacon),f&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),{...u,locale:Za.all([t9,(l=e.locale)!=null?l:{},u.locale||{}]),floaterProps:h,styles:e9(d,"floaterStyles")}}function r9(e,t=!1){return fn.plainObject(e)?e.target?!0:(Bu({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(Bu({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function xR(e,t=!1){return fn.array(e)?e.every(r=>r9(r,t)):(Bu({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var n9={action:"init",controlled:!1,index:0,lifecycle:pt.INIT,origin:null,size:0,status:gt.IDLE},bR=Nge(e9(n9,"controlled","size")),Ige=class{constructor(e){Re(this,"beaconPopper"),Re(this,"tooltipPopper"),Re(this,"data",new Map),Re(this,"listener"),Re(this,"store",new Map),Re(this,"addListener",i=>{this.listener=i}),Re(this,"setSteps",i=>{const{size:a,status:s}=this.getState(),l={size:i.length,status:s};this.data.set("steps",i),s===gt.WAITING&&!a&&i.length&&(l.status=gt.RUNNING),this.setState(l)}),Re(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),Re(this,"setPopper",(i,a)=>{i==="beacon"?this.beaconPopper=a:this.tooltipPopper=a}),Re(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),Re(this,"close",(i=null)=>{const{index:a,status:s}=this.getState();s===gt.RUNNING&&this.setState({...this.getNextState({action:Mt.CLOSE,index:a+1,origin:i})})}),Re(this,"go",i=>{const{controlled:a,status:s}=this.getState();if(a||s!==gt.RUNNING)return;const l=this.getSteps()[i];this.setState({...this.getNextState({action:Mt.GO,index:i}),status:l?s:gt.FINISHED})}),Re(this,"info",()=>this.getState()),Re(this,"next",()=>{const{index:i,status:a}=this.getState();a===gt.RUNNING&&this.setState(this.getNextState({action:Mt.NEXT,index:i+1}))}),Re(this,"open",()=>{const{status:i}=this.getState();i===gt.RUNNING&&this.setState({...this.getNextState({action:Mt.UPDATE,lifecycle:pt.TOOLTIP})})}),Re(this,"prev",()=>{const{index:i,status:a}=this.getState();a===gt.RUNNING&&this.setState({...this.getNextState({action:Mt.PREV,index:i-1})})}),Re(this,"reset",(i=!1)=>{const{controlled:a}=this.getState();a||this.setState({...this.getNextState({action:Mt.RESET,index:0}),status:i?gt.RUNNING:gt.READY})}),Re(this,"skip",()=>{const{status:i}=this.getState();i===gt.RUNNING&&this.setState({action:Mt.SKIP,lifecycle:pt.INIT,status:gt.SKIPPED})}),Re(this,"start",i=>{const{index:a,size:s}=this.getState();this.setState({...this.getNextState({action:Mt.START,index:fn.number(i)?i:a},!0),status:s?gt.RUNNING:gt.WAITING})}),Re(this,"stop",(i=!1)=>{const{index:a,status:s}=this.getState();[gt.FINISHED,gt.SKIPPED].includes(s)||this.setState({...this.getNextState({action:Mt.STOP,index:a+(i?1:0)}),status:gt.PAUSED})}),Re(this,"update",i=>{var a,s;if(!jge(i,bR))throw new Error(`State is not valid. Valid keys: ${bR.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(a=i.action)!=null?a:Mt.UPDATE,origin:(s=i.origin)!=null?s:null},!0)})});const{continuous:t=!1,stepIndex:r,steps:n=[]}=e??{};this.setState({action:Mt.INIT,controlled:fn.number(r),continuous:t,index:fn.number(r)?r:0,lifecycle:pt.INIT,origin:null,status:n.length?gt.READY:gt.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(n)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...n9}}getNextState(e,t=!1){var r,n,i,a,s;const{action:l,controlled:c,index:u,size:d,status:f}=this.getState(),h=fn.number(e.index)?e.index:u,p=c&&!t?u:Math.min(Math.max(h,0),d);return{action:(r=e.action)!=null?r:l,controlled:c,index:p,lifecycle:(n=e.lifecycle)!=null?n:pt.INIT,origin:(i=e.origin)!=null?i:null,size:(a=e.size)!=null?a:d,status:p===d?gt.FINISHED:(s=e.status)!=null?s:f}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const t=JSON.stringify(e),r=JSON.stringify(this.getState());return t!==r}setState(e,t=!1){const r=this.getState(),{action:n,index:i,lifecycle:a,origin:s=null,size:l,status:c}={...r,...e};this.store.set("action",n),this.store.set("index",i),this.store.set("lifecycle",a),this.store.set("origin",s),this.store.set("size",l),this.store.set("status",c),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function $ge(e){return new Ige(e)}function Rge({styles:e}){return y.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var Dge=Rge,Lge=class extends y.Component{constructor(){super(...arguments),Re(this,"isActive",!1),Re(this,"resizeTimeout"),Re(this,"scrollTimeout"),Re(this,"scrollParent"),Re(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),Re(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:r}=this.props,n=[pt.INIT,pt.BEACON,pt.COMPLETE,pt.ERROR];return t||(e?n.includes(r):r!==pt.TOOLTIP)}),Re(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:r,left:n,position:i,top:a,width:s}=this.spotlightStyles,l=i==="fixed"?e.clientY:e.pageY,c=i==="fixed"?e.clientX:e.pageX,u=l>=a&&l<=a+r,f=c>=n&&c<=n+s&&u;f!==t&&this.updateState({mouseOverSpotlight:f})}),Re(this,"handleScroll",()=>{const{target:e}=this.props,t=ko(e);if(this.scrollParent!==document){const{isScrolling:r}=this.state;r||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else ah(t,"sticky")&&this.updateState({})}),Re(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:r=!1,target:n}=this.props,i=ko(n);this.scrollParent=Sg(i??document.body,r,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:r,lifecycle:n,spotlightClicks:i,target:a}=this.props,{changed:s}=Hb(e,this.props);if(s("target")||s("disableScrollParentFix")){const l=ko(a);this.scrollParent=Sg(l??document.body,r,!0)}s("lifecycle",pt.TOOLTIP)&&((t=this.scrollParent)==null||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:l}=this.state;l||this.updateState({showSpotlight:!0})},100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(i&&n===pt.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):n!==pt.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:r,styles:n}=this.props;let i=n.overlay;return vR()&&(i=r==="center"?n.overlayLegacyCenter:n.overlayLegacy),{cursor:t?"default":"pointer",height:gge(),pointerEvents:e?"none":"auto",...i}}get spotlightStyles(){var e,t,r;const{showSpotlight:n}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:a,spotlightPadding:s=0,styles:l,target:c}=this.props,u=ko(c),d=QW(u),f=ah(u),h=bge(u,s,i);return{...vR()?l.spotlightLegacy:l.spotlight,height:Math.round(((e=d==null?void 0:d.height)!=null?e:0)+s*2),left:Math.round(((t=d==null?void 0:d.left)!=null?t:0)-s),opacity:n?1:0,pointerEvents:a?"none":"auto",position:f?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round(((r=d==null?void 0:d.width)!=null?r:0)+s*2)}}updateState(e){this.isActive&&this.setState(t=>({...t,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:r}=this.props,{hideSpotlight:n,overlayStyles:i,spotlightStyles:a}=this;if(n())return null;let s=r!=="center"&&e&&y.createElement(Dge,{styles:a});if(ZW()==="safari"){const{mixBlendMode:l,zIndex:c,...u}=i;s=y.createElement("div",{style:{...u}},s),delete i.backgroundColor}return y.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:i},s)}},Fge=class extends y.Component{constructor(){super(...arguments),Re(this,"node",null)}componentDidMount(){const{id:e}=this.props;kl()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),zp||this.renderReact15())}componentDidUpdate(){kl()&&(zp||this.renderReact15())}componentWillUnmount(){!kl()||!this.node||(zp||rs.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!kl())return;const{children:e}=this.props;this.node&&rs.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!kl()||!zp)return null;const{children:e}=this.props;return this.node?rs.createPortal(e,this.node):null}render(){return zp?this.renderReact16():null}},Bge=class{constructor(e,t){if(Re(this,"element"),Re(this,"options"),Re(this,"canBeTabbed",r=>{const{tabIndex:n}=r;return n===null||n<0?!1:this.canHaveFocus(r)}),Re(this,"canHaveFocus",r=>{const n=/input|select|textarea|button|object/,i=r.nodeName.toLowerCase();return(n.test(i)&&!r.getAttribute("disabled")||i==="a"&&!!r.getAttribute("href"))&&this.isVisible(r)}),Re(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),Re(this,"handleKeyDown",r=>{const{code:n="Tab"}=this.options;r.code===n&&this.interceptTab(r)}),Re(this,"interceptTab",r=>{r.preventDefault();const n=this.findValidTabElements(),{shiftKey:i}=r;if(!n.length)return;let a=document.activeElement?n.indexOf(document.activeElement):0;a===-1||!i&&a+1===n.length?a=0:i&&a===0?a=n.length-1:a+=i?-1:1,n[a].focus()}),Re(this,"isHidden",r=>{const n=r.offsetWidth<=0&&r.offsetHeight<=0,i=window.getComputedStyle(r);return n&&!r.innerHTML?!0:n&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),Re(this,"isVisible",r=>{let n=r;for(;n;)if(n instanceof HTMLElement){if(n===document.body)break;if(this.isHidden(n))return!1;n=n.parentNode}return!0}),Re(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),Re(this,"checkFocus",r=>{document.activeElement!==r&&(r.focus(),window.requestAnimationFrame(()=>this.checkFocus(r)))}),Re(this,"setFocus",()=>{const{selector:r}=this.options;if(!r)return;const n=this.element.querySelector(r);n&&window.requestAnimationFrame(()=>this.checkFocus(n))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},Uge=class extends y.Component{constructor(e){if(super(e),Re(this,"beacon",null),Re(this,"setBeaconRef",i=>{this.beacon=i}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id="joyride-beacon-animation",e.nonce&&r.setAttribute("nonce",e.nonce),r.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),t.appendChild(r)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{fn.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e!=null&&e.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:r,isLastStep:n,locale:i,onClickOrHover:a,size:s,step:l,styles:c}=this.props,u=As(i.open),d={"aria-label":u,onClick:a,onMouseEnter:a,ref:this.setBeaconRef,title:u};let f;if(e){const h=e;f=y.createElement(h,{continuous:t,index:r,isLastStep:n,size:s,step:l,...d})}else f=y.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...d},y.createElement("span",{style:c.beaconInner}),y.createElement("span",{style:c.beaconOuter}));return f}};function zge({styles:e,...t}){const{color:r,height:n,width:i,...a}=e;return T.createElement("button",{style:a,type:"button",...t},T.createElement("svg",{height:typeof n=="number"?`${n}px`:n,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},T.createElement("g",null,T.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}var Vge=zge;function Wge(e){const{backProps:t,closeProps:r,index:n,isLastStep:i,primaryProps:a,skipProps:s,step:l,tooltipProps:c}=e,{content:u,hideBackButton:d,hideCloseButton:f,hideFooter:h,showSkipButton:p,styles:g,title:m}=l,v={};return v.primary=y.createElement("button",{"data-test-id":"button-primary",style:g.buttonNext,type:"button",...a}),p&&!i&&(v.skip=y.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:g.buttonSkip,type:"button",...s})),!d&&n>0&&(v.back=y.createElement("button",{"data-test-id":"button-back",style:g.buttonBack,type:"button",...t})),v.close=!f&&y.createElement(Vge,{"data-test-id":"button-close",styles:g.buttonClose,...r}),y.createElement("div",{key:"JoyrideTooltip","aria-label":As(m??u),className:"react-joyride__tooltip",style:g.tooltip,...c},y.createElement("div",{style:g.tooltipContainer},m&&y.createElement("h1",{"aria-label":As(m),style:g.tooltipTitle},m),y.createElement("div",{style:g.tooltipContent},u)),!h&&y.createElement("div",{style:g.tooltipFooter},y.createElement("div",{style:g.tooltipFooterSpacer},v.skip),v.back,v.primary),v.close)}var Hge=Wge,qge=class extends y.Component{constructor(){super(...arguments),Re(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),Re(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),Re(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:r}=this.props;if(!t){r.close("button_primary");return}r.next()}),Re(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),Re(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:r,setTooltipRef:n,size:i,step:a}=this.props,{back:s,close:l,last:c,next:u,nextLabelWithProgress:d,skip:f}=a.locale,h=As(s),p=As(l),g=As(c),m=As(u),v=As(f);let b=l,x=p;if(e){if(b=u,x=m,a.showProgress&&!r){const w=As(d,{step:t+1,steps:i});b=Fk(d,t+1,i),x=w}r&&(b=c,x=g)}return{backProps:{"aria-label":h,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":p,children:l,"data-action":"close",onClick:this.handleClickClose,role:"button",title:p},primaryProps:{"aria-label":x,children:b,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:x},skipProps:{"aria-label":v,children:f,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:v},tooltipProps:{"aria-modal":!0,ref:n,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:r,setTooltipRef:n,size:i,step:a}=this.props,{beaconComponent:s,tooltipComponent:l,...c}=a;let u;if(l){const d={...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:i,step:c,setTooltipRef:n},f=l;u=y.createElement(f,{...d})}else u=y.createElement(Hge,{...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:i,step:a});return u}},Gge=class extends y.Component{constructor(){super(...arguments),Re(this,"scope",null),Re(this,"tooltip",null),Re(this,"handleClickHoverBeacon",e=>{const{step:t,store:r}=this.props;e.type==="mouseenter"&&t.event!=="hover"||r.update({lifecycle:pt.TOOLTIP})}),Re(this,"setTooltipRef",e=>{this.tooltip=e}),Re(this,"setPopper",(e,t)=>{var r;const{action:n,lifecycle:i,step:a,store:s}=this.props;t==="wrapper"?s.setPopper("beacon",e):s.setPopper("tooltip",e),s.getPopper("beacon")&&(s.getPopper("tooltip")||a.placement==="center")&&i===pt.INIT&&s.update({action:n,lifecycle:pt.READY}),(r=a.floaterProps)!=null&&r.getPopper&&a.floaterProps.getPopper(e,t)}),Re(this,"renderTooltip",e=>{const{continuous:t,helpers:r,index:n,size:i,step:a}=this.props;return y.createElement(qge,{continuous:t,helpers:r,index:n,isLastStep:n+1===i,setTooltipRef:this.setTooltipRef,size:i,step:a,...e})})}componentDidMount(){const{debug:e,index:t}=this.props;Bu({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:r,callback:n,continuous:i,controlled:a,debug:s,helpers:l,index:c,lifecycle:u,shouldScroll:d,status:f,step:h,store:p}=this.props,{changed:g,changedFrom:m}=Hb(e,this.props),v=l.info(),b=i&&r!==Mt.CLOSE&&(c>0||r===Mt.PREV),x=g("action")||g("index")||g("lifecycle")||g("status"),w=m("lifecycle",[pt.TOOLTIP,pt.INIT],pt.INIT),_=g("action",[Mt.NEXT,Mt.PREV,Mt.SKIP,Mt.CLOSE]),N=a&&c===e.index;if(_&&(w||N)&&n({...v,index:e.index,lifecycle:pt.COMPLETE,step:e.step,type:Bi.STEP_AFTER}),h.placement==="center"&&f===gt.RUNNING&&g("index")&&r!==Mt.START&&u===pt.INIT&&p.update({lifecycle:pt.READY}),x){const j=ko(h.target),k=!!j;k&&xge(j)?(m("status",gt.READY,gt.RUNNING)||m("lifecycle",pt.INIT,pt.READY))&&n({...v,step:h,type:Bi.STEP_BEFORE}):(console.warn(k?"Target not visible":"Target not mounted",h),n({...v,type:Bi.TARGET_NOT_FOUND,step:h}),a||p.update({index:c+(r===Mt.PREV?-1:1)}))}m("lifecycle",pt.INIT,pt.READY)&&p.update({lifecycle:gR(h)||b?pt.TOOLTIP:pt.BEACON}),g("index")&&Bu({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:s}),g("lifecycle",pt.BEACON)&&n({...v,step:h,type:Bi.BEACON}),g("lifecycle",pt.TOOLTIP)&&(n({...v,step:h,type:Bi.TOOLTIP}),d&&this.tooltip&&(this.scope=new Bge(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),m("lifecycle",[pt.TOOLTIP,pt.INIT],pt.INIT)&&((t=this.scope)==null||t.removeScope(),p.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return gR(t)||e===pt.TOOLTIP}render(){const{continuous:e,debug:t,index:r,nonce:n,shouldScroll:i,size:a,step:s}=this.props,l=ko(s.target);return!r9(s)||!fn.domElement(l)?null:y.createElement("div",{key:`JoyrideStep-${r}`,className:"react-joyride__step"},y.createElement(QP,{...s.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${r}`,open:this.open,placement:s.placement,target:s.target},y.createElement(Uge,{beaconComponent:s.beaconComponent,continuous:e,index:r,isLastStep:r+1===a,locale:s.locale,nonce:n,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:a,step:s,styles:s.styles})))}},i9=class extends y.Component{constructor(e){super(e),Re(this,"helpers"),Re(this,"store"),Re(this,"callback",s=>{const{callback:l}=this.props;fn.function(l)&&l(s)}),Re(this,"handleKeyboard",s=>{const{index:l,lifecycle:c}=this.state,{steps:u}=this.props,d=u[l];c===pt.TOOLTIP&&s.code==="Escape"&&d&&!d.disableCloseOnEsc&&this.store.close("keyboard")}),Re(this,"handleClickOverlay",()=>{const{index:s}=this.state,{steps:l}=this.props;Ed(this.props,l[s]).disableOverlayClose||this.helpers.close("overlay")}),Re(this,"syncState",s=>{this.setState(s)});const{debug:t,getHelpers:r,run:n=!0,stepIndex:i}=e;this.store=$ge({...e,controlled:n&&fn.number(i)}),this.helpers=this.store.getHelpers();const{addListener:a}=this.store;Bu({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),a(this.syncState),r&&r(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!kl())return;const{debug:e,disableCloseOnEsc:t,run:r,steps:n}=this.props,{start:i}=this.store;xR(n,e)&&r&&i(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!kl())return;const{action:r,controlled:n,index:i,status:a}=this.state,{debug:s,run:l,stepIndex:c,steps:u}=this.props,{stepIndex:d,steps:f}=e,{reset:h,setSteps:p,start:g,stop:m,update:v}=this.store,{changed:b}=Hb(e,this.props),{changed:x,changedFrom:w}=Hb(t,this.state),_=Ed(this.props,u[i]),N=!Qn(f,u),j=fn.number(c)&&b("stepIndex"),k=ko(_.target);if(N&&(xR(u,s)?p(u):console.warn("Steps are not valid",u)),b("run")&&(l?g(c):m()),j){let A=fn.number(d)&&d<c?Mt.NEXT:Mt.PREV;r===Mt.STOP&&(A=Mt.START),[gt.FINISHED,gt.SKIPPED].includes(a)||v({action:r===Mt.CLOSE?Mt.CLOSE:A,index:c,lifecycle:pt.INIT})}!n&&a===gt.RUNNING&&i===0&&!k&&(this.store.update({index:i+1}),this.callback({...this.state,type:Bi.TARGET_NOT_FOUND,step:_}));const O={...this.state,index:i,step:_};if(x("action",[Mt.NEXT,Mt.PREV,Mt.SKIP,Mt.CLOSE])&&x("status",gt.PAUSED)){const A=Ed(this.props,u[t.index]);this.callback({...O,index:t.index,lifecycle:pt.COMPLETE,step:A,type:Bi.STEP_AFTER})}if(x("status",[gt.FINISHED,gt.SKIPPED])){const A=Ed(this.props,u[t.index]);n||this.callback({...O,index:t.index,lifecycle:pt.COMPLETE,step:A,type:Bi.STEP_AFTER}),this.callback({...O,type:Bi.TOUR_END,step:A,index:t.index}),h()}else w("status",[gt.IDLE,gt.READY],gt.RUNNING)?this.callback({...O,type:Bi.TOUR_START}):(x("status")||x("action",Mt.RESET))&&this.callback({...O,type:Bi.TOUR_STATUS});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:r,status:n}=this.state,{debug:i,disableScrollParentFix:a=!1,scrollDuration:s,scrollOffset:l=20,scrollToFirstStep:c=!1,steps:u}=this.props,d=Ed(this.props,u[t]),f=ko(d.target),h=Cge({isFirstStep:t===0,lifecycle:r,previousLifecycle:e.lifecycle,scrollToFirstStep:c,step:d,target:f});if(n===gt.RUNNING&&h){const p=f_(f,a),g=Sg(f,a);let m=Math.floor(wge(f,l,a))||0;Bu({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:r},{key:"status",value:n}],debug:i});const v=this.store.getPopper("beacon"),b=this.store.getPopper("tooltip");if(r===pt.BEACON&&v){const{offsets:x,placement:w}=v;!["bottom"].includes(w)&&!p&&(m=Math.floor(x.popper.top-l))}else if(r===pt.TOOLTIP&&b){const{flipped:x,offsets:w,placement:_}=b;["top","right","left"].includes(_)&&!x&&!p?m=Math.floor(w.popper.top-l):m-=d.spotlightPadding}m=m>=0?m:0,n===gt.RUNNING&&_ge(m,{element:g,duration:s}).then(()=>{setTimeout(()=>{var x;(x=this.store.getPopper("tooltip"))==null||x.instance.update()},10)})}}render(){if(!kl())return null;const{index:e,lifecycle:t,status:r}=this.state,{continuous:n=!1,debug:i=!1,nonce:a,scrollToFirstStep:s=!1,steps:l}=this.props,c=r===gt.RUNNING,u={};if(c&&l[e]){const d=Ed(this.props,l[e]);u.step=y.createElement(Gge,{...this.state,callback:this.callback,continuous:n,debug:i,helpers:this.helpers,nonce:a,shouldScroll:!d.disableScrolling&&(e!==0||s),step:d,store:this.store}),u.overlay=y.createElement(Fge,{id:"react-joyride-portal"},y.createElement(Lge,{...d,continuous:n,debug:i,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return y.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};Re(i9,"defaultProps",Pge);var Kge=i9;const Yge=({onComplete:e})=>{const{user:t}=Dr(),[r,n]=y.useState(!1),[i,a]=y.useState(0);y.useEffect(()=>{if(!t)return;const c=`quadcare_patient_tour_completed_${t.id}`;if(!localStorage.getItem(c)){const d=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(d)}},[t]);const s=[{target:"body",content:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"Welcome to Quadcare! "}),o.jsx("p",{className:"text-sm text-gray-600",children:"Let us show you around your patient dashboard. This quick tour will help you get started."})]}),placement:"center",disableBeacon:!0},{target:'[data-tour="chat-tab"]',content:o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:" Chat with Reception"}),o.jsx("p",{className:"text-sm text-gray-600",children:"This is where you can start a conversation with our reception team to book appointments, ask questions, or get help."})]}),placement:"bottom",disableBeacon:!0},{target:'[data-tour="new-chat-button"]',content:o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:" Start a New Chat"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click this button to start a new conversation. Tell us what you need - whether it's booking a consultation, getting a script, or asking a question."})]}),placement:"bottom",disableBeacon:!0},{target:'[data-tour="consultations-tab"]',content:o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:" Your Consultations"}),o.jsx("p",{className:"text-sm text-gray-600",children:`View your upcoming and past video consultations here. When it's time for your appointment, click "Join" to start the video call.`})]}),placement:"bottom",disableBeacon:!0},{target:'[data-tour="profile-tab"]',content:o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:" Your Profile"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Keep your personal information and medical details up to date. This helps us provide better care."})]}),placement:"bottom",disableBeacon:!0},{target:"body",content:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"You're All Set! "}),o.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Ready to book your first consultation? Start by clicking ",o.jsx("strong",{children:'"New Chat"'})," and tell us how we can help."]}),o.jsx("p",{className:"text-xs text-gray-400",children:"You can always access help from the menu if you need it."})]}),placement:"center",disableBeacon:!0}],l=c=>{const{status:u,action:d,index:f,type:h}=c;if((h===Bi.STEP_AFTER||h===Bi.TARGET_NOT_FOUND)&&a(f+(d===Mt.PREV?-1:1)),u===gt.FINISHED||u===gt.SKIPPED){if(n(!1),t){const p=`quadcare_patient_tour_completed_${t.id}`;localStorage.setItem(p,"true")}e==null||e()}};return o.jsx(Kge,{steps:s,run:r,stepIndex:i,continuous:!0,showProgress:!0,showSkipButton:!0,hideCloseButton:!1,scrollToFirstStep:!0,spotlightClicks:!0,disableOverlayClose:!0,callback:l,locale:{back:"Back",close:"Close",last:"Get Started!",next:"Next",skip:"Skip Tour"},styles:{options:{primaryColor:"#2563eb",zIndex:1e4,arrowColor:"#fff",backgroundColor:"#fff",textColor:"#333",overlayColor:"rgba(0, 0, 0, 0.6)"},spotlight:{borderRadius:8},tooltip:{borderRadius:12,padding:20},tooltipContent:{padding:"10px 0"},buttonNext:{backgroundColor:"#2563eb",borderRadius:8,padding:"10px 20px",fontSize:14,fontWeight:600},buttonBack:{color:"#666",marginRight:10,fontSize:14},buttonSkip:{color:"#999",fontSize:13},buttonClose:{display:"none"}},floaterProps:{styles:{floater:{filter:"drop-shadow(0 4px 20px rgba(0, 0, 0, 0.15))"}}}})},Jge=()=>{var V;const e=zn(),t=no(),{user:r,profile:n,signOut:i,onboardingComplete:a,isLoading:s}=Dr(),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(!0),[p,g]=y.useState(!1),[m,v]=y.useState("chat"),[b,x]=y.useState(null),[w,_]=y.useState(!1),[N,j]=y.useState(null),[k,O]=y.useState(!1),[P,A]=y.useState(!0),$=D=>{x(D),_(!0)},M=async(D,U)=>{U==null||U.stopPropagation(),j(D);try{await _o.downloadInvoicePDF(D,`invoice_${D.slice(0,8)}.pdf`),ce.success("Invoice downloaded successfully")}catch(I){console.error("Failed to download invoice:",I),ce.error("Failed to download invoice")}finally{j(null)}},z=(V=t.state)==null?void 0:V.justOnboarded;y.useEffect(()=>{if(z){console.log("[PatientDashboard] User just completed onboarding, skipping redirect check");return}!s&&!a&&(console.log("[PatientDashboard] Onboarding not complete, redirecting..."),e("/onboarding"))},[s,a,e,z]),y.useEffect(()=>{!s&&a&&(async()=>{if(!r){A(!1);return}try{const U=await Ov.getUrl(r.id);if(!(U!=null&&U.photo_url)){const{data:I}=await Me.from("profiles").select("corporate_client_id, profile_photo_path").eq("id",r.id).single();I!=null&&I.corporate_client_id&&!(I!=null&&I.profile_photo_path)&&O(!0)}}catch(U){console.error("Error checking profile photo:",U)}finally{A(!1)}})()},[r,s,a]);const L=async()=>{if(r)try{const{data:D,error:U}=await Me.from("appointments").select("id, scheduled_at, consultation_type, status, clinician_id").eq("patient_id",r.id).in("status",["pending","confirmed","in_progress"]).order("scheduled_at",{ascending:!1}).limit(10);if(!U&&D&&D.length>0){const I=D.map(Z=>Z.clinician_id),[F,G]=await Promise.all([Me.from("profiles").select("id, first_name, last_name").in("id",I),Me.from("clinician_profiles").select("id, specialization").in("id",I)]),ne=D.map(Z=>{var E,B;const S=(E=F.data)==null?void 0:E.find(R=>R.id===Z.clinician_id),C=(B=G.data)==null?void 0:B.find(R=>R.id===Z.clinician_id);return{id:Z.id,scheduled_at:Z.scheduled_at,consultation_type:Z.consultation_type,status:Z.status,clinician_name:S?`${S.first_name} ${S.last_name}`:"Unknown",specialization:(C==null?void 0:C.specialization)||null}});c(ne)}else c([])}catch(D){console.error("Error fetching appointments:",D)}};return y.useEffect(()=>{(async()=>{if(r)try{await L();try{const U=await _o.getMyInvoices();d(U||[])}catch(U){console.log("No invoices or error fetching:",U)}}catch(U){console.error("Error fetching data:",U)}finally{h(!1)}})()},[r]),y.useEffect(()=>{if(!r)return;const D=Me.channel("patient-appointments").on("postgres_changes",{event:"INSERT",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},U=>{console.log("[PatientDashboard] New appointment created:",U),L()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},U=>{console.log("[PatientDashboard] Appointment updated:",U),c(I=>I.map(F=>F.id===U.new.id?{...F,status:U.new.status}:F))}).subscribe();return()=>{Me.removeChannel(D)}},[r]),s?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Qhe,{isOpen:k,onComplete:()=>O(!1),userName:(n==null?void 0:n.first_name)||"there"}),o.jsx(Yge,{}),o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),o.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{if(r){const D=`quadcare_patient_tour_completed_${r.id}`;localStorage.removeItem(D),window.location.reload()}},title:"Show tour again",children:o.jsx(vee,{className:"w-4 h-4"})}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:i,children:[o.jsx(tc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>g(!p),children:p?o.jsx(to,{className:"w-5 h-5"}):o.jsx(bv,{className:"w-5 h-5"})})]}),p&&o.jsx("div",{className:"sm:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:i,className:"justify-start",children:[o.jsx(tc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-6",children:[o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Patient Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your healthcare journey"})]}),o.jsxs(bc,{value:m,onValueChange:v,className:"space-y-4",children:[o.jsxs(Zo,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[o.jsxs(Gt,{value:"chat",className:"flex items-center gap-2","data-tour":"chat-tab",children:[o.jsx(Mu,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Chat"})]}),o.jsxs(Gt,{value:"consultations",className:"flex items-center gap-2","data-tour":"consultations-tab",children:[o.jsx(dr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Consultations"})]}),o.jsxs(Gt,{value:"profile",className:"flex items-center gap-2","data-tour":"profile-tab",children:[o.jsx(Rr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Profile"})]})]}),o.jsx(_r,{value:"chat",className:"min-h-[600px]",children:o.jsx(Xhe,{})}),o.jsxs(_r,{value:"consultations",className:"space-y-6",children:[o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(rr,{className:"w-5 h-5 text-primary"}),"Upcoming Consultations"]}),o.jsx(Ce,{children:"Your scheduled video consultations"})]}),o.jsx(de,{children:f?o.jsx("div",{className:"space-y-4",children:[1,2].map(D=>o.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},D))}):l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No upcoming consultations"}),o.jsx("p",{className:"text-sm mt-2",children:"Start a chat to book your first consultation"})]}):o.jsx("div",{className:"space-y-4",children:l.map(D=>{const U=new Date(D.scheduled_at),I=new Date,F=(U.getTime()-I.getTime())/(1e3*60),G=D.status==="in_progress"||D.status==="confirmed"&&F<=15&&F>=-60;return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border border-border hover:border-primary/50 transition-colors gap-3",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:o.jsx(Rt,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:D.clinician_name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:D.specialization||"General Consultation"})]})]}),o.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 pl-16 sm:pl-0",children:[o.jsxs("div",{className:"text-left sm:text-right",children:[o.jsx("p",{className:"font-medium",children:pi(D.scheduled_at,"MMM d, yyyy")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:pi(D.scheduled_at,"h:mm a")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[G&&o.jsxs(Q,{size:"sm",onClick:()=>e(`/consultation?appointment=${D.id}`),className:D.status==="in_progress"?"animate-pulse":"",children:[o.jsx(dr,{className:"w-4 h-4 mr-1"}),D.status==="in_progress"?"Join Now":"Join"]}),o.jsx(Ee,{variant:D.status==="confirmed"?"default":D.status==="in_progress"?"destructive":"secondary",children:D.status==="in_progress"?" Live":D.status})]})]})]},D.id)})})})]}),o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(gn,{className:"w-5 h-5 text-primary"}),"Prescriptions"]}),o.jsx(Ce,{children:"Your prescription history"})]}),o.jsx(de,{children:o.jsx(Jhe,{})})]})]}),o.jsxs(_r,{value:"profile",className:"space-y-6",children:[o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Rr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),o.jsx(Ce,{children:"Your profile details"})]}),o.jsxs(de,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Name"}),o.jsxs("p",{className:"font-medium",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:(n==null?void 0:n.phone)||"Not provided"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-medium",children:r==null?void 0:r.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"ID Number"}),o.jsx("p",{className:"font-medium",children:(n==null?void 0:n.id_number)||"Not provided"})]})]}),o.jsxs(Q,{variant:"outline",className:"mt-4",onClick:()=>e("/onboarding"),children:[o.jsx(Mx,{className:"w-4 h-4 mr-2"}),"Update Profile"]})]})]}),o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(s1,{className:"w-5 h-5 text-primary"}),"Invoices"]}),o.jsx(Ce,{children:"Your billing history"})]}),o.jsx(de,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(s1,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No invoices yet"})]}):o.jsx("div",{className:"space-y-3",children:u.map(D=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>$(D),children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:D.service_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[pi(D.consultation_date,"MMM d, yyyy"),"  ",D.clinician_name]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-medium",children:["R ",D.amount.toFixed(2)]}),o.jsx(Ee,{variant:D.status==="paid"?"default":"secondary",children:D.status})]}),o.jsx(Q,{variant:"outline",size:"sm",onClick:U=>M(D.id,U),disabled:N===D.id,children:N===D.id?o.jsx(ft,{className:"w-4 h-4 animate-spin"}):o.jsx(bu,{className:"w-4 h-4"})})]})]},D.id))})})]}),o.jsx(Yi,{open:w,onOpenChange:_,children:o.jsxs(bi,{className:"sm:max-w-md",children:[o.jsxs(wi,{children:[o.jsxs(_i,{className:"flex items-center gap-2",children:[o.jsx(s1,{className:"w-5 h-5 text-primary"}),"Invoice Details"]}),o.jsxs(sc,{children:["Invoice #",b==null?void 0:b.id.slice(0,8).toUpperCase()]})]}),b&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx("h3",{className:"font-semibold text-lg",children:b.service_name}),o.jsx("p",{className:"text-muted-foreground",children:"Consultation Service"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-medium",children:pi(b.consultation_date,"MMMM d, yyyy")})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinician"}),o.jsx("p",{className:"font-medium",children:b.clinician_name})]})]}),o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Amount Due"}),o.jsxs("span",{className:"text-2xl font-bold",children:["R ",b.amount.toFixed(2)]})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsx(Ee,{variant:b.status==="paid"?"default":"secondary",className:"text-sm",children:b.status==="paid"?" Paid":b.status}),o.jsxs(Q,{variant:"outline",size:"sm",onClick:D=>M(b.id,D),disabled:N===b.id,children:[N===b.id?o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(bu,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),b.status!=="paid"&&o.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:o.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Please contact our reception to arrange payment."})})]})]})})]})]})]})]})},Xge=()=>o.jsx(mV,{children:o.jsx(Jge,{})});var ZP="Radio",[Qge,a9]=Cn(ZP),[Zge,eve]=Qge(ZP),s9=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:s,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=y.useState(null),p=et(t,v=>h(v)),g=y.useRef(!1),m=f?u||!!f.closest("form"):!0;return o.jsxs(Zge,{scope:r,checked:i,disabled:s,children:[o.jsx(Le.button,{type:"button",role:"radio","aria-checked":i,"data-state":u9(i),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:p,onClick:pe(e.onClick,v=>{i||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&o.jsx(c9,{control:f,bubbles:!g.current,name:n,value:l,checked:i,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});s9.displayName=ZP;var o9="RadioIndicator",l9=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=eve(o9,r);return o.jsx(tn,{present:n||a.checked,children:o.jsx(Le.span,{"data-state":u9(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});l9.displayName=o9;var tve="RadioBubbleInput",c9=y.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const s=y.useRef(null),l=et(s,a),c=Zw(r),u=Uw(t);return y.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx(Le.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});c9.displayName=tve;function u9(e){return e?"checked":"unchecked"}var rve=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],h_="RadioGroup",[nve]=Cn(h_,[ep,a9]),d9=ep(),f9=a9(),[ive,ave]=nve(h_),h9=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:s=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=d9(r),g=Qh(u),[m,v]=ls({prop:a,defaultProp:i??null,onChange:f,caller:h_});return o.jsx(ive,{scope:r,name:n,required:s,disabled:l,value:m,onValueChange:v,children:o.jsx(kP,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:o.jsx(Le.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});h9.displayName=h_;var p9="RadioGroupItem",m9=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=ave(p9,r),s=a.disabled||n,l=d9(r),c=f9(r),u=y.useRef(null),d=et(t,u),f=a.value===i.value,h=y.useRef(!1);return y.useEffect(()=>{const p=m=>{rve.includes(m.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),o.jsx(CP,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(s9,{disabled:s,required:a.required,checked:f,...c,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:pe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:pe(i.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});m9.displayName=p9;var sve="RadioGroupIndicator",g9=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=f9(r);return o.jsx(l9,{...i,...n,ref:t})});g9.displayName=sve;var v9=h9,y9=m9,ove=g9;const Ng=y.forwardRef(({className:e,...t},r)=>o.jsx(v9,{className:be("grid gap-2",e),...t,ref:r}));Ng.displayName=v9.displayName;const Us=y.forwardRef(({className:e,...t},r)=>o.jsx(y9,{ref:r,className:be("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(ove,{className:"flex items-center justify-center",children:o.jsx(TU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Us.displayName=y9.displayName;function lve(e,t=[]){let r=[];function n(a,s){const l=y.createContext(s);l.displayName=a+"Context";const c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>y.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,cve(i,...t)]}function cve(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var uve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],x9=uve.reduce((e,t)=>{const r=Nv(`Primitive.${t}`),n=y.forwardRef((i,a)=>{const{asChild:s,...l}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),eT="Progress",tT=100,[dve]=lve(eT),[fve,hve]=dve(eT),b9=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=pve,...s}=e;(i||i===0)&&!wR(i)&&console.error(mve(`${i}`,"Progress"));const l=wR(i)?i:tT;n!==null&&!_R(n,l)&&console.error(gve(`${n}`,"Progress"));const c=_R(n,l)?n:null,u=Yb(c)?a(c,l):void 0;return o.jsx(fve,{scope:r,value:c,max:l,children:o.jsx(x9.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":j9(c,l),"data-value":c??void 0,"data-max":l,...s,ref:t})})});b9.displayName=eT;var w9="ProgressIndicator",_9=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=hve(w9,r);return o.jsx(x9.div,{"data-state":j9(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});_9.displayName=w9;function pve(e,t){return`${Math.round(e/t*100)}%`}function j9(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yb(e){return typeof e=="number"}function wR(e){return Yb(e)&&!isNaN(e)&&e>0}function _R(e,t){return Yb(e)&&!isNaN(e)&&e<=t&&e>=0}function mve(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tT}\`.`}function gve(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var S9=b9,vve=_9;const Uu=y.forwardRef(({className:e,value:t,...r},n)=>o.jsx(S9,{ref:n,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(vve,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Uu.displayName=S9.displayName;const jR="",yve={General:Lee,"Head & Neurological":Wf,"Eyes, Ears, Nose, Throat":Ax,Respiratory:Qd,Cardiovascular:zO,Gastrointestinal:xa,Urinary:Qd,Musculoskeletal:Qd,Skin:Qd,"Mental Health":Wf},SR={emergency:{color:"text-red-600",bgColor:"bg-red-100",label:"EMERGENCY"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100",label:"Urgent"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Soon"},routine:{color:"text-green-600",bgColor:"bg-green-100",label:"Routine"}},xve=({onComplete:e,onBack:t})=>{const[r,n]=y.useState(1),[i,a]=y.useState(!1),[s,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState("moderate"),[h,p]=y.useState(""),[g,m]=y.useState(""),[v,b]=y.useState(null);y.useEffect(()=>{x()},[]);const x=async()=>{try{const $=await(await fetch(`${jR}/api/symptoms/common`)).json();l($.symptom_categories||[])}catch(A){console.error("Failed to fetch symptoms:",A),l([{category:"General",symptoms:["Fever","Fatigue","Weakness","Weight loss","Chills"]},{category:"Head & Neurological",symptoms:["Headache","Dizziness","Confusion","Numbness"]},{category:"Respiratory",symptoms:["Cough","Shortness of breath","Wheezing","Chest tightness"]},{category:"Cardiovascular",symptoms:["Chest pain","Palpitations","Swelling in legs"]},{category:"Gastrointestinal",symptoms:["Nausea","Vomiting","Diarrhea","Abdominal pain"]}])}},w=A=>{u($=>$.includes(A)?$.filter(M=>M!==A):[...$,A])},_=async()=>{if(c.length===0){ce.error("Please select at least one symptom");return}a(!0);try{const{supabase:A}=await qo(async()=>{const{supabase:L}=await Promise.resolve().then(()=>Wo);return{supabase:L}},void 0),{data:{session:$}}=await A.auth.getSession(),M=await fetch(`${jR}/api/symptoms/assess`,{method:"POST",headers:{"Content-Type":"application/json",...($==null?void 0:$.access_token)&&{Authorization:`Bearer ${$.access_token}`}},body:JSON.stringify({symptoms:c,severity:d,description:h||void 0,duration:g||void 0})});if(!M.ok)throw new Error("Assessment failed");const z=await M.json();b(z),n(4)}catch(A){console.error("Assessment error:",A),ce.error("Failed to complete AI assessment. Proceeding with basic booking."),N()}finally{a(!1)}},N=()=>{e({symptoms:c,severity:d,description:h,recommendedSpecialization:null})},j=()=>{if(!v)return;const A={general_practice:"General Practice",internal_medicine:"Internal Medicine",cardiology:"Cardiology",neurology:"Neurology",dermatology:"Dermatology",psychiatry:"Psychiatry"};e({symptoms:c,severity:d,description:h,recommendedSpecialization:v.recommended_specialization?A[v.recommended_specialization]||v.recommended_specialization:null,aiAssessment:v})},O=r/4*100,P=v?SR[v.urgency]||SR.routine:null;return o.jsxs("div",{className:"space-y-6",children:[r<4&&o.jsxs("div",{className:"mb-6",children:[o.jsx(Uu,{value:O,className:"h-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",r," of 3 - AI Symptom Assessment"]})]}),r===1&&o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(xa,{className:"w-5 h-5 text-primary"}),"What symptoms are you experiencing?"]}),o.jsx(Ce,{children:"Select all that apply. Our AI will help assess your needs."})]}),o.jsxs(de,{className:"space-y-6",children:[s.map(A=>{const $=yve[A.category]||Qd;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"font-medium flex items-center gap-2 text-sm",children:[o.jsx($,{className:"w-4 h-4 text-muted-foreground"}),A.category]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:A.symptoms.map(M=>o.jsx(Ee,{variant:c.includes(M)?"default":"outline",className:"cursor-pointer py-1.5 px-3 text-xs sm:text-sm",onClick:()=>w(M),children:M},M))})]},A.category)}),c.length>0&&o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg",children:[o.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected symptoms (",c.length,"):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(A=>o.jsx(Ee,{variant:"secondary",className:"text-xs",children:A},A))})]})]})]}),r===2&&o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Qd,{className:"w-5 h-5 text-primary"}),"How severe are your symptoms?"]})}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs(Ng,{value:d,onValueChange:A=>f(A),className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Us,{value:"mild",id:"mild"}),o.jsxs(he,{htmlFor:"mild",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Mild"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Noticeable but not significantly affecting daily activities"})]}),o.jsx(Ee,{variant:"outline",className:"bg-green-50 text-green-700",children:"Low"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Us,{value:"moderate",id:"moderate"}),o.jsxs(he,{htmlFor:"moderate",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Moderate"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Affecting daily activities, requiring rest or medication"})]}),o.jsx(Ee,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Medium"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Us,{value:"severe",id:"severe"}),o.jsxs(he,{htmlFor:"severe",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Severe"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Significantly impacting daily life, intense discomfort"})]}),o.jsx(Ee,{variant:"outline",className:"bg-red-50 text-red-700",children:"High"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"How long have you had these symptoms?"}),o.jsx(Ng,{value:g,onValueChange:m,className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["Few hours","1-2 days","3-7 days","Over a week"].map(A=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Us,{value:A,id:A}),o.jsx(he,{htmlFor:A,className:"text-sm cursor-pointer",children:A})]},A))})]})]})]}),r===3&&o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Wf,{className:"w-5 h-5 text-primary"}),"Tell us more (optional)"]}),o.jsx(Ce,{children:"Any additional details help our AI provide a better assessment"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Describe your symptoms in your own words"}),o.jsx(Jr,{value:h,onChange:A=>p(A.target.value),placeholder:"e.g., The headache started suddenly this morning, worse on the right side...",rows:4})]}),o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Summary:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Symptoms:"})," ",c.join(", "),o.jsx("br",{}),o.jsx("strong",{children:"Severity:"})," ",d,o.jsx("br",{}),o.jsx("strong",{children:"Duration:"})," ",g||"Not specified"]})]})]})]}),r===4&&v&&o.jsxs("div",{className:"space-y-6",children:[v.urgency==="emergency"&&o.jsx(oe,{className:"border-red-500 bg-red-50",children:o.jsx(de,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center shrink-0",children:o.jsx(Si,{className:"w-8 h-8 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-red-700",children:"Emergency - Seek Immediate Care"}),o.jsx("p",{className:"text-red-600",children:"Call emergency services (10177) or go to the nearest emergency room"})]})]})})}),o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(mn,{className:"w-5 h-5 text-primary"}),"AI Assessment Complete"]}),P&&o.jsx(Ee,{className:`${P.bgColor} ${P.color}`,children:P.label})]})}),o.jsxs(de,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsx("p",{className:"text-sm leading-relaxed",children:v.assessment_summary})}),o.jsxs("div",{children:[o.jsx(he,{className:"text-sm text-muted-foreground",children:"Urgency Level"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Uu,{value:v.urgency_score*10,className:"h-3 flex-1"}),o.jsxs("span",{className:"font-bold text-lg",children:[v.urgency_score,"/10"]})]})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Recommended Care Pathway"}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:[v.care_pathway==="emergency_services"&&"Seek emergency medical services immediately",v.care_pathway==="urgent_consultation"&&"Book an urgent telehealth consultation",v.care_pathway==="nurse_triage"&&"Speak with a nurse for initial assessment",v.care_pathway==="doctor_consultation"&&"Schedule a doctor consultation",v.care_pathway==="specialist_referral"&&"You may need to see a specialist",v.care_pathway==="self_care"&&"Self-care may be appropriate with monitoring"]}),v.recommended_specialization&&o.jsxs("p",{className:"text-sm mt-2",children:[o.jsx("strong",{children:"Recommended:"})," ",v.recommended_specialization.replace("_"," ")]})]}),v.warning_signs.length>0&&o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("h3",{className:"font-medium text-red-700 flex items-center gap-2 mb-2",children:[o.jsx(ni,{className:"w-4 h-4"}),"Warning Signs to Watch For"]}),o.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:v.warning_signs.map((A,$)=>o.jsxs("li",{children:[" ",A]},$))})]}),v.self_care_advice&&o.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsx("h3",{className:"font-medium text-green-700 mb-2",children:"Self-Care Advice"}),o.jsx("p",{className:"text-sm text-green-600",children:v.self_care_advice})]}),o.jsx("p",{className:"text-xs text-muted-foreground italic",children:v.disclaimer})]})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(Q,{variant:"outline",onClick:()=>r===1?t():n(A=>A-1),children:[o.jsx(UO,{className:"w-4 h-4 mr-2"}),"Back"]}),r===1&&o.jsxs(Q,{onClick:()=>n(2),disabled:c.length===0,children:["Next",o.jsx(Hf,{className:"w-4 h-4 ml-2"})]}),r===2&&o.jsxs(Q,{onClick:()=>n(3),children:["Next",o.jsx(Hf,{className:"w-4 h-4 ml-2"})]}),r===3&&o.jsx(Q,{onClick:_,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"})," Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Wf,{className:"w-4 h-4 mr-2"})," Get AI Assessment"]})}),r===4&&v&&v.urgency!=="emergency"&&o.jsxs(Q,{onClick:j,children:["Continue to Select Clinician",o.jsx(ns,{className:"w-4 h-4 ml-2"})]})]})]})};function bve(e,t=[]){let r=[];function n(a,s){const l=y.createContext(s);l.displayName=a+"Context";const c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>y.createContext(s));return function(l){const c=(l==null?void 0:l[e])||a;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,wve(i,...t)]}function wve(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var _ve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rT=_ve.reduce((e,t)=>{const r=Nv(`Primitive.${t}`),n=y.forwardRef((i,a)=>{const{asChild:s,...l}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),N9={exports:{}},k9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=y;function jve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sve=typeof Object.is=="function"?Object.is:jve,Nve=sh.useState,kve=sh.useEffect,Cve=sh.useLayoutEffect,Eve=sh.useDebugValue;function Ove(e,t){var r=t(),n=Nve({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Cve(function(){i.value=r,i.getSnapshot=t,z1(i)&&a({inst:i})},[e,r,t]),kve(function(){return z1(i)&&a({inst:i}),e(function(){z1(i)&&a({inst:i})})},[e]),Eve(r),r}function z1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sve(e,r)}catch{return!0}}function Pve(e,t){return t()}var Tve=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Pve:Ove;k9.useSyncExternalStore=sh.useSyncExternalStore!==void 0?sh.useSyncExternalStore:Tve;N9.exports=k9;var Ave=N9.exports;function Mve(){return Ave.useSyncExternalStore(Ive,()=>!0,()=>!1)}function Ive(){return()=>{}}var nT="Avatar",[$ve]=bve(nT),[Rve,C9]=$ve(nT),E9=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,a]=y.useState("idle");return o.jsx(Rve,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:o.jsx(rT.span,{...n,ref:t})})});E9.displayName=nT;var O9="AvatarImage",P9=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=e,s=C9(O9,r),l=Dve(n,a),c=Or(u=>{i(u),s.onImageLoadingStatusChange(u)});return Ir(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(rT.img,{...a,ref:t,src:n}):null});P9.displayName=O9;var T9="AvatarFallback",A9=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,a=C9(T9,r),[s,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&a.imageLoadingStatus!=="loaded"?o.jsx(rT.span,{...i,ref:t}):null});A9.displayName=T9;function NR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Dve(e,{referrerPolicy:t,crossOrigin:r}){const n=Mve(),i=y.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[s,l]=y.useState(()=>NR(a,e));return Ir(()=>{l(NR(a,e))},[a,e]),Ir(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),s}var M9=E9,I9=P9,$9=A9;const ap=y.forwardRef(({className:e,...t},r)=>o.jsx(M9,{ref:r,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ap.displayName=M9.displayName;const p_=y.forwardRef(({className:e,...t},r)=>o.jsx(I9,{ref:r,className:be("aspect-square h-full w-full",e),...t}));p_.displayName=I9.displayName;const lc=y.forwardRef(({className:e,...t},r)=>o.jsx($9,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));lc.displayName=$9.displayName;const Lve=({recommendedSpecialization:e,onSelect:t,onBack:r})=>{const[n,i]=y.useState([]),[a,s]=y.useState(!0),[l,c]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{data:f,error:h}=await Me.from("clinician_profiles").select("id, specialization, qualification, years_experience, bio, is_available").eq("is_available",!0);if(h)throw h;if(f&&f.length>0){const p=f.map(b=>b.id),{data:g,error:m}=await Me.from("profiles").select("id, first_name, last_name, avatar_url").in("id",p);if(m)throw m;const v=f.map(b=>{const x=g==null?void 0:g.find(w=>w.id===b.id);return{id:b.id,first_name:(x==null?void 0:x.first_name)||"Unknown",last_name:(x==null?void 0:x.last_name)||"",avatar_url:(x==null?void 0:x.avatar_url)||null,specialization:b.specialization,qualification:b.qualification,years_experience:b.years_experience,bio:b.bio}});i(v)}}catch(f){console.error("Error fetching clinicians:",f)}finally{s(!1)}})()},[]);const u=()=>{const d=n.find(f=>f.id===l);d&&t(d)};return a?o.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>o.jsx(oe,{children:o.jsxs(de,{className:"flex items-center gap-4 p-6",children:[o.jsx(er,{className:"w-16 h-16 rounded-full"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(er,{className:"h-4 w-32"}),o.jsx(er,{className:"h-3 w-48"})]})]})},d))}):n.length===0?o.jsx(oe,{children:o.jsxs(de,{className:"text-center py-12",children:[o.jsx(Rr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Clinicians Available"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"There are currently no clinicians available for booking."}),o.jsx(Q,{variant:"outline",onClick:r,children:"Go Back"})]})}):o.jsxs("div",{className:"space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-2 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx(xa,{className:"w-5 h-5 text-primary"}),o.jsxs("span",{className:"text-sm",children:["Based on your symptoms, we recommend a ",o.jsx("strong",{children:e})," specialist."]})]}),o.jsx("div",{className:"space-y-4",children:n.map(d=>o.jsx(oe,{className:`cursor-pointer transition-all ${l===d.id?"border-primary ring-2 ring-primary/20":"hover:border-primary/50"}`,onClick:()=>c(d.id),children:o.jsxs(de,{className:"flex items-start gap-4 p-6",children:[o.jsxs(ap,{className:"w-16 h-16",children:[o.jsx(p_,{src:d.avatar_url||void 0}),o.jsxs(lc,{className:"bg-primary/10 text-primary text-lg",children:[d.first_name[0],d.last_name[0]]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-lg",children:["Dr. ",d.first_name," ",d.last_name]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:d.qualification||"Medical Professional"})]}),o.jsx(Ee,{variant:"secondary",children:d.specialization||"General Practice"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[d.years_experience&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(rr,{className:"w-4 h-4"}),d.years_experience," years exp."]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(DU,{className:"w-4 h-4 text-warning"}),"4.8 (120 reviews)"]})]}),d.bio&&o.jsx("p",{className:"mt-3 text-sm text-muted-foreground line-clamp-2",children:d.bio})]}),o.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${l===d.id?"border-primary bg-primary":"border-muted-foreground/30"}`,children:l===d.id&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},d.id))}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Q,{variant:"outline",onClick:r,children:"Back"}),o.jsxs(Q,{onClick:u,disabled:!l,children:["Continue to Select Time",o.jsx(ns,{className:"w-4 h-4 ml-2"})]})]})]})};var Qe=function(){return Qe=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Qe.apply(this,arguments)};function Fve(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function R9(e,t,r){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Lv(e){return e.mode==="multiple"}function Fv(e){return e.mode==="range"}function m_(e){return e.mode==="single"}var Bve={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Uve(e,t){return Et(e,"LLLL y",t)}function zve(e,t){return Et(e,"d",t)}function Vve(e,t){return Et(e,"LLLL",t)}function Wve(e){return"".concat(e)}function Hve(e,t){return Et(e,"cccccc",t)}function qve(e,t){return Et(e,"yyyy",t)}var Gve=Object.freeze({__proto__:null,formatCaption:Uve,formatDay:zve,formatMonthCaption:Vve,formatWeekNumber:Wve,formatWeekdayName:Hve,formatYearCaption:qve}),Kve=function(e,t,r){return Et(e,"do MMMM (EEEE)",r)},Yve=function(){return"Month: "},Jve=function(){return"Go to next month"},Xve=function(){return"Go to previous month"},Qve=function(e,t){return Et(e,"cccc",t)},Zve=function(e){return"Week n. ".concat(e)},eye=function(){return"Year: "},tye=Object.freeze({__proto__:null,labelDay:Kve,labelMonthDropdown:Yve,labelNext:Jve,labelPrevious:Xve,labelWeekNumber:Zve,labelWeekday:Qve,labelYearDropdown:eye});function rye(){var e="buttons",t=Bve,r=UP,n={},i={},a=1,s={},l=new Date;return{captionLayout:e,classNames:t,formatters:Gve,labels:tye,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:s,today:l,mode:"default"}}function nye(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,s=e.toDate;return n?a=ji(n):t&&(a=new Date(t,0,1)),i?s=o_(i):r&&(s=new Date(r,11,31)),{fromDate:a?Qs(a):void 0,toDate:s?Qs(s):void 0}}var D9=y.createContext(void 0);function iye(e){var t,r=e.initialProps,n=rye(),i=nye(r),a=i.fromDate,s=i.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!s)&&(l="buttons");var c;(m_(r)||Lv(r)||Fv(r))&&(c=r.onSelect);var u=Qe(Qe(Qe({},n),r),{captionLayout:l,classNames:Qe(Qe({},n.classNames),r.classNames),components:Qe({},r.components),formatters:Qe(Qe({},n.formatters),r.formatters),fromDate:a,labels:Qe(Qe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Qe(Qe({},n.modifiers),r.modifiers),modifiersClassNames:Qe(Qe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Qe(Qe({},n.styles),r.styles),toDate:s});return o.jsx(D9.Provider,{value:u,children:e.children})}function nr(){var e=y.useContext(D9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function L9(e){var t=nr(),r=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function aye(e){return o.jsx("svg",Qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function F9(e){var t,r,n=e.onChange,i=e.value,a=e.children,s=e.caption,l=e.className,c=e.style,u=nr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:aye;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:a}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function sye(e){var t,r=nr(),n=r.fromDate,i=r.toDate,a=r.styles,s=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});var f=[];if(the(n,i))for(var h=ji(n),p=n.getMonth();p<=i.getMonth();p++)f.push(M1(h,p));else for(var h=ji(new Date),p=0;p<=11;p++)f.push(M1(h,p));var g=function(v){var b=Number(v.target.value),x=M1(ji(e.displayMonth),b);e.onChange(x)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:F9;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:s}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:s})},v.getMonth())})})}function oye(e){var t,r=e.displayMonth,n=nr(),i=n.fromDate,a=n.toDate,s=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!i)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});for(var p=i.getFullYear(),g=a.getFullYear(),m=p;m<=g;m++)h.push(T$(iW(new Date),m));var v=function(x){var w=T$(ji(r),Number(x.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:F9;return o.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:s}),children:h.map(function(x){return o.jsx("option",{value:x.getFullYear(),children:d(x,{locale:s})},x.getFullYear())})})}function lye(e,t){var r=y.useState(e),n=r[0],i=r[1],a=t===void 0?n:t;return[a,i]}function cye(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,a=e.toDate,s=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&eh(a,i)<0){var u=-1*(c-1);i=fs(a,u)}return s&&eh(i,s)<0&&(i=s),ji(i)}function uye(){var e=nr(),t=cye(e),r=lye(t,e.month),n=r[0],i=r[1],a=function(s){var l;if(!e.disableNavigation){var c=ji(s);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function dye(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=ji(e),a=ji(fs(i,n)),s=eh(a,i),l=[],c=0;c<s;c++){var u=fs(i,c);l.push(u)}return r&&(l=l.reverse()),l}function fye(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,s=n?a:1,l=ji(e);if(!r)return fs(l,s);var c=eh(r,e);if(!(c<a))return fs(l,s)}}function hye(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,s=n?a:1,l=ji(e);if(!r)return fs(l,-s);var c=eh(l,r);if(!(c<=0))return fs(l,-s)}}var B9=y.createContext(void 0);function pye(e){var t=nr(),r=uye(),n=r[0],i=r[1],a=dye(n,t),s=fye(n,t),l=hye(n,t),c=function(f){return a.some(function(h){return zP(f,h)})},u=function(f,h){c(f)||(h&&zb(f,h)?i(fs(f,1+t.numberOfMonths*-1)):i(f))},d={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:s,isDateDisplayed:c};return o.jsx(B9.Provider,{value:d,children:e.children})}function Bv(){var e=y.useContext(B9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function kR(e){var t,r=nr(),n=r.classNames,i=r.styles,a=r.components,s=Bv().goToMonth,l=function(d){s(fs(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:L9,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(sye,{onChange:l,displayMonth:e.displayMonth}),o.jsx(oye,{onChange:l,displayMonth:e.displayMonth})]})}function mye(e){return o.jsx("svg",Qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gye(e){return o.jsx("svg",Qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Jb=y.forwardRef(function(e,t){var r=nr(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var s=a.join(" "),l=Qe(Qe({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),o.jsx("button",Qe({},e,{ref:t,type:"button",className:s,style:l}))});function vye(e){var t,r,n=nr(),i=n.dir,a=n.locale,s=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:a}),p=[s.nav_button,s.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:a}),m=[s.nav_button,s.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:gye,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:mye;return o.jsxs("div",{className:s.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(Jb,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?o.jsx(v,{className:s.nav_icon,style:l.nav_icon}):o.jsx(b,{className:s.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(Jb,{name:"next-month","aria-label":g,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?o.jsx(b,{className:s.nav_icon,style:l.nav_icon}):o.jsx(v,{className:s.nav_icon,style:l.nav_icon})})]})}function CR(e){var t=nr().numberOfMonths,r=Bv(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,s=r.displayMonths,l=s.findIndex(function(g){return zP(e.displayMonth,g)}),c=l===0,u=l===s.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&a(n)},p=function(){i&&a(i)};return o.jsx(vye,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:n,onPreviousClick:h,onNextClick:p})}function yye(e){var t,r=nr(),n=r.classNames,i=r.disableNavigation,a=r.styles,s=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:L9,u;return i?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?u=o.jsx(kR,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(kR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(CR,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(CR,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:a.caption,children:u})}function xye(e){var t=nr(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?o.jsx("tfoot",{className:i,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function bye(e,t,r){for(var n=r?Fu(new Date):hs(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var s=cn(n,a);i.push(s)}return i}function wye(){var e=nr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,s=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=bye(i,a,s);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:i}),children:l(d,{locale:i})},f)})]})}function _ye(){var e,t=nr(),r=t.classNames,n=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:wye;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(a,{})})}function jye(e){var t=nr(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var iT=y.createContext(void 0);function Sye(e){if(!Lv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(iT.Provider,{value:t,children:e.children})}return o.jsx(Nye,{initialProps:e.initialProps,children:e.children})}function Nye(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,a=t.max,s=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var m=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!m){var v=n?R9([],n):[];if(d.selected){var b=v.findIndex(function(x){return Fn(u,x)});v.splice(b,1)}else v.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=a&&n.length>a-1,f=n.some(function(h){return Fn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:l};return o.jsx(iT.Provider,{value:c,children:r})}function aT(){var e=y.useContext(iT);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function kye(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?Fn(i,e)&&Fn(n,e)?void 0:Fn(i,e)?{from:i,to:void 0}:Fn(n,e)?void 0:Tk(n,e)?{from:e,to:i}:{from:n,to:e}:i?Tk(e,i)?{from:i,to:e}:{from:e,to:i}:n?zb(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var sT=y.createContext(void 0);function Cye(e){if(!Fv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(sT.Provider,{value:t,children:e.children})}return o.jsx(Eye,{initialProps:e.initialProps,children:e.children})}function Eye(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},a=i.from,s=i.to,l=t.min,c=t.max,u=function(p,g,m){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,p,g,m);var x=kye(p,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,p,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],s?(d.range_end=[s],Fn(a,s)||(d.range_middle=[{after:a,before:s}])):d.range_end=[a]):s&&(d.range_start=[s],d.range_end=[s]),l&&(a&&!s&&d.disabled.push({after:T1(a,l-1),before:cn(a,l-1)}),a&&s&&d.disabled.push({after:a,before:cn(a,l-1)}),!a&&s&&d.disabled.push({after:T1(s,l-1),before:cn(s,l-1)})),c){if(a&&!s&&(d.disabled.push({before:cn(a,-c+1)}),d.disabled.push({after:cn(a,c-1)})),a&&s){var f=Ls(s,a)+1,h=c-f;d.disabled.push({before:T1(a,h)}),d.disabled.push({after:cn(s,h)})}!a&&s&&(d.disabled.push({before:cn(s,-c+1)}),d.disabled.push({after:cn(s,c-1)}))}return o.jsx(sT.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function oT(){var e=y.useContext(sT);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Bx(e){return Array.isArray(e)?R9([],e):e!==void 0?[e]:[]}function Oye(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=Bx(i)}),t}var ps;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ps||(ps={}));var Pye=ps.Selected,uo=ps.Disabled,Tye=ps.Hidden,Aye=ps.Today,V1=ps.RangeEnd,W1=ps.RangeMiddle,H1=ps.RangeStart,Mye=ps.Outside;function Iye(e,t,r){var n,i=(n={},n[Pye]=Bx(e.selected),n[uo]=Bx(e.disabled),n[Tye]=Bx(e.hidden),n[Aye]=[e.today],n[V1]=[],n[W1]=[],n[H1]=[],n[Mye]=[],n);return e.fromDate&&i[uo].push({before:e.fromDate}),e.toDate&&i[uo].push({after:e.toDate}),Lv(e)?i[uo]=i[uo].concat(t.modifiers[uo]):Fv(e)&&(i[uo]=i[uo].concat(r.modifiers[uo]),i[H1]=r.modifiers[H1],i[W1]=r.modifiers[W1],i[V1]=r.modifiers[V1]),i}var U9=y.createContext(void 0);function $ye(e){var t=nr(),r=aT(),n=oT(),i=Iye(t,r,n),a=Oye(t.modifiers),s=Qe(Qe({},i),a);return o.jsx(U9.Provider,{value:s,children:e.children})}function z9(){var e=y.useContext(U9);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Rye(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Dye(e){return!!(e&&typeof e=="object"&&"from"in e)}function Lye(e){return!!(e&&typeof e=="object"&&"after"in e)}function Fye(e){return!!(e&&typeof e=="object"&&"before"in e)}function Bye(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Uye(e,t){var r,n=t.from,i=t.to;if(n&&i){var a=Ls(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var s=Ls(e,n)>=0&&Ls(i,e)>=0;return s}return i?Fn(i,e):n?Fn(n,e):!1}function zye(e){return FP(e)}function Vye(e){return Array.isArray(e)&&e.every(FP)}function Wye(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(zye(r))return Fn(e,r);if(Vye(r))return r.includes(e);if(Dye(r))return Uye(e,r);if(Bye(r))return r.dayOfWeek.includes(e.getDay());if(Rye(r)){var n=Ls(r.before,e),i=Ls(r.after,e),a=n>0,s=i<0,l=Tk(r.before,r.after);return l?s&&a:a||s}return Lye(r)?Ls(e,r.after)>0:Fye(r)?Ls(r.before,e)>0:typeof r=="function"?r(e):!1})}function lT(e,t,r){var n=Object.keys(t).reduce(function(a,s){var l=t[s];return Wye(e,l)&&a.push(s),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!zP(e,r)&&(i.outside=!0),i}function Hye(e,t){for(var r=ji(e[0]),n=o_(e[e.length-1]),i,a,s=r;s<=n;){var l=lT(s,t),c=!l.disabled&&!l.hidden;if(!c){s=cn(s,1);continue}if(l.selected)return s;l.today&&!a&&(a=s),i||(i=s),s=cn(s,1)}return a||i}var qye=365;function V9(e,t){var r=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,s=t.retry,l=s===void 0?{count:0,lastFocused:e}:s,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:cn,week:xg,month:fs,year:Wde,startOfWeek:function(v){return i.ISOWeek?Fu(v):hs(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return i.ISOWeek?aW(v):l_(v,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=Hde([u,p]):n==="after"&&d&&(p=qde([d,p]));var g=!0;if(a){var m=lT(p,a);g=!m.disabled&&!m.hidden}return g?p:l.count>qye?l.lastFocused:V9(p,{moveBy:r,direction:n,context:i,modifiers:a,retry:Qe(Qe({},l),{count:l.count+1})})}var W9=y.createContext(void 0);function Gye(e){var t=Bv(),r=z9(),n=y.useState(),i=n[0],a=n[1],s=y.useState(),l=s[0],c=s[1],u=Hye(t.displayMonths,r),d=i??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(i),a(void 0)},h=function(v){a(v)},p=nr(),g=function(v,b){if(i){var x=V9(i,{moveBy:v,direction:b,context:p,modifiers:r});Fn(i,x)||(t.goToDate(x,i),h(x))}},m={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(W9.Provider,{value:m,children:e.children})}function cT(){var e=y.useContext(W9);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Kye(e,t){var r=z9(),n=lT(e,r,t);return n}var uT=y.createContext(void 0);function Yye(e){if(!m_(e.initialProps)){var t={selected:void 0};return o.jsx(uT.Provider,{value:t,children:e.children})}return o.jsx(Jye,{initialProps:e.initialProps,children:e.children})}function Jye(e){var t=e.initialProps,r=e.children,n=function(a,s,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,s,l),s.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,s,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,s,l)},i={selected:t.selected,onDayClick:n};return o.jsx(uT.Provider,{value:i,children:r})}function H9(){var e=y.useContext(uT);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Xye(e,t){var r=nr(),n=H9(),i=aT(),a=oT(),s=cT(),l=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,h=s.focus,p=s.focusMonthBefore,g=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,b=s.focusStartOfWeek,x=s.focusEndOfWeek,w=function(U){var I,F,G,ne;m_(r)?(I=n.onDayClick)===null||I===void 0||I.call(n,e,t,U):Lv(r)?(F=i.onDayClick)===null||F===void 0||F.call(i,e,t,U):Fv(r)?(G=a.onDayClick)===null||G===void 0||G.call(a,e,t,U):(ne=r.onDayClick)===null||ne===void 0||ne.call(r,e,t,U)},_=function(U){var I;h(e),(I=r.onDayFocus)===null||I===void 0||I.call(r,e,t,U)},N=function(U){var I;f(),(I=r.onDayBlur)===null||I===void 0||I.call(r,e,t,U)},j=function(U){var I;(I=r.onDayMouseEnter)===null||I===void 0||I.call(r,e,t,U)},k=function(U){var I;(I=r.onDayMouseLeave)===null||I===void 0||I.call(r,e,t,U)},O=function(U){var I;(I=r.onDayPointerEnter)===null||I===void 0||I.call(r,e,t,U)},P=function(U){var I;(I=r.onDayPointerLeave)===null||I===void 0||I.call(r,e,t,U)},A=function(U){var I;(I=r.onDayTouchCancel)===null||I===void 0||I.call(r,e,t,U)},$=function(U){var I;(I=r.onDayTouchEnd)===null||I===void 0||I.call(r,e,t,U)},M=function(U){var I;(I=r.onDayTouchMove)===null||I===void 0||I.call(r,e,t,U)},z=function(U){var I;(I=r.onDayTouchStart)===null||I===void 0||I.call(r,e,t,U)},L=function(U){var I;(I=r.onDayKeyUp)===null||I===void 0||I.call(r,e,t,U)},V=function(U){var I;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),u();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),d();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?m():p();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?v():g();break;case"Home":U.preventDefault(),U.stopPropagation(),b();break;case"End":U.preventDefault(),U.stopPropagation(),x();break}(I=r.onDayKeyDown)===null||I===void 0||I.call(r,e,t,U)},D={onClick:w,onFocus:_,onBlur:N,onKeyDown:V,onKeyUp:L,onMouseEnter:j,onMouseLeave:k,onPointerEnter:O,onPointerLeave:P,onTouchCancel:A,onTouchEnd:$,onTouchMove:M,onTouchStart:z};return D}function Qye(){var e=nr(),t=H9(),r=aT(),n=oT(),i=m_(e)?t.selected:Lv(e)?r.selected:Fv(e)?n.selected:void 0;return i}function Zye(e){return Object.values(ps).includes(e)}function exe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(Zye(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function txe(e,t){var r=Qe({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=Qe(Qe({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function rxe(e,t,r){var n,i,a,s=nr(),l=cT(),c=Kye(e,t),u=Xye(e,c),d=Qye(),f=!!(s.onDayClick||s.mode!=="default");y.useEffect(function(){var j;c.outside||l.focusedDay&&f&&Fn(l.focusedDay,e)&&((j=r.current)===null||j===void 0||j.focus())},[l.focusedDay,e,r,f,c.outside]);var h=exe(s,c).join(" "),p=txe(s,c),g=!!(c.outside&&!s.showOutsideDays||c.hidden),m=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:jye,v=o.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:h,children:v,role:"gridcell"},x=l.focusTarget&&Fn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Fn(l.focusedDay,e),_=Qe(Qe(Qe({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),u),N={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return N}function nxe(e){var t=y.useRef(null),r=rxe(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Jb,Qe({name:"day",ref:t},r.buttonProps)):o.jsx("div",Qe({},r.divProps))}function ixe(e){var t=e.number,r=e.dates,n=nr(),i=n.onWeekNumberClick,a=n.styles,s=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!i)return o.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){i(t,r,p)};return o.jsx(Jb,{name:"week-number","aria-label":f,className:s.weeknumber,style:a.weeknumber,onClick:h,children:d})}function axe(e){var t,r,n=nr(),i=n.styles,a=n.classNames,s=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:nxe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:ixe,d;return s&&(d=o.jsx("td",{className:a.cell,style:i.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:a.row,style:i.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},Qfe(f))})]})}function ER(e,t,r){for(var n=r!=null&&r.ISOWeek?aW(t):l_(t,r),i=r!=null&&r.ISOWeek?Fu(e):hs(e,r),a=Ls(n,i),s=[],l=0;l<=a;l++)s.push(cn(i,l));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?sW(d):lW(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function sxe(e,t){var r=ER(ji(e),o_(e),t);if(t!=null&&t.useFixedWeeks){var n=ehe(e,t);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],s=xg(a,6-n),l=ER(xg(a,1),s,t);r.push.apply(r,l)}}return r}function oxe(e){var t,r,n,i=nr(),a=i.locale,s=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,g=sxe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:_ye,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:axe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:xye;return o.jsxs("table",{id:e.id,className:s.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:s.tbody,style:l.tbody,children:g.map(function(x){return o.jsx(v,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),o.jsx(b,{displayMonth:e.displayMonth})]})}function lxe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var cxe=lxe()?y.useLayoutEffect:y.useEffect,q1=!1,uxe=0;function OR(){return"react-day-picker-".concat(++uxe)}function dxe(e){var t,r=e??(q1?OR():null),n=y.useState(r),i=n[0],a=n[1];return cxe(function(){i===null&&a(OR())},[]),y.useEffect(function(){q1===!1&&(q1=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function fxe(e){var t,r,n=nr(),i=n.dir,a=n.classNames,s=n.styles,l=n.components,c=Bv().displayMonths,u=dxe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],h=s.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,m=!p&&!g;i==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(f.push(a.caption_start),h=Qe(Qe({},h),s.caption_start)),g&&(f.push(a.caption_end),h=Qe(Qe({},h),s.caption_end)),m&&(f.push(a.caption_between),h=Qe(Qe({},h),s.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:yye;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(oxe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function hxe(e){var t=nr(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function pxe(e){var t,r,n=e.initialProps,i=nr(),a=cT(),s=Bv(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Qe(Qe({},i.styles.root),i.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return Qe(Qe({},g),(v={},v[m]=n[m],v))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:hxe;return o.jsx("div",Qe({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(p,{children:s.displayMonths.map(function(g,m){return o.jsx(fxe,{displayIndex:m,displayMonth:g},m)})})}))}function mxe(e){var t=e.children,r=Fve(e,["children"]);return o.jsx(iye,{initialProps:r,children:o.jsx(pye,{children:o.jsx(Yye,{initialProps:r,children:o.jsx(Sye,{initialProps:r,children:o.jsx(Cye,{initialProps:r,children:o.jsx($ye,{children:o.jsx(Gye,{children:t})})})})})})})}function gxe(e){return o.jsx(mxe,Qe({},e,{children:o.jsx(pxe,{initialProps:e})}))}function dT({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(gxe,{showOutsideDays:r,className:be("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:be(pg({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:be(pg({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>o.jsx(UO,{className:"h-4 w-4"}),IconRight:({...i})=>o.jsx(Hf,{className:"h-4 w-4"})},...n})}dT.displayName="Calendar";const PR=[{value:"video",label:"Video Call",icon:dr,description:"Face-to-face via secure video"},{value:"phone",label:"Phone Call",icon:Si,description:"Voice consultation"},{value:"in_person",label:"In Person",icon:Wh,description:"Visit the clinic"}],vxe=()=>{const e=[];for(let t=8;t<18;t++)e.push(`${t.toString().padStart(2,"0")}:00`),e.push(`${t.toString().padStart(2,"0")}:30`);return e},yxe=({clinicianId:e,clinicianName:t,onSelect:r,onBack:n})=>{var x;const[i,a]=y.useState(cn(new Date,1)),[s,l]=y.useState(null),[c,u]=y.useState("video"),[d,f]=y.useState([]),[h,p]=y.useState(!1),g=vxe();y.useEffect(()=>{(async()=>{if(i){p(!0);try{const _=Qs(i),N=cn(_,1),{data:j,error:k}=await Me.from("appointments").select("scheduled_at").eq("clinician_id",e).gte("scheduled_at",_.toISOString()).lt("scheduled_at",N.toISOString()).in("status",["pending","confirmed"]);if(k)throw k;const O=(j||[]).map(P=>{const A=new Date(P.scheduled_at);return pi(A,"HH:mm")});f(O)}catch(_){console.error("Error fetching booked slots:",_)}finally{p(!1)}}})()},[i,e]);const m=()=>{i&&s&&r({date:i,time:s,consultationType:c})},v=w=>{if(d.includes(w))return!1;if(i){const[_,N]=w.split(":").map(Number),j=fW(dW(i,_),N);if(zb(j,new Date))return!1}return!0},b=i&&s&&c;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsx(_e,{children:"Consultation Type"}),o.jsxs(Ce,{children:["How would you like to have your consultation with Dr. ",t,"?"]})]}),o.jsx(de,{children:o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:PR.map(w=>{const _=w.icon;return o.jsxs("div",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${c===w.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>u(w.value),children:[o.jsx(_,{className:`w-8 h-8 mb-2 ${c===w.value?"text-primary":"text-muted-foreground"}`}),o.jsx("span",{className:"font-medium",children:w.label}),o.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:w.description})]},w.value)})})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsx(_e,{children:"Select Date"}),o.jsx(Ce,{children:"Choose your preferred consultation date"})]}),o.jsx(de,{children:o.jsx(dT,{mode:"single",selected:i,onSelect:a,disabled:w=>zb(w,Qs(new Date))||w.getDay()===0,className:"rounded-md border pointer-events-auto"})})]}),o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(rr,{className:"w-5 h-5 text-primary"}),"Select Time",o.jsx(Ee,{variant:"outline",className:"ml-2 text-xs",children:bg})]}),o.jsx(Ce,{children:i?Wb(i):"Select a date first"})]}),o.jsx(de,{children:h?o.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(w=>o.jsx("div",{className:"h-10 bg-muted animate-pulse rounded-md"},w))}):o.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[300px] overflow-y-auto",children:g.map(w=>{const _=v(w);return o.jsx(Q,{variant:s===w?"default":"outline",size:"sm",disabled:!_,className:_?"":"opacity-50 line-through",onClick:()=>l(w),children:w},w)})})})]})]}),i&&s&&o.jsx(oe,{className:"bg-primary/5 border-primary/20",children:o.jsxs(de,{className:"flex items-center justify-between p-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Your Selected Appointment"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Wb(i)," at ",s," ",bg]})]}),o.jsx(Ee,{variant:"secondary",children:(x=PR.find(w=>w.value===c))==null?void 0:x.label})]})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Q,{variant:"outline",onClick:n,children:"Back"}),o.jsxs(Q,{onClick:m,disabled:!b,children:["Review & Confirm",o.jsx(ns,{className:"w-4 h-4 ml-2"})]})]})]})};var xxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bxe=xxe.reduce((e,t)=>{const r=Nv(`Primitive.${t}`),n=y.forwardRef((i,a)=>{const{asChild:s,...l}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),wxe="Separator",TR="horizontal",_xe=["horizontal","vertical"],q9=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=TR,...i}=e,a=jxe(n)?n:TR,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(bxe.div,{"data-orientation":a,...l,...i,ref:t})});q9.displayName=wxe;function jxe(e){return _xe.includes(e)}var G9=q9;const Xb=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>o.jsx(G9,{ref:i,decorative:r,orientation:t,className:be("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Xb.displayName=G9.displayName;const Sxe={video:dr,phone:Si,in_person:Wh},Nxe={video:"Video Call",phone:"Phone Call",in_person:"In Person"},kxe=({data:e,onConfirm:t,onBack:r})=>{const{user:n}=Dr(),[i,a]=y.useState(!1),[s,l]=y.useState(!1),c=Sxe[e.consultationType],u=async()=>{if(!n){ce.error("You must be logged in to book an appointment");return}a(!0);try{const{data:d,error:f}=await Me.from("symptom_assessments").insert({patient_id:n.id,symptoms:e.symptoms,severity:e.severity,description:e.description||null,recommended_specialization:e.recommendedSpecialization}).select().single();if(f)throw f;const[h,p]=e.time.split(":").map(Number),g=fW(dW(e.date,h),p),{error:m}=await Me.from("appointments").insert({patient_id:n.id,clinician_id:e.clinician.id,symptom_assessment_id:d.id,scheduled_at:g.toISOString(),consultation_type:e.consultationType,status:"pending"});if(m)throw m;l(!0),ce.success("Appointment booked successfully!")}catch(d){console.error("Error booking appointment:",d),ce.error(d.message||"Failed to book appointment")}finally{a(!1)}};return s?o.jsx(oe,{className:"text-center",children:o.jsxs(de,{className:"py-12",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6",children:o.jsx(mn,{className:"w-10 h-10 text-success"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Booking Confirmed!"}),o.jsxs("p",{className:"text-muted-foreground mb-6",children:["Your appointment with Dr. ",e.clinician.first_name," ",e.clinician.last_name," has been scheduled."]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6 inline-block",children:[o.jsx("p",{className:"font-medium",children:Wb(e.date)}),o.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.time," ",bg]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You will receive a confirmation email with further instructions."}),o.jsx(Q,{onClick:t,children:"Return to Dashboard"})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsx(_e,{children:"Review Your Booking"}),o.jsx(Ce,{children:"Please review the details before confirming your appointment."})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(Rr,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold",children:["Dr. ",e.clinician.first_name," ",e.clinician.last_name]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.clinician.specialization||"General Practice"})]})]}),o.jsx(Xb,{}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(Rt,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-medium",children:Yhe(e.date)})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(rr,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Time (",bg,")"]}),o.jsx("p",{className:"font-medium",children:e.time})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(c,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),o.jsx("p",{className:"font-medium",children:Nxe[e.consultationType]})]})]})]}),o.jsx(Xb,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-3",children:"Reported Symptoms"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.symptoms.map((d,f)=>o.jsx(Ee,{variant:"secondary",children:d},f))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Severity:"}),o.jsx(Ee,{variant:e.severity==="severe"?"destructive":e.severity==="moderate"?"default":"secondary",children:e.severity.charAt(0).toUpperCase()+e.severity.slice(1)})]}),e.description&&o.jsx("p",{className:"mt-3 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:e.description})]})]})]}),o.jsx(oe,{className:"border-primary/20 bg-primary/5",children:o.jsx(de,{className:"p-4",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"By confirming this booking, you agree to our terms of service and consent to a telehealth consultation. You can cancel or reschedule up to 2 hours before your appointment."})})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Q,{variant:"outline",onClick:r,disabled:i,children:"Back"}),o.jsx(Q,{onClick:u,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):o.jsxs(o.Fragment,{children:[o.jsx(mn,{className:"w-4 h-4 mr-2"}),"Confirm Booking"]})})]})]})},K9="",Cxe=["Fever","Cough","Headache","Sore throat","Body aches","Fatigue","Nausea","Diarrhea","Rash","Dizziness"],Exe=({onBack:e,onComplete:t})=>{zn();const[r,n]=y.useState(!1),[i,a]=y.useState(""),[s,l]=y.useState([]),[c,u]=y.useState("moderate"),[d,f]=y.useState(""),h=g=>{l(m=>m.includes(g)?m.filter(v=>v!==g):[...m,g])},p=async()=>{if(!i.trim()){ce.error("Please describe your main concern");return}n(!0);try{const{supabase:g}=await qo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>Wo);return{supabase:x}},void 0),{data:{session:m}}=await g.auth.getSession();if(!(m!=null&&m.access_token)){ce.error("Please sign in to continue");return}const v=await fetch(`${K9}/api/appointments/walk-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify({chief_complaint:i,symptoms:s,severity:c,consultation_type:"in_person",notes:d||null})});if(!v.ok){const x=await v.json();throw new Error(x.detail||"Failed to create walk-in booking")}const b=await v.json();ce.success(`Walk-in registered! Queue position: ${b.queue_position||"Next available"}`),t()}catch(g){console.error("Walk-in error:",g),ce.error(g instanceof Error?g.message:"Failed to register walk-in")}finally{n(!1)}};return o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(rr,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(_e,{children:"Walk-In Booking"}),o.jsx(Ce,{children:"No appointment? Join the queue now"})]})]})}),o.jsxs(de,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Walk-in patients are seen in order of arrival. Average wait time today: ",o.jsx("strong",{children:"~30 minutes"})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"complaint",children:"What brings you in today? *"}),o.jsx(Jr,{id:"complaint",value:i,onChange:g=>a(g.target.value),placeholder:"Describe your main concern...",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Any of these symptoms?"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Cxe.map(g=>o.jsx(Ee,{variant:s.includes(g)?"default":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>h(g),children:g},g))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"How severe are your symptoms?"}),o.jsxs(Ng,{value:c,onValueChange:u,className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Us,{value:"mild",id:"mild"}),o.jsx(he,{htmlFor:"mild",className:"cursor-pointer",children:"Mild"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Us,{value:"moderate",id:"moderate"}),o.jsx(he,{htmlFor:"moderate",className:"cursor-pointer",children:"Moderate"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Us,{value:"severe",id:"severe"}),o.jsx(he,{htmlFor:"severe",className:"cursor-pointer",children:"Severe"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"notes",children:"Additional notes (optional)"}),o.jsx(Jr,{id:"notes",value:d,onChange:g=>f(g.target.value),placeholder:"Anything else we should know...",rows:2})]}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs(Q,{variant:"outline",onClick:e,children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Q,{onClick:p,disabled:r||!i.trim(),children:r?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"})," Registering..."]}):o.jsxs(o.Fragment,{children:[o.jsx(mn,{className:"w-4 h-4 mr-2"})," Join Queue"]})})]})]})]})},Oxe=["Chest pain","Difficulty breathing","Severe bleeding","Loss of consciousness","Severe allergic reaction","Stroke symptoms","Severe abdominal pain","High fever (>39C)","Seizure"],Pxe=({onBack:e,onComplete:t})=>{const[r,n]=y.useState(!1),[i,a]=y.useState(""),[s,l]=y.useState([]),[c,u]=y.useState(!1),d=h=>{l(p=>p.includes(h)?p.filter(g=>g!==h):[...p,h])},f=async()=>{if(!i.trim()){ce.error("Please describe your emergency");return}n(!0);try{const{supabase:h}=await qo(async()=>{const{supabase:m}=await Promise.resolve().then(()=>Wo);return{supabase:m}},void 0),{data:{session:p}}=await h.auth.getSession();if(!(p!=null&&p.access_token)){ce.error("Please sign in to continue");return}const g=await fetch(`${K9}/api/appointments/emergency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({chief_complaint:i,symptoms:s,severity:"severe",emergency_contact_notified:c})});if(!g.ok){const m=await g.json();throw new Error(m.detail||"Failed to create emergency booking")}ce.success("Emergency booking created! A clinician will contact you immediately."),t()}catch(h){console.error("Emergency error:",h),ce.error(h instanceof Error?h.message:"Failed to create emergency booking")}finally{n(!1)}};return o.jsxs(oe,{className:"border-red-500",children:[o.jsx(me,{className:"bg-red-50",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:o.jsx(ni,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-red-700",children:"Emergency Booking"}),o.jsx(Ce,{className:"text-red-600",children:"For urgent medical situations - Priority assistance"})]})]})}),o.jsxs(de,{className:"space-y-6 pt-6",children:[o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Si,{className:"w-5 h-5 text-red-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-700",children:"Life-threatening emergency?"}),o.jsxs("p",{className:"text-sm text-red-600",children:["Call ",o.jsx("strong",{children:"10177"})," (ambulance) or ",o.jsx("strong",{children:"112"})," (emergency) immediately"]})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"emergency-complaint",children:"What is your emergency? *"}),o.jsx(Jr,{id:"emergency-complaint",value:i,onChange:h=>a(h.target.value),placeholder:"Describe what's happening...",rows:3,className:"border-red-200 focus:border-red-500"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Select any matching symptoms:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Oxe.map(h=>o.jsx(Ee,{variant:s.includes(h)?"destructive":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>d(h),children:h},h))})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[o.jsx("input",{type:"checkbox",id:"notify-contact",checked:c,onChange:h=>u(h.target.checked),className:"rounded"}),o.jsx(he,{htmlFor:"notify-contact",className:"cursor-pointer text-sm",children:"I have notified my emergency contact"})]}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs(Q,{variant:"outline",onClick:e,children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Q,{variant:"destructive",onClick:f,disabled:r||!i.trim(),children:r?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"})," Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ni,{className:"w-4 h-4 mr-2"})," Request Emergency Help"]})})]})]})]})},AR=[{id:"symptoms",label:"Symptoms",icon:Wf},{id:"clinician",label:"Clinician",icon:Rr},{id:"time",label:"Schedule",icon:rr},{id:"confirm",label:"Confirm",icon:$r}],Txe=()=>{const e=zn(),{profile:t,signOut:r}=Dr(),[n,i]=y.useState("intro"),[a,s]=y.useState("scheduled"),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),p=()=>({intro:-1,symptoms:0,clinician:1,time:2,confirm:3,"walk-in":-1,emergency:-1})[n],g=x=>{c(x),i("clinician")},m=x=>{d(x),i("time")},v=x=>{h(x),i("confirm")},b=()=>{e("/patient")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground hidden sm:block",children:(t==null?void 0:t.first_name)||"Patient"}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>e("/patient"),className:"text-xs sm:text-sm",children:[o.jsx(pn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),o.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-4xl",children:[n!=="intro"&&o.jsx("div",{className:"mb-6 sm:mb-8 overflow-x-auto",children:o.jsx("div",{className:"flex items-center justify-between min-w-[300px]",children:AR.map((x,w)=>{const _=x.icon,N=p()===w,j=p()>w;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors ${j?"bg-success text-success-foreground":N?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:j?o.jsx($r,{className:"w-4 h-4 sm:w-5 sm:h-5"}):o.jsx(_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),o.jsx("span",{className:`text-xs mt-1 sm:mt-2 ${N?"text-primary font-medium":"text-muted-foreground"}`,children:x.label})]}),w<AR.length-1&&o.jsx("div",{className:`h-1 w-8 sm:w-16 md:w-24 mx-1 sm:mx-2 rounded ${j?"bg-success":"bg-muted"}`})]},x.id)})})}),n==="intro"&&o.jsxs(oe,{className:"text-center",children:[o.jsxs(me,{children:[o.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(Rt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),o.jsx(_e,{className:"text-xl sm:text-2xl",children:"Book a Consultation"}),o.jsx(Ce,{className:"text-sm sm:text-base max-w-md mx-auto",children:"Our AI-powered system will assess your symptoms and help you find the right clinician."})]}),o.jsxs(de,{children:[o.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[o.jsx(oe,{className:`cursor-pointer transition-all hover:border-primary ${a==="scheduled"?"ring-2 ring-primary border-primary":""}`,onClick:()=>s("scheduled"),children:o.jsxs(de,{className:"p-4 text-center",children:[o.jsx(Rt,{className:"w-8 h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Schedule"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Book a future appointment"})]})}),o.jsx(oe,{className:`cursor-pointer transition-all hover:border-orange-500 ${a==="walk-in"?"ring-2 ring-orange-500 border-orange-500":""}`,onClick:()=>s("walk-in"),children:o.jsxs(de,{className:"p-4 text-center",children:[o.jsx(Ln,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Walk-In"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Join queue now"})]})}),o.jsx(oe,{className:`cursor-pointer transition-all hover:border-red-500 ${a==="emergency"?"ring-2 ring-red-500 border-red-500":""}`,onClick:()=>s("emergency"),children:o.jsxs(de,{className:"p-4 text-center",children:[o.jsx(ni,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Emergency"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent care needed"})]})})]}),a==="scheduled"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(Wf,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),o.jsx(IM,{className:"w-4 h-4 text-yellow-500"})]}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"AI Symptom Check"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"AI-powered assessment"})]}),o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsx(Rr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Choose Clinician"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select your preferred doctor"})]}),o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsx(rr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Schedule"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pick a convenient time"})]})]}),o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg mb-6 text-left",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[o.jsx(IM,{className:"w-4 h-4 text-primary"}),"Powered by AI"]}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Our AI assistant will analyze your symptoms to determine urgency and recommend the best care pathway."})]}),o.jsxs(Q,{size:"lg",onClick:()=>i("symptoms"),className:"w-full sm:w-auto",children:["Start Booking",o.jsx(ns,{className:"w-4 h-4 ml-2"})]})]}),a==="walk-in"&&o.jsxs("div",{className:"text-left",children:[o.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg mb-6",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-orange-700",children:[o.jsx(Ln,{className:"w-4 h-4"}),"Walk-In Queue"]}),o.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"No appointment needed. Join the queue and be seen in order of arrival. Average wait time: ~30 minutes."})]}),o.jsxs(Q,{size:"lg",onClick:()=>i("walk-in"),className:"w-full sm:w-auto bg-orange-500 hover:bg-orange-600",children:["Join Walk-In Queue",o.jsx(ns,{className:"w-4 h-4 ml-2"})]})]}),a==="emergency"&&o.jsxs("div",{className:"text-left",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-6",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-red-700",children:[o.jsx(ni,{className:"w-4 h-4"}),"Emergency Care"]}),o.jsx("p",{className:"text-sm text-red-600 mt-1",children:"For urgent medical situations. You'll be prioritized and a clinician will contact you immediately."}),o.jsx("p",{className:"text-sm text-red-700 font-medium mt-2",children:"Life-threatening? Call 10177 (ambulance) or 112 now."})]}),o.jsxs(Q,{size:"lg",variant:"destructive",onClick:()=>i("emergency"),className:"w-full sm:w-auto",children:["Request Emergency Help",o.jsx(ns,{className:"w-4 h-4 ml-2"})]})]})]})]}),n==="walk-in"&&o.jsx(Exe,{onBack:()=>i("intro"),onComplete:()=>e("/patient")}),n==="emergency"&&o.jsx(Pxe,{onBack:()=>i("intro"),onComplete:()=>e("/patient")}),n==="symptoms"&&o.jsx(xve,{onComplete:g,onBack:()=>i("intro")}),n==="clinician"&&l&&o.jsx(Lve,{recommendedSpecialization:l.recommendedSpecialization,onSelect:m,onBack:()=>i("symptoms")}),n==="time"&&u&&o.jsx(yxe,{clinicianId:u.id,clinicianName:`${u.first_name} ${u.last_name}`,onSelect:v,onBack:()=>i("clinician")}),n==="confirm"&&l&&u&&f&&o.jsx(kxe,{data:{...l,clinician:u,...f},onConfirm:b,onBack:()=>i("time")})]})]})},Axe=({stats:e,pendingNotes:t})=>{const r=[{label:"Today's Queue",value:e.waiting,icon:Ln,iconBg:"bg-primary/10",iconColor:"text-primary"},{label:"Completed Today",value:e.completed,icon:xa,iconBg:"bg-success/10",iconColor:"text-success"},{label:"Pending Notes",value:t,icon:AU,iconBg:"bg-warning/10",iconColor:"text-warning"},{label:"Total Scheduled",value:e.total,icon:Rt,iconBg:"bg-secondary/20",iconColor:"text-secondary-foreground"}];return o.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:r.map((n,i)=>{const a=n.icon;return o.jsx(oe,{children:o.jsx(de,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:n.label}),o.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.value})]}),o.jsx("div",{className:`p-3 rounded-xl ${n.iconBg}`,children:o.jsx(a,{className:`w-6 h-6 ${n.iconColor}`})})]})})},i)})})};var g_="Switch",[Mxe]=Cn(g_),[Ixe,$xe]=Mxe(g_),Y9=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=y.useState(null),g=et(t,w=>p(w)),m=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b,x]=ls({prop:i,defaultProp:a??!1,onChange:u,caller:g_});return o.jsxs(Ixe,{scope:r,checked:b,disabled:l,children:[o.jsx(Le.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":Z9(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:pe(e.onClick,w=>{x(_=>!_),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&o.jsx(Q9,{control:h,bubbles:!m.current,name:n,value:c,checked:b,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Y9.displayName=g_;var J9="SwitchThumb",X9=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=$xe(J9,r);return o.jsx(Le.span,{"data-state":Z9(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});X9.displayName=J9;var Rxe="SwitchBubbleInput",Q9=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const s=y.useRef(null),l=et(s,a),c=Zw(r),u=Uw(t);return y.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Q9.displayName=Rxe;function Z9(e){return e?"checked":"unchecked"}var e7=Y9,Dxe=X9;const v_=y.forwardRef(({className:e,...t},r)=>o.jsx(e7,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(Dxe,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));v_.displayName=e7.displayName;function Lxe(e){const t=Fxe(e),r=y.forwardRef((n,i)=>{const{children:a,...s}=n,l=y.Children.toArray(a),c=l.find(Uxe);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Fxe(e){const t=y.forwardRef((r,n)=>{const{children:i,...a}=r;if(y.isValidElement(i)){const s=Vxe(i),l=zxe(a,i.props);return i.type!==y.Fragment&&(l.ref=n?eo(n,s):s),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bxe=Symbol("radix.slottable");function Uxe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bxe}function zxe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Vxe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var y_="Popover",[t7]=Cn(y_,[mc]),Uv=mc(),[Wxe,wc]=t7(y_),r7=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,l=Uv(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=ls({prop:n,defaultProp:i??!1,onChange:a,caller:y_});return o.jsx(eP,{...l,children:o.jsx(Wxe,{scope:t,contentId:is(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:s,children:r})})};r7.displayName=y_;var n7="PopoverAnchor",Hxe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=wc(n7,r),a=Uv(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=i;return y.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(jv,{...a,...n,ref:t})});Hxe.displayName=n7;var i7="PopoverTrigger",a7=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=wc(i7,r),a=Uv(r),s=et(t,i.triggerRef),l=o.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":u7(i.open),...n,ref:s,onClick:pe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(jv,{asChild:!0,...a,children:l})});a7.displayName=i7;var fT="PopoverPortal",[qxe,Gxe]=t7(fT,{forceMount:void 0}),s7=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=wc(fT,t);return o.jsx(qxe,{scope:t,forceMount:r,children:o.jsx(tn,{present:r||a.open,children:o.jsx(Vh,{asChild:!0,container:i,children:n})})})};s7.displayName=fT;var oh="PopoverContent",o7=y.forwardRef((e,t)=>{const r=Gxe(oh,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=wc(oh,e.__scopePopover);return o.jsx(tn,{present:n||a.open,children:a.modal?o.jsx(Yxe,{...i,ref:t}):o.jsx(Jxe,{...i,ref:t})})});o7.displayName=oh;var Kxe=Lxe("PopoverContent.RemoveScroll"),Yxe=y.forwardRef((e,t)=>{const r=wc(oh,e.__scopePopover),n=y.useRef(null),i=et(t,n),a=y.useRef(!1);return y.useEffect(()=>{const s=n.current;if(s)return e_(s)},[]),o.jsx(Ev,{as:Kxe,allowPinchZoom:!0,children:o.jsx(l7,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:pe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Jxe=y.forwardRef((e,t)=>{const r=wc(oh,e.__scopePopover),n=y.useRef(!1),i=y.useRef(!1);return o.jsx(l7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),l7=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=wc(oh,r),p=Uv(r);return Qw(),o.jsx(Cv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:o.jsx(td,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(zw,{"data-state":u7(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),c7="PopoverClose",Xxe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=wc(c7,r);return o.jsx(Le.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))})});Xxe.displayName=c7;var Qxe="PopoverArrow",Zxe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Uv(r);return o.jsx(Vw,{...i,...n,ref:t})});Zxe.displayName=Qxe;function u7(e){return e?"open":"closed"}var ebe=r7,tbe=a7,rbe=s7,d7=o7;const nbe=ebe,ibe=tbe,f7=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>o.jsx(rbe,{children:o.jsx(d7,{ref:i,align:t,sideOffset:r,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));f7.displayName=d7.displayName;const h7=Ole,p7=y.createContext({}),Mn=({...e})=>o.jsx(p7.Provider,{value:{name:e.name},children:o.jsx(Cle,{...e})}),x_=()=>{const e=y.useContext(p7),t=y.useContext(m7),{getFieldState:r,formState:n}=Ele(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},m7=y.createContext({}),jn=y.forwardRef(({className:e,...t},r)=>{const n=y.useId();return o.jsx(m7.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:be("space-y-2",e),...t})})});jn.displayName="FormItem";const sn=y.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=x_();return o.jsx(he,{ref:r,className:be(n&&"text-destructive",e),htmlFor:i,...t})});sn.displayName="FormLabel";const Sn=y.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=x_();return o.jsx(nz,{ref:t,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});Sn.displayName="FormControl";const Bk=y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=x_();return o.jsx("p",{ref:r,id:n,className:be("text-sm text-muted-foreground",e),...t})});Bk.displayName="FormDescription";const In=y.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:a}=x_(),s=i?String(i==null?void 0:i.message):t;return s?o.jsx("p",{ref:n,id:a,className:be("text-sm font-medium text-destructive",e),...r,children:s}):null});In.displayName="FormMessage";function abe(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var hT="ScrollArea",[g7]=Cn(hT),[sbe,Ca]=g7(hT),v7=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...s}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[p,g]=y.useState(null),[m,v]=y.useState(null),[b,x]=y.useState(0),[w,_]=y.useState(0),[N,j]=y.useState(!1),[k,O]=y.useState(!1),P=et(t,$=>c($)),A=Qh(i);return o.jsx(sbe,{scope:r,type:n,dir:A,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:O,onCornerWidthChange:x,onCornerHeightChange:_,children:o.jsx(Le.div,{dir:A,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});v7.displayName=hT;var y7="ScrollAreaViewport",x7=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,s=Ca(y7,r),l=y.useRef(null),c=et(t,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(Le.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});x7.displayName=y7;var io="ScrollAreaScrollbar",pT=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Ca(io,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,l=e.orientation==="horizontal";return y.useEffect(()=>(l?a(!0):s(!0),()=>{l?a(!1):s(!1)}),[l,a,s]),i.type==="hover"?o.jsx(obe,{...n,ref:t,forceMount:r}):i.type==="scroll"?o.jsx(lbe,{...n,ref:t,forceMount:r}):i.type==="auto"?o.jsx(b7,{...n,ref:t,forceMount:r}):i.type==="always"?o.jsx(mT,{...n,ref:t}):null});pT.displayName=io;var obe=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Ca(io,e.__scopeScrollArea),[a,s]=y.useState(!1);return y.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(tn,{present:r||a,children:o.jsx(b7,{"data-state":a?"visible":"hidden",...n,ref:t})})}),lbe=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Ca(io,e.__scopeScrollArea),a=e.orientation==="horizontal",s=w_(()=>c("SCROLL_END"),100),[l,c]=abe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),y.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),s()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,a,c,s]),o.jsx(tn,{present:r||l!=="hidden",children:o.jsx(mT,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:pe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:pe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),b7=y.forwardRef((e,t)=>{const r=Ca(io,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,s]=y.useState(!1),l=e.orientation==="horizontal",c=w_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:d)}},10);return lh(r.viewport,c),lh(r.content,c),o.jsx(tn,{present:n||a,children:o.jsx(mT,{"data-state":a?"visible":"hidden",...i,ref:t})})}),mT=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=Ca(io,e.__scopeScrollArea),a=y.useRef(null),s=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=N7(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return pbe(h,s.current,l,p)}return r==="horizontal"?o.jsx(cbe,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=MR(h,l,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?o.jsx(ube,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=MR(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),cbe=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Ca(io,e.__scopeScrollArea),[s,l]=y.useState(),c=y.useRef(null),u=et(t,c,a.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(_7,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":b_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),C7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Zb(s.paddingLeft),paddingEnd:Zb(s.paddingRight)}})}})}),ube=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Ca(io,e.__scopeScrollArea),[s,l]=y.useState(),c=y.useRef(null),u=et(t,c,a.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(_7,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":b_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),C7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Zb(s.paddingTop),paddingEnd:Zb(s.paddingBottom)}})}})}),[dbe,w7]=g7(io),_7=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Ca(io,r),[g,m]=y.useState(null),v=et(t,P=>m(P)),b=y.useRef(null),x=y.useRef(""),w=p.viewport,_=n.content-n.viewport,N=Or(d),j=Or(c),k=w_(f,10);function O(P){if(b.current){const A=P.clientX-b.current.left,$=P.clientY-b.current.top;u({x:A,y:$})}}return y.useEffect(()=>{const P=A=>{const $=A.target;(g==null?void 0:g.contains($))&&N(A,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[w,g,_,N]),y.useEffect(j,[n,j]),lh(g,k),lh(p.content,k),o.jsx(dbe,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:Or(a),onThumbPointerUp:Or(s),onThumbPositionChange:j,onThumbPointerDown:Or(l),children:o.jsx(Le.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:pe(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),O(P))}),onPointerMove:pe(e.onPointerMove,O),onPointerUp:pe(e.onPointerUp,P=>{const A=P.target;A.hasPointerCapture(P.pointerId)&&A.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),Qb="ScrollAreaThumb",j7=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=w7(Qb,e.__scopeScrollArea);return o.jsx(tn,{present:r||i.hasThumb,children:o.jsx(fbe,{ref:t,...n})})}),fbe=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=Ca(Qb,r),s=w7(Qb,r),{onThumbPositionChange:l}=s,c=et(t,f=>s.onThumbChange(f)),u=y.useRef(void 0),d=w_(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=mbe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),o.jsx(Le.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:pe(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;s.onThumbPointerDown({x:g,y:m})}),onPointerUp:pe(e.onPointerUp,s.onThumbPointerUp)})});j7.displayName=Qb;var gT="ScrollAreaCorner",S7=y.forwardRef((e,t)=>{const r=Ca(gT,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(hbe,{...e,ref:t}):null});S7.displayName=gT;var hbe=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=Ca(gT,r),[a,s]=y.useState(0),[l,c]=y.useState(0),u=!!(a&&l);return lh(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),lh(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?o.jsx(Le.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Zb(e){return e?parseInt(e,10):0}function N7(e,t){const r=e/t;return isNaN(r)?0:r}function b_(e){const t=N7(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function pbe(e,t,r,n="ltr"){const i=b_(r),a=i/2,s=t||a,l=i-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return k7([c,u],f)(e)}function MR(e,t,r="ltr"){const n=b_(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,s=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,s]:[s*-1,0],u=jk(e,c);return k7([0,s],[0,l])(u)}function k7(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function C7(e,t){return e>0&&e<t}var mbe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},s=r.left!==a.left,l=r.top!==a.top;(s||l)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function w_(e,t){const r=Or(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function lh(e,t){const r=Or(t);Ir(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var E7=v7,gbe=x7,vbe=S7;const vT=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(E7,{ref:n,className:be("relative overflow-hidden",e),...r,children:[o.jsx(gbe,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(O7,{}),o.jsx(vbe,{})]}));vT.displayName=E7.displayName;const O7=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(pT,{ref:n,orientation:t,className:be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(j7,{className:"relative flex-1 rounded-full bg-border"})}));O7.displayName=pT.displayName;const IR=[{code:"J06.9",description:"Acute upper respiratory infection, unspecified"},{code:"J00",description:"Acute nasopharyngitis (common cold)"},{code:"J02.9",description:"Acute pharyngitis, unspecified"},{code:"J03.90",description:"Acute tonsillitis, unspecified"},{code:"J20.9",description:"Acute bronchitis, unspecified"},{code:"N39.0",description:"Urinary tract infection, site not specified"},{code:"K30",description:"Functional dyspepsia"},{code:"R51",description:"Headache"},{code:"M54.5",description:"Low back pain"},{code:"L30.9",description:"Dermatitis, unspecified"},{code:"R05",description:"Cough"},{code:"R50.9",description:"Fever, unspecified"},{code:"R11.2",description:"Nausea with vomiting, unspecified"},{code:"K59.00",description:"Constipation, unspecified"},{code:"R42",description:"Dizziness and giddiness"},{code:"H10.9",description:"Conjunctivitis, unspecified"},{code:"H66.90",description:"Otitis media, unspecified"},{code:"B34.9",description:"Viral infection, unspecified"},{code:"F41.9",description:"Anxiety disorder, unspecified"},{code:"F32.9",description:"Major depressive disorder, single episode"},{code:"I10",description:"Essential (primary) hypertension"},{code:"E11.9",description:"Type 2 diabetes mellitus without complications"},{code:"Z00.00",description:"General adult medical examination"},{code:"Z71.1",description:"Person with feared health complaint"}],ybe=({selectedCodes:e,onCodesChange:t})=>{const[r,n]=y.useState(""),[i,a]=y.useState(!1),s=IR.filter(u=>!e.some(d=>d.code===u.code)&&(u.code.toLowerCase().includes(r.toLowerCase())||u.description.toLowerCase().includes(r.toLowerCase()))),l=y.useCallback(u=>{t([...e,u]),n(""),a(!1)},[e,t]),c=y.useCallback(u=>{t(e.filter(d=>d.code!==u))},[e,t]);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(zN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(nt,{placeholder:"Search ICD-10 codes...",value:r,onChange:u=>{n(u.target.value),a(!0)},onFocus:()=>a(!0),className:"pl-10"}),i&&r&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg",children:o.jsx(vT,{className:"max-h-48",children:s.length>0?s.slice(0,10).map(u=>o.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted flex items-center justify-between",onClick:()=>l(u),children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-mono font-medium text-primary",children:u.code}),o.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:u.description})]}),o.jsx(qf,{className:"w-4 h-4 text-muted-foreground"})]},u.code)):o.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"No matching codes found"})})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Quick add common codes:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:IR.slice(0,8).filter(u=>!e.some(d=>d.code===u.code)).map(u=>o.jsx(Q,{type:"button",variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>l(u),children:u.code},u.code))})]}),e.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Selected diagnoses:"}),o.jsx("div",{className:"space-y-1",children:e.map(u=>o.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-md px-3 py-2",children:[o.jsxs("div",{children:[o.jsx(Ee,{variant:"secondary",className:"font-mono mr-2",children:u.code}),o.jsx("span",{className:"text-sm",children:u.description})]}),o.jsx(Q,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(u.code),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:o.jsx(to,{className:"w-4 h-4"})})]},u.code))})]})]})},xbe=Xh({chief_complaint:mr().min(1,"Chief complaint is required").max(500),history_of_present_illness:mr().max(2e3).optional(),examination_findings:mr().max(2e3).optional(),treatment_plan:mr().max(2e3).optional(),follow_up_instructions:mr().max(1e3).optional(),follow_up_date:bce().optional().nullable(),referral_required:xce().default(!1),referral_details:mr().max(500).optional()}),bbe=({appointmentId:e,patientId:t,patientName:r,onComplete:n,existingNoteId:i})=>{const{user:a}=Dr(),[s,l]=y.useState([]),[c,u]=y.useState(!1),[d,f]=y.useState(i||null),[h,p]=y.useState("draft"),g=tf({resolver:rf(xbe),defaultValues:{chief_complaint:"",history_of_present_illness:"",examination_findings:"",treatment_plan:"",follow_up_instructions:"",follow_up_date:null,referral_required:!1,referral_details:""}});y.useEffect(()=>{(async()=>{if(!i)return;const{data:w,error:_}=await Me.from("clinical_notes").select("*").eq("id",i).single();if(_){console.error("Error loading note:",_);return}w&&(g.reset({chief_complaint:w.chief_complaint||"",history_of_present_illness:w.history_of_present_illness||"",examination_findings:w.examination_findings||"",treatment_plan:w.treatment_plan||"",follow_up_instructions:w.follow_up_instructions||"",follow_up_date:w.follow_up_date?new Date(w.follow_up_date):null,referral_required:w.referral_required||!1,referral_details:w.referral_details||""}),l(w.icd10_codes||[]),p(w.status),f(w.id))})()},[i,g]);const m=async x=>{if(a){u(!0);try{const w={appointment_id:e,clinician_id:a.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:s.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(s)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?Et(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"draft"};if(d){const{error:_}=await Me.from("clinical_notes").update(w).eq("id",d);if(_)throw _;ce.success("Draft saved")}else{const{data:_,error:N}=await Me.from("clinical_notes").insert(w).select().single();if(N)throw N;f(_.id),ce.success("Draft created")}}catch(w){console.error("Error saving draft:",w),ce.error("Failed to save draft")}finally{u(!1)}}},v=async x=>{if(a){if(s.length===0){ce.error("Please add at least one ICD-10 diagnosis code");return}u(!0);try{const w={appointment_id:e,clinician_id:a.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:s.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(s)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?Et(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"completed",signed_at:new Date().toISOString()};if(d){const{error:_}=await Me.from("clinical_notes").update(w).eq("id",d);if(_)throw _}else{const{error:_}=await Me.from("clinical_notes").insert(w);if(_)throw _}ce.success("Clinical note completed and signed"),p("completed"),n==null||n()}catch(w){console.error("Error completing note:",w),ce.error("Failed to complete note")}finally{u(!1)}}},b=h==="completed";return o.jsxs(oe,{className:"w-full",children:[o.jsx(me,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(gn,{className:"w-5 h-5 text-primary"}),"Clinical Notes"]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Patient: ",o.jsx("span",{className:"font-medium",children:r})]})]}),o.jsx(Ee,{variant:b?"default":"secondary",children:b?"Completed":"Draft"})]})}),o.jsx(de,{children:o.jsx(h7,{...g,children:o.jsxs("form",{className:"space-y-6",children:[o.jsxs(bc,{defaultValue:"clinical",className:"w-full",children:[o.jsxs(Zo,{className:"grid w-full grid-cols-3",children:[o.jsxs(Gt,{value:"clinical",className:"flex items-center gap-2",children:[o.jsx(xa,{className:"w-4 h-4"}),"Clinical"]}),o.jsxs(Gt,{value:"diagnosis",className:"flex items-center gap-2",children:[o.jsx(pc,{className:"w-4 h-4"}),"Diagnosis"]}),o.jsxs(Gt,{value:"treatment",className:"flex items-center gap-2",children:[o.jsx(Qr,{className:"w-4 h-4"}),"Treatment"]})]}),o.jsxs(_r,{value:"clinical",className:"space-y-4 mt-4",children:[o.jsx(Mn,{control:g.control,name:"chief_complaint",render:({field:x})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Chief Complaint *"}),o.jsx(Sn,{children:o.jsx(Jr,{placeholder:"Patient presents with...",className:"min-h-[80px]",disabled:b,...x})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:g.control,name:"history_of_present_illness",render:({field:x})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"History of Present Illness"}),o.jsx(Sn,{children:o.jsx(Jr,{placeholder:"Onset, duration, severity, associated symptoms...",className:"min-h-[120px]",disabled:b,...x})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:g.control,name:"examination_findings",render:({field:x})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Examination Findings"}),o.jsx(Sn,{children:o.jsx(Jr,{placeholder:"Vital signs, physical examination findings...",className:"min-h-[120px]",disabled:b,...x})}),o.jsx(Bk,{children:"Document any observable findings from the video consultation"}),o.jsx(In,{})]})})]}),o.jsx(_r,{value:"diagnosis",className:"space-y-4 mt-4",children:o.jsxs("div",{children:[o.jsx(sn,{children:"ICD-10 Diagnosis Codes *"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add relevant diagnosis codes for this consultation"}),o.jsx(ybe,{selectedCodes:s,onCodesChange:b?()=>{}:l})]})}),o.jsxs(_r,{value:"treatment",className:"space-y-4 mt-4",children:[o.jsx(Mn,{control:g.control,name:"treatment_plan",render:({field:x})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Treatment Plan"}),o.jsx(Sn,{children:o.jsx(Jr,{placeholder:"Medications, lifestyle modifications, recommendations...",className:"min-h-[120px]",disabled:b,...x})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:g.control,name:"follow_up_instructions",render:({field:x})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Follow-up Instructions"}),o.jsx(Sn,{children:o.jsx(Jr,{placeholder:"When to return, warning signs to watch for...",className:"min-h-[80px]",disabled:b,...x})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:g.control,name:"follow_up_date",render:({field:x})=>o.jsxs(jn,{className:"flex flex-col",children:[o.jsx(sn,{children:"Follow-up Date"}),o.jsxs(nbe,{children:[o.jsx(ibe,{asChild:!0,children:o.jsx(Sn,{children:o.jsxs(Q,{variant:"outline",disabled:b,className:be("w-full pl-3 text-left font-normal",!x.value&&"text-muted-foreground"),children:[x.value?Et(x.value,"PPP"):o.jsx("span",{children:"Select date"}),o.jsx(Rt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(f7,{className:"w-auto p-0",align:"start",children:o.jsx(dT,{mode:"single",selected:x.value||void 0,onSelect:x.onChange,disabled:w=>w<new Date,initialFocus:!0})})]}),o.jsx(In,{})]})}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx(Mn,{control:g.control,name:"referral_required",render:({field:x})=>o.jsxs(jn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(sn,{className:"text-base",children:"Referral Required"}),o.jsx(Bk,{children:"Does this patient need to be referred to a specialist?"})]}),o.jsx(Sn,{children:o.jsx(v_,{checked:x.value,onCheckedChange:x.onChange,disabled:b})})]})}),g.watch("referral_required")&&o.jsx(Mn,{control:g.control,name:"referral_details",render:({field:x})=>o.jsxs(jn,{className:"mt-4",children:[o.jsx(sn,{children:"Referral Details"}),o.jsx(Sn,{children:o.jsx(Jr,{placeholder:"Specialist type, urgency, reason for referral...",disabled:b,...x})}),o.jsx(In,{})]})})]})]})]}),!b&&o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsxs(Q,{type:"button",variant:"outline",onClick:g.handleSubmit(m),disabled:c,children:[o.jsx(Dee,{className:"w-4 h-4 mr-2"}),"Save Draft"]}),o.jsxs(Q,{type:"button",onClick:g.handleSubmit(v),disabled:c,children:[o.jsx(IU,{className:"w-4 h-4 mr-2"}),"Complete & Sign"]})]})]})})})]})},yT=({open:e,onOpenChange:t,appointmentId:r,patientId:n,patientName:i,existingNoteId:a,onComplete:s})=>{const l=()=>{s==null||s(),t(!1)};return o.jsx(Yi,{open:e,onOpenChange:t,children:o.jsxs(bi,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsx(wi,{children:o.jsx(_i,{children:"Document Consultation"})}),o.jsx(bbe,{appointmentId:r,patientId:n,patientName:i,existingNoteId:a,onComplete:l})]})})},P7=()=>{const{user:e,role:t}=Dr(),[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,l]=y.useState(null),c=y.useCallback(async()=>{if(e){a(!0),l(null);try{const{data:p,error:g}=await Me.from("prescriptions").select("*").order("prescribed_at",{ascending:!1});if(g)throw g;const m=[...new Set((p==null?void 0:p.map(_=>_.patient_id))||[])],v=[...new Set((p==null?void 0:p.map(_=>_.clinician_id))||[])],{data:b}=await Me.from("profiles").select("id, first_name, last_name").in("id",[...m,...v]),x=new Map((b==null?void 0:b.map(_=>[_.id,`${_.first_name} ${_.last_name}`]))||[]),w=(p==null?void 0:p.map(_=>({..._,patient_name:x.get(_.patient_id)||"Unknown",clinician_name:x.get(_.clinician_id)||"Unknown"})))||[];n(w)}catch(p){l(p.message)}finally{a(!1)}}},[e]),u=async p=>{if(!e)return{success:!1,error:"Not authenticated"};try{const{data:g,error:m}=await Me.from("prescriptions").insert({...p,clinician_id:e.id}).select().single();if(m)throw m;return await c(),{success:!0,prescription:g}}catch(g){return{success:!1,error:g.message}}},d=async(p,g)=>{try{const{error:m}=await Me.from("prescriptions").update({status:g}).eq("id",p);if(m)throw m;return await c(),{success:!0}}catch(m){return{success:!1,error:m.message}}},f=async p=>{try{const{data:g,error:m}=await Me.from("prescriptions").select("*").eq("patient_id",p).order("prescribed_at",{ascending:!1});if(m)throw m;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}},h=async p=>{try{const{data:g,error:m}=await Me.from("prescriptions").select("*").eq("appointment_id",p).order("prescribed_at",{ascending:!1});if(m)throw m;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}};return y.useEffect(()=>{c()},[c]),{prescriptions:r,loading:i,error:s,createPrescription:u,updatePrescriptionStatus:d,getPrescriptionsForPatient:f,getPrescriptionsForAppointment:h,refetch:c}},wbe=Xh({medication_name:mr().min(1,"Medication name is required"),dosage:mr().min(1,"Dosage is required"),frequency:mr().min(1,"Frequency is required"),duration:mr().min(1,"Duration is required"),quantity:mr().optional(),refills:mr().optional(),instructions:mr().optional(),pharmacy_notes:mr().optional()}),_be=["Once daily","Twice daily","Three times daily","Four times daily","Every 4 hours","Every 6 hours","Every 8 hours","Every 12 hours","Once weekly","As needed","At bedtime","With meals"],jbe=["3 days","5 days","7 days","10 days","14 days","21 days","30 days","60 days","90 days","Ongoing"],Sbe=({patientId:e,patientName:t,appointmentId:r,clinicalNoteId:n,onSuccess:i,onCancel:a})=>{const{createPrescription:s}=P7(),[l,c]=y.useState(!1),u=tf({resolver:rf(wbe),defaultValues:{medication_name:"",dosage:"",frequency:"",duration:"",quantity:"",refills:"0",instructions:"",pharmacy_notes:""}}),d=async f=>{c(!0);const h={patient_id:e,medication_name:f.medication_name,dosage:f.dosage,frequency:f.frequency,duration:f.duration,quantity:f.quantity?parseInt(f.quantity):void 0,refills:f.refills?parseInt(f.refills):0,instructions:f.instructions||void 0,pharmacy_notes:f.pharmacy_notes||void 0,appointment_id:r,clinical_note_id:n},p=await s(h);c(!1),p.success?(ce.success("Prescription created successfully"),u.reset(),i==null||i()):ce.error(p.error||"Failed to create prescription")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Qr,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"New Prescription"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["For: ",t]})]})]}),o.jsx(h7,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[o.jsx(Mn,{control:u.control,name:"medication_name",render:({field:f})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Medication Name *"}),o.jsx(Sn,{children:o.jsx(nt,{placeholder:"e.g., Amoxicillin 500mg",...f})}),o.jsx(In,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Mn,{control:u.control,name:"dosage",render:({field:f})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Dosage *"}),o.jsx(Sn,{children:o.jsx(nt,{placeholder:"e.g., 1 tablet",...f})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:u.control,name:"frequency",render:({field:f})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Frequency *"}),o.jsxs(vr,{onValueChange:f.onChange,value:f.value,children:[o.jsx(Sn,{children:o.jsx(lr,{children:o.jsx(yr,{placeholder:"Select frequency"})})}),o.jsx(cr,{children:_be.map(h=>o.jsx(We,{value:h,children:h},h))})]}),o.jsx(In,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(Mn,{control:u.control,name:"duration",render:({field:f})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Duration *"}),o.jsxs(vr,{onValueChange:f.onChange,value:f.value,children:[o.jsx(Sn,{children:o.jsx(lr,{children:o.jsx(yr,{placeholder:"Select duration"})})}),o.jsx(cr,{children:jbe.map(h=>o.jsx(We,{value:h,children:h},h))})]}),o.jsx(In,{})]})}),o.jsx(Mn,{control:u.control,name:"quantity",render:({field:f})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Quantity"}),o.jsx(Sn,{children:o.jsx(nt,{type:"number",placeholder:"e.g., 30",...f})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:u.control,name:"refills",render:({field:f})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Refills"}),o.jsx(Sn,{children:o.jsx(nt,{type:"number",min:"0",max:"12",...f})}),o.jsx(In,{})]})})]}),o.jsx(Mn,{control:u.control,name:"instructions",render:({field:f})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Patient Instructions"}),o.jsx(Sn,{children:o.jsx(Jr,{placeholder:"Special instructions for the patient...",className:"min-h-[80px]",...f})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:u.control,name:"pharmacy_notes",render:({field:f})=>o.jsxs(jn,{children:[o.jsx(sn,{children:"Pharmacy Notes"}),o.jsx(Sn,{children:o.jsx(Jr,{placeholder:"Notes for the pharmacist...",className:"min-h-[60px]",...f})}),o.jsx(In,{})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a&&o.jsx(Q,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),o.jsx(Q,{type:"submit",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(qf,{className:"w-4 h-4 mr-2"}),"Create Prescription"]})})]})]})})]})},T7=({open:e,onOpenChange:t,patientId:r,patientName:n,appointmentId:i,clinicalNoteId:a})=>o.jsx(Yi,{open:e,onOpenChange:t,children:o.jsxs(bi,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(wi,{children:o.jsx(_i,{children:"Create E-Prescription"})}),o.jsx(Sbe,{patientId:r,patientName:n,appointmentId:i,clinicalNoteId:a,onSuccess:()=>t(!1),onCancel:()=>t(!1)})]})}),Nbe=e=>{const[t,r]=y.useState({appointments:[],clinicalNotes:[],prescriptions:[]}),[n,i]=y.useState(!1),[a,s]=y.useState(null);return y.useEffect(()=>{(async()=>{if(e){i(!0),s(null);try{const{data:c,error:u}=await Me.from("appointments").select("id, scheduled_at, consultation_type, status, duration_minutes, notes, clinician_id").eq("patient_id",e).order("scheduled_at",{ascending:!1}).limit(50);if(u)throw u;const{data:d,error:f}=await Me.from("clinical_notes").select("id, appointment_id, chief_complaint, diagnosis, treatment_plan, signed_at, created_at, clinician_id").eq("patient_id",e).eq("status","completed").order("created_at",{ascending:!1}).limit(50);if(f)throw f;const{data:h,error:p}=await Me.from("prescriptions").select("id, medication_name, dosage, frequency, duration, status, prescribed_at, clinician_id").eq("patient_id",e).order("prescribed_at",{ascending:!1}).limit(50);if(p)throw p;const g=[...new Set([...(c==null?void 0:c.map(_=>_.clinician_id))||[],...(d==null?void 0:d.map(_=>_.clinician_id))||[],...(h==null?void 0:h.map(_=>_.clinician_id))||[]])],{data:m}=await Me.from("profiles").select("id, first_name, last_name").in("id",g),v=new Map((m==null?void 0:m.map(_=>[_.id,`Dr. ${_.first_name} ${_.last_name}`]))||[]),b=(c==null?void 0:c.map(_=>({id:_.id,scheduled_at:_.scheduled_at,consultation_type:_.consultation_type,status:_.status,duration_minutes:_.duration_minutes,notes:_.notes,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],x=(d==null?void 0:d.map(_=>({id:_.id,appointment_id:_.appointment_id,chief_complaint:_.chief_complaint,diagnosis:_.diagnosis,treatment_plan:_.treatment_plan,signed_at:_.signed_at,created_at:_.created_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],w=(h==null?void 0:h.map(_=>({id:_.id,medication_name:_.medication_name,dosage:_.dosage,frequency:_.frequency,duration:_.duration,status:_.status,prescribed_at:_.prescribed_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[];r({appointments:b,clinicalNotes:x,prescriptions:w})}catch(c){s(c.message)}finally{i(!1)}}})()},[e]),{history:t,loading:n,error:a}},kbe={video:dr,phone:Si,in_person:Wh},$R={completed:"bg-success/10 text-success",cancelled:"bg-destructive/10 text-destructive",pending:"bg-warning/10 text-warning",confirmed:"bg-primary/10 text-primary",in_progress:"bg-primary/10 text-primary",active:"bg-success/10 text-success"},Cbe=({open:e,onOpenChange:t,patientId:r,patientName:n})=>{const{history:i,loading:a,error:s}=Nbe(e?r:null);return o.jsx(Yi,{open:e,onOpenChange:t,children:o.jsxs(bi,{className:"max-w-4xl max-h-[85vh]",children:[o.jsx(wi,{children:o.jsxs(_i,{className:"flex items-center gap-2",children:[o.jsx(Rr,{className:"w-5 h-5 text-primary"}),"Medical History: ",n]})}),a?o.jsxs("div",{className:"space-y-4",children:[o.jsx(er,{className:"h-10 w-full"}),o.jsx(er,{className:"h-48 w-full"}),o.jsx(er,{className:"h-48 w-full"})]}):s?o.jsxs("div",{className:"text-center py-8 text-destructive",children:[o.jsx(pc,{className:"w-12 h-12 mx-auto mb-4"}),o.jsx("p",{children:"Error loading patient history"})]}):o.jsxs(bc,{defaultValue:"appointments",className:"w-full",children:[o.jsxs(Zo,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs(Gt,{value:"appointments",className:"flex items-center gap-2",children:[o.jsx(Rt,{className:"w-4 h-4"}),"Visits (",i.appointments.length,")"]}),o.jsxs(Gt,{value:"notes",className:"flex items-center gap-2",children:[o.jsx(gn,{className:"w-4 h-4"}),"Clinical Notes (",i.clinicalNotes.length,")"]}),o.jsxs(Gt,{value:"prescriptions",className:"flex items-center gap-2",children:[o.jsx(Qr,{className:"w-4 h-4"}),"Prescriptions (",i.prescriptions.length,")"]})]}),o.jsxs(vT,{className:"h-[500px] pr-4",children:[o.jsx(_r,{value:"appointments",className:"space-y-3 mt-0",children:i.appointments.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No past appointments"})]}):i.appointments.map(l=>{const c=kbe[l.consultation_type]||dr;return o.jsx(oe,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(c,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-medium",children:Et(new Date(l.scheduled_at),"MMMM d, yyyy")}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["at ",Et(new Date(l.scheduled_at),"h:mm a")]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[l.clinician_name,"  ",l.duration_minutes," min ",l.consultation_type," consultation"]}),l.notes&&o.jsx("p",{className:"text-sm bg-muted/50 p-2 rounded",children:l.notes})]})]}),o.jsx(Ee,{className:$R[l.status]||"",children:l.status})]})})},l.id)})}),o.jsx(_r,{value:"notes",className:"space-y-3 mt-0",children:i.clinicalNotes.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(gn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No clinical notes available"})]}):i.clinicalNotes.map(l=>o.jsx(oe,{children:o.jsxs(de,{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gn,{className:"w-4 h-4 text-primary"}),o.jsx("p",{className:"font-medium",children:Et(new Date(l.created_at),"MMMM d, yyyy")})]}),l.signed_at&&o.jsxs(Ee,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx($r,{className:"w-3 h-3"}),"Signed"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l.clinician_name}),l.chief_complaint&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Chief Complaint"}),o.jsx("p",{className:"text-sm",children:l.chief_complaint})]}),l.diagnosis&&l.diagnosis.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Diagnosis"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:l.diagnosis.map((c,u)=>o.jsx(Ee,{variant:"outline",className:"text-xs",children:c},u))})]}),l.treatment_plan&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Treatment Plan"}),o.jsx("p",{className:"text-sm",children:l.treatment_plan})]})]})},l.id))}),o.jsx(_r,{value:"prescriptions",className:"space-y-3 mt-0",children:i.prescriptions.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Qr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No prescriptions on record"})]}):i.prescriptions.map(l=>o.jsx(oe,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:o.jsx(Qr,{className:"w-5 h-5 text-warning"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:l.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.dosage,"  ",l.frequency,"  ",l.duration]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.clinician_name,"  ",Et(new Date(l.prescribed_at),"MMM d, yyyy")]})]})]}),o.jsx(Ee,{className:$R[l.status]||"",children:l.status})]})})},l.id))})]})]})]})})},Ebe={video:dr,phone:Si,in_person:Wh},Obe={pending:{label:"Waiting",variant:"secondary",color:"text-muted-foreground"},confirmed:{label:"Confirmed",variant:"default",color:"text-primary"},in_progress:{label:"In Progress",variant:"default",color:"text-success"},completed:{label:"Completed",variant:"secondary",color:"text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"text-destructive"}},Pbe={mild:{label:"Mild",color:"bg-success/10 text-success border-success/20"},moderate:{label:"Moderate",color:"bg-warning/10 text-warning border-warning/20"},severe:{label:"Severe",color:"bg-destructive/10 text-destructive border-destructive/20"}},G1=({patient:e,onStartConsultation:t,onCompleteConsultation:r,isUpdating:n})=>{const i=zn(),[a,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=Ebe[e.consultation_type],h=Obe[e.status],p=Pbe[e.severity],g=e.status==="pending"||e.status==="confirmed",m=e.status==="in_progress",v=e.status==="completed"||e.status==="cancelled",b=()=>{i(`/consultation?appointment=${e.id}`)};return o.jsxs(oe,{className:`transition-all ${m?"border-success ring-2 ring-success/20":e.severity==="severe"?"border-destructive/50":""}`,children:[o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(ap,{className:"w-12 h-12",children:o.jsx(lc,{className:"bg-primary/10 text-primary",children:e.patient_name.split(" ").map(x=>x[0]).join("")})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h3",{className:"font-semibold truncate",children:e.patient_name}),o.jsx(Ee,{variant:h.variant,children:h.label})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(rr,{className:"w-3.5 h-3.5"}),Et(new Date(e.scheduled_at),"h:mm a")]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(f,{className:"w-3.5 h-3.5"}),e.consultation_type==="video"?"Video":e.consultation_type==="phone"?"Phone":"In-Person"]})]}),e.symptoms.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[o.jsxs(Ee,{variant:"outline",className:p.color,children:[e.severity==="severe"&&o.jsx(ni,{className:"w-3 h-3 mr-1"}),p.label]}),e.symptoms.slice(0,3).map((x,w)=>o.jsx(Ee,{variant:"outline",className:"text-xs",children:x},w)),e.symptoms.length>3&&o.jsxs(Ee,{variant:"outline",className:"text-xs",children:["+",e.symptoms.length-3," more"]})]}),e.symptom_description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-3",children:e.symptom_description}),o.jsxs("div",{className:"flex gap-2",children:[g&&o.jsxs(o.Fragment,{children:[o.jsxs(Q,{size:"sm",onClick:()=>t(e),disabled:n,children:[o.jsx(VO,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),o.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx(a1,{className:"w-4 h-4 mr-1"}),"History"]})]}),m&&o.jsxs(o.Fragment,{children:[o.jsxs(Q,{size:"sm",variant:"default",onClick:b,children:[o.jsx(dr,{className:"w-4 h-4 mr-1"}),"Join Call"]}),o.jsxs(Q,{size:"sm",variant:"secondary",onClick:()=>s(!0),children:[o.jsx(gn,{className:"w-4 h-4 mr-1"}),"Notes"]}),o.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[o.jsx(Qr,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),o.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx(a1,{className:"w-4 h-4 mr-1"}),"History"]}),o.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>r(e),disabled:n,children:[o.jsx($r,{className:"w-4 h-4 mr-1"}),"Complete"]})]}),v&&o.jsxs(o.Fragment,{children:[o.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>s(!0),children:[o.jsx(gn,{className:"w-4 h-4 mr-1"}),"View Notes"]}),o.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[o.jsx(Qr,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),o.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx(a1,{className:"w-4 h-4 mr-1"}),"History"]}),o.jsxs(Ee,{variant:"secondary",className:"ml-2",children:[o.jsx($r,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]})]})]})}),o.jsx(yT,{open:a,onOpenChange:s,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name}),o.jsx(T7,{open:l,onOpenChange:c,patientId:e.patient_id,patientName:e.patient_name,appointmentId:e.id}),o.jsx(Cbe,{open:u,onOpenChange:d,patientId:e.patient_id,patientName:e.patient_name})]})},A7=()=>{const{user:e}=Dr(),[t,r]=y.useState([]),[n,i]=y.useState({waiting:0,inProgress:0,completed:0,total:0}),[a,s]=y.useState(!0),[l,c]=y.useState(null),u=y.useCallback(async()=>{if(e)try{const f=new Date,h=Qs(f).toISOString(),p=BP(f).toISOString(),{data:g,error:m}=await Me.from("appointments").select(`
          id,
          patient_id,
          scheduled_at,
          consultation_type,
          status,
          created_at,
          symptom_assessment_id
        `).eq("clinician_id",e.id).gte("scheduled_at",h).lte("scheduled_at",p).order("scheduled_at",{ascending:!0});if(m)throw m;if(!g||g.length===0){r([]),i({waiting:0,inProgress:0,completed:0,total:0});return}const v=[...new Set(g.map(k=>k.patient_id))],{data:b,error:x}=await Me.from("profiles").select("id, first_name, last_name").in("id",v);if(x)throw x;const w=g.map(k=>k.symptom_assessment_id).filter(Boolean);let _=[];if(w.length>0){const{data:k,error:O}=await Me.from("symptom_assessments").select("id, symptoms, severity, description").in("id",w);if(O)throw O;_=k||[]}const N=g.map(k=>{const O=b==null?void 0:b.find(A=>A.id===k.patient_id),P=_.find(A=>A.id===k.symptom_assessment_id);return{id:k.id,patient_id:k.patient_id,patient_name:O?`${O.first_name} ${O.last_name}`:"Unknown Patient",scheduled_at:k.scheduled_at,consultation_type:k.consultation_type,status:k.status,symptoms:(P==null?void 0:P.symptoms)||[],severity:(P==null?void 0:P.severity)||"mild",symptom_description:(P==null?void 0:P.description)||null,created_at:k.created_at}});r(N);const j={waiting:N.filter(k=>k.status==="pending"||k.status==="confirmed").length,inProgress:N.filter(k=>k.status==="in_progress").length,completed:N.filter(k=>k.status==="completed").length,total:N.length};i(j)}catch(f){console.error("Error fetching queue:",f),c(f.message)}finally{s(!1)}},[e]),d=async(f,h)=>{try{const{error:p}=await Me.from("appointments").update({status:h}).eq("id",f);if(p)throw p;return r(g=>g.map(m=>m.id===f?{...m,status:h}:m)),i(g=>{const m=t.map(v=>v.id===f?{...v,status:h}:v);return{waiting:m.filter(v=>v.status==="pending"||v.status==="confirmed").length,inProgress:m.filter(v=>v.status==="in_progress").length,completed:m.filter(v=>v.status==="completed").length,total:m.length}}),{success:!0}}catch(p){return console.error("Error updating appointment:",p),{success:!1,error:p.message}}};return y.useEffect(()=>{u()},[u]),y.useEffect(()=>{if(!e)return;const f=Me.channel(`clinician-queue-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${e.id}`},()=>{u()}).subscribe();return()=>{Me.removeChannel(f)}},[e,u]),{queue:t,stats:n,loading:a,error:l,refetch:u,updateAppointmentStatus:d}},Tbe=()=>{const{queue:e,stats:t,loading:r,updateAppointmentStatus:n}=A7(),[i,a]=y.useState(null),s=e.filter(h=>h.status==="pending"||h.status==="confirmed"),l=e.filter(h=>h.status==="in_progress"),c=e.filter(h=>h.status==="completed"),u=h=>[...h].sort((p,g)=>{const m={severe:0,moderate:1,mild:2};return m[p.severity]!==m[g.severity]?m[p.severity]-m[g.severity]:new Date(p.scheduled_at).getTime()-new Date(g.scheduled_at).getTime()}),d=async h=>{a(h.id);const p=await n(h.id,"in_progress");a(null),p.success?ce.success(`Started consultation with ${h.patient_name}`):ce.error("Failed to start consultation")},f=async h=>{a(h.id);const p=await n(h.id,"completed");a(null),p.success?ce.success(`Completed consultation with ${h.patient_name}`):ce.error("Failed to complete consultation")};return r?o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsx(er,{className:"h-6 w-40"}),o.jsx(er,{className:"h-4 w-60"})]}),o.jsx(de,{className:"space-y-4",children:[1,2,3].map(h=>o.jsx(er,{className:"h-32 w-full"},h))})]}):o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-primary"}),"Patient Queue"]}),o.jsxs(Ce,{children:[t.total," patients today  ",t.waiting," waiting  ",t.inProgress," in progress"]})]}),o.jsx(de,{children:o.jsxs(bc,{defaultValue:"waiting",className:"w-full",children:[o.jsxs(Zo,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs(Gt,{value:"waiting",className:"flex items-center gap-2",children:[o.jsx(rr,{className:"w-4 h-4"}),"Waiting (",t.waiting,")"]}),o.jsxs(Gt,{value:"in_progress",className:"flex items-center gap-2",children:[o.jsx(ni,{className:"w-4 h-4"}),"In Progress (",t.inProgress,")"]}),o.jsxs(Gt,{value:"completed",className:"flex items-center gap-2",children:[o.jsx($r,{className:"w-4 h-4"}),"Completed (",t.completed,")"]})]}),o.jsx(_r,{value:"waiting",className:"space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ln,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No patients waiting"})]}):u(s).map(h=>o.jsx(G1,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:i===h.id},h.id))}),o.jsx(_r,{value:"in_progress",className:"space-y-4",children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(rr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No consultations in progress"})]}):l.map(h=>o.jsx(G1,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:i===h.id},h.id))}),o.jsx(_r,{value:"completed",className:"space-y-4",children:c.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx($r,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No completed consultations today"})]}):c.map(h=>o.jsx(G1,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:i===h.id},h.id))})]})})]})},Abe={video:dr,phone:Si,in_person:Wh},Mbe=({todayAppointments:e})=>{const t=e.filter(a=>{const s=new Date(a.scheduled_at).getHours();return s>=8&&s<12}),r=e.filter(a=>{const s=new Date(a.scheduled_at).getHours();return s>=12&&s<17}),n=e.filter(a=>new Date(a.scheduled_at).getHours()>=17),i=({title:a,appointments:s})=>o.jsxs("div",{className:"mb-4 last:mb-0",children:[o.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:a}),s.length===0?o.jsx("p",{className:"text-sm text-muted-foreground/50 italic",children:"No appointments"}):o.jsx("div",{className:"space-y-2",children:s.map(l=>{const c=Abe[l.consultation_type];return o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${l.status==="in_progress"?"border-success bg-success/5":l.status==="completed"?"border-muted bg-muted/50 opacity-60":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:pi(new Date(l.scheduled_at),"h:mm")}),o.jsx("span",{className:"text-xs text-muted-foreground",children:pi(new Date(l.scheduled_at),"a")})]}),o.jsx("div",{className:"w-px h-8 bg-border"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:l.patient_name}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(c,{className:"w-3 h-3"}),o.jsx("span",{children:l.consultation_type})]})]})]}),o.jsx(Ee,{variant:l.status==="in_progress"?"default":l.status==="completed"?"secondary":"outline",className:"text-xs",children:l.status==="in_progress"?"In Progress":l.status==="completed"?"Done":l.status==="pending"?"Waiting":l.status})]},l.id)})})]});return o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Rt,{className:"w-5 h-5 text-primary"}),"Today's Schedule",o.jsx(Ee,{variant:"outline",className:"ml-2 text-xs",children:bg})]}),o.jsx(Ce,{children:Wb(new Date)})]}),o.jsx(de,{children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No appointments scheduled for today"})]}):o.jsxs(o.Fragment,{children:[o.jsx(i,{title:"Morning (8am - 12pm)",appointments:t}),o.jsx(i,{title:"Afternoon (12pm - 5pm)",appointments:r}),o.jsx(i,{title:"Evening (5pm+)",appointments:n})]})})]})},Ibe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$be=()=>{const{user:e}=Dr(),[t,r]=y.useState([]),[n,i]=y.useState(!0),[a,s]=y.useState(!1),l=y.useCallback(async()=>{if(e){i(!0);try{const{data:p,error:g}=await Me.from("clinician_availability").select("*").eq("clinician_id",e.id).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(g)throw g;r(p||[])}catch(p){console.error("Error fetching availability:",p),ce.error("Failed to load availability")}finally{i(!1)}}},[e]),c=y.useCallback(async p=>{if(e){s(!0);try{const{data:g,error:m}=await Me.from("clinician_availability").insert({clinician_id:e.id,day_of_week:p.day_of_week,start_time:p.start_time,end_time:p.end_time,is_active:p.is_active}).select().single();if(m)throw m;return r(v=>[...v,g]),ce.success("Availability slot added"),g}catch(g){return console.error("Error adding slot:",g),ce.error("Failed to add availability slot"),null}finally{s(!1)}}},[e]),u=y.useCallback(async(p,g)=>{if(e){s(!0);try{const{error:m}=await Me.from("clinician_availability").update(g).eq("id",p).eq("clinician_id",e.id);if(m)throw m;r(v=>v.map(b=>b.id===p?{...b,...g}:b)),ce.success("Availability updated")}catch(m){console.error("Error updating slot:",m),ce.error("Failed to update availability")}finally{s(!1)}}},[e]),d=y.useCallback(async p=>{if(e){s(!0);try{const{error:g}=await Me.from("clinician_availability").delete().eq("id",p).eq("clinician_id",e.id);if(g)throw g;r(m=>m.filter(v=>v.id!==p)),ce.success("Slot removed")}catch(g){console.error("Error deleting slot:",g),ce.error("Failed to remove slot")}finally{s(!1)}}},[e]),f=y.useCallback(async(p,g)=>{await u(p,{is_active:g})},[u]),h=y.useCallback(p=>t.filter(g=>g.day_of_week===p),[t]);return y.useEffect(()=>{l()},[l]),{availability:t,loading:n,saving:a,addSlot:c,updateSlot:u,deleteSlot:d,toggleSlotActive:f,getSlotsByDay:h,refetch:l,DAY_NAMES:Ibe}},RR=Array.from({length:48},(e,t)=>{const r=Math.floor(t/2),n=t%2===0?"00":"30";return`${r.toString().padStart(2,"0")}:${n}`}),Rbe=({onAddSlot:e,saving:t,dayNames:r})=>{const[n,i]=y.useState(1),[a,s]=y.useState("09:00"),[l,c]=y.useState("17:00"),[u,d]=y.useState(!0),f=async()=>{if(a>=l)return;await e({day_of_week:n,start_time:a,end_time:l,is_active:u})&&(s("09:00"),c("17:00"))};return o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border border-border space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Add New Time Slot"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Day"}),o.jsxs(vr,{value:n.toString(),onValueChange:h=>i(parseInt(h)),children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsx(cr,{children:r.map((h,p)=>o.jsx(We,{value:p.toString(),children:h},p))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Start Time"}),o.jsxs(vr,{value:a,onValueChange:s,children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsx(cr,{children:RR.map(h=>o.jsx(We,{value:h,children:h},h))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"End Time"}),o.jsxs(vr,{value:l,onValueChange:c,children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsx(cr,{children:RR.filter(h=>h>a).map(h=>o.jsx(We,{value:h,children:h},h))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Active"}),o.jsxs("div",{className:"flex items-center h-10",children:[o.jsx(v_,{checked:u,onCheckedChange:d}),o.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:u?"Visible":"Hidden"})]})]})]}),o.jsxs(Q,{onClick:f,disabled:t||a>=l,children:[o.jsx(qf,{className:"w-4 h-4 mr-2"}),"Add Slot"]})]})},DR=e=>{const[t,r]=e.split(":"),n=parseInt(t),i=n>=12?"PM":"AM";return`${n%12||12}:${r} ${i}`},Dbe=({dayName:e,dayIndex:t,slots:r,onToggleActive:n,onDeleteSlot:i,saving:a})=>{const s=r.filter(u=>u.is_active),l=r.length>0,c=t===0||t===6;return o.jsxs(oe,{className:`${l?"":"opacity-60"} ${c?"bg-muted/30":""}`,children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(_e,{className:"text-base flex items-center gap-2",children:[e,c&&o.jsx(Iee,{className:"w-3.5 h-3.5 text-muted-foreground"})]}),l&&o.jsxs(Ee,{variant:s.length>0?"default":"secondary",children:[s.length," active"]})]})}),o.jsx(de,{children:l?o.jsx("div",{className:"space-y-2",children:r.map(u=>o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${u.is_active?"bg-primary/5 border-primary/20":"bg-muted/50 border-border"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rr,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:[DR(u.start_time)," - ",DR(u.end_time)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(v_,{checked:u.is_active,onCheckedChange:d=>u.id&&n(u.id,d),disabled:a}),o.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>u.id&&i(u.id),disabled:a,children:o.jsx(Fee,{className:"w-4 h-4"})})]})]},u.id))}):o.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots configured"})})]})},Lbe=()=>{const{availability:e,loading:t,saving:r,addSlot:n,toggleSlotActive:i,deleteSlot:a,getSlotsByDay:s,refetch:l,DAY_NAMES:c}=$be(),u=e.filter(d=>d.is_active).reduce((d,f)=>{const[h,p]=f.start_time.split(":").map(Number),[g,m]=f.end_time.split(":").map(Number),v=g-h+(m-p)/60;return d+v},0);return t?o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsx(er,{className:"h-6 w-48"}),o.jsx(er,{className:"h-4 w-64"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsx(er,{className:"h-32 w-full"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:7}).map((d,f)=>o.jsx(er,{className:"h-24"},f))})]})]}):o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Rt,{className:"w-5 h-5 text-primary"}),"Availability Schedule"]}),o.jsx(Ce,{className:"mt-1",children:"Set your working hours for patient appointments"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly hours"}),o.jsxs("p",{className:"text-lg font-semibold flex items-center gap-1",children:[o.jsx(rr,{className:"w-4 h-4"}),u.toFixed(1),"h"]})]}),o.jsxs(Q,{variant:"outline",size:"sm",onClick:l,disabled:t,children:[o.jsx(Uo,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]})]})]})}),o.jsxs(de,{className:"space-y-6",children:[o.jsx(Rbe,{onAddSlot:n,saving:r,dayNames:c}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Weekly Schedule"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:c.map((d,f)=>o.jsx(Dbe,{dayName:d,dayIndex:f,slots:s(f),onToggleActive:i,onDeleteSlot:a,saving:r},f))})]}),o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Tips for setting availability"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Patients can only book during your active time slots"}),o.jsx("li",{children:" Each appointment is 30 minutes by default"}),o.jsx("li",{children:" Toggle slots off to temporarily block bookings without deleting"}),o.jsx("li",{children:" Add multiple slots per day for split schedules (e.g., morning + afternoon)"})]})]})]})]})},Fbe=({open:e,onOpenChange:t})=>o.jsx(Yi,{open:e,onOpenChange:t,children:o.jsxs(bi,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[o.jsx(wi,{children:o.jsx(_i,{children:"Manage Availability"})}),o.jsx(Lbe,{})]})}),Bbe=e=>{const{user:t}=Dr(),[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,l]=y.useState(null),c=y.useCallback(async()=>{if(t){a(!0),l(null);try{let h=Me.from("appointments").select(`
          *,
          symptom_assessments (
            symptoms,
            severity,
            description
          )
        `).eq("clinician_id",t.id).order("scheduled_at",{ascending:!0});e!=null&&e.startDate&&(h=h.gte("scheduled_at",Qs(e.startDate).toISOString())),e!=null&&e.endDate&&(h=h.lte("scheduled_at",BP(e.endDate).toISOString())),e!=null&&e.status&&e.status.length>0&&(h=h.in("status",e.status));const{data:p,error:g}=await h;if(g)throw g;const m=[...new Set((p==null?void 0:p.map(w=>w.patient_id))||[])],{data:v}=await Me.from("profiles").select("id, first_name, last_name, phone").in("id",m),b=new Map((v==null?void 0:v.map(w=>[w.id,w]))||[]),x=(p||[]).map(w=>{const _=b.get(w.patient_id),N=w.symptom_assessments;return{id:w.id,patient_id:w.patient_id,patient_name:_?`${_.first_name} ${_.last_name}`:"Unknown Patient",patient_phone:(_==null?void 0:_.phone)||null,scheduled_at:w.scheduled_at,duration_minutes:w.duration_minutes,consultation_type:w.consultation_type,status:w.status,symptoms:(N==null?void 0:N.symptoms)||[],severity:(N==null?void 0:N.severity)||"mild",symptom_description:(N==null?void 0:N.description)||null,notes:w.notes,created_at:w.created_at}});n(x)}catch(h){console.error("Error fetching appointments:",h),l(h.message),ce.error("Failed to load appointments")}finally{a(!1)}}},[t,e==null?void 0:e.startDate,e==null?void 0:e.endDate,e==null?void 0:e.status]),u=y.useCallback(async(h,p)=>{try{const{error:g}=await Me.from("appointments").update({status:p}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,status:p}:v)),ce.success(`Appointment ${p}`),!0}catch(g){return console.error("Error updating appointment:",g),ce.error("Failed to update appointment"),!1}},[]),d=y.useCallback(async(h,p)=>{try{const{error:g}=await Me.from("appointments").update({notes:p}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,notes:p}:v)),ce.success("Notes saved"),!0}catch(g){return console.error("Error updating notes:",g),ce.error("Failed to save notes"),!1}},[]),f=y.useCallback(async(h,p)=>{try{const{error:g}=await Me.from("appointments").update({scheduled_at:p.toISOString(),status:"pending"}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,scheduled_at:p.toISOString(),status:"pending"}:v)),ce.success("Appointment rescheduled"),!0}catch(g){return console.error("Error rescheduling:",g),ce.error("Failed to reschedule appointment"),!1}},[]);return y.useEffect(()=>{if(!t)return;const h=Me.channel("clinician-appointments").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${t.id}`},()=>{c()}).subscribe();return()=>{Me.removeChannel(h)}},[t,c]),y.useEffect(()=>{c()},[c]),{appointments:r,loading:i,error:s,refetch:c,updateAppointmentStatus:u,updateAppointmentNotes:d,rescheduleAppointment:f}};function Ube(e){const t=zbe(e),r=y.forwardRef((n,i)=>{const{children:a,...s}=n,l=y.Children.toArray(a),c=l.find(Wbe);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function zbe(e){const t=y.forwardRef((r,n)=>{const{children:i,...a}=r;if(y.isValidElement(i)){const s=qbe(i),l=Hbe(a,i.props);return i.type!==y.Fragment&&(l.ref=n?eo(n,s):s),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vbe=Symbol("radix.slottable");function Wbe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vbe}function Hbe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function qbe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Uk=["Enter"," "],Gbe=["ArrowDown","PageUp","Home"],M7=["ArrowUp","PageDown","End"],Kbe=[...Gbe,...M7],Ybe={ltr:[...Uk,"ArrowRight"],rtl:[...Uk,"ArrowLeft"]},Jbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zv="Menu",[kg,Xbe,Qbe]=Aw(zv),[id,I7]=Cn(zv,[Qbe,mc,ep]),__=mc(),$7=ep(),[Zbe,ad]=id(zv),[e0e,Vv]=id(zv),R7=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:s=!0}=e,l=__(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Or(a),h=Qh(i);return y.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(eP,{...l,children:o.jsx(Zbe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(e0e,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:n})})})};R7.displayName=zv;var t0e="MenuAnchor",xT=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=__(r);return o.jsx(jv,{...i,...n,ref:t})});xT.displayName=t0e;var bT="MenuPortal",[r0e,D7]=id(bT,{forceMount:void 0}),L7=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=ad(bT,t);return o.jsx(r0e,{scope:t,forceMount:r,children:o.jsx(tn,{present:r||a.open,children:o.jsx(Vh,{asChild:!0,container:i,children:n})})})};L7.displayName=bT;var ba="MenuContent",[n0e,wT]=id(ba),F7=y.forwardRef((e,t)=>{const r=D7(ba,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=ad(ba,e.__scopeMenu),s=Vv(ba,e.__scopeMenu);return o.jsx(kg.Provider,{scope:e.__scopeMenu,children:o.jsx(tn,{present:n||a.open,children:o.jsx(kg.Slot,{scope:e.__scopeMenu,children:s.modal?o.jsx(i0e,{...i,ref:t}):o.jsx(a0e,{...i,ref:t})})})})}),i0e=y.forwardRef((e,t)=>{const r=ad(ba,e.__scopeMenu),n=y.useRef(null),i=et(t,n);return y.useEffect(()=>{const a=n.current;if(a)return e_(a)},[]),o.jsx(_T,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),a0e=y.forwardRef((e,t)=>{const r=ad(ba,e.__scopeMenu);return o.jsx(_T,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),s0e=Ube("MenuContent.ScrollLock"),_T=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=ad(ba,r),b=Vv(ba,r),x=__(r),w=$7(r),_=Xbe(r),[N,j]=y.useState(null),k=y.useRef(null),O=et(t,k,v.onContentChange),P=y.useRef(0),A=y.useRef(""),$=y.useRef(0),M=y.useRef(null),z=y.useRef("right"),L=y.useRef(0),V=g?Ev:y.Fragment,D=g?{as:s0e,allowPinchZoom:!0}:void 0,U=F=>{var R,q;const G=A.current+F,ne=_().filter(H=>!H.disabled),Z=document.activeElement,S=(R=ne.find(H=>H.ref.current===Z))==null?void 0:R.textValue,C=ne.map(H=>H.textValue),E=y0e(C,G,S),B=(q=ne.find(H=>H.textValue===E))==null?void 0:q.ref.current;(function H(X){A.current=X,window.clearTimeout(P.current),X!==""&&(P.current=window.setTimeout(()=>H(""),1e3))})(G),B&&setTimeout(()=>B.focus())};y.useEffect(()=>()=>window.clearTimeout(P.current),[]),Qw();const I=y.useCallback(F=>{var ne,Z;return z.current===((ne=M.current)==null?void 0:ne.side)&&b0e(F,(Z=M.current)==null?void 0:Z.area)},[]);return o.jsx(n0e,{scope:r,searchRef:A,onItemEnter:y.useCallback(F=>{I(F)&&F.preventDefault()},[I]),onItemLeave:y.useCallback(F=>{var G;I(F)||((G=k.current)==null||G.focus(),j(null))},[I]),onTriggerLeave:y.useCallback(F=>{I(F)&&F.preventDefault()},[I]),pointerGraceTimerRef:$,onPointerGraceIntentChange:y.useCallback(F=>{M.current=F},[]),children:o.jsx(V,{...D,children:o.jsx(Cv,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,F=>{var G;F.preventDefault(),(G=k.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:o.jsx(td,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:o.jsx(kP,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:j,onEntryFocus:pe(c,F=>{b.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(zw,{role:"menu","aria-orientation":"vertical","data-state":tH(v.open),"data-radix-menu-content":"",dir:b.dir,...x,...m,ref:O,style:{outline:"none",...m.style},onKeyDown:pe(m.onKeyDown,F=>{const ne=F.target.closest("[data-radix-menu-content]")===F.currentTarget,Z=F.ctrlKey||F.altKey||F.metaKey,S=F.key.length===1;ne&&(F.key==="Tab"&&F.preventDefault(),!Z&&S&&U(F.key));const C=k.current;if(F.target!==C||!Kbe.includes(F.key))return;F.preventDefault();const B=_().filter(R=>!R.disabled).map(R=>R.ref.current);M7.includes(F.key)&&B.reverse(),g0e(B)}),onBlur:pe(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(P.current),A.current="")}),onPointerMove:pe(e.onPointerMove,Cg(F=>{const G=F.target,ne=L.current!==F.clientX;if(F.currentTarget.contains(G)&&ne){const Z=F.clientX>L.current?"right":"left";z.current=Z,L.current=F.clientX}}))})})})})})})});F7.displayName=ba;var o0e="MenuGroup",jT=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Le.div,{role:"group",...n,ref:t})});jT.displayName=o0e;var l0e="MenuLabel",B7=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Le.div,{...n,ref:t})});B7.displayName=l0e;var e0="MenuItem",LR="menu.itemSelect",j_=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=y.useRef(null),s=Vv(e0,e.__scopeMenu),l=wT(e0,e.__scopeMenu),c=et(t,a),u=y.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(LR,{bubbles:!0,cancelable:!0});f.addEventListener(LR,p=>n==null?void 0:n(p),{once:!0}),DO(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return o.jsx(U7,{...i,ref:c,disabled:r,onClick:pe(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:pe(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:pe(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Uk.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});j_.displayName=e0;var U7=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,s=wT(e0,r),l=$7(r),c=y.useRef(null),u=et(t,c),[d,f]=y.useState(!1),[h,p]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[a.children]),o.jsx(kg.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:o.jsx(CP,{asChild:!0,...l,focusable:!n,children:o.jsx(Le.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:pe(e.onPointerMove,Cg(g=>{n?s.onItemLeave(g):(s.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(e.onPointerLeave,Cg(g=>s.onItemLeave(g))),onFocus:pe(e.onFocus,()=>f(!0)),onBlur:pe(e.onBlur,()=>f(!1))})})})}),c0e="MenuCheckboxItem",z7=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return o.jsx(G7,{scope:e.__scopeMenu,checked:r,children:o.jsx(j_,{role:"menuitemcheckbox","aria-checked":t0(r)?"mixed":r,...i,ref:t,"data-state":NT(r),onSelect:pe(i.onSelect,()=>n==null?void 0:n(t0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});z7.displayName=c0e;var V7="MenuRadioGroup",[u0e,d0e]=id(V7,{value:void 0,onValueChange:()=>{}}),W7=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=Or(n);return o.jsx(u0e,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(jT,{...i,ref:t})})});W7.displayName=V7;var H7="MenuRadioItem",q7=y.forwardRef((e,t)=>{const{value:r,...n}=e,i=d0e(H7,e.__scopeMenu),a=r===i.value;return o.jsx(G7,{scope:e.__scopeMenu,checked:a,children:o.jsx(j_,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":NT(a),onSelect:pe(n.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,r)},{checkForDefaultPrevented:!1})})})});q7.displayName=H7;var ST="MenuItemIndicator",[G7,f0e]=id(ST,{checked:!1}),K7=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=f0e(ST,r);return o.jsx(tn,{present:n||t0(a.checked)||a.checked===!0,children:o.jsx(Le.span,{...i,ref:t,"data-state":NT(a.checked)})})});K7.displayName=ST;var h0e="MenuSeparator",Y7=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Y7.displayName=h0e;var p0e="MenuArrow",J7=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=__(r);return o.jsx(Vw,{...i,...n,ref:t})});J7.displayName=p0e;var m0e="MenuSub",[lHe,X7]=id(m0e),um="MenuSubTrigger",Q7=y.forwardRef((e,t)=>{const r=ad(um,e.__scopeMenu),n=Vv(um,e.__scopeMenu),i=X7(um,e.__scopeMenu),a=wT(um,e.__scopeMenu),s=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(xT,{asChild:!0,...u,children:o.jsx(U7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":tH(r.open),...e,ref:eo(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pe(e.onPointerMove,Cg(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:pe(e.onPointerLeave,Cg(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",b=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(e.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||Ybe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});Q7.displayName=um;var Z7="MenuSubContent",eH=y.forwardRef((e,t)=>{const r=D7(ba,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=ad(ba,e.__scopeMenu),s=Vv(ba,e.__scopeMenu),l=X7(Z7,e.__scopeMenu),c=y.useRef(null),u=et(t,c);return o.jsx(kg.Provider,{scope:e.__scopeMenu,children:o.jsx(tn,{present:n||a.open,children:o.jsx(kg.Slot,{scope:e.__scopeMenu,children:o.jsx(_T,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:pe(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Jbe[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});eH.displayName=Z7;function tH(e){return e?"open":"closed"}function t0(e){return e==="indeterminate"}function NT(e){return t0(e)?"indeterminate":e?"checked":"unchecked"}function g0e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function v0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function y0e(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=v0e(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function x0e(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const l=t[a],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function b0e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return x0e(r,t)}function Cg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var w0e=R7,_0e=xT,j0e=L7,S0e=F7,N0e=jT,k0e=B7,C0e=j_,E0e=z7,O0e=W7,P0e=q7,T0e=K7,A0e=Y7,M0e=J7,I0e=Q7,$0e=eH,S_="DropdownMenu",[R0e]=Cn(S_,[I7]),si=I7(),[D0e,rH]=R0e(S_),nH=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:s,modal:l=!0}=e,c=si(t),u=y.useRef(null),[d,f]=ls({prop:i,defaultProp:a??!1,onChange:s,caller:S_});return o.jsx(D0e,{scope:t,triggerId:is(),triggerRef:u,contentId:is(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(w0e,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};nH.displayName=S_;var iH="DropdownMenuTrigger",aH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=rH(iH,r),s=si(r);return o.jsx(_0e,{asChild:!0,...s,children:o.jsx(Le.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:eo(t,a.triggerRef),onPointerDown:pe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:pe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});aH.displayName=iH;var L0e="DropdownMenuPortal",sH=e=>{const{__scopeDropdownMenu:t,...r}=e,n=si(t);return o.jsx(j0e,{...n,...r})};sH.displayName=L0e;var oH="DropdownMenuContent",lH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=rH(oH,r),a=si(r),s=y.useRef(!1);return o.jsx(S0e,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:pe(e.onCloseAutoFocus,l=>{var c;s.current||(c=i.triggerRef.current)==null||c.focus(),s.current=!1,l.preventDefault()}),onInteractOutside:pe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lH.displayName=oH;var F0e="DropdownMenuGroup",B0e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(N0e,{...i,...n,ref:t})});B0e.displayName=F0e;var U0e="DropdownMenuLabel",cH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(k0e,{...i,...n,ref:t})});cH.displayName=U0e;var z0e="DropdownMenuItem",uH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(C0e,{...i,...n,ref:t})});uH.displayName=z0e;var V0e="DropdownMenuCheckboxItem",dH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(E0e,{...i,...n,ref:t})});dH.displayName=V0e;var W0e="DropdownMenuRadioGroup",H0e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(O0e,{...i,...n,ref:t})});H0e.displayName=W0e;var q0e="DropdownMenuRadioItem",fH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(P0e,{...i,...n,ref:t})});fH.displayName=q0e;var G0e="DropdownMenuItemIndicator",hH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(T0e,{...i,...n,ref:t})});hH.displayName=G0e;var K0e="DropdownMenuSeparator",pH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(A0e,{...i,...n,ref:t})});pH.displayName=K0e;var Y0e="DropdownMenuArrow",J0e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(M0e,{...i,...n,ref:t})});J0e.displayName=Y0e;var X0e="DropdownMenuSubTrigger",mH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx(I0e,{...i,...n,ref:t})});mH.displayName=X0e;var Q0e="DropdownMenuSubContent",gH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=si(r);return o.jsx($0e,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gH.displayName=Q0e;var Z0e=nH,ewe=aH,twe=sH,vH=lH,yH=cH,xH=uH,bH=dH,wH=fH,_H=hH,jH=pH,SH=mH,NH=gH;const rwe=Z0e,nwe=ewe,iwe=y.forwardRef(({className:e,inset:t,children:r,...n},i)=>o.jsxs(SH,{ref:i,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(Hf,{className:"ml-auto h-4 w-4"})]}));iwe.displayName=SH.displayName;const awe=y.forwardRef(({className:e,...t},r)=>o.jsx(NH,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));awe.displayName=NH.displayName;const kH=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(twe,{children:o.jsx(vH,{ref:n,sideOffset:t,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));kH.displayName=vH.displayName;const Ux=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(xH,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Ux.displayName=xH.displayName;const swe=y.forwardRef(({className:e,children:t,checked:r,...n},i)=>o.jsxs(bH,{ref:i,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(_H,{children:o.jsx(Rw,{className:"h-4 w-4"})})}),t]}));swe.displayName=bH.displayName;const owe=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(wH,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(_H,{children:o.jsx(TU,{className:"h-2 w-2 fill-current"})})}),t]}));owe.displayName=wH.displayName;const lwe=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(yH,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));lwe.displayName=yH.displayName;const CH=y.forwardRef(({className:e,...t},r)=>o.jsx(jH,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));CH.displayName=jH.displayName;var cwe=Symbol("radix.slottable");function uwe(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=cwe,t}var EH="AlertDialog",[dwe]=Cn(EH,[$V]),el=$V(),OH=e=>{const{__scopeAlertDialog:t,...r}=e,n=el(t);return o.jsx(XV,{...n,...r,modal:!0})};OH.displayName=EH;var fwe="AlertDialogTrigger",hwe=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=el(r);return o.jsx(QV,{...i,...n,ref:t})});hwe.displayName=fwe;var pwe="AlertDialogPortal",PH=e=>{const{__scopeAlertDialog:t,...r}=e,n=el(t);return o.jsx(ZV,{...n,...r})};PH.displayName=pwe;var mwe="AlertDialogOverlay",TH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=el(r);return o.jsx(AP,{...i,...n,ref:t})});TH.displayName=mwe;var jf="AlertDialogContent",[gwe,vwe]=dwe(jf),ywe=uwe("AlertDialogContent"),AH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=el(r),s=y.useRef(null),l=et(t,s),c=y.useRef(null);return o.jsx(Rde,{contentName:jf,titleName:MH,docsSlug:"alert-dialog",children:o.jsx(gwe,{scope:r,cancelRef:c,children:o.jsxs(MP,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:pe(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(ywe,{children:n}),o.jsx(bwe,{contentRef:s})]})})})});AH.displayName=jf;var MH="AlertDialogTitle",IH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=el(r);return o.jsx(IP,{...i,...n,ref:t})});IH.displayName=MH;var $H="AlertDialogDescription",RH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=el(r);return o.jsx($P,{...i,...n,ref:t})});RH.displayName=$H;var xwe="AlertDialogAction",DH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=el(r);return o.jsx(RP,{...i,...n,ref:t})});DH.displayName=xwe;var LH="AlertDialogCancel",FH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=vwe(LH,r),a=el(r),s=et(t,i);return o.jsx(RP,{...a,...n,ref:s})});FH.displayName=LH;var bwe=({contentRef:e})=>{const t=`\`${jf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${jf}\` by passing a \`${$H}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${jf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},wwe=OH,_we=PH,BH=TH,UH=AH,zH=DH,VH=FH,WH=IH,HH=RH;const jwe=wwe,Swe=_we,qH=y.forwardRef(({className:e,...t},r)=>o.jsx(BH,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));qH.displayName=BH.displayName;const GH=y.forwardRef(({className:e,...t},r)=>o.jsxs(Swe,{children:[o.jsx(qH,{}),o.jsx(UH,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));GH.displayName=UH.displayName;const KH=({className:e,...t})=>o.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});KH.displayName="AlertDialogHeader";const YH=({className:e,...t})=>o.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});YH.displayName="AlertDialogFooter";const JH=y.forwardRef(({className:e,...t},r)=>o.jsx(WH,{ref:r,className:be("text-lg font-semibold",e),...t}));JH.displayName=WH.displayName;const XH=y.forwardRef(({className:e,...t},r)=>o.jsx(HH,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));XH.displayName=HH.displayName;const QH=y.forwardRef(({className:e,...t},r)=>o.jsx(zH,{ref:r,className:be(pg(),e),...t}));QH.displayName=zH.displayName;const ZH=y.forwardRef(({className:e,...t},r)=>o.jsx(VH,{ref:r,className:be(pg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ZH.displayName=VH.displayName;const Nwe={video:dr,phone:Si,in_person:Wh},kwe={pending:{label:"Pending",variant:"secondary",color:"bg-warning/10 text-warning border-warning/20"},confirmed:{label:"Confirmed",variant:"default",color:"bg-primary/10 text-primary border-primary/20"},in_progress:{label:"In Progress",variant:"default",color:"bg-success/10 text-success border-success/20"},completed:{label:"Completed",variant:"secondary",color:"bg-muted text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"bg-destructive/10 text-destructive border-destructive/20"}},Cwe={mild:{label:"Mild",color:"text-success"},moderate:{label:"Moderate",color:"text-warning"},severe:{label:"Severe",color:"text-destructive"}},Ewe=({appointment:e,onConfirm:t,onCancel:r,onStart:n,onComplete:i,compact:a=!1})=>{const s=zn(),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(!1),p=Nwe[e.consultation_type],g=kwe[e.status],m=Cwe[e.severity],v=e.status==="pending",b=e.status==="confirmed",x=e.status==="in_progress",w=v||b||x,_=async j=>{h(!0),await j(),h(!1)},N=()=>{s(`/consultation?appointment=${e.id}`)};return a?o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${g.color}`,children:o.jsx(p,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:e.patient_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:Et(new Date(e.scheduled_at),"h:mm a")})]})]}),o.jsx(Ee,{variant:g.variant,className:"text-xs",children:g.label})]}):o.jsxs(o.Fragment,{children:[o.jsx(oe,{className:`transition-all ${x?"ring-2 ring-success/50":""}`,children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-xl ${g.color} border`,children:o.jsx(p,{className:"w-5 h-5"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold",children:e.patient_name}),o.jsx(Ee,{variant:g.variant,children:g.label})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Rt,{className:"w-3.5 h-3.5"}),Et(new Date(e.scheduled_at),"MMM d, yyyy")]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(rr,{className:"w-3.5 h-3.5"}),Et(new Date(e.scheduled_at),"h:mm a")]}),o.jsxs("span",{children:[e.duration_minutes," min"]})]}),e.symptoms.length>0&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("span",{className:`text-xs font-medium ${m.color}`,children:[e.severity==="severe"&&o.jsx(ni,{className:"w-3 h-3 inline mr-1"}),m.label]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:""}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.symptoms.slice(0,3).join(", "),e.symptoms.length>3&&` +${e.symptoms.length-3} more`]})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[v&&o.jsxs(o.Fragment,{children:[o.jsxs(Q,{size:"sm",onClick:()=>_(()=>t(e.id)),disabled:f,children:[o.jsx($r,{className:"w-4 h-4 mr-1"}),"Confirm"]}),o.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>c(!0),disabled:f,children:[o.jsx(cs,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),b&&o.jsxs(Q,{size:"sm",onClick:()=>_(()=>n(e.id)),disabled:f,children:[o.jsx(VO,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),x&&o.jsxs(o.Fragment,{children:[o.jsxs(Q,{size:"sm",onClick:N,children:[o.jsx(dr,{className:"w-4 h-4 mr-1"}),"Join Call"]}),o.jsxs(Q,{size:"sm",variant:"secondary",onClick:()=>d(!0),children:[o.jsx(gn,{className:"w-4 h-4 mr-1"}),"Notes"]}),o.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>_(()=>i(e.id)),disabled:f,children:[o.jsx($r,{className:"w-4 h-4 mr-1"}),"Complete"]})]})]})]})]}),w&&o.jsxs(rwe,{children:[o.jsx(nwe,{asChild:!0,children:o.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(bee,{className:"w-4 h-4"})})}),o.jsxs(kH,{align:"end",children:[o.jsxs(Ux,{onClick:()=>d(!0),children:[o.jsx(gn,{className:"w-4 h-4 mr-2"}),"Clinical Notes"]}),e.patient_phone&&o.jsx(Ux,{asChild:!0,children:o.jsxs("a",{href:`tel:${e.patient_phone}`,children:[o.jsx(Si,{className:"w-4 h-4 mr-2"}),"Call Patient"]})}),o.jsx(CH,{}),o.jsxs(Ux,{className:"text-destructive",onClick:()=>c(!0),children:[o.jsx(cs,{className:"w-4 h-4 mr-2"}),"Cancel Appointment"]})]})]})]})})}),o.jsx(jwe,{open:l,onOpenChange:c,children:o.jsxs(GH,{children:[o.jsxs(KH,{children:[o.jsx(JH,{children:"Cancel Appointment"}),o.jsxs(XH,{children:["Are you sure you want to cancel this appointment with"," ",o.jsx("strong",{children:e.patient_name}),"? The patient will be notified."]})]}),o.jsxs(YH,{children:[o.jsx(ZH,{children:"Keep Appointment"}),o.jsx(QH,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>_(()=>r(e.id)),children:"Cancel Appointment"})]})]})}),o.jsx(yT,{open:u,onOpenChange:d,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name})]})},Owe=()=>{const[e,t]=y.useState({start:hs(new Date,{weekStartsOn:1}),end:l_(new Date,{weekStartsOn:1})}),[r,n]=y.useState(new Date),[i,a]=y.useState("all"),s=i==="all"?void 0:i==="active"?["pending","confirmed","in_progress"]:[i],{appointments:l,loading:c,refetch:u,updateAppointmentStatus:d}=Bbe({startDate:e.start,endDate:e.end,status:s}),f=l.reduce((m,v)=>{const b=Et(new Date(v.scheduled_at),"yyyy-MM-dd");return m[b]||(m[b]=[]),m[b].push(v),m},{}),h={total:l.length,pending:l.filter(m=>m.status==="pending").length,confirmed:l.filter(m=>m.status==="confirmed").length,inProgress:l.filter(m=>m.status==="in_progress").length,completed:l.filter(m=>m.status==="completed").length},p=m=>{const v=m==="next"?1:-1;t({start:xg(e.start,v),end:xg(e.end,v)})},g=m=>{const v=new Date(m);return rhe(v)?"Today":nhe(v)?"Tomorrow":Et(v,"EEEE, MMM d")};return c?o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsx(er,{className:"h-6 w-48"}),o.jsx(er,{className:"h-4 w-64"})]}),o.jsx(de,{className:"space-y-4",children:Array.from({length:3}).map((m,v)=>o.jsx(er,{className:"h-32 w-full"},v))})]}):o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Rt,{className:"w-5 h-5 text-primary"}),"Appointments"]}),o.jsxs(Ce,{children:[Et(e.start,"MMM d")," - ",Et(e.end,"MMM d, yyyy")]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Q,{variant:"outline",size:"sm",onClick:()=>p("prev"),children:" Prev"}),o.jsx(Q,{variant:"outline",size:"sm",onClick:()=>p("next"),children:"Next "}),o.jsx(Q,{variant:"outline",size:"sm",onClick:u,children:o.jsx(Uo,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex gap-4 mt-4 flex-wrap",children:[o.jsxs(Ee,{variant:"outline",className:"px-3 py-1",children:[o.jsx(rr,{className:"w-3.5 h-3.5 mr-1"}),h.pending," pending"]}),o.jsxs(Ee,{variant:"outline",className:"px-3 py-1 border-primary/30 bg-primary/5",children:[o.jsx($r,{className:"w-3.5 h-3.5 mr-1"}),h.confirmed," confirmed"]}),o.jsxs(Ee,{variant:"outline",className:"px-3 py-1 border-success/30 bg-success/5",children:[o.jsx(pc,{className:"w-3.5 h-3.5 mr-1"}),h.inProgress," in progress"]}),o.jsxs(Ee,{variant:"secondary",className:"px-3 py-1",children:[h.completed," completed"]})]})]}),o.jsxs(de,{children:[o.jsx(bc,{value:i,onValueChange:a,className:"mb-6",children:o.jsxs(Zo,{children:[o.jsxs(Gt,{value:"all",children:["All (",h.total,")"]}),o.jsxs(Gt,{value:"active",children:["Active (",h.pending+h.confirmed+h.inProgress,")"]}),o.jsxs(Gt,{value:"pending",children:["Pending (",h.pending,")"]}),o.jsxs(Gt,{value:"completed",children:["Completed (",h.completed,")"]})]})}),Object.keys(f).length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Rt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"No appointments found"}),o.jsx("p",{className:"text-sm",children:i!=="all"?`No ${i} appointments for this week`:"No appointments scheduled for this week"})]}):o.jsx("div",{className:"space-y-6",children:Object.entries(f).sort(([m],[v])=>m.localeCompare(v)).map(([m,v])=>o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[o.jsx(Rt,{className:"w-4 h-4"}),g(m),o.jsxs(Ee,{variant:"secondary",className:"text-xs",children:[v.length," appointment",v.length!==1?"s":""]})]}),o.jsx("div",{className:"space-y-3",children:v.map(b=>o.jsx(Ewe,{appointment:b,onConfirm:x=>d(x,"confirmed"),onCancel:x=>d(x,"cancelled"),onStart:x=>d(x,"in_progress"),onComplete:x=>d(x,"completed")},b.id))})]},m))})]})]})},Pwe=({open:e,onOpenChange:t})=>o.jsx(Yi,{open:e,onOpenChange:t,children:o.jsxs(bi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(wi,{children:o.jsx(_i,{children:"Manage Appointments"})}),o.jsx(Owe,{})]})}),Twe="",Awe=()=>{const[e,t]=y.useState(!1),r=async()=>{const{data:{session:s}}=await Me.auth.getSession();return(s==null?void 0:s.access_token)||null},n=async s=>{t(!0);try{const l=await r(),c={"Content-Type":"application/json"};l&&(c.Authorization=`Bearer ${l}`);const u=await fetch(`${Twe}/api/prescriptions/generate-pdf`,{method:"POST",headers:c,body:JSON.stringify(s)});if(!u.ok){const f=await u.text();throw console.error("PDF generation failed:",u.status,f),new Error(`Failed to generate PDF: ${u.status}`)}const d=await u.json();if(d.success&&d.pdf_base64)return d.pdf_base64;throw new Error(d.error||"Failed to generate PDF")}catch(l){return console.error("PDF generation error:",l),ce.error("Failed to generate prescription PDF"),null}finally{t(!1)}};return{loading:e,generatePDF:n,downloadPDF:async(s,l)=>{const c=await n(s);if(c){const u=atob(c),d=new Array(u.length);for(let m=0;m<u.length;m++)d[m]=u.charCodeAt(m);const f=new Uint8Array(d),h=new Blob([f],{type:"application/pdf"}),p=window.URL.createObjectURL(h),g=document.createElement("a");return g.href=p,g.download=l||`prescription_${s.prescription_id.slice(0,8)}.pdf`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(p),ce.success("Prescription PDF downloaded"),!0}return!1},openPDFInNewTab:async s=>{const l=await n(s);if(l){const c=window.open("");return c&&(c.document.write(`<iframe width='100%' height='100%' src='data:application/pdf;base64,${l}'></iframe>`),c.document.title=`Prescription - ${s.medication_name}`),!0}return!1}}},FR={active:{label:"Active",variant:"default",icon:$r,color:"text-success"},cancelled:{label:"Cancelled",variant:"destructive",icon:cs,color:"text-destructive"},expired:{label:"Expired",variant:"secondary",icon:pc,color:"text-muted-foreground"},completed:{label:"Completed",variant:"secondary",icon:$r,color:"text-muted-foreground"}},K1=({prescription:e,onCancel:t,showPatient:r=!1,showClinician:n=!1,clinicianQualification:i,clinicianHPCSA:a,patientDOB:s,patientIDNumber:l})=>{const c=FR[e.status]||FR.active,u=c.icon,{loading:d,downloadPDF:f}=Awe(),h=async()=>{await f({prescription_id:e.id,patient_name:e.patient_name||"Patient",patient_dob:s,patient_id_number:l,clinician_name:e.clinician_name||"Clinician",clinician_qualification:i,clinician_hpcsa:a,medication_name:e.medication_name,dosage:e.dosage,frequency:e.frequency,duration:e.duration,quantity:e.quantity||void 0,refills:e.refills,instructions:e.instructions||void 0,pharmacy_notes:e.pharmacy_notes||void 0,prescribed_at:e.prescribed_at,expires_at:e.expires_at||void 0})};return o.jsx(oe,{className:"hover:shadow-md transition-shadow",children:o.jsx(de,{className:"p-3 sm:p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[o.jsx("div",{className:"hidden sm:flex p-3 rounded-xl bg-primary/10 shrink-0",children:o.jsx(Qr,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-2 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:hidden",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Qr,{className:"w-4 h-4 text-primary"})}),o.jsx("h3",{className:"font-semibold text-base truncate",children:e.medication_name})]}),o.jsx("h3",{className:"hidden sm:block font-semibold text-lg truncate",children:e.medication_name}),o.jsxs(Ee,{variant:c.variant,className:"flex items-center gap-1 shrink-0 text-xs",children:[o.jsx(u,{className:"w-3 h-3"}),o.jsx("span",{className:"hidden xs:inline",children:c.label})]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-sm mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Dosage:"}),o.jsx("p",{className:"font-medium text-sm",children:e.dosage})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Frequency:"}),o.jsx("p",{className:"font-medium text-sm",children:e.frequency})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Duration:"}),o.jsx("p",{className:"font-medium text-sm",children:e.duration})]}),e.quantity&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Quantity:"}),o.jsx("p",{className:"font-medium text-sm",children:e.quantity})]})]}),e.instructions&&o.jsx("div",{className:"bg-muted/50 rounded-lg p-2 sm:p-3 mb-3",children:o.jsxs("p",{className:"text-xs sm:text-sm",children:[o.jsx("span",{className:"font-medium",children:"Instructions:"})," ",e.instructions]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Rt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),Et(new Date(e.prescribed_at),"MMM d, yyyy")]}),e.refills>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Uo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.refills," refills"]}),r&&e.patient_name&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Rr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.patient_name]}),n&&e.clinician_name&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Rr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Dr. ",e.clinician_name]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t flex flex-wrap items-center gap-2",children:[o.jsxs(Q,{variant:"outline",size:"sm",onClick:h,disabled:d,className:"text-primary hover:text-primary gap-1",children:[d?o.jsx(ft,{className:"w-4 h-4 animate-spin"}):o.jsx(bu,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Download PDF"}),o.jsx("span",{className:"xs:hidden",children:"PDF"})]}),t&&e.status==="active"&&o.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>t(e.id),className:"text-destructive hover:text-destructive gap-1",children:[o.jsx(cs,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Cancel"})]})]})]})]})})})},Mwe=({patientId:e,patientName:t,appointmentId:r,showAddButton:n=!0,showPatient:i=!1})=>{const{prescriptions:a,loading:s,updatePrescriptionStatus:l,getPrescriptionsForPatient:c,getPrescriptionsForAppointment:u}=P7(),[d,f]=y.useState(!1),[h,p]=y.useState([]),[g,m]=y.useState(!1);y.useEffect(()=>{(async()=>{if(r){m(!0);const j=await u(r);p(j.prescriptions||[]),m(!1)}else if(e){m(!0);const j=await c(e);p(j.prescriptions||[]),m(!1)}else p(a)})()},[e,r,a,c,u]);const v=async N=>{(await l(N,"cancelled")).success?ce.success("Prescription cancelled"):ce.error("Failed to cancel prescription")},b=h.filter(N=>N.status==="active"),x=h.filter(N=>N.status==="completed"),w=h.filter(N=>N.status==="cancelled"||N.status==="expired");return s||g?o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsx(er,{className:"h-6 w-40"}),o.jsx(er,{className:"h-4 w-60"})]}),o.jsx(de,{className:"space-y-4",children:[1,2].map(N=>o.jsx(er,{className:"h-32 w-full"},N))})]}):o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qr,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{children:"Prescriptions"})]}),n&&e&&t&&o.jsxs(Q,{size:"sm",onClick:()=>f(!0),children:[o.jsx(qf,{className:"w-4 h-4 mr-1"}),"New Prescription"]})]}),o.jsxs(Ce,{children:[h.length," prescription(s)  ",b.length," active"]})]}),o.jsx(de,{children:o.jsxs(bc,{defaultValue:"active",className:"w-full",children:[o.jsxs(Zo,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs(Gt,{value:"active",className:"flex items-center gap-2",children:[o.jsx(rr,{className:"w-4 h-4"}),"Active (",b.length,")"]}),o.jsxs(Gt,{value:"completed",className:"flex items-center gap-2",children:[o.jsx($r,{className:"w-4 h-4"}),"Completed (",x.length,")"]}),o.jsxs(Gt,{value:"cancelled",className:"flex items-center gap-2",children:[o.jsx(cs,{className:"w-4 h-4"}),"Cancelled (",w.length,")"]})]}),o.jsx(_r,{value:"active",className:"space-y-4",children:b.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Qr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No active prescriptions"})]}):b.map(N=>o.jsx(K1,{prescription:N,onCancel:v,showPatient:i},N.id))}),o.jsx(_r,{value:"completed",className:"space-y-4",children:x.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx($r,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No completed prescriptions"})]}):x.map(N=>o.jsx(K1,{prescription:N,showPatient:i},N.id))}),o.jsx(_r,{value:"cancelled",className:"space-y-4",children:w.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(cs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No cancelled prescriptions"})]}):w.map(N=>o.jsx(K1,{prescription:N,showPatient:i},N.id))})]})}),e&&t&&o.jsx(T7,{open:d,onOpenChange:f,patientId:e,patientName:t,appointmentId:r})]})},Iwe=()=>{const e=zn(),[t,r]=cP(),{profile:n,role:i,signOut:a}=Dr(),{queue:s,stats:l,loading:c,refetch:u}=A7(),[d,f]=y.useState(!1),[h,p]=y.useState(!1),[g,m]=y.useState(!1),[v,b]=y.useState(!1),[x,w]=y.useState(!1),[_,N]=y.useState(null);y.useEffect(()=>{const A=t.get("notes");A&&(async()=>{try{const{data:M,error:z}=await Me.from("appointments").select("id, patient_id").eq("id",A).single();if(z||!M){ce.error("Could not find appointment");return}const{data:L}=await Me.from("profiles").select("first_name, last_name").eq("id",M.patient_id).single(),V=L?`${L.first_name} ${L.last_name}`.trim():"Patient";N({id:M.id,patientId:M.patient_id,patientName:V}),w(!0),r({})}catch(M){console.error("Error fetching appointment for notes:",M)}})()},[t,r]);const j=()=>{const A=s.find(M=>M.status==="in_progress");if(A){e(`/consultation?appointment=${A.id}`);return}if(s.find(M=>M.status==="confirmed")){ce.info("Select a patient from the queue below to start their consultation");return}ce.info("No consultations ready. Confirm an appointment first from the queue below.")},k=()=>{ce.info("Select a patient from the queue below to access their clinical notes")},O=i==="doctor"?"Doctor":"Nurse",P=i==="doctor"?"bg-primary":"bg-success";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(Q,{variant:"ghost",size:"sm",onClick:u,disabled:c,children:[o.jsx(Uo,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),o.jsx(Ee,{className:`${P} text-white`,children:O}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:a,children:[o.jsx(tc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(Q,{variant:"ghost",size:"icon",onClick:u,disabled:c,children:o.jsx(Uo,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx(Ee,{className:`${P} text-white text-xs`,children:O}),o.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>b(!v),children:v?o.jsx(to,{className:"w-5 h-5"}):o.jsx(bv,{className:"w-5 h-5"})})]})]}),v&&o.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:a,className:"justify-start",children:[o.jsx(tc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Clinician Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your patients and consultations"})]}),o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsx(Axe,{stats:l,pendingNotes:0})}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>p(!0),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:o.jsx(mee,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-sm sm:text-lg",children:"Appointments"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"View & manage"})]})]})}),i==="nurse"&&o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-success/20 hover:border-success",onClick:()=>e("/nurse-triage"),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:o.jsx(xa,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-sm sm:text-lg",children:"Triage"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Assess patients"})]})]})}),o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:j,children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:o.jsx(dr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-sm sm:text-lg",children:"Start Call"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Begin video call"})]})]})}),o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:k,children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:o.jsx(gn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-sm sm:text-lg",children:"Notes"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Clinical notes"})]})]})}),o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-warning/20 hover:border-warning",onClick:()=>e("/demo-consultation"),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:o.jsx(yee,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-sm sm:text-lg",children:"Demo"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Test video"})]})]})}),o.jsx(oe,{className:`hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary ${g?"ring-2 ring-primary":""}`,onClick:()=>m(!g),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:o.jsx(Qr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-sm sm:text-lg",children:"Rx"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Prescriptions"})]})]})}),o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>f(!0),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-secondary/20",children:o.jsx(Rt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-secondary-foreground"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-sm sm:text-lg",children:"Availability"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Set schedule"})]})]})})]}),g&&o.jsx("div",{className:"mb-6 sm:mb-8 animate-fade-in",children:o.jsx(Mwe,{showPatient:!0})}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-8",children:[o.jsx("div",{className:"lg:col-span-2 order-1",children:o.jsx(Tbe,{})}),o.jsx("div",{className:"order-2",children:o.jsx(Mbe,{todayAppointments:s})})]}),o.jsx(Fbe,{open:d,onOpenChange:f}),o.jsx(Pwe,{open:h,onOpenChange:p}),_&&o.jsx(yT,{open:x,onOpenChange:A=>{w(A),A||N(null)},appointmentId:_.id,patientId:_.patientId,patientName:_.patientName,onComplete:()=>{ce.success("Clinical notes saved successfully"),u()}})]})]})},zx=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",e),...t})}));zx.displayName="Table";const Vx=y.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:be("[&_tr]:border-b",e),...t}));Vx.displayName="TableHeader";const Wx=y.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",e),...t}));Wx.displayName="TableBody";const $we=y.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$we.displayName="TableFooter";const qc=y.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:be("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));qc.displayName="TableRow";const Ti=y.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ti.displayName="TableHead";const Ai=y.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:be("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ai.displayName="TableCell";const Rwe=y.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",e),...t}));Rwe.displayName="TableCaption";const Dwe="",Lwe=(e=30)=>{const[t,r]=y.useState(null),[n,i]=y.useState(!0),[a,s]=y.useState(null),l=y.useCallback(async()=>{i(!0),s(null);try{const{data:{session:c}}=await Me.auth.getSession(),u=c==null?void 0:c.access_token,d=await fetch(`${Dwe}/api/analytics/dashboard?days=${e}`,{headers:u?{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}:{}});if(!d.ok)throw new Error("Failed to fetch analytics");const f=await d.json();r(f)}catch(c){console.error("Analytics fetch error:",c),s(c.message),r({overview:{total_users:0,total_patients:0,total_clinicians:0,total_appointments:0,total_consultations:0,total_prescriptions:0,appointments_today:0,appointments_this_week:0,appointments_this_month:0,completion_rate:0,average_consultation_duration:0},appointment_trends:[],consultation_types:{video:0,phone:0,in_person:0},clinician_performance:[],patient_growth:[],status_distribution:{}})}finally{i(!1)}},[e]);return y.useEffect(()=>{l()},[l]),{data:t,loading:n,error:a,refetch:l}},Fwe=({overview:e})=>{const t=[{title:"Total Users",value:e.total_users,icon:Ln,color:"bg-primary/10 text-primary",description:`${e.total_patients} patients, ${e.total_clinicians} clinicians`},{title:"Total Appointments",value:e.total_appointments,icon:Rt,color:"bg-success/10 text-success",description:`${e.appointments_today} today, ${e.appointments_this_week} this week`},{title:"Consultations",value:e.total_consultations,icon:dr,color:"bg-info/10 text-info",description:`${e.average_consultation_duration.toFixed(1)} min avg duration`},{title:"Prescriptions",value:e.total_prescriptions,icon:Qr,color:"bg-warning/10 text-warning",description:"Total issued"},{title:"Completion Rate",value:`${e.completion_rate}%`,icon:wu,color:"bg-success/10 text-success",description:"Appointments completed"},{title:"This Month",value:e.appointments_this_month,icon:rr,color:"bg-secondary/20 text-secondary-foreground",description:"Appointments scheduled"}];return o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:t.map((r,n)=>o.jsx(oe,{className:"hover:shadow-md transition-shadow",children:o.jsxs(de,{className:"pt-4 pb-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx("div",{className:`p-2 rounded-lg ${r.color}`,children:o.jsx(r.icon,{className:"w-4 h-4"})})}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:r.title}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:r.description})]})},n))})};var Bwe=Array.isArray,ki=Bwe,Uwe=typeof rm=="object"&&rm&&rm.Object===Object&&rm,eq=Uwe,zwe=eq,Vwe=typeof self=="object"&&self&&self.Object===Object&&self,Wwe=zwe||Vwe||Function("return this")(),ao=Wwe,Hwe=ao,qwe=Hwe.Symbol,Wv=qwe,BR=Wv,tq=Object.prototype,Gwe=tq.hasOwnProperty,Kwe=tq.toString,Wp=BR?BR.toStringTag:void 0;function Ywe(e){var t=Gwe.call(e,Wp),r=e[Wp];try{e[Wp]=void 0;var n=!0}catch{}var i=Kwe.call(e);return n&&(t?e[Wp]=r:delete e[Wp]),i}var Jwe=Ywe,Xwe=Object.prototype,Qwe=Xwe.toString;function Zwe(e){return Qwe.call(e)}var e_e=Zwe,UR=Wv,t_e=Jwe,r_e=e_e,n_e="[object Null]",i_e="[object Undefined]",zR=UR?UR.toStringTag:void 0;function a_e(e){return e==null?e===void 0?i_e:n_e:zR&&zR in Object(e)?t_e(e):r_e(e)}var tl=a_e;function s_e(e){return e!=null&&typeof e=="object"}var rl=s_e,o_e=tl,l_e=rl,c_e="[object Symbol]";function u_e(e){return typeof e=="symbol"||l_e(e)&&o_e(e)==c_e}var sp=u_e,d_e=ki,f_e=sp,h_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p_e=/^\w*$/;function m_e(e,t){if(d_e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||f_e(e)?!0:p_e.test(e)||!h_e.test(e)||t!=null&&e in Object(t)}var kT=m_e;function g_e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _c=g_e;const op=Nt(_c);var v_e=tl,y_e=_c,x_e="[object AsyncFunction]",b_e="[object Function]",w_e="[object GeneratorFunction]",__e="[object Proxy]";function j_e(e){if(!y_e(e))return!1;var t=v_e(e);return t==b_e||t==w_e||t==x_e||t==__e}var CT=j_e;const Xe=Nt(CT);var S_e=ao,N_e=S_e["__core-js_shared__"],k_e=N_e,Y1=k_e,VR=function(){var e=/[^.]+$/.exec(Y1&&Y1.keys&&Y1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function C_e(e){return!!VR&&VR in e}var E_e=C_e,O_e=Function.prototype,P_e=O_e.toString;function T_e(e){if(e!=null){try{return P_e.call(e)}catch{}try{return e+""}catch{}}return""}var rq=T_e,A_e=CT,M_e=E_e,I_e=_c,$_e=rq,R_e=/[\\^$.*+?()[\]{}|]/g,D_e=/^\[object .+?Constructor\]$/,L_e=Function.prototype,F_e=Object.prototype,B_e=L_e.toString,U_e=F_e.hasOwnProperty,z_e=RegExp("^"+B_e.call(U_e).replace(R_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V_e(e){if(!I_e(e)||M_e(e))return!1;var t=A_e(e)?z_e:D_e;return t.test($_e(e))}var W_e=V_e;function H_e(e,t){return e==null?void 0:e[t]}var q_e=H_e,G_e=W_e,K_e=q_e;function Y_e(e,t){var r=K_e(e,t);return G_e(r)?r:void 0}var sd=Y_e,J_e=sd,X_e=J_e(Object,"create"),N_=X_e,WR=N_;function Q_e(){this.__data__=WR?WR(null):{},this.size=0}var Z_e=Q_e;function eje(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tje=eje,rje=N_,nje="__lodash_hash_undefined__",ije=Object.prototype,aje=ije.hasOwnProperty;function sje(e){var t=this.__data__;if(rje){var r=t[e];return r===nje?void 0:r}return aje.call(t,e)?t[e]:void 0}var oje=sje,lje=N_,cje=Object.prototype,uje=cje.hasOwnProperty;function dje(e){var t=this.__data__;return lje?t[e]!==void 0:uje.call(t,e)}var fje=dje,hje=N_,pje="__lodash_hash_undefined__";function mje(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=hje&&t===void 0?pje:t,this}var gje=mje,vje=Z_e,yje=tje,xje=oje,bje=fje,wje=gje;function lp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lp.prototype.clear=vje;lp.prototype.delete=yje;lp.prototype.get=xje;lp.prototype.has=bje;lp.prototype.set=wje;var _je=lp;function jje(){this.__data__=[],this.size=0}var Sje=jje;function Nje(e,t){return e===t||e!==e&&t!==t}var ET=Nje,kje=ET;function Cje(e,t){for(var r=e.length;r--;)if(kje(e[r][0],t))return r;return-1}var k_=Cje,Eje=k_,Oje=Array.prototype,Pje=Oje.splice;function Tje(e){var t=this.__data__,r=Eje(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Pje.call(t,r,1),--this.size,!0}var Aje=Tje,Mje=k_;function Ije(e){var t=this.__data__,r=Mje(t,e);return r<0?void 0:t[r][1]}var $je=Ije,Rje=k_;function Dje(e){return Rje(this.__data__,e)>-1}var Lje=Dje,Fje=k_;function Bje(e,t){var r=this.__data__,n=Fje(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Uje=Bje,zje=Sje,Vje=Aje,Wje=$je,Hje=Lje,qje=Uje;function cp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cp.prototype.clear=zje;cp.prototype.delete=Vje;cp.prototype.get=Wje;cp.prototype.has=Hje;cp.prototype.set=qje;var C_=cp,Gje=sd,Kje=ao,Yje=Gje(Kje,"Map"),OT=Yje,HR=_je,Jje=C_,Xje=OT;function Qje(){this.size=0,this.__data__={hash:new HR,map:new(Xje||Jje),string:new HR}}var Zje=Qje;function e1e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var t1e=e1e,r1e=t1e;function n1e(e,t){var r=e.__data__;return r1e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var E_=n1e,i1e=E_;function a1e(e){var t=i1e(this,e).delete(e);return this.size-=t?1:0,t}var s1e=a1e,o1e=E_;function l1e(e){return o1e(this,e).get(e)}var c1e=l1e,u1e=E_;function d1e(e){return u1e(this,e).has(e)}var f1e=d1e,h1e=E_;function p1e(e,t){var r=h1e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var m1e=p1e,g1e=Zje,v1e=s1e,y1e=c1e,x1e=f1e,b1e=m1e;function up(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}up.prototype.clear=g1e;up.prototype.delete=v1e;up.prototype.get=y1e;up.prototype.has=x1e;up.prototype.set=b1e;var PT=up,nq=PT,w1e="Expected a function";function TT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(w1e);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(TT.Cache||nq),r}TT.Cache=nq;var iq=TT;const _1e=Nt(iq);var j1e=iq,S1e=500;function N1e(e){var t=j1e(e,function(n){return r.size===S1e&&r.clear(),n}),r=t.cache;return t}var k1e=N1e,C1e=k1e,E1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O1e=/\\(\\)?/g,P1e=C1e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(E1e,function(r,n,i,a){t.push(i?a.replace(O1e,"$1"):n||r)}),t}),T1e=P1e;function A1e(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var AT=A1e,qR=Wv,M1e=AT,I1e=ki,$1e=sp,GR=qR?qR.prototype:void 0,KR=GR?GR.toString:void 0;function aq(e){if(typeof e=="string")return e;if(I1e(e))return M1e(e,aq)+"";if($1e(e))return KR?KR.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var R1e=aq,D1e=R1e;function L1e(e){return e==null?"":D1e(e)}var sq=L1e,F1e=ki,B1e=kT,U1e=T1e,z1e=sq;function V1e(e,t){return F1e(e)?e:B1e(e,t)?[e]:U1e(z1e(e))}var oq=V1e,W1e=sp;function H1e(e){if(typeof e=="string"||W1e(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var O_=H1e,q1e=oq,G1e=O_;function K1e(e,t){t=q1e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[G1e(t[r++])];return r&&r==n?e:void 0}var MT=K1e,Y1e=MT;function J1e(e,t,r){var n=e==null?void 0:Y1e(e,t);return n===void 0?r:n}var lq=J1e;const Ji=Nt(lq);function X1e(e){return e==null}var Q1e=X1e;const lt=Nt(Q1e);var Z1e=tl,eSe=ki,tSe=rl,rSe="[object String]";function nSe(e){return typeof e=="string"||!eSe(e)&&tSe(e)&&Z1e(e)==rSe}var iSe=nSe;const zu=Nt(iSe);var cq={exports:{}},Ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=Symbol.for("react.element"),$T=Symbol.for("react.portal"),P_=Symbol.for("react.fragment"),T_=Symbol.for("react.strict_mode"),A_=Symbol.for("react.profiler"),M_=Symbol.for("react.provider"),I_=Symbol.for("react.context"),aSe=Symbol.for("react.server_context"),$_=Symbol.for("react.forward_ref"),R_=Symbol.for("react.suspense"),D_=Symbol.for("react.suspense_list"),L_=Symbol.for("react.memo"),F_=Symbol.for("react.lazy"),sSe=Symbol.for("react.offscreen"),uq;uq=Symbol.for("react.module.reference");function Ea(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IT:switch(e=e.type,e){case P_:case A_:case T_:case R_:case D_:return e;default:switch(e=e&&e.$$typeof,e){case aSe:case I_:case $_:case F_:case L_:case M_:return e;default:return t}}case $T:return t}}}Ut.ContextConsumer=I_;Ut.ContextProvider=M_;Ut.Element=IT;Ut.ForwardRef=$_;Ut.Fragment=P_;Ut.Lazy=F_;Ut.Memo=L_;Ut.Portal=$T;Ut.Profiler=A_;Ut.StrictMode=T_;Ut.Suspense=R_;Ut.SuspenseList=D_;Ut.isAsyncMode=function(){return!1};Ut.isConcurrentMode=function(){return!1};Ut.isContextConsumer=function(e){return Ea(e)===I_};Ut.isContextProvider=function(e){return Ea(e)===M_};Ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IT};Ut.isForwardRef=function(e){return Ea(e)===$_};Ut.isFragment=function(e){return Ea(e)===P_};Ut.isLazy=function(e){return Ea(e)===F_};Ut.isMemo=function(e){return Ea(e)===L_};Ut.isPortal=function(e){return Ea(e)===$T};Ut.isProfiler=function(e){return Ea(e)===A_};Ut.isStrictMode=function(e){return Ea(e)===T_};Ut.isSuspense=function(e){return Ea(e)===R_};Ut.isSuspenseList=function(e){return Ea(e)===D_};Ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===P_||e===A_||e===T_||e===R_||e===D_||e===sSe||typeof e=="object"&&e!==null&&(e.$$typeof===F_||e.$$typeof===L_||e.$$typeof===M_||e.$$typeof===I_||e.$$typeof===$_||e.$$typeof===uq||e.getModuleId!==void 0)};Ut.typeOf=Ea;cq.exports=Ut;var oSe=cq.exports,lSe=tl,cSe=rl,uSe="[object Number]";function dSe(e){return typeof e=="number"||cSe(e)&&lSe(e)==uSe}var dq=dSe;const fSe=Nt(dq);var hSe=dq;function pSe(e){return hSe(e)&&e!=+e}var mSe=pSe;const dp=Nt(mSe);var Zn=function(t){return t===0?0:t>0?1:-1},su=function(t){return zu(t)&&t.indexOf("%")===t.length-1},ge=function(t){return fSe(t)&&!dp(t)},gSe=function(t){return lt(t)},en=function(t){return ge(t)||zu(t)},vSe=0,od=function(t){var r=++vSe;return"".concat(t||"").concat(r)},ei=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(t)&&!zu(t))return n;var a;if(su(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return dp(a)&&(a=n),i&&a>r&&(a=r),a},Cl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ySe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Xr=function(t,r){return ge(t)&&ge(r)?function(n){return t+n*(r-t)}:function(){return r}};function r0(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ji(n,t))===r})}var xSe=function(t,r){return ge(t)&&ge(r)?t-r:zu(t)&&zu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Sf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function zk(e){"@babel/helpers - typeof";return zk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zk(e)}var bSe=["viewBox","children"],wSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YR=["points","pathLength"],J1={svg:bSe,polygon:YR,polyline:YR},RT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],n0=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!op(n))return null;var i={};return Object.keys(n).forEach(function(a){RT.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},_Se=function(t,r,n){return function(i){return t(r,n,i),null}},Vu=function(t,r,n){if(!op(t)||zk(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];RT.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=_Se(s,r,n))}),i},jSe=["children"],SSe=["children"];function JR(e,t){if(e==null)return{};var r=NSe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vk(e){"@babel/helpers - typeof";return Vk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vk(e)}var XR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},QR=null,X1=null,DT=function e(t){if(t===QR&&Array.isArray(X1))return X1;var r=[];return y.Children.forEach(t,function(n){lt(n)||(oSe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),X1=r,QR=t,r};function Xi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Mo(i)}):n=[Mo(t)],DT(e).forEach(function(i){var a=Ji(i,"type.displayName")||Ji(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ri(e,t){var r=Xi(e,t);return r&&r[0]}var ZR=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!ge(n)||n<=0||!ge(i)||i<=0)},kSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CSe=function(t){return t&&t.type&&zu(t.type)&&kSe.indexOf(t.type)>=0},fq=function(t){return t&&Vk(t)==="object"&&"clipDot"in t},ESe=function(t,r,n,i){var a,s=(a=J1==null?void 0:J1[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Xe(t)&&(i&&s.includes(r)||wSe.includes(r))||n&&RT.includes(r)},ze=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(y.isValidElement(t)&&(i=t.props),!op(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;ESe((l=i)===null||l===void 0?void 0:l[s],s,r,n)&&(a[s]=i[s])}),a},Wk=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eD(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!eD(a,s))return!1}return!0},eD=function(t,r){if(lt(t)&&lt(r))return!0;if(!lt(t)&&!lt(r)){var n=t.props||{},i=n.children,a=JR(n,jSe),s=r.props||{},l=s.children,c=JR(s,SSe);return i&&l?Sf(a,c)&&Wk(i,l):!i&&!l?Sf(a,c):!1}return!1},tD=function(t,r){var n=[],i={};return DT(t).forEach(function(a,s){if(CSe(a))n.push(a);else if(a){var l=Mo(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,s);n.push(f),i[l]=!0}}}),n},OSe=function(t){var r=t&&t.type;return r&&XR[r]?XR[r]:null},PSe=function(t,r){return DT(r).indexOf(t)},TSe=["children","width","height","viewBox","className","style","title","desc"];function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hk.apply(this,arguments)}function ASe(e,t){if(e==null)return{};var r=MSe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qk(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=ASe(e,TSe),d=i||{width:r,height:n,x:0,y:0},f=ct("recharts-surface",a);return T.createElement("svg",Hk({},ze(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),T.createElement("title",null,l),T.createElement("desc",null,c),t)}var ISe=["children","className"];function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gk.apply(this,arguments)}function $Se(e,t){if(e==null)return{};var r=RSe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yt=T.forwardRef(function(e,t){var r=e.children,n=e.className,i=$Se(e,ISe),a=ct("recharts-layer",n);return T.createElement("g",Gk({className:a},ze(i,!0),{ref:t}),r)}),as=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function DSe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var LSe=DSe,FSe=LSe;function BSe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:FSe(e,t,r)}var USe=BSe,zSe="\\ud800-\\udfff",VSe="\\u0300-\\u036f",WSe="\\ufe20-\\ufe2f",HSe="\\u20d0-\\u20ff",qSe=VSe+WSe+HSe,GSe="\\ufe0e\\ufe0f",KSe="\\u200d",YSe=RegExp("["+KSe+zSe+qSe+GSe+"]");function JSe(e){return YSe.test(e)}var hq=JSe;function XSe(e){return e.split("")}var QSe=XSe,pq="\\ud800-\\udfff",ZSe="\\u0300-\\u036f",eNe="\\ufe20-\\ufe2f",tNe="\\u20d0-\\u20ff",rNe=ZSe+eNe+tNe,nNe="\\ufe0e\\ufe0f",iNe="["+pq+"]",Kk="["+rNe+"]",Yk="\\ud83c[\\udffb-\\udfff]",aNe="(?:"+Kk+"|"+Yk+")",mq="[^"+pq+"]",gq="(?:\\ud83c[\\udde6-\\uddff]){2}",vq="[\\ud800-\\udbff][\\udc00-\\udfff]",sNe="\\u200d",yq=aNe+"?",xq="["+nNe+"]?",oNe="(?:"+sNe+"(?:"+[mq,gq,vq].join("|")+")"+xq+yq+")*",lNe=xq+yq+oNe,cNe="(?:"+[mq+Kk+"?",Kk,gq,vq,iNe].join("|")+")",uNe=RegExp(Yk+"(?="+Yk+")|"+cNe+lNe,"g");function dNe(e){return e.match(uNe)||[]}var fNe=dNe,hNe=QSe,pNe=hq,mNe=fNe;function gNe(e){return pNe(e)?mNe(e):hNe(e)}var vNe=gNe,yNe=USe,xNe=hq,bNe=vNe,wNe=sq;function _Ne(e){return function(t){t=wNe(t);var r=xNe(t)?bNe(t):void 0,n=r?r[0]:t.charAt(0),i=r?yNe(r,1).join(""):t.slice(1);return n[e]()+i}}var jNe=_Ne,SNe=jNe,NNe=SNe("toUpperCase"),kNe=NNe;const B_=Nt(kNe);function Qt(e){return function(){return e}}const bq=Math.cos,i0=Math.sin,ws=Math.sqrt,a0=Math.PI,U_=2*a0,Jk=Math.PI,Xk=2*Jk,Gc=1e-6,CNe=Xk-Gc;function wq(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ENe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wq;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class ONe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wq:ENe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,u=i-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Gc)if(!(Math.abs(f*c-u*d)>Gc)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=i-l,m=c*c+u*u,v=p*p+g*g,b=Math.sqrt(m),x=Math.sqrt(h),w=a*Math.tan((Jk-Math.acos((m+h-v)/(2*b*x)))/2),_=w/x,N=w/b;Math.abs(_-1)>Gc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*g)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Gc||Math.abs(this._y1-d)>Gc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Xk+Xk),h>CNe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Gc&&this._append`A${n},${n},0,${+(h>=Jk)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function LT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ONe(t)}function FT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _q(e){this._context=e}_q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function z_(e){return new _q(e)}function jq(e){return e[0]}function Sq(e){return e[1]}function Nq(e,t){var r=Qt(!0),n=null,i=z_,a=null,s=LT(l);e=typeof e=="function"?e:e===void 0?jq:Qt(e),t=typeof t=="function"?t:t===void 0?Sq:Qt(t);function l(c){var u,d=(c=FT(c)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Qt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Qt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Qt(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function zy(e,t,r){var n=null,i=Qt(!0),a=null,s=z_,l=null,c=LT(u);e=typeof e=="function"?e:e===void 0?jq:Qt(+e),t=typeof t=="function"?t:Qt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Sq:Qt(+r);function u(f){var h,p,g,m=(f=FT(f)).length,v,b=!1,x,w=new Array(m),_=new Array(m);for(a==null&&(l=s(x=c())),h=0;h<=m;++h){if(!(h<m&&i(v=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return Nq().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Qt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class kq{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PNe(e){return new kq(e,!0)}function TNe(e){return new kq(e,!1)}const BT={draw(e,t){const r=ws(t/a0);e.moveTo(r,0),e.arc(0,0,r,0,U_)}},ANe={draw(e,t){const r=ws(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Cq=ws(1/3),MNe=Cq*2,INe={draw(e,t){const r=ws(t/MNe),n=r*Cq;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$Ne={draw(e,t){const r=ws(t),n=-r/2;e.rect(n,n,r,r)}},RNe=.8908130915292852,Eq=i0(a0/10)/i0(7*a0/10),DNe=i0(U_/10)*Eq,LNe=-bq(U_/10)*Eq,FNe={draw(e,t){const r=ws(t*RNe),n=DNe*r,i=LNe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=U_*a/5,l=bq(s),c=i0(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Q1=ws(3),BNe={draw(e,t){const r=-ws(t/(Q1*3));e.moveTo(0,r*2),e.lineTo(-Q1*r,-r),e.lineTo(Q1*r,-r),e.closePath()}},sa=-.5,oa=ws(3)/2,Qk=1/ws(12),UNe=(Qk/2+1)*3,zNe={draw(e,t){const r=ws(t/UNe),n=r/2,i=r*Qk,a=n,s=r*Qk+r,l=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(sa*n-oa*i,oa*n+sa*i),e.lineTo(sa*a-oa*s,oa*a+sa*s),e.lineTo(sa*l-oa*c,oa*l+sa*c),e.lineTo(sa*n+oa*i,sa*i-oa*n),e.lineTo(sa*a+oa*s,sa*s-oa*a),e.lineTo(sa*l+oa*c,sa*c-oa*l),e.closePath()}};function VNe(e,t){let r=null,n=LT(i);e=typeof e=="function"?e:Qt(e||BT),t=typeof t=="function"?t:Qt(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Qt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Qt(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function s0(){}function o0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Oq(e){this._context=e}Oq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:o0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:o0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WNe(e){return new Oq(e)}function Pq(e){this._context=e}Pq.prototype={areaStart:s0,areaEnd:s0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:o0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HNe(e){return new Pq(e)}function Tq(e){this._context=e}Tq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:o0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qNe(e){return new Tq(e)}function Aq(e){this._context=e}Aq.prototype={areaStart:s0,areaEnd:s0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function GNe(e){return new Aq(e)}function rD(e){return e<0?-1:1}function nD(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(rD(a)+rD(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function iD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Z1(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function l0(e){this._context=e}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Z1(this,this._t0,iD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Z1(this,iD(this,r=nD(this,e,t)),r);break;default:Z1(this,this._t0,r=nD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Mq(e){this._context=new Iq(e)}(Mq.prototype=Object.create(l0.prototype)).point=function(e,t){l0.prototype.point.call(this,t,e)};function Iq(e){this._context=e}Iq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function KNe(e){return new l0(e)}function YNe(e){return new Mq(e)}function $q(e){this._context=e}$q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=aD(e),i=aD(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aD(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function JNe(e){return new $q(e)}function V_(e,t){this._context=e,this._t=t}V_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function XNe(e){return new V_(e,.5)}function QNe(e){return new V_(e,0)}function ZNe(e){return new V_(e,1)}function ch(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,l=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Zk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function eke(e,t){return e[t]}function tke(e){const t=[];return t.key=e,t}function rke(){var e=Qt([]),t=Zk,r=ch,n=eke;function i(a){var s=Array.from(e.apply(this,arguments),tke),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,a)]).data=f;for(l=0,d=FT(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Qt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Qt(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Zk:typeof a=="function"?a:Qt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ch,i):r},i}function nke(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}ch(e,t)}}function ike(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}ch(e,t)}}function ake(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,b=m[n-1][1]||0;p+=v-b}c+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,ch(e,t)}}function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}var ske=["type","size","sizeType"];function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eC.apply(this,arguments)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){oke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oke(e,t,r){return t=lke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lke(e){var t=cke(e,"string");return Eg(t)=="symbol"?t:t+""}function cke(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uke(e,t){if(e==null)return{};var r=dke(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Rq={symbolCircle:BT,symbolCross:ANe,symbolDiamond:INe,symbolSquare:$Ne,symbolStar:FNe,symbolTriangle:BNe,symbolWye:zNe},fke=Math.PI/180,hke=function(t){var r="symbol".concat(B_(t));return Rq[r]||BT},pke=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*fke;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mke=function(t,r){Rq["symbol".concat(B_(t))]=r},UT=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=uke(t,ske),u=oD(oD({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=hke(n),b=VNe().type(v).size(pke(a,l,n));return b()},f=u.className,h=u.cx,p=u.cy,g=ze(u,!0);return h===+h&&p===+p&&a===+a?T.createElement("path",eC({},g,{className:ct("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};UT.registerSymbol=mke;function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tC.apply(this,arguments)}function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){Og(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lq(n.key),n)}}function xke(e,t,r){return t&&yke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bke(e,t,r){return t=c0(t),wke(e,Dq()?Reflect.construct(t,r||[],c0(e).constructor):t.apply(e,r))}function wke(e,t){if(t&&(uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ke(e)}function _ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!e})()}function c0(e){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c0(e)}function jke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rC(e,t)}function rC(e,t){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rC(e,t)}function Og(e,t,r){return t=Lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=Ske(e,"string");return uh(t)=="symbol"?t:t+""}function Ske(e,t){if(uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var la=32,zT=function(e){function t(){return vke(this,t),bke(this,t,arguments)}return jke(t,e),xke(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=la/2,s=la/6,l=la/3,c=n.inactive?i:n.color;if(n.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:la,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(la,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(la/8,"h").concat(la,"v").concat(la*3/4,"h").concat(-la,"z"),className:"recharts-legend-icon"});if(T.isValidElement(n.legendIcon)){var u=gke({},n);return delete u.legendIcon,T.cloneElement(n.legendIcon,u)}return T.createElement(UT,{fill:c,cx:a,cy:a,size:la,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:la,height:la},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var m=p.formatter||c,v=ct(Og(Og({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Xe(p.value)?null:p.value;as(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return T.createElement("li",tC({className:v,style:f,key:"legend-item-".concat(g)},Vu(n.props,p,g)),T.createElement(qk,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);Og(zT,"displayName","Legend");Og(zT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Nke=C_;function kke(){this.__data__=new Nke,this.size=0}var Cke=kke;function Eke(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Oke=Eke;function Pke(e){return this.__data__.get(e)}var Tke=Pke;function Ake(e){return this.__data__.has(e)}var Mke=Ake,Ike=C_,$ke=OT,Rke=PT,Dke=200;function Lke(e,t){var r=this.__data__;if(r instanceof Ike){var n=r.__data__;if(!$ke||n.length<Dke-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Rke(n)}return r.set(e,t),this.size=r.size,this}var Fke=Lke,Bke=C_,Uke=Cke,zke=Oke,Vke=Tke,Wke=Mke,Hke=Fke;function fp(e){var t=this.__data__=new Bke(e);this.size=t.size}fp.prototype.clear=Uke;fp.prototype.delete=zke;fp.prototype.get=Vke;fp.prototype.has=Wke;fp.prototype.set=Hke;var Fq=fp,qke="__lodash_hash_undefined__";function Gke(e){return this.__data__.set(e,qke),this}var Kke=Gke;function Yke(e){return this.__data__.has(e)}var Jke=Yke,Xke=PT,Qke=Kke,Zke=Jke;function u0(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Xke;++t<r;)this.add(e[t])}u0.prototype.add=u0.prototype.push=Qke;u0.prototype.has=Zke;var Bq=u0;function eCe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Uq=eCe;function tCe(e,t){return e.has(t)}var zq=tCe,rCe=Bq,nCe=Uq,iCe=zq,aCe=1,sCe=2;function oCe(e,t,r,n,i,a){var s=r&aCe,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&sCe?new rCe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,a):n(g,m,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!nCe(t,function(b,x){if(!iCe(p,x)&&(g===b||i(g,b,r,n,a)))return p.push(x)})){h=!1;break}}else if(!(g===m||i(g,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var Vq=oCe,lCe=ao,cCe=lCe.Uint8Array,uCe=cCe;function dCe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var fCe=dCe;function hCe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var VT=hCe,cD=Wv,uD=uCe,pCe=ET,mCe=Vq,gCe=fCe,vCe=VT,yCe=1,xCe=2,bCe="[object Boolean]",wCe="[object Date]",_Ce="[object Error]",jCe="[object Map]",SCe="[object Number]",NCe="[object RegExp]",kCe="[object Set]",CCe="[object String]",ECe="[object Symbol]",OCe="[object ArrayBuffer]",PCe="[object DataView]",dD=cD?cD.prototype:void 0,eS=dD?dD.valueOf:void 0;function TCe(e,t,r,n,i,a,s){switch(r){case PCe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case OCe:return!(e.byteLength!=t.byteLength||!a(new uD(e),new uD(t)));case bCe:case wCe:case SCe:return pCe(+e,+t);case _Ce:return e.name==t.name&&e.message==t.message;case NCe:case CCe:return e==t+"";case jCe:var l=gCe;case kCe:var c=n&yCe;if(l||(l=vCe),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=xCe,s.set(e,t);var d=mCe(l(e),l(t),n,i,a,s);return s.delete(e),d;case ECe:if(eS)return eS.call(e)==eS.call(t)}return!1}var ACe=TCe;function MCe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Wq=MCe,ICe=Wq,$Ce=ki;function RCe(e,t,r){var n=t(e);return $Ce(e)?n:ICe(n,r(e))}var DCe=RCe;function LCe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var FCe=LCe;function BCe(){return[]}var UCe=BCe,zCe=FCe,VCe=UCe,WCe=Object.prototype,HCe=WCe.propertyIsEnumerable,fD=Object.getOwnPropertySymbols,qCe=fD?function(e){return e==null?[]:(e=Object(e),zCe(fD(e),function(t){return HCe.call(e,t)}))}:VCe,GCe=qCe;function KCe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var YCe=KCe,JCe=tl,XCe=rl,QCe="[object Arguments]";function ZCe(e){return XCe(e)&&JCe(e)==QCe}var eEe=ZCe,hD=eEe,tEe=rl,Hq=Object.prototype,rEe=Hq.hasOwnProperty,nEe=Hq.propertyIsEnumerable,iEe=hD(function(){return arguments}())?hD:function(e){return tEe(e)&&rEe.call(e,"callee")&&!nEe.call(e,"callee")},WT=iEe,d0={exports:{}};function aEe(){return!1}var sEe=aEe;d0.exports;(function(e,t){var r=ao,n=sEe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(d0,d0.exports);var qq=d0.exports,oEe=9007199254740991,lEe=/^(?:0|[1-9]\d*)$/;function cEe(e,t){var r=typeof e;return t=t??oEe,!!t&&(r=="number"||r!="symbol"&&lEe.test(e))&&e>-1&&e%1==0&&e<t}var HT=cEe,uEe=9007199254740991;function dEe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=uEe}var qT=dEe,fEe=tl,hEe=qT,pEe=rl,mEe="[object Arguments]",gEe="[object Array]",vEe="[object Boolean]",yEe="[object Date]",xEe="[object Error]",bEe="[object Function]",wEe="[object Map]",_Ee="[object Number]",jEe="[object Object]",SEe="[object RegExp]",NEe="[object Set]",kEe="[object String]",CEe="[object WeakMap]",EEe="[object ArrayBuffer]",OEe="[object DataView]",PEe="[object Float32Array]",TEe="[object Float64Array]",AEe="[object Int8Array]",MEe="[object Int16Array]",IEe="[object Int32Array]",$Ee="[object Uint8Array]",REe="[object Uint8ClampedArray]",DEe="[object Uint16Array]",LEe="[object Uint32Array]",sr={};sr[PEe]=sr[TEe]=sr[AEe]=sr[MEe]=sr[IEe]=sr[$Ee]=sr[REe]=sr[DEe]=sr[LEe]=!0;sr[mEe]=sr[gEe]=sr[EEe]=sr[vEe]=sr[OEe]=sr[yEe]=sr[xEe]=sr[bEe]=sr[wEe]=sr[_Ee]=sr[jEe]=sr[SEe]=sr[NEe]=sr[kEe]=sr[CEe]=!1;function FEe(e){return pEe(e)&&hEe(e.length)&&!!sr[fEe(e)]}var BEe=FEe;function UEe(e){return function(t){return e(t)}}var Gq=UEe,f0={exports:{}};f0.exports;(function(e,t){var r=eq,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(f0,f0.exports);var zEe=f0.exports,VEe=BEe,WEe=Gq,pD=zEe,mD=pD&&pD.isTypedArray,HEe=mD?WEe(mD):VEe,Kq=HEe,qEe=YCe,GEe=WT,KEe=ki,YEe=qq,JEe=HT,XEe=Kq,QEe=Object.prototype,ZEe=QEe.hasOwnProperty;function eOe(e,t){var r=KEe(e),n=!r&&GEe(e),i=!r&&!n&&YEe(e),a=!r&&!n&&!i&&XEe(e),s=r||n||i||a,l=s?qEe(e.length,String):[],c=l.length;for(var u in e)(t||ZEe.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||JEe(u,c)))&&l.push(u);return l}var tOe=eOe,rOe=Object.prototype;function nOe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||rOe;return e===r}var iOe=nOe;function aOe(e,t){return function(r){return e(t(r))}}var Yq=aOe,sOe=Yq,oOe=sOe(Object.keys,Object),lOe=oOe,cOe=iOe,uOe=lOe,dOe=Object.prototype,fOe=dOe.hasOwnProperty;function hOe(e){if(!cOe(e))return uOe(e);var t=[];for(var r in Object(e))fOe.call(e,r)&&r!="constructor"&&t.push(r);return t}var pOe=hOe,mOe=CT,gOe=qT;function vOe(e){return e!=null&&gOe(e.length)&&!mOe(e)}var Hv=vOe,yOe=tOe,xOe=pOe,bOe=Hv;function wOe(e){return bOe(e)?yOe(e):xOe(e)}var W_=wOe,_Oe=DCe,jOe=GCe,SOe=W_;function NOe(e){return _Oe(e,SOe,jOe)}var kOe=NOe,gD=kOe,COe=1,EOe=Object.prototype,OOe=EOe.hasOwnProperty;function POe(e,t,r,n,i,a){var s=r&COe,l=gD(e),c=l.length,u=gD(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in t:OOe.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);for(var v=s;++f<c;){h=l[f];var b=e[h],x=t[h];if(n)var w=s?n(x,b,h,t,e,a):n(b,x,h,e,t,a);if(!(w===void 0?b===x||i(b,x,r,n,a):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,N=t.constructor;_!=N&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof N=="function"&&N instanceof N)&&(m=!1)}return a.delete(e),a.delete(t),m}var TOe=POe,AOe=sd,MOe=ao,IOe=AOe(MOe,"DataView"),$Oe=IOe,ROe=sd,DOe=ao,LOe=ROe(DOe,"Promise"),FOe=LOe,BOe=sd,UOe=ao,zOe=BOe(UOe,"Set"),Jq=zOe,VOe=sd,WOe=ao,HOe=VOe(WOe,"WeakMap"),qOe=HOe,nC=$Oe,iC=OT,aC=FOe,sC=Jq,oC=qOe,Xq=tl,hp=rq,vD="[object Map]",GOe="[object Object]",yD="[object Promise]",xD="[object Set]",bD="[object WeakMap]",wD="[object DataView]",KOe=hp(nC),YOe=hp(iC),JOe=hp(aC),XOe=hp(sC),QOe=hp(oC),Kc=Xq;(nC&&Kc(new nC(new ArrayBuffer(1)))!=wD||iC&&Kc(new iC)!=vD||aC&&Kc(aC.resolve())!=yD||sC&&Kc(new sC)!=xD||oC&&Kc(new oC)!=bD)&&(Kc=function(e){var t=Xq(e),r=t==GOe?e.constructor:void 0,n=r?hp(r):"";if(n)switch(n){case KOe:return wD;case YOe:return vD;case JOe:return yD;case XOe:return xD;case QOe:return bD}return t});var ZOe=Kc,tS=Fq,ePe=Vq,tPe=ACe,rPe=TOe,_D=ZOe,jD=ki,SD=qq,nPe=Kq,iPe=1,ND="[object Arguments]",kD="[object Array]",Vy="[object Object]",aPe=Object.prototype,CD=aPe.hasOwnProperty;function sPe(e,t,r,n,i,a){var s=jD(e),l=jD(t),c=s?kD:_D(e),u=l?kD:_D(t);c=c==ND?Vy:c,u=u==ND?Vy:u;var d=c==Vy,f=u==Vy,h=c==u;if(h&&SD(e)){if(!SD(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new tS),s||nPe(e)?ePe(e,t,r,n,i,a):tPe(e,t,c,r,n,i,a);if(!(r&iPe)){var p=d&&CD.call(e,"__wrapped__"),g=f&&CD.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return a||(a=new tS),i(m,v,r,n,a)}}return h?(a||(a=new tS),rPe(e,t,r,n,i,a)):!1}var oPe=sPe,lPe=oPe,ED=rl;function Qq(e,t,r,n,i){return e===t?!0:e==null||t==null||!ED(e)&&!ED(t)?e!==e&&t!==t:lPe(e,t,r,n,Qq,i)}var GT=Qq,cPe=Fq,uPe=GT,dPe=1,fPe=2;function hPe(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new cPe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?uPe(d,u,dPe|fPe,n,f):h))return!1}}return!0}var pPe=hPe,mPe=_c;function gPe(e){return e===e&&!mPe(e)}var Zq=gPe,vPe=Zq,yPe=W_;function xPe(e){for(var t=yPe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,vPe(i)]}return t}var bPe=xPe;function wPe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var eG=wPe,_Pe=pPe,jPe=bPe,SPe=eG;function NPe(e){var t=jPe(e);return t.length==1&&t[0][2]?SPe(t[0][0],t[0][1]):function(r){return r===e||_Pe(r,e,t)}}var kPe=NPe;function CPe(e,t){return e!=null&&t in Object(e)}var EPe=CPe,OPe=oq,PPe=WT,TPe=ki,APe=HT,MPe=qT,IPe=O_;function $Pe(e,t,r){t=OPe(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=IPe(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&MPe(i)&&APe(s,i)&&(TPe(e)||PPe(e)))}var RPe=$Pe,DPe=EPe,LPe=RPe;function FPe(e,t){return e!=null&&LPe(e,t,DPe)}var BPe=FPe,UPe=GT,zPe=lq,VPe=BPe,WPe=kT,HPe=Zq,qPe=eG,GPe=O_,KPe=1,YPe=2;function JPe(e,t){return WPe(e)&&HPe(t)?qPe(GPe(e),t):function(r){var n=zPe(r,e);return n===void 0&&n===t?VPe(r,e):UPe(t,n,KPe|YPe)}}var XPe=JPe;function QPe(e){return e}var pp=QPe;function ZPe(e){return function(t){return t==null?void 0:t[e]}}var eTe=ZPe,tTe=MT;function rTe(e){return function(t){return tTe(t,e)}}var nTe=rTe,iTe=eTe,aTe=nTe,sTe=kT,oTe=O_;function lTe(e){return sTe(e)?iTe(oTe(e)):aTe(e)}var cTe=lTe,uTe=kPe,dTe=XPe,fTe=pp,hTe=ki,pTe=cTe;function mTe(e){return typeof e=="function"?e:e==null?fTe:typeof e=="object"?hTe(e)?dTe(e[0],e[1]):uTe(e):pTe(e)}var so=mTe;function gTe(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var tG=gTe;function vTe(e){return e!==e}var yTe=vTe;function xTe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var bTe=xTe,wTe=tG,_Te=yTe,jTe=bTe;function STe(e,t,r){return t===t?jTe(e,t,r):wTe(e,_Te,r)}var NTe=STe,kTe=NTe;function CTe(e,t){var r=e==null?0:e.length;return!!r&&kTe(e,t,0)>-1}var ETe=CTe;function OTe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var PTe=OTe;function TTe(){}var ATe=TTe,rS=Jq,MTe=ATe,ITe=VT,$Te=1/0,RTe=rS&&1/ITe(new rS([,-0]))[1]==$Te?function(e){return new rS(e)}:MTe,DTe=RTe,LTe=Bq,FTe=ETe,BTe=PTe,UTe=zq,zTe=DTe,VTe=VT,WTe=200;function HTe(e,t,r){var n=-1,i=FTe,a=e.length,s=!0,l=[],c=l;if(r)s=!1,i=BTe;else if(a>=WTe){var u=t?null:zTe(e);if(u)return VTe(u);s=!1,i=UTe,c=new LTe}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var qTe=HTe,GTe=so,KTe=qTe;function YTe(e,t){return e&&e.length?KTe(e,GTe(t)):[]}var JTe=YTe;const OD=Nt(JTe);function rG(e,t,r){return t===!0?OD(e,r):Xe(t)?OD(e,t):e}function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}var XTe=["ref"];function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){H_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iG(n.key),n)}}function ZTe(e,t,r){return t&&TD(e.prototype,t),r&&TD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eAe(e,t,r){return t=h0(t),tAe(e,nG()?Reflect.construct(t,r||[],h0(e).constructor):t.apply(e,r))}function tAe(e,t){if(t&&(dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rAe(e)}function rAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nG=function(){return!!e})()}function h0(e){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h0(e)}function nAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lC(e,t)}function lC(e,t){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lC(e,t)}function H_(e,t,r){return t=iG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=iAe(e,"string");return dh(t)=="symbol"?t:t+""}function iAe(e,t){if(dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aAe(e,t){if(e==null)return{};var r=sAe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oAe(e){return e.value}function lAe(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var r=aAe(t,XTe);return T.createElement(zT,r)}var AD=1,Io=function(e){function t(){var r;QTe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=eAe(this,t,[].concat(i)),H_(r,"lastBoundingBox",{width:-1,height:-1}),r}return nAe(t,e),ZTe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>AD||Math.abs(i.height-this.lastBoundingBox.height)>AD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fo(fo({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=fo(fo({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return T.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},lAe(a,fo(fo({},this.props),{},{payload:rG(d,u,oAe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=fo(fo({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ge(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(y.PureComponent);H_(Io,"displayName","Legend");H_(Io,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var MD=Wv,cAe=WT,uAe=ki,ID=MD?MD.isConcatSpreadable:void 0;function dAe(e){return uAe(e)||cAe(e)||!!(ID&&e&&e[ID])}var fAe=dAe,hAe=Wq,pAe=fAe;function aG(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=pAe),i||(i=[]);++a<s;){var l=e[a];t>0&&r(l)?t>1?aG(l,t-1,r,n,i):hAe(i,l):n||(i[i.length]=l)}return i}var sG=aG;function mAe(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var gAe=mAe,vAe=gAe,yAe=vAe(),xAe=yAe,bAe=xAe,wAe=W_;function _Ae(e,t){return e&&bAe(e,t,wAe)}var oG=_Ae,jAe=Hv;function SAe(e,t){return function(r,n){if(r==null)return r;if(!jAe(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var NAe=SAe,kAe=oG,CAe=NAe,EAe=CAe(kAe),KT=EAe,OAe=KT,PAe=Hv;function TAe(e,t){var r=-1,n=PAe(e)?Array(e.length):[];return OAe(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var lG=TAe;function AAe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var MAe=AAe,$D=sp;function IAe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=$D(e),s=t!==void 0,l=t===null,c=t===t,u=$D(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!c)return-1}return 0}var $Ae=IAe,RAe=$Ae;function DAe(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,l=r.length;++n<s;){var c=RAe(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var LAe=DAe,nS=AT,FAe=MT,BAe=so,UAe=lG,zAe=MAe,VAe=Gq,WAe=LAe,HAe=pp,qAe=ki;function GAe(e,t,r){t.length?t=nS(t,function(a){return qAe(a)?function(s){return FAe(s,a.length===1?a[0]:a)}:a}):t=[HAe];var n=-1;t=nS(t,VAe(BAe));var i=UAe(e,function(a,s,l){var c=nS(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return zAe(i,function(a,s){return WAe(a,s,r)})}var KAe=GAe;function YAe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var JAe=YAe,XAe=JAe,RD=Math.max;function QAe(e,t,r){return t=RD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=RD(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(s),XAe(e,this,l)}}var ZAe=QAe;function e2e(e){return function(){return e}}var t2e=e2e,r2e=sd,n2e=function(){try{var e=r2e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cG=n2e,i2e=t2e,DD=cG,a2e=pp,s2e=DD?function(e,t){return DD(e,"toString",{configurable:!0,enumerable:!1,value:i2e(t),writable:!0})}:a2e,o2e=s2e,l2e=800,c2e=16,u2e=Date.now;function d2e(e){var t=0,r=0;return function(){var n=u2e(),i=c2e-(n-r);if(r=n,i>0){if(++t>=l2e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var f2e=d2e,h2e=o2e,p2e=f2e,m2e=p2e(h2e),g2e=m2e,v2e=pp,y2e=ZAe,x2e=g2e;function b2e(e,t){return x2e(y2e(e,t,v2e),e+"")}var w2e=b2e,_2e=ET,j2e=Hv,S2e=HT,N2e=_c;function k2e(e,t,r){if(!N2e(r))return!1;var n=typeof t;return(n=="number"?j2e(r)&&S2e(t,r.length):n=="string"&&t in r)?_2e(r[t],e):!1}var q_=k2e,C2e=sG,E2e=KAe,O2e=w2e,LD=q_,P2e=O2e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&LD(e,t[0],t[1])?t=[]:r>2&&LD(t[0],t[1],t[2])&&(t=[t[0]]),E2e(e,C2e(t,1),[])}),T2e=P2e;const YT=Nt(T2e);function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function cC(){return cC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cC.apply(this,arguments)}function A2e(e,t){return R2e(e)||$2e(e,t)||I2e(e,t)||M2e()}function M2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I2e(e,t){if(e){if(typeof e=="string")return FD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FD(e,t)}}function FD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function R2e(e){if(Array.isArray(e))return e}function BD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BD(Object(r),!0).forEach(function(n){D2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D2e(e,t,r){return t=L2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L2e(e){var t=F2e(e,"string");return Pg(t)=="symbol"?t:t+""}function F2e(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B2e(e){return Array.isArray(e)&&en(e[0])&&en(e[1])?e.join(" ~ "):e}var U2e=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var M={padding:0,margin:0},z=(h?YT(d,h):d).map(function(L,V){if(L.type==="none")return null;var D=iS({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),U=L.formatter||f||B2e,I=L.value,F=L.name,G=I,ne=F;if(U&&G!=null&&ne!=null){var Z=U(I,F,L,V,d);if(Array.isArray(Z)){var S=A2e(Z,2);G=S[0],ne=S[1]}else G=Z}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:D},en(ne)?T.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,en(ne)?T.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,T.createElement("span",{className:"recharts-tooltip-item-value"},G),T.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:M},z)}return null},_=iS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=iS({margin:0},u),j=!lt(m),k=j?m:"",O=ct("recharts-default-tooltip",p),P=ct("recharts-tooltip-label",g);j&&v&&d!==void 0&&d!==null&&(k=v(m,d));var A=x?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",cC({className:O,style:_},A),T.createElement("p",{className:P,style:N},T.isValidElement(k)?k:"".concat(k)),w())};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function Wy(e,t,r){return t=z2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z2e(e){var t=V2e(e,"string");return Tg(t)=="symbol"?t:t+""}function V2e(e,t){if(Tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hp="recharts-tooltip-wrapper",W2e={visibility:"hidden"};function H2e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ct(Hp,Wy(Wy(Wy(Wy({},"".concat(Hp,"-right"),ge(r)&&t&&ge(t.x)&&r>=t.x),"".concat(Hp,"-left"),ge(r)&&t&&ge(t.x)&&r<t.x),"".concat(Hp,"-bottom"),ge(n)&&t&&ge(t.y)&&n>=t.y),"".concat(Hp,"-top"),ge(n)&&t&&ge(t.y)&&n<t.y))}function UD(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&ge(a[n]))return a[n];var d=r[n]-l-i,f=r[n]+i;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function q2e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function G2e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=UD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=UD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=q2e({translateX:d,translateY:f,useTranslate3d:l})):u=W2e,{cssProperties:u,cssClasses:H2e({translateX:d,translateY:f,coordinate:r})}}function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){dC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dG(n.key),n)}}function J2e(e,t,r){return t&&Y2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X2e(e,t,r){return t=p0(t),Q2e(e,uG()?Reflect.construct(t,r||[],p0(e).constructor):t.apply(e,r))}function Q2e(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z2e(e)}function Z2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uG=function(){return!!e})()}function p0(e){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(e)}function eMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uC(e,t)}function uC(e,t){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uC(e,t)}function dC(e,t,r){return t=dG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=tMe(e,"string");return fh(t)=="symbol"?t:t+""}function tMe(e,t){if(fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WD=1,rMe=function(e){function t(){var r;K2e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=X2e(this,t,[].concat(i)),dC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dC(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return eMe(t,e),J2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WD||Math.abs(n.height-this.state.lastBoundingBox.height)>WD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,w=G2e({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=w.cssClasses,N=w.cssProperties,j=VD(VD({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return T.createElement("div",{tabIndex:-1,className:_,style:j,ref:function(O){n.wrapperNode=O}},u)}}])}(y.PureComponent),nMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jc={isSsr:nMe()};function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){JT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hG(n.key),n)}}function sMe(e,t,r){return t&&aMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oMe(e,t,r){return t=m0(t),lMe(e,fG()?Reflect.construct(t,r||[],m0(e).constructor):t.apply(e,r))}function lMe(e,t){if(t&&(hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cMe(e)}function cMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fG=function(){return!!e})()}function m0(e){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m0(e)}function uMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fC(e,t)}function fC(e,t){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fC(e,t)}function JT(e,t,r){return t=hG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=dMe(e,"string");return hh(t)=="symbol"?t:t+""}function dMe(e,t){if(hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fMe(e){return e.dataKey}function hMe(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(U2e,t)}var Li=function(e){function t(){return iMe(this,t),oMe(this,t,arguments)}return uMe(t,e),sMe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,N=g??[];f&&N.length&&(N=rG(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,fMe));var j=N.length>0;return T.createElement(rMe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:j,offset:p,position:v,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:_},hMe(u,qD(qD({},this.props),{},{payload:N})))}}])}(y.PureComponent);JT(Li,"displayName","Tooltip");JT(Li,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pMe=ao,mMe=function(){return pMe.Date.now()},gMe=mMe,vMe=/\s/;function yMe(e){for(var t=e.length;t--&&vMe.test(e.charAt(t)););return t}var xMe=yMe,bMe=xMe,wMe=/^\s+/;function _Me(e){return e&&e.slice(0,bMe(e)+1).replace(wMe,"")}var jMe=_Me,SMe=jMe,GD=_c,NMe=sp,KD=NaN,kMe=/^[-+]0x[0-9a-f]+$/i,CMe=/^0b[01]+$/i,EMe=/^0o[0-7]+$/i,OMe=parseInt;function PMe(e){if(typeof e=="number")return e;if(NMe(e))return KD;if(GD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=GD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=SMe(e);var r=CMe.test(e);return r||EMe.test(e)?OMe(e.slice(2),r?2:8):kMe.test(e)?KD:+e}var pG=PMe,TMe=_c,aS=gMe,YD=pG,AMe="Expected a function",MMe=Math.max,IMe=Math.min;function $Me(e,t,r){var n,i,a,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(AMe);t=YD(t)||0,TMe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?MMe(YD(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function p(j){var k=n,O=i;return n=i=void 0,u=j,s=e.apply(O,k),s}function g(j){return u=j,l=setTimeout(b,t),d?p(j):s}function m(j){var k=j-c,O=j-u,P=t-k;return f?IMe(P,a-O):P}function v(j){var k=j-c,O=j-u;return c===void 0||k>=t||k<0||f&&O>=a}function b(){var j=aS();if(v(j))return x(j);l=setTimeout(b,m(j))}function x(j){return l=void 0,h&&n?p(j):(n=i=void 0,s)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function _(){return l===void 0?s:x(aS())}function N(){var j=aS(),k=v(j);if(n=arguments,i=this,c=j,k){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),s}return N.cancel=w,N.flush=_,N}var RMe=$Me,DMe=RMe,LMe=_c,FMe="Expected a function";function BMe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(FMe);return LMe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),DMe(e,t,{leading:n,maxWait:t,trailing:i})}var UMe=BMe;const mG=Nt(UMe);function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(n){zMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zMe(e,t,r){return t=VMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VMe(e){var t=WMe(e,"string");return Ag(t)=="symbol"?t:t+""}function WMe(e,t){if(Ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HMe(e,t){return YMe(e)||KMe(e,t)||GMe(e,t)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GMe(e,t){if(e){if(typeof e=="string")return XD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XD(e,t)}}function XD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function YMe(e){if(Array.isArray(e))return e}var G_=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,b=e.className,x=e.onResize,w=e.style,_=w===void 0?{}:w,N=y.useRef(null),j=y.useRef();j.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var k=y.useState({containerWidth:i.width,containerHeight:i.height}),O=HMe(k,2),P=O[0],A=O[1],$=y.useCallback(function(z,L){A(function(V){var D=Math.round(z),U=Math.round(L);return V.containerWidth===D&&V.containerHeight===U?V:{containerWidth:D,containerHeight:U}})},[]);y.useEffect(function(){var z=function(F){var G,ne=F[0].contentRect,Z=ne.width,S=ne.height;$(Z,S),(G=j.current)===null||G===void 0||G.call(j,Z,S)};m>0&&(z=mG(z,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(z),V=N.current.getBoundingClientRect(),D=V.width,U=V.height;return $(D,U),L.observe(N.current),function(){L.disconnect()}},[$,m]);var M=y.useMemo(function(){var z=P.containerWidth,L=P.containerHeight;if(z<0||L<0)return null;as(su(s)||su(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),as(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=su(s)?z:s,D=su(c)?L:c;r&&r>0&&(V?D=V/r:D&&(V=D*r),h&&D>h&&(D=h)),as(V>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,D,s,c,d,f,r);var U=!Array.isArray(p)&&Mo(p.type).endsWith("Chart");return T.Children.map(p,function(I){return T.isValidElement(I)?y.cloneElement(I,Hy({width:V,height:D},U?{style:Hy({height:"100%",width:"100%",maxHeight:D,maxWidth:V},I.props.style)}:{})):I})},[r,p,c,h,f,d,P,s]);return T.createElement("div",{id:v?"".concat(v):void 0,className:ct("recharts-responsive-container",b),style:Hy(Hy({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},M)}),qv=function(t){return null};qv.displayName="Cell";function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){JMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JMe(e,t,r){return t=XMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XMe(e){var t=QMe(e,"string");return Mg(t)=="symbol"?t:t+""}function QMe(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Od={widthCache:{},cacheCount:0},ZMe=2e3,eIe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZD="recharts_measurement_span";function tIe(e){var t=hC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Pm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||jc.isSsr)return{width:0,height:0};var n=tIe(r),i=JSON.stringify({text:t,copyStyle:n});if(Od.widthCache[i])return Od.widthCache[i];try{var a=document.getElementById(ZD);a||(a=document.createElement("span"),a.setAttribute("id",ZD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=hC(hC({},eIe),n);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Od.widthCache[i]=c,++Od.cacheCount>ZMe&&(Od.cacheCount=0,Od.widthCache={}),c}catch{return{width:0,height:0}}},rIe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function g0(e,t){return sIe(e)||aIe(e,t)||iIe(e,t)||nIe()}function nIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iIe(e,t){if(e){if(typeof e=="string")return e4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e4(e,t)}}function e4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function sIe(e){if(Array.isArray(e))return e}function oIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cIe(n.key),n)}}function lIe(e,t,r){return t&&t4(e.prototype,t),r&&t4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cIe(e){var t=uIe(e,"string");return Ig(t)=="symbol"?t:t+""}function uIe(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var r4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hIe=Object.keys(gG),nf="NaN";function pIe(e,t){return e*gG[t]}var qy=function(){function e(t,r){oIe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!dIe.test(r)&&(this.num=NaN,this.unit=""),hIe.includes(r)&&(this.num=pIe(t,r),this.unit="px")}return lIe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=fIe.exec(r))!==null&&n!==void 0?n:[],a=g0(i,3),s=a[1],l=a[2];return new e(parseFloat(s),l??"")}}])}();function vG(e){if(e.includes(nf))return nf;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=r4.exec(t))!==null&&r!==void 0?r:[],i=g0(n,4),a=i[1],s=i[2],l=i[3],c=qy.parse(a??""),u=qy.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return nf;t=t.replace(r4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=n4.exec(t))!==null&&f!==void 0?f:[],p=g0(h,4),g=p[1],m=p[2],v=p[3],b=qy.parse(g??""),x=qy.parse(v??""),w=m==="+"?b.add(x):b.subtract(x);if(w.isNaN())return nf;t=t.replace(n4,w.toString())}return t}var i4=/\(([^()]*)\)/;function mIe(e){for(var t=e;t.includes("(");){var r=i4.exec(t),n=g0(r,2),i=n[1];t=t.replace(i4,vG(i))}return t}function gIe(e){var t=e.replace(/\s+/g,"");return t=mIe(t),t=vG(t),t}function vIe(e){try{return gIe(e)}catch{return nf}}function sS(e){var t=vIe(e.slice(5,-1));return t===nf?"":t}var yIe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xIe=["dx","dy","angle","className","breakAll"];function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pC.apply(this,arguments)}function a4(e,t){if(e==null)return{};var r=bIe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function s4(e,t){return SIe(e)||jIe(e,t)||_Ie(e,t)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ie(e,t){if(e){if(typeof e=="string")return o4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o4(e,t)}}function o4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function SIe(e){if(Array.isArray(e))return e}var yG=/[ \f\n\r\t\v\u2028\u2029]+/,xG=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];lt(r)||(n?a=r.toString().split(""):a=r.toString().split(yG));var s=a.map(function(c){return{word:c,width:Pm(c,i).width}}),l=n?0:Pm("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},NIe=function(t,r,n,i,a){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ge(s),f=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(D,U){var I=U.word,F=U.width,G=D[D.length-1];if(G&&(i==null||a||G.width+F+n<Number(i)))G.words.push(I),G.width+=F+n;else{var ne={words:[I],width:F};D.push(ne)}return D},[])},p=h(r),g=function(V){return V.reduce(function(D,U){return D.width>U.width?D:U})};if(!d)return p;for(var m="",v=function(V){var D=f.slice(0,V),U=xG({breakAll:u,style:c,children:D+m}).wordsWithComputedWidth,I=h(U),F=I.length>s||g(I).width>Number(i);return[F,I]},b=0,x=f.length-1,w=0,_;b<=x&&w<=f.length-1;){var N=Math.floor((b+x)/2),j=N-1,k=v(j),O=s4(k,2),P=O[0],A=O[1],$=v(N),M=s4($,1),z=M[0];if(!P&&!z&&(b=N+1),P&&z&&(x=N-1),!P&&z){_=A;break}w++}return _||p},l4=function(t){var r=lt(t)?[]:t.toString().split(yG);return[{words:r}]},kIe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!jc.isSsr){var c,u,d=xG({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return l4(i);return NIe({breakAll:s,children:i,maxLines:l,style:a},c,u,r,n)}return l4(i)},c4="#808080",Wu=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,b=v===void 0?c4:v,x=a4(t,yIe),w=y.useMemo(function(){return kIe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,N=x.dy,j=x.angle,k=x.className,O=x.breakAll,P=a4(x,xIe);if(!en(n)||!en(a))return null;var A=n+(ge(_)?_:0),$=a+(ge(N)?N:0),M;switch(m){case"start":M=sS("calc(".concat(u,")"));break;case"middle":M=sS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=sS("calc(".concat(w.length-1," * -").concat(l,")"));break}var z=[];if(f){var L=w[0].width,V=x.width;z.push("scale(".concat((ge(V)?V/L:1)/L,")"))}return j&&z.push("rotate(".concat(j,", ").concat(A,", ").concat($,")")),z.length&&(P.transform=z.join(" ")),T.createElement("text",pC({},ze(P,!0),{x:A,y:$,className:ct("recharts-text",k),textAnchor:p,fill:b.includes("url")?c4:b}),w.map(function(D,U){var I=D.words.join(O?"":" ");return T.createElement("tspan",{x:A,dy:U===0?M:l,key:"".concat(I,"-").concat(U)},I)}))};function Xl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CIe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function XT(e){let t,r,n;e.length!==2?(t=Xl,r=(l,c)=>Xl(e(l),c),n=(l,c)=>e(l)-c):(t=e===Xl||e===CIe?e:EIe,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function EIe(){return 0}function bG(e){return e===null?NaN:+e}function*OIe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const PIe=XT(Xl),Gv=PIe.right;XT(bG).center;class u4 extends Map{constructor(t,r=MIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(d4(this,t))}has(t){return super.has(d4(this,t))}set(t,r){return super.set(TIe(this,t),r)}delete(t){return super.delete(AIe(this,t))}}function d4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function TIe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function AIe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function MIe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IIe(e=Xl){if(e===Xl)return wG;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function wG(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $Ie=Math.sqrt(50),RIe=Math.sqrt(10),DIe=Math.sqrt(2);function v0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=$Ie?10:a>=RIe?5:a>=DIe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?v0(e,t,r*2):[l,c,u]}function mC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?v0(t,e,r):v0(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function gC(e,t,r){return t=+t,e=+e,r=+r,v0(e,t,r)[2]}function vC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?gC(t,e,r):gC(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function f4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function h4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _G(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?wG:IIe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));_G(e,t,p,g,i)}const a=e[t];let s=r,l=n;for(qp(e,r,t),i(e[n],a)>0&&qp(e,r,n);s<l;){for(qp(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?qp(e,r,l):(++l,qp(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function qp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function LIe(e,t,r){if(e=Float64Array.from(OIe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return h4(e);if(t>=1)return f4(e);var n,i=(n-1)*t,a=Math.floor(i),s=f4(_G(e,a).subarray(0,a+1)),l=h4(e.subarray(a+1));return s+(l-s)*(i-a)}}function FIe(e,t,r=bG){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function BIe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Oa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yC=Symbol("implicit");function QT(){var e=new u4,t=[],r=[],n=yC;function i(a){let s=e.get(a);if(s===void 0){if(n!==yC)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new u4;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return QT(t,r).unknown(n)},Oa.apply(i,arguments),i}function $g(){var e=QT().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,g=p?i:n,m=p?n:i;a=(m-g)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),g+=(m-g-a*(h-c))*d,s=a*(1-c),l&&(g=Math.round(g),s=Math.round(s));var v=BIe(h).map(function(b){return g+a*b});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return $g(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Oa.apply(f(),arguments)}function jG(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jG(t())},e}function Tm(){return jG($g.apply(null,arguments).paddingInner(1))}function ZT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function SG(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Kv(){}var Rg=.7,y0=1/Rg,Nf="\\s*([+-]?\\d+)\\s*",Dg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ks="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UIe=/^#([0-9a-f]{3,8})$/,zIe=new RegExp(`^rgb\\(${Nf},${Nf},${Nf}\\)$`),VIe=new RegExp(`^rgb\\(${Ks},${Ks},${Ks}\\)$`),WIe=new RegExp(`^rgba\\(${Nf},${Nf},${Nf},${Dg}\\)$`),HIe=new RegExp(`^rgba\\(${Ks},${Ks},${Ks},${Dg}\\)$`),qIe=new RegExp(`^hsl\\(${Dg},${Ks},${Ks}\\)$`),GIe=new RegExp(`^hsla\\(${Dg},${Ks},${Ks},${Dg}\\)$`),p4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZT(Kv,Lg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:m4,formatHex:m4,formatHex8:KIe,formatHsl:YIe,formatRgb:g4,toString:g4});function m4(){return this.rgb().formatHex()}function KIe(){return this.rgb().formatHex8()}function YIe(){return NG(this).formatHsl()}function g4(){return this.rgb().formatRgb()}function Lg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=UIe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?v4(t):r===3?new gi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Gy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Gy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zIe.exec(e))?new gi(t[1],t[2],t[3],1):(t=VIe.exec(e))?new gi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WIe.exec(e))?Gy(t[1],t[2],t[3],t[4]):(t=HIe.exec(e))?Gy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qIe.exec(e))?b4(t[1],t[2]/100,t[3]/100,1):(t=GIe.exec(e))?b4(t[1],t[2]/100,t[3]/100,t[4]):p4.hasOwnProperty(e)?v4(p4[e]):e==="transparent"?new gi(NaN,NaN,NaN,0):null}function v4(e){return new gi(e>>16&255,e>>8&255,e&255,1)}function Gy(e,t,r,n){return n<=0&&(e=t=r=NaN),new gi(e,t,r,n)}function JIe(e){return e instanceof Kv||(e=Lg(e)),e?(e=e.rgb(),new gi(e.r,e.g,e.b,e.opacity)):new gi}function xC(e,t,r,n){return arguments.length===1?JIe(e):new gi(e,t,r,n??1)}function gi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ZT(gi,xC,SG(Kv,{brighter(e){return e=e==null?y0:Math.pow(y0,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rg:Math.pow(Rg,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gi(_u(this.r),_u(this.g),_u(this.b),x0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y4,formatHex:y4,formatHex8:XIe,formatRgb:x4,toString:x4}));function y4(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}`}function XIe(){return`#${ou(this.r)}${ou(this.g)}${ou(this.b)}${ou((isNaN(this.opacity)?1:this.opacity)*255)}`}function x4(){const e=x0(this.opacity);return`${e===1?"rgb(":"rgba("}${_u(this.r)}, ${_u(this.g)}, ${_u(this.b)}${e===1?")":`, ${e})`}`}function x0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _u(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ou(e){return e=_u(e),(e<16?"0":"")+e.toString(16)}function b4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qa(e,t,r,n)}function NG(e){if(e instanceof Qa)return new Qa(e.h,e.s,e.l,e.opacity);if(e instanceof Kv||(e=Lg(e)),!e)return new Qa;if(e instanceof Qa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Qa(s,l,c,e.opacity)}function QIe(e,t,r,n){return arguments.length===1?NG(e):new Qa(e,t,r,n??1)}function Qa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ZT(Qa,QIe,SG(Kv,{brighter(e){return e=e==null?y0:Math.pow(y0,e),new Qa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rg:Math.pow(Rg,e),new Qa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new gi(oS(e>=240?e-240:e+120,i,n),oS(e,i,n),oS(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Qa(w4(this.h),Ky(this.s),Ky(this.l),x0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=x0(this.opacity);return`${e===1?"hsl(":"hsla("}${w4(this.h)}, ${Ky(this.s)*100}%, ${Ky(this.l)*100}%${e===1?")":`, ${e})`}`}}));function w4(e){return e=(e||0)%360,e<0?e+360:e}function Ky(e){return Math.max(0,Math.min(1,e||0))}function oS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const eA=e=>()=>e;function ZIe(e,t){return function(r){return e+r*t}}function e$e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function t$e(e){return(e=+e)==1?kG:function(t,r){return r-t?e$e(t,r,e):eA(isNaN(t)?r:t)}}function kG(e,t){var r=t-e;return r?ZIe(e,r):eA(isNaN(e)?t:e)}const _4=function e(t){var r=t$e(t);function n(i,a){var s=r((i=xC(i)).r,(a=xC(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=kG(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function r$e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function n$e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function i$e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=mp(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function a$e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function b0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function s$e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=mp(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var bC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lS=new RegExp(bC.source,"g");function o$e(e){return function(){return e}}function l$e(e){return function(t){return e(t)+""}}function c$e(e,t){var r=bC.lastIndex=lS.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=bC.exec(e))&&(i=lS.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:b0(n,i)})),r=lS.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?l$e(c[0].x):o$e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function mp(e,t){var r=typeof t,n;return t==null||r==="boolean"?eA(t):(r==="number"?b0:r==="string"?(n=Lg(t))?(t=n,_4):c$e:t instanceof Lg?_4:t instanceof Date?a$e:n$e(t)?r$e:Array.isArray(t)?i$e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s$e:b0)(e,t)}function tA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function u$e(e,t){t===void 0&&(t=e,e=mp);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function d$e(e){return function(){return e}}function w0(e){return+e}var j4=[0,1];function ti(e){return e}function wC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:d$e(isNaN(t)?NaN:.5)}function f$e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function h$e(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=wC(i,n),a=r(s,a)):(n=wC(n,i),a=r(a,s)),function(l){return a(n(l))}}function p$e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=wC(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var c=Gv(e,l,1,n)-1;return a[c](i[c](l))}}function Yv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function K_(){var e=j4,t=j4,r=mp,n,i,a,s=ti,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==ti&&(s=f$e(e[0],e[h-1])),l=h>2?p$e:h$e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=l(t,e.map(n),b0)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,w0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=tA,d()},f.clamp=function(h){return arguments.length?(s=h?!0:ti,d()):s!==ti},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function rA(){return K_()(ti,ti)}function m$e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _0(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ph(e){return e=_0(Math.abs(e)),e?e[1]:NaN}function g$e(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function v$e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var y$e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fg(e){if(!(t=y$e.exec(e)))throw new Error("invalid format: "+e);var t;return new nA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fg.prototype=nA.prototype;function nA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function x$e(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var j0;function b$e(e,t){var r=_0(e,t);if(!r)return j0=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(j0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+_0(e,Math.max(0,t+a-1))[0]}function S4(e,t){var r=_0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const N4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:m$e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>S4(e*100,t),r:S4,s:b$e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function k4(e){return e}var C4=Array.prototype.map,E4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function w$e(e){var t=e.grouping===void 0||e.thousands===void 0?k4:g$e(C4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?k4:v$e(C4.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Fg(f);var p=f.fill,g=f.align,m=f.sign,v=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,N=f.trim,j=f.type;j==="n"?(w=!0,j="g"):N4[j]||(_===void 0&&(_=12),N=!0,j="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),O=(v==="$"?n:/[%p]/.test(j)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),P=N4[j],A=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function $(M){var z=k,L=O,V,D,U;if(j==="c")L=P(M)+L,M="";else{M=+M;var I=M<0||1/M<0;if(M=isNaN(M)?c:P(Math.abs(M),_),N&&(M=x$e(M)),I&&+M==0&&m!=="+"&&(I=!1),z=(I?m==="("?m:l:m==="-"||m==="("?"":m)+z,L=(j==="s"&&!isNaN(M)&&j0!==void 0?E4[8+j0/3]:"")+L+(I&&m==="("?")":""),A){for(V=-1,D=M.length;++V<D;)if(U=M.charCodeAt(V),48>U||U>57){L=(U===46?i+M.slice(V+1):M.slice(V))+L,M=M.slice(0,V);break}}}w&&!b&&(M=t(M,1/0));var F=z.length+M.length+L.length,G=F<x?new Array(x-F+1).join(p):"";switch(w&&b&&(M=t(G+M,G.length?x-L.length:1/0),G=""),g){case"<":M=z+M+L+G;break;case"=":M=z+G+M+L;break;case"^":M=G.slice(0,F=G.length>>1)+z+M+L+G.slice(F);break;default:M=G+z+M+L;break}return a(M)}return $.toString=function(){return f+""},$}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(ph(h)/3)))*3,g=Math.pow(10,-p),m=u((f=Fg(f),f.type="f",f),{suffix:E4[8+p/3]});return function(v){return m(g*v)}}return{format:u,formatPrefix:d}}var Yy,iA,CG;_$e({thousands:",",grouping:[3],currency:["$",""]});function _$e(e){return Yy=w$e(e),iA=Yy.format,CG=Yy.formatPrefix,Yy}function j$e(e){return Math.max(0,-ph(Math.abs(e)))}function S$e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ph(t)/3)))*3-ph(Math.abs(e)))}function N$e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ph(t)-ph(e))+1}function EG(e,t,r,n){var i=vC(e,t,r),a;switch(n=Fg(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=S$e(i,s))&&(n.precision=a),CG(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=N$e(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=j$e(i))&&(n.precision=a-(n.type==="%")*2);break}}return iA(n)}function Sc(e){var t=e.domain;return e.ticks=function(r){var n=t();return mC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return EG(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=gC(s,l,r),u===c)return n[i]=s,n[a]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function S0(){var e=rA();return e.copy=function(){return Yv(e,S0())},Oa.apply(e,arguments),Sc(e)}function OG(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,w0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return OG(e).unknown(t)},e=arguments.length?Array.from(e,w0):[0,1],Sc(r)}function PG(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function O4(e){return Math.log(e)}function P4(e){return Math.exp(e)}function k$e(e){return-Math.log(-e)}function C$e(e){return-Math.exp(-e)}function E$e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function O$e(e){return e===10?E$e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function P$e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function T4(e){return(t,r)=>-e(-t,r)}function aA(e){const t=e(O4,P4),r=t.domain;let n=10,i,a;function s(){return i=P$e(n),a=O$e(n),r()[0]<0?(i=T4(i),a=T4(a),e(k$e,C$e)):e(O4,P4),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),g,m;const v=l==null?10:+l;let b=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/a(-h):g*a(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/a(-h):g*a(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<v&&(b=mC(u,d,v))}else b=mC(h,p,Math.min(p-h,v)).map(a);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Fg(c)).precision==null&&(c.trim=!0),c=iA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(PG(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function TG(){const e=aA(K_()).domain([1,10]);return e.copy=()=>Yv(e,TG()).base(e.base()),Oa.apply(e,arguments),e}function A4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function M4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sA(e){var t=1,r=e(A4(t),M4(t));return r.constant=function(n){return arguments.length?e(A4(t=+n),M4(t)):t},Sc(r)}function AG(){var e=sA(K_());return e.copy=function(){return Yv(e,AG()).constant(e.constant())},Oa.apply(e,arguments)}function I4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function T$e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function A$e(e){return e<0?-e*e:e*e}function oA(e){var t=e(ti,ti),r=1;function n(){return r===1?e(ti,ti):r===.5?e(T$e,A$e):e(I4(r),I4(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Sc(t)}function lA(){var e=oA(K_());return e.copy=function(){return Yv(e,lA()).exponent(e.exponent())},Oa.apply(e,arguments),e}function M$e(){return lA.apply(null,arguments).exponent(.5)}function $4(e){return Math.sign(e)*e*e}function I$e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MG(){var e=rA(),t=[0,1],r=!1,n;function i(a){var s=I$e(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert($4(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,w0)).map($4)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return MG(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Oa.apply(i,arguments),Sc(i)}function IG(){var e=[],t=[],r=[],n;function i(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=FIe(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Gv(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Xl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return IG().domain(e).range(t).unknown(n)},Oa.apply(a,arguments)}function $G(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Gv(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return $G().domain([e,t]).range(i).unknown(a)},Oa.apply(Sc(s),arguments)}function RG(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Gv(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return RG().domain(e).range(t).unknown(r)},Oa.apply(i,arguments)}const cS=new Date,uS=new Date;function rn(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>rn(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(cS.setTime(+a),uS.setTime(+s),e(cS),e(uS),Math.floor(r(cS,uS))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const N0=rn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);N0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):N0);N0.range;const Co=1e3,ga=Co*60,Eo=ga*60,Go=Eo*24,cA=Go*7,R4=Go*30,dS=Go*365,lu=rn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getUTCSeconds());lu.range;const uA=rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Co)},(e,t)=>{e.setTime(+e+t*ga)},(e,t)=>(t-e)/ga,e=>e.getMinutes());uA.range;const dA=rn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ga)},(e,t)=>(t-e)/ga,e=>e.getUTCMinutes());dA.range;const fA=rn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Co-e.getMinutes()*ga)},(e,t)=>{e.setTime(+e+t*Eo)},(e,t)=>(t-e)/Eo,e=>e.getHours());fA.range;const hA=rn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Eo)},(e,t)=>(t-e)/Eo,e=>e.getUTCHours());hA.range;const Jv=rn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ga)/Go,e=>e.getDate()-1);Jv.range;const Y_=rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Go,e=>e.getUTCDate()-1);Y_.range;const DG=rn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Go,e=>Math.floor(e/Go));DG.range;function ld(e){return rn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ga)/cA)}const J_=ld(0),k0=ld(1),$$e=ld(2),R$e=ld(3),mh=ld(4),D$e=ld(5),L$e=ld(6);J_.range;k0.range;$$e.range;R$e.range;mh.range;D$e.range;L$e.range;function cd(e){return rn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cA)}const X_=cd(0),C0=cd(1),F$e=cd(2),B$e=cd(3),gh=cd(4),U$e=cd(5),z$e=cd(6);X_.range;C0.range;F$e.range;B$e.range;gh.range;U$e.range;z$e.range;const pA=rn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pA.range;const mA=rn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mA.range;const Ko=rn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ko.range;const Yo=rn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Yo.range;function LG(e,t,r,n,i,a){const s=[[lu,1,Co],[lu,5,5*Co],[lu,15,15*Co],[lu,30,30*Co],[a,1,ga],[a,5,5*ga],[a,15,15*ga],[a,30,30*ga],[i,1,Eo],[i,3,3*Eo],[i,6,6*Eo],[i,12,12*Eo],[n,1,Go],[n,2,2*Go],[r,1,cA],[t,1,R4],[t,3,3*R4],[e,1,dS]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=XT(([,,v])=>v).right(s,h);if(p===s.length)return e.every(vC(u/dS,d/dS,f));if(p===0)return N0.every(Math.max(vC(u,d,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[V$e,W$e]=LG(Yo,mA,X_,DG,hA,dA),[H$e,q$e]=LG(Ko,pA,J_,Jv,fA,uA);function fS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function G$e(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Kp(i),d=Yp(i),f=Kp(a),h=Yp(a),p=Kp(s),g=Yp(s),m=Kp(l),v=Yp(l),b=Kp(c),x=Yp(c),w={a:U,A:I,b:F,B:G,c:null,d:z4,e:z4,f:gRe,g:kRe,G:ERe,H:hRe,I:pRe,j:mRe,L:FG,m:vRe,M:yRe,p:ne,q:Z,Q:H4,s:q4,S:xRe,u:bRe,U:wRe,V:_Re,w:jRe,W:SRe,x:null,X:null,y:NRe,Y:CRe,Z:ORe,"%":W4},_={a:S,A:C,b:E,B,c:null,d:V4,e:V4,f:MRe,g:VRe,G:HRe,H:PRe,I:TRe,j:ARe,L:UG,m:IRe,M:$Re,p:R,q,Q:H4,s:q4,S:RRe,u:DRe,U:LRe,V:FRe,w:BRe,W:URe,x:null,X:null,y:zRe,Y:WRe,Z:qRe,"%":W4},N={a:A,A:$,b:M,B:z,c:L,d:B4,e:B4,f:cRe,g:F4,G:L4,H:U4,I:U4,j:aRe,L:lRe,m:iRe,M:sRe,p:P,q:nRe,Q:dRe,s:fRe,S:oRe,u:Q$e,U:Z$e,V:eRe,w:X$e,W:tRe,x:V,X:D,y:F4,Y:L4,Z:rRe,"%":uRe};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(H,X){return function(te){var J=[],je=-1,Oe=0,it=H.length,qe,Ge,jt;for(te instanceof Date||(te=new Date(+te));++je<it;)H.charCodeAt(je)===37&&(J.push(H.slice(Oe,je)),(Ge=D4[qe=H.charAt(++je)])!=null?qe=H.charAt(++je):Ge=qe==="e"?" ":"0",(jt=X[qe])&&(qe=jt(te,Ge)),J.push(qe),Oe=je+1);return J.push(H.slice(Oe,je)),J.join("")}}function k(H,X){return function(te){var J=Gp(1900,void 0,1),je=O(J,H,te+="",0),Oe,it;if(je!=te.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(X&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Oe=hS(Gp(J.y,0,1)),it=Oe.getUTCDay(),Oe=it>4||it===0?C0.ceil(Oe):C0(Oe),Oe=Y_.offset(Oe,(J.V-1)*7),J.y=Oe.getUTCFullYear(),J.m=Oe.getUTCMonth(),J.d=Oe.getUTCDate()+(J.w+6)%7):(Oe=fS(Gp(J.y,0,1)),it=Oe.getDay(),Oe=it>4||it===0?k0.ceil(Oe):k0(Oe),Oe=Jv.offset(Oe,(J.V-1)*7),J.y=Oe.getFullYear(),J.m=Oe.getMonth(),J.d=Oe.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),it="Z"in J?hS(Gp(J.y,0,1)).getUTCDay():fS(Gp(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(it+5)%7:J.w+J.U*7-(it+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,hS(J)):fS(J)}}function O(H,X,te,J){for(var je=0,Oe=X.length,it=te.length,qe,Ge;je<Oe;){if(J>=it)return-1;if(qe=X.charCodeAt(je++),qe===37){if(qe=X.charAt(je++),Ge=N[qe in D4?X.charAt(je++):qe],!Ge||(J=Ge(H,te,J))<0)return-1}else if(qe!=te.charCodeAt(J++))return-1}return J}function P(H,X,te){var J=u.exec(X.slice(te));return J?(H.p=d.get(J[0].toLowerCase()),te+J[0].length):-1}function A(H,X,te){var J=p.exec(X.slice(te));return J?(H.w=g.get(J[0].toLowerCase()),te+J[0].length):-1}function $(H,X,te){var J=f.exec(X.slice(te));return J?(H.w=h.get(J[0].toLowerCase()),te+J[0].length):-1}function M(H,X,te){var J=b.exec(X.slice(te));return J?(H.m=x.get(J[0].toLowerCase()),te+J[0].length):-1}function z(H,X,te){var J=m.exec(X.slice(te));return J?(H.m=v.get(J[0].toLowerCase()),te+J[0].length):-1}function L(H,X,te){return O(H,t,X,te)}function V(H,X,te){return O(H,r,X,te)}function D(H,X,te){return O(H,n,X,te)}function U(H){return s[H.getDay()]}function I(H){return a[H.getDay()]}function F(H){return c[H.getMonth()]}function G(H){return l[H.getMonth()]}function ne(H){return i[+(H.getHours()>=12)]}function Z(H){return 1+~~(H.getMonth()/3)}function S(H){return s[H.getUTCDay()]}function C(H){return a[H.getUTCDay()]}function E(H){return c[H.getUTCMonth()]}function B(H){return l[H.getUTCMonth()]}function R(H){return i[+(H.getUTCHours()>=12)]}function q(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var X=j(H+="",w);return X.toString=function(){return H},X},parse:function(H){var X=k(H+="",!1);return X.toString=function(){return H},X},utcFormat:function(H){var X=j(H+="",_);return X.toString=function(){return H},X},utcParse:function(H){var X=k(H+="",!0);return X.toString=function(){return H},X}}}var D4={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,K$e=/^%/,Y$e=/[\\^$*+?|[\]().{}]/g;function Tt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function J$e(e){return e.replace(Y$e,"\\$&")}function Kp(e){return new RegExp("^(?:"+e.map(J$e).join("|")+")","i")}function Yp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function X$e(e,t,r){var n=vn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Q$e(e,t,r){var n=vn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Z$e(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function eRe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function tRe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function L4(e,t,r){var n=vn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function F4(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function rRe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function nRe(e,t,r){var n=vn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iRe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function B4(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aRe(e,t,r){var n=vn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function U4(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function sRe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function oRe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function lRe(e,t,r){var n=vn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function cRe(e,t,r){var n=vn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uRe(e,t,r){var n=K$e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function dRe(e,t,r){var n=vn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function fRe(e,t,r){var n=vn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function z4(e,t){return Tt(e.getDate(),t,2)}function hRe(e,t){return Tt(e.getHours(),t,2)}function pRe(e,t){return Tt(e.getHours()%12||12,t,2)}function mRe(e,t){return Tt(1+Jv.count(Ko(e),e),t,3)}function FG(e,t){return Tt(e.getMilliseconds(),t,3)}function gRe(e,t){return FG(e,t)+"000"}function vRe(e,t){return Tt(e.getMonth()+1,t,2)}function yRe(e,t){return Tt(e.getMinutes(),t,2)}function xRe(e,t){return Tt(e.getSeconds(),t,2)}function bRe(e){var t=e.getDay();return t===0?7:t}function wRe(e,t){return Tt(J_.count(Ko(e)-1,e),t,2)}function BG(e){var t=e.getDay();return t>=4||t===0?mh(e):mh.ceil(e)}function _Re(e,t){return e=BG(e),Tt(mh.count(Ko(e),e)+(Ko(e).getDay()===4),t,2)}function jRe(e){return e.getDay()}function SRe(e,t){return Tt(k0.count(Ko(e)-1,e),t,2)}function NRe(e,t){return Tt(e.getFullYear()%100,t,2)}function kRe(e,t){return e=BG(e),Tt(e.getFullYear()%100,t,2)}function CRe(e,t){return Tt(e.getFullYear()%1e4,t,4)}function ERe(e,t){var r=e.getDay();return e=r>=4||r===0?mh(e):mh.ceil(e),Tt(e.getFullYear()%1e4,t,4)}function ORe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function V4(e,t){return Tt(e.getUTCDate(),t,2)}function PRe(e,t){return Tt(e.getUTCHours(),t,2)}function TRe(e,t){return Tt(e.getUTCHours()%12||12,t,2)}function ARe(e,t){return Tt(1+Y_.count(Yo(e),e),t,3)}function UG(e,t){return Tt(e.getUTCMilliseconds(),t,3)}function MRe(e,t){return UG(e,t)+"000"}function IRe(e,t){return Tt(e.getUTCMonth()+1,t,2)}function $Re(e,t){return Tt(e.getUTCMinutes(),t,2)}function RRe(e,t){return Tt(e.getUTCSeconds(),t,2)}function DRe(e){var t=e.getUTCDay();return t===0?7:t}function LRe(e,t){return Tt(X_.count(Yo(e)-1,e),t,2)}function zG(e){var t=e.getUTCDay();return t>=4||t===0?gh(e):gh.ceil(e)}function FRe(e,t){return e=zG(e),Tt(gh.count(Yo(e),e)+(Yo(e).getUTCDay()===4),t,2)}function BRe(e){return e.getUTCDay()}function URe(e,t){return Tt(C0.count(Yo(e)-1,e),t,2)}function zRe(e,t){return Tt(e.getUTCFullYear()%100,t,2)}function VRe(e,t){return e=zG(e),Tt(e.getUTCFullYear()%100,t,2)}function WRe(e,t){return Tt(e.getUTCFullYear()%1e4,t,4)}function HRe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?gh(e):gh.ceil(e),Tt(e.getUTCFullYear()%1e4,t,4)}function qRe(){return"+0000"}function W4(){return"%"}function H4(e){return+e}function q4(e){return Math.floor(+e/1e3)}var Pd,VG,WG;GRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GRe(e){return Pd=G$e(e),VG=Pd.format,Pd.parse,WG=Pd.utcFormat,Pd.utcParse,Pd}function KRe(e){return new Date(e)}function YRe(e){return e instanceof Date?+e:+new Date(+e)}function gA(e,t,r,n,i,a,s,l,c,u){var d=rA(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),_=u("%Y");function N(j){return(c(j)<j?p:l(j)<j?g:s(j)<j?m:a(j)<j?v:n(j)<j?i(j)<j?b:x:r(j)<j?w:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,YRe)):h().map(KRe)},d.ticks=function(j){var k=h();return e(k[0],k[k.length-1],j??10)},d.tickFormat=function(j,k){return k==null?N:u(k)},d.nice=function(j){var k=h();return(!j||typeof j.range!="function")&&(j=t(k[0],k[k.length-1],j??10)),j?h(PG(k,j)):d},d.copy=function(){return Yv(d,gA(e,t,r,n,i,a,s,l,c,u))},d}function JRe(){return Oa.apply(gA(H$e,q$e,Ko,pA,J_,Jv,fA,uA,lu,VG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XRe(){return Oa.apply(gA(V$e,W$e,Yo,mA,X_,Y_,hA,dA,lu,WG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Q_(){var e=0,t=1,r,n,i,a,s=ti,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(mp),u.rangeRound=d(tA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Nc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HG(){var e=Sc(Q_()(ti));return e.copy=function(){return Nc(e,HG())},nl.apply(e,arguments)}function qG(){var e=aA(Q_()).domain([1,10]);return e.copy=function(){return Nc(e,qG()).base(e.base())},nl.apply(e,arguments)}function GG(){var e=sA(Q_());return e.copy=function(){return Nc(e,GG()).constant(e.constant())},nl.apply(e,arguments)}function vA(){var e=oA(Q_());return e.copy=function(){return Nc(e,vA()).exponent(e.exponent())},nl.apply(e,arguments)}function QRe(){return vA.apply(null,arguments).exponent(.5)}function KG(){var e=[],t=ti;function r(n){if(n!=null&&!isNaN(n=+n))return t((Gv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>LIe(e,a/n))},r.copy=function(){return KG(t).domain(e)},nl.apply(r,arguments)}function Z_(){var e=0,t=.5,r=1,n=1,i,a,s,l,c,u=ti,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-a)*(n*m<n*a?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=d(e=+e),a=d(t=+t),s=d(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,u=u$e(m,[b,x,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(mp),p.rangeRound=g(tA),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(e),a=m(t),s=m(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function YG(){var e=Sc(Z_()(ti));return e.copy=function(){return Nc(e,YG())},nl.apply(e,arguments)}function JG(){var e=aA(Z_()).domain([.1,1,10]);return e.copy=function(){return Nc(e,JG()).base(e.base())},nl.apply(e,arguments)}function XG(){var e=sA(Z_());return e.copy=function(){return Nc(e,XG()).constant(e.constant())},nl.apply(e,arguments)}function yA(){var e=oA(Z_());return e.copy=function(){return Nc(e,yA()).exponent(e.exponent())},nl.apply(e,arguments)}function ZRe(){return yA.apply(null,arguments).exponent(.5)}const G4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$g,scaleDiverging:YG,scaleDivergingLog:JG,scaleDivergingPow:yA,scaleDivergingSqrt:ZRe,scaleDivergingSymlog:XG,scaleIdentity:OG,scaleImplicit:yC,scaleLinear:S0,scaleLog:TG,scaleOrdinal:QT,scalePoint:Tm,scalePow:lA,scaleQuantile:IG,scaleQuantize:$G,scaleRadial:MG,scaleSequential:HG,scaleSequentialLog:qG,scaleSequentialPow:vA,scaleSequentialQuantile:KG,scaleSequentialSqrt:QRe,scaleSequentialSymlog:GG,scaleSqrt:M$e,scaleSymlog:AG,scaleThreshold:RG,scaleTime:JRe,scaleUtc:XRe,tickFormat:EG},Symbol.toStringTag,{value:"Module"}));var eDe=sp;function tDe(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(l===void 0?s===s&&!eDe(s):r(s,l)))var l=s,c=a}return c}var ej=tDe;function rDe(e,t){return e>t}var QG=rDe,nDe=ej,iDe=QG,aDe=pp;function sDe(e){return e&&e.length?nDe(e,aDe,iDe):void 0}var oDe=sDe;const Ll=Nt(oDe);function lDe(e,t){return e<t}var ZG=lDe,cDe=ej,uDe=ZG,dDe=pp;function fDe(e){return e&&e.length?cDe(e,dDe,uDe):void 0}var hDe=fDe;const tj=Nt(hDe);var pDe=AT,mDe=so,gDe=lG,vDe=ki;function yDe(e,t){var r=vDe(e)?pDe:gDe;return r(e,mDe(t))}var xDe=yDe,bDe=sG,wDe=xDe;function _De(e,t){return bDe(wDe(e,t),1)}var jDe=_De;const SDe=Nt(jDe);var NDe=GT;function kDe(e,t){return NDe(e,t)}var CDe=kDe;const Hu=Nt(CDe);var gp=1e9,EDe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bA,xr=!0,Sa="[DecimalError] ",ju=Sa+"Invalid argument: ",xA=Sa+"Exponent out of range: ",vp=Math.floor,Yc=Math.pow,ODe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wi,on=1e7,or=7,eK=9007199254740991,E0=vp(eK/or),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*or;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};$e.dividedBy=$e.div=function(e){return $o(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,r=t.constructor;return Kt($o(t,new r(e),0,1),r.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Hr(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Wi))throw Error(Sa+"NaN");if(r.s<1)throw Error(Sa+(r.s?"NaN":"-Infinity"));return r.eq(Wi)?new n(0):(xr=!1,t=$o(Bg(r,a),Bg(e,a),a),xr=!0,Kt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nK(t,e):tK(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Sa+"NaN");return r.s?(xr=!1,t=$o(r,e,0,1).times(e),xr=!0,r.minus(t)):Kt(new n(r),i)};$e.naturalExponential=$e.exp=function(){return rK(this)};$e.naturalLogarithm=$e.ln=function(){return Bg(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tK(t,e):nK(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ju+e);if(t=Hr(i)+1,n=i.d.length-1,r=n*or+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};$e.squareRoot=$e.sqrt=function(){var e,t,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Sa+"NaN")}for(e=Hr(l),xr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=zs(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=vp((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus($o(l,a,s+2)).times(.5),zs(a.d).slice(0,s)===(t=zs(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Kt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;s+=4}return xr=!0,Kt(n,r)};$e.times=$e.mul=function(e){var t,r,n,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+p[n]*h[i-n-1]+t,a[i--]=l%on|0,t=l/on|0;a[i]=(a[i]+t)%on|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,xr?Kt(e,f.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Zs(e,0,gp),t===void 0?t=n.rounding:Zs(t,0,8),Kt(r,e+Hr(r)+1,t))};$e.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=qu(n,!0):(Zs(e,0,gp),t===void 0?t=i.rounding:Zs(t,0,8),n=Kt(new i(n),e+1,t),r=qu(n,!0,e+1)),r};$e.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?qu(i):(Zs(e,0,gp),t===void 0?t=a.rounding:Zs(t,0,8),n=Kt(new a(i),e+Hr(i)+1,t),r=qu(n.abs(),!1,e+Hr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Hr(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,r,n,i,a,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Wi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Sa+"Infinity");return l}if(l.eq(Wi))return l;if(n=c.precision,e.eq(Wi))return Kt(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=l.s,s){if((r=d<0?-d:d)<=eK){for(i=new c(Wi),t=Math.ceil(n/or+4),xr=!1;r%2&&(i=i.times(l),Y4(i.d,t)),r=vp(r/2),r!==0;)l=l.times(l),Y4(l.d,t);return xr=!0,e.s<0?new c(Wi).div(i):Kt(i,n)}}else if(a<0)throw Error(Sa+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,xr=!1,i=e.times(Bg(l,n+u)),xr=!0,i=rK(i),i.s=a,i};$e.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Hr(i),n=qu(i,r<=a.toExpNeg||r>=a.toExpPos)):(Zs(e,1,gp),t===void 0?t=a.rounding:Zs(t,0,8),i=Kt(new a(i),e,t),r=Hr(i),n=qu(i,e<=r||r<=a.toExpNeg,e)),n};$e.toSignificantDigits=$e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zs(e,1,gp),t===void 0?t=n.rounding:Zs(t,0,8)),Kt(new n(r),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Hr(e),r=e.constructor;return qu(e,t<=r.toExpNeg||t>=r.toExpPos)};function tK(e,t){var r,n,i,a,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),xr?Kt(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=s,l=c.length),s=Math.ceil(f/or),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/on|0,c[a]%=on;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,xr?Kt(t,f):t}function Zs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ju+e)}function zs(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=or-n.length,r&&(a+=wl(r)),a+=n;s=e[t],n=s+"",r=or-n.length,r&&(a+=wl(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var $o=function(){function e(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%on|0,s=a/on|0;return s&&n.unshift(s),n}function t(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*on+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,u,d,f,h,p,g,m,v,b,x,w,_,N,j,k,O,P=n.constructor,A=n.s==i.s?1:-1,$=n.d,M=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(Sa+"Division by zero");for(c=n.e-i.e,k=M.length,N=$.length,p=new P(A),g=p.d=[],u=0;M[u]==($[u]||0);)++u;if(M[u]>($[u]||0)&&--c,a==null?x=a=P.precision:s?x=a+(Hr(n)-Hr(i))+1:x=a,x<0)return new P(0);if(x=x/or+2|0,u=0,k==1)for(d=0,M=M[0],x++;(u<N||d)&&x--;u++)w=d*on+($[u]||0),g[u]=w/M|0,d=w%M|0;else{for(d=on/(M[0]+1)|0,d>1&&(M=e(M,d),$=e($,d),k=M.length,N=$.length),_=k,m=$.slice(0,k),v=m.length;v<k;)m[v++]=0;O=M.slice(),O.unshift(0),j=M[0],M[1]>=on/2&&++j;do d=0,l=t(M,m,k,v),l<0?(b=m[0],k!=v&&(b=b*on+(m[1]||0)),d=b/j|0,d>1?(d>=on&&(d=on-1),f=e(M,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,k<h?O:M,h))):(d==0&&(l=d=1),f=M.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(M,m,k,v),l<1&&(d++,r(m,k<v?O:M,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=$[_]||0:(m=[$[_]],v=1);while((_++<N||m[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=c,Kt(p,s?a+Hr(p)+1:a)}}();function rK(e,t){var r,n,i,a,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Hr(e)>16)throw Error(xA+Hr(e));if(!e.s)return new d(Wi);for(xr=!1,l=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Yc(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Wi),d.precision=l;;){if(i=Kt(i.times(e),l),r=r.times(++c),s=a.plus($o(i,r,l)),zs(s.d).slice(0,l)===zs(a.d).slice(0,l)){for(;u--;)a=Kt(a.times(a),l);return d.precision=f,t==null?(xr=!0,Kt(a,f)):a}a=s}}function Hr(e){for(var t=e.e*or,r=e.d[0];r>=10;r/=10)t++;return t}function pS(e,t,r){if(t>e.LN10.sd())throw xr=!0,r&&(e.precision=r),Error(Sa+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function wl(e){for(var t="";e--;)t+="0";return t}function Bg(e,t){var r,n,i,a,s,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Sa+(p.s?"NaN":"-Infinity"));if(p.eq(Wi))return new m(0);if(t==null?(xr=!1,u=v):u=t,p.eq(10))return t==null&&(xr=!0),pS(m,u);if(u+=h,m.precision=u,r=zs(g),n=r.charAt(0),a=Hr(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=zs(p.d),n=r.charAt(0),f++;a=Hr(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return c=pS(m,u+2,v).times(a+""),p=Bg(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(xr=!0,Kt(p,v)):p;for(l=s=p=$o(p.minus(Wi),p.plus(Wi),u),d=Kt(p.times(p),u),i=3;;){if(s=Kt(s.times(d),u),c=l.plus($o(s,new m(i),u)),zs(c.d).slice(0,u)===zs(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(pS(m,u+2,v).times(a+""))),l=$o(l,new m(f),u),m.precision=v,t==null?(xr=!0,Kt(l,v)):l;l=c,i+=2}}function K4(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=vp(r/or),e.d=[],n=(r+1)%or,r<0&&(n+=or),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=or;n<i;)e.d.push(+t.slice(n,n+=or));t=t.slice(n),n=or-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),xr&&(e.e>E0||e.e<-E0))throw Error(xA+r)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,r){var n,i,a,s,l,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=or,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/or),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=or,i=n-or+s}if(r!==void 0&&(a=Yc(10,s-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Yc(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Hr(e),f.length=1,t=t-a-1,f[0]=Yc(10,(or-t%or)%or),e.e=vp(-t/or)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Yc(10,or-n),f[d]=i>0?(u/Yc(10,s-i)%Yc(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==on&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=on)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(xr&&(e.e>E0||e.e<-E0))throw Error(xA+Hr(e));return e}function nK(e,t){var r,n,i,a,s,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),xr?Kt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(p/or),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=on-1;--c[a],c[i]+=on}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,xr?Kt(t,p):t):new h(0)}function qu(e,t,r){var n,i=Hr(e),a=zs(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+wl(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wl(-i-1)+a,r&&(n=r-s)>0&&(a+=wl(n))):i>=s?(a+=wl(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+wl(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=wl(n))),e.s<0?"-"+a:a}function Y4(e,t){if(e.length>t)return e.length=t,!0}function iK(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ju+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return K4(s,a.toString())}else if(typeof a!="string")throw Error(ju+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,ODe.test(a))K4(s,a);else throw Error(ju+a)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iK,i.config=i.set=PDe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function PDe(e){if(!e||typeof e!="object")throw Error(Sa+"Object expected");var t,r,n,i=["precision",1,gp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(vp(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ju+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ju+r+": "+n);return this}var bA=iK(EDe);Wi=new bA(1);const zt=bA;function TDe(e){return $De(e)||IDe(e)||MDe(e)||ADe()}function ADe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MDe(e,t){if(e){if(typeof e=="string")return _C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(e,t)}}function IDe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $De(e){if(Array.isArray(e))return _C(e)}function _C(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RDe=function(t){return t},aK={},sK=function(t){return t===aK},J4=function(t){return function r(){return arguments.length===0||arguments.length===1&&sK(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},DDe=function e(t,r){return t===1?r:J4(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==aK}).length;return s>=t?r.apply(void 0,i):e(t-s,J4(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return sK(f)?c.shift():f});return r.apply(void 0,TDe(d).concat(c))}))})},rj=function(t){return DDe(t.length,t)},jC=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},LDe=rj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),FDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return RDe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},SC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},oK=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function BDe(e){var t;return e===0?t=1:t=Math.floor(new zt(e).abs().log(10).toNumber())+1,t}function UDe(e,t,r){for(var n=new zt(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var zDe=rj(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),VDe=rj(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),WDe=rj(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const nj={rangeStep:UDe,getDigitCount:BDe,interpolateNumber:zDe,uninterpolateNumber:VDe,uninterpolateTruncation:WDe};function NC(e){return GDe(e)||qDe(e)||lK(e)||HDe()}function HDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qDe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function GDe(e){if(Array.isArray(e))return kC(e)}function Ug(e,t){return JDe(e)||YDe(e,t)||lK(e,t)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lK(e,t){if(e){if(typeof e=="string")return kC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(e,t)}}function kC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YDe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function JDe(e){if(Array.isArray(e))return e}function cK(e){var t=Ug(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function uK(e,t,r){if(e.lte(0))return new zt(0);var n=nj.getDigitCount(e.toNumber()),i=new zt(10).pow(n),a=e.div(i),s=n!==1?.05:.1,l=new zt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return t?c:new zt(Math.ceil(c))}function XDe(e,t,r){var n=1,i=new zt(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new zt(10).pow(nj.getDigitCount(e)-1),i=new zt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new zt(Math.floor(e)))}else e===0?i=new zt(Math.floor((t-1)/2)):r||(i=new zt(Math.floor(e)));var s=Math.floor((t-1)/2),l=FDe(LDe(function(c){return i.add(new zt(c-s).mul(n)).toNumber()}),jC);return l(0,t)}function dK(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var a=uK(new zt(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new zt(0):(s=new zt(e).add(t).div(2),s=s.sub(new zt(s).mod(a)));var l=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new zt(t).sub(s).div(a).toNumber()),u=l+c+1;return u>r?dK(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:s.sub(new zt(l).mul(a)),tickMax:s.add(new zt(c).mul(a))})}function QDe(e){var t=Ug(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=cK([r,n]),c=Ug(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(NC(jC(0,i-1).map(function(){return 1/0}))):[].concat(NC(jC(0,i-1).map(function(){return-1/0})),[d]);return r>n?SC(f):f}if(u===d)return XDe(u,i,a);var h=dK(u,d,s,a),p=h.step,g=h.tickMin,m=h.tickMax,v=nj.rangeStep(g,m.add(new zt(.1).mul(p)),p);return r>n?SC(v):v}function ZDe(e,t){var r=Ug(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=cK([n,i]),l=Ug(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=uK(new zt(u).sub(c).div(d-1),a,0),h=[].concat(NC(nj.rangeStep(new zt(c),new zt(u).sub(new zt(.99).mul(f)),f)),[u]);return n>i?SC(h):h}var e4e=oK(QDe),t4e=oK(ZDe),r4e="Invariant failed";function Gu(e,t){throw new Error(r4e)}var n4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(this,arguments)}function i4e(e,t){return l4e(e)||o4e(e,t)||s4e(e,t)||a4e()}function a4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4e(e,t){if(e){if(typeof e=="string")return X4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X4(e,t)}}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function l4e(e){if(Array.isArray(e))return e}function c4e(e,t){if(e==null)return{};var r=u4e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pK(n.key),n)}}function h4e(e,t,r){return t&&f4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p4e(e,t,r){return t=P0(t),m4e(e,fK()?Reflect.construct(t,r||[],P0(e).constructor):t.apply(e,r))}function m4e(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g4e(e)}function g4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fK=function(){return!!e})()}function P0(e){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P0(e)}function v4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CC(e,t)}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CC(e,t)}function hK(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=y4e(e,"string");return vh(t)=="symbol"?t:t+""}function y4e(e,t){if(vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xv=function(e){function t(){return d4e(this,t),p4e(this,t,arguments)}return v4e(t,e),h4e(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=c4e(n,n4e),p=ze(h,!1);this.props.direction==="x"&&d.type!=="number"&&Gu();var g=c.map(function(m){var v=u(m,l),b=v.x,x=v.y,w=v.value,_=v.errorVal;if(!_)return null;var N=[],j,k;if(Array.isArray(_)){var O=i4e(_,2);j=O[0],k=O[1]}else j=k=_;if(a==="vertical"){var P=d.scale,A=x+i,$=A+s,M=A-s,z=P(w-j),L=P(w+k);N.push({x1:L,y1:$,x2:L,y2:M}),N.push({x1:z,y1:A,x2:L,y2:A}),N.push({x1:z,y1:$,x2:z,y2:M})}else if(a==="horizontal"){var V=f.scale,D=b+i,U=D-s,I=D+s,F=V(w-j),G=V(w+k);N.push({x1:U,y1:G,x2:I,y2:G}),N.push({x1:D,y1:F,x2:D,y2:G}),N.push({x1:U,y1:F,x2:I,y2:F})}return T.createElement(yt,O0({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},p),N.map(function(ne){return T.createElement("line",O0({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return T.createElement(yt,{className:"recharts-errorBars"},g)}}])}(T.Component);hK(Xv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hK(Xv,"displayName","ErrorBar");function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function Q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(r),!0).forEach(function(n){x4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x4e(e,t,r){return t=b4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b4e(e){var t=w4e(e,"string");return zg(t)=="symbol"?t:t+""}function w4e(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mK=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=Ri(r,Io);if(!s)return null;var l=Io.defaultProps,c=l!==void 0?$c($c({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?$c($c({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:wA(f),value:m||g,payload:p}}),$c($c($c({},c),Io.getWithHeight(s,i)),{},{payload:u,item:s})};function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function Z4(e){return N4e(e)||S4e(e)||j4e(e)||_4e()}function _4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4e(e,t){if(e){if(typeof e=="string")return EC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(e,t)}}function S4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N4e(e){if(Array.isArray(e))return EC(e)}function EC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(r),!0).forEach(function(n){kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kf(e,t,r){return t=k4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k4e(e){var t=C4e(e,"string");return Vg(t)=="symbol"?t:t+""}function C4e(e,t){if(Vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t,r){return lt(e)||lt(t)?r:en(t)?Ji(e,t,r):Xe(t)?t(e):r}function Am(e,t,r,n){var i=SDe(e,function(l){return Ar(l,t)});if(r==="number"){var a=i.filter(function(l){return ge(l)||parseFloat(l)});return a.length?[tj(a),Ll(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!lt(l)}):i;return s.map(function(l){return en(l)||l instanceof Date?l:""})}var E4e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Zn(f-d)!==Zn(h-f)){var g=[];if(Zn(h-f)===Zn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){s=i[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){s=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},wA=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Er(Er({},t.type.defaultProps),t.props):t.props,s=a.stroke,l=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},O4e=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,b=m.filter(function(k){return Mo(k.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?Er(Er({},x),b[0].props):b[0].props,_=w.barSize,N=w[v];s[N]||(s[N]=[]);var j=lt(_)?r:_;s[N].push({item:b[0],stackList:b.slice(1),barSize:lt(j)?void 0:ei(j,n,0)})}}return s},P4e=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=ei(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/c,g=s.reduce(function(_,N){return _+N.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=c*p);var m=(i-g)/2>>0,v={offset:m-u,size:0};d=s.reduce(function(_,N){var j={item:N.item,position:{offset:v.offset+v.size+u,size:h?p:N.barSize}},k=[].concat(Z4(_),[j]);return v=k[k.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){k.push({item:O,position:v})}),k},f)}else{var b=ei(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var x=(i-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=s.reduce(function(_,N,j){var k=[].concat(Z4(_),[{item:N.item,position:{offset:b+(x+u)*j+(x-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},f)}return d},T4e=function(t,r,n,i){var a=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=mK({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&ge(t[p]))return Er(Er({},t),{},kf({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&ge(t[g]))return Er(Er({},t),{},kf({},g,t[g]+(h||0)))}return t},A4e=function(t,r,n){return lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},gK=function(t,r,n,i,a){var s=r.props.children,l=Xi(s,Xv).filter(function(u){return A4e(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ar(d,n);if(lt(f))return u;var h=Array.isArray(f)?[tj(f),Ll(f)]:[f,f],p=c.reduce(function(g,m){var v=Ar(d,m,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},M4e=function(t,r,n,i,a){var s=r.map(function(l){return gK(t,l,n,a,i)}).filter(function(l){return!lt(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},vK=function(t,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&gK(t,c,u,i)||Am(t,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},yK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},xK=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,s,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||l.push(r),s||l.push(n),l},Oo=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Zn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!dp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},mS=new WeakMap,Jy=function(t,r){if(typeof r!="function")return t;mS.has(t)||mS.set(t,new WeakMap);var n=mS.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},bK=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:$g(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:S0(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Tm(),realScaleType:"point"}:a==="category"?{scale:$g(),realScaleType:"band"}:{scale:S0(),realScaleType:"linear"};if(zu(i)){var c="scale".concat(B_(i));return{scale:(G4[c]||Tm)(),realScaleType:G4[c]?c:"point"}}return Xe(i)?{scale:i}:{scale:Tm(),realScaleType:"point"}},tL=1e-4,wK=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-tL,s=Math.max(i[0],i[1])+tL,l=t(r[0]),c=t(r[n-1]);(l<a||l>s||c<a||c>s)&&t.domain([r[0],r[n-1]])}},I4e=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},$4e=function(t,r){if(!r||r.length!==2||!ge(r[0])||!ge(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!ge(t[0])||t[0]<n)&&(a[0]=n),(!ge(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},R4e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,l=0;l<r;++l){var c=dp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},D4e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var l=dp(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},L4e={sign:R4e,expand:nke,none:ch,silhouette:ike,wiggle:ake,positive:D4e},F4e=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=L4e[n],s=rke().keys(i).value(function(l,c){return+Ar(l,c,0)}).order(Zk).offset(a);return s(t)},B4e=function(t,r,n,i,a,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Er(Er({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(en(m)){var w=x.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[m]=w}else x.stackGroups[od("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Er(Er({},f),{},kf({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var b=p.stackGroups[v];return Er(Er({},m),{},kf({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:F4e(t,b.items,a)}))},g)}return Er(Er({},f),{},kf({},h,p))},d)},_K=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=e4e(u,a,l);return t.domain([tj(d),Ll(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=t4e(f,a,l);return{niceTicks:h}}return null};function T0(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lt(i[t.dataKey])){var l=r0(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Ar(i,lt(s)?t.dataKey:s);return lt(c)?null:t.scale(c)}var rL=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Ar(s,r.dataKey,r.domain[l]);return lt(c)?null:r.scale(c)-a/2+i},U4e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},z4e=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Er(Er({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(en(a)){var s=r[a];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},V4e=function(t){return t.reduce(function(r,n){return[tj(n.concat([r[0]]).filter(ge)),Ll(n.concat([r[1]]).filter(ge))]},[1/0,-1/0])},jK=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(u,d){var f=V4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},nL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OC=function(t,r,n){if(Xe(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(ge(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(nL.test(t[0])){var a=+nL.exec(t[0])[1];i[0]=r[0]-a}else Xe(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(ge(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(iL.test(t[1])){var s=+iL.exec(t[1])[1];i[1]=r[1]+s}else Xe(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},A0=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=YT(r,function(f){return f.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},aL=function(t,r,n){return!t||!t.length||Hu(t,Ji(n,"type.defaultProps.domain"))?r:t},SK=function(t,r){var n=t.type.defaultProps?Er(Er({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Er(Er({},ze(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:wA(t),value:Ar(r,i),type:c,payload:r,chartType:u,hide:d})};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function sL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(r),!0).forEach(function(n){NK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NK(e,t,r){return t=W4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4e(e){var t=H4e(e,"string");return Wg(t)=="symbol"?t:t+""}function H4e(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q4e(e,t){return J4e(e)||Y4e(e,t)||K4e(e,t)||G4e()}function G4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K4e(e,t){if(e){if(typeof e=="string")return oL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oL(e,t)}}function oL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function J4e(e){if(Array.isArray(e))return e}var M0=Math.PI/180,X4e=function(t){return t*180/Math.PI},tr=function(t,r,n,i){return{x:t+Math.cos(-M0*i)*n,y:r+Math.sin(-M0*i)*n}},kK=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Q4e=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=ei(t.cx,s,s/2),f=ei(t.cy,l,l/2),h=kK(s,l,n),p=ei(t.innerRadius,h,0),g=ei(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,b){var x=r[b],w=x.domain,_=x.reversed,N;if(lt(x.range))i==="angleAxis"?N=[c,u]:i==="radiusAxis"&&(N=[p,g]),_&&(N=[N[1],N[0]]);else{N=x.range;var j=N,k=q4e(j,2);c=k[0],u=k[1]}var O=bK(x,a),P=O.realScaleType,A=O.scale;A.domain(w).range(N),wK(A);var $=_K(A,yo(yo({},x),{},{realScaleType:P})),M=yo(yo(yo({},x),$),{},{range:N,radius:g,realScaleType:P,scale:A,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return yo(yo({},v),{},NK({},b,M))},{})},Z4e=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},eLe=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,l=Z4e({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:l,angle:X4e(u),angleInRadian:u}},tLe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},rLe=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},lL=function(t,r){var n=t.x,i=t.y,a=eLe({x:n,y:i},r),s=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=tLe(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?yo(yo({},r),{},{radius:s,angle:rLe(p,r)}):null},CK=function(t){return!y.isValidElement(t)&&!Xe(t)&&typeof t!="boolean"?t.className:""};function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}var nLe=["offset"];function iLe(e){return lLe(e)||oLe(e)||sLe(e)||aLe()}function aLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sLe(e,t){if(e){if(typeof e=="string")return PC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PC(e,t)}}function oLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lLe(e){if(Array.isArray(e))return PC(e)}function PC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cLe(e,t){if(e==null)return{};var r=uLe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(r),!0).forEach(function(n){dLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dLe(e,t,r){return t=fLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fLe(e){var t=hLe(e,"string");return Hg(t)=="symbol"?t:t+""}function hLe(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}var pLe=function(t){var r=t.value,n=t.formatter,i=lt(t.children)?r:t.children;return Xe(n)?n(i):i},mLe=function(t,r){var n=Zn(r-t),i=Math.min(Math.abs(r-t),360);return n*i},gLe=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,b=mLe(p,g),x=b>=0?1:-1,w,_;i==="insideStart"?(w=p+x*s,_=m):i==="insideEnd"?(w=g-x*s,_=!m):i==="end"&&(w=g+x*s,_=m),_=b<=0?_:!_;var N=tr(u,d,v,w),j=tr(u,d,v,w+(_?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),O=lt(t.id)?od("recharts-radial-line-"):t.id;return T.createElement("text",qg({},n,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:O,d:k})),T.createElement("textPath",{xlinkHref:"#".concat(O)},r))},vLe=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=tr(s,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=tr(s,l,v,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},yLe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*i,b=m>0?"end":"start",x=m>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return Gr(Gr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Gr(Gr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var N={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Gr(Gr({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(a==="right"){var j={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Gr(Gr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return a==="insideLeft"?Gr({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideRight"?Gr({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):a==="insideTop"?Gr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):a==="insideBottom"?Gr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},k):a==="insideTopLeft"?Gr({x:l+v,y:c+h,textAnchor:x,verticalAnchor:g},k):a==="insideTopRight"?Gr({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:g},k):a==="insideBottomLeft"?Gr({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:p},k):a==="insideBottomRight"?Gr({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:p},k):op(a)&&(ge(a.x)||su(a.x))&&(ge(a.y)||su(a.y))?Gr({x:l+ei(a.x,u),y:c+ei(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):Gr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},xLe=function(t){return"cx"in t&&ge(t.cx)};function dn(e){var t=e.offset,r=t===void 0?5:t,n=cLe(e,nLe),i=Gr({offset:r},n),a=i.viewBox,s=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||lt(l)&&lt(c)&&!y.isValidElement(u)&&!Xe(u))return null;if(y.isValidElement(u))return y.cloneElement(u,i);var p;if(Xe(u)){if(p=y.createElement(u,i),y.isValidElement(p))return p}else p=pLe(i);var g=xLe(a),m=ze(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return gLe(i,p,m);var v=g?vLe(i):yLe(i);return T.createElement(Wu,qg({className:ct("recharts-label",f)},m,v,{breakAll:h}),p)}dn.displayName="Label";var EK=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(ge(m)&&ge(v)){if(ge(f)&&ge(h))return{x:f,y:h,width:m,height:v};if(ge(p)&&ge(g))return{x:p,y:g,width:m,height:v}}return ge(f)&&ge(h)?{x:f,y:h,width:0,height:0}:ge(r)&&ge(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},bLe=function(t,r){return t?t===!0?T.createElement(dn,{key:"label-implicit",viewBox:r}):en(t)?T.createElement(dn,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===dn?y.cloneElement(t,{key:"label-implicit",viewBox:r}):T.createElement(dn,{key:"label-implicit",content:t,viewBox:r}):Xe(t)?T.createElement(dn,{key:"label-implicit",content:t,viewBox:r}):op(t)?T.createElement(dn,qg({viewBox:r},t,{key:"label-implicit"})):null:null},wLe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=EK(t),s=Xi(i,dn).map(function(c,u){return y.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var l=bLe(t.label,r||a);return[l].concat(iLe(s))};dn.parseViewBox=EK;dn.renderCallByParent=wLe;function _Le(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jLe=_Le;const SLe=Nt(jLe);function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}var NLe=["valueAccessor"],kLe=["data","dataKey","clockWise","id","textBreakAll"];function CLe(e){return TLe(e)||PLe(e)||OLe(e)||ELe()}function ELe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OLe(e,t){if(e){if(typeof e=="string")return TC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TC(e,t)}}function PLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TLe(e){if(Array.isArray(e))return TC(e)}function TC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function uL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(r),!0).forEach(function(n){ALe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ALe(e,t,r){return t=MLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MLe(e){var t=ILe(e,"string");return Gg(t)=="symbol"?t:t+""}function ILe(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fL(e,t){if(e==null)return{};var r=$Le(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Le(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var RLe=function(t){return Array.isArray(t.value)?SLe(t.value):t.value};function Ys(e){var t=e.valueAccessor,r=t===void 0?RLe:t,n=fL(e,NLe),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=fL(n,kLe);return!i||!i.length?null:T.createElement(yt,{className:"recharts-label-list"},i.map(function(d,f){var h=lt(a)?r(d,f):Ar(d&&d.payload,a),p=lt(l)?{}:{id:"".concat(l,"-").concat(f)};return T.createElement(dn,I0({},ze(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:dn.parseViewBox(lt(s)?d:dL(dL({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ys.displayName="LabelList";function DLe(e,t){return e?e===!0?T.createElement(Ys,{key:"labelList-implicit",data:t}):T.isValidElement(e)||Xe(e)?T.createElement(Ys,{key:"labelList-implicit",data:t,content:e}):op(e)?T.createElement(Ys,I0({data:t},e,{key:"labelList-implicit"})):null:null}function LLe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Xi(n,Ys).map(function(s,l){return y.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=DLe(e.label,t);return[a].concat(CLe(i))}Ys.renderCallByParent=LLe;function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function AC(){return AC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AC.apply(this,arguments)}function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){FLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FLe(e,t,r){return t=BLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BLe(e){var t=ULe(e,"string");return Kg(t)=="symbol"?t:t+""}function ULe(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zLe=function(t,r){var n=Zn(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Xy=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/M0,h=u?a:a+s*f,p=tr(r,n,d,h),g=tr(r,n,i,h),m=u?a-s*f:a,v=tr(r,n,d*Math.cos(f*M0),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},OK=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=zLe(s,l),u=s+c,d=tr(r,n,a,s),f=tr(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=tr(r,n,i,s),g=tr(r,n,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},VLe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Zn(d-u),h=Xy({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Xy({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):OK({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var j=Xy({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=j.circleTangency,O=j.lineTangency,P=j.theta,A=Xy({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=A.circleTangency,M=A.lineTangency,z=A.theta,L=c?Math.abs(u-d):Math.abs(u-d)-P-z;if(L<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},WLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PK=function(t){var r=pL(pL({},WLe),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var p=ct("recharts-sector",h),g=s-a,m=ei(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=VLe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=OK({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),T.createElement("path",AC({},ze(r,!0),{className:p,d:v,role:"img"}))};function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function MC(){return MC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MC.apply(this,arguments)}function mL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(r),!0).forEach(function(n){HLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HLe(e,t,r){return t=qLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qLe(e){var t=GLe(e,"string");return Yg(t)=="symbol"?t:t+""}function GLe(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vL={curveBasisClosed:HNe,curveBasisOpen:qNe,curveBasis:WNe,curveBumpX:PNe,curveBumpY:TNe,curveLinearClosed:GNe,curveLinear:z_,curveMonotoneX:KNe,curveMonotoneY:YNe,curveNatural:JNe,curveStep:XNe,curveStepAfter:ZNe,curveStepBefore:QNe},Qy=function(t){return t.x===+t.x&&t.y===+t.y},Jp=function(t){return t.x},Xp=function(t){return t.y},KLe=function(t,r){if(Xe(t))return t;var n="curve".concat(B_(t));return(n==="curveMonotone"||n==="curveBump")&&r?vL["".concat(n).concat(r==="vertical"?"Y":"X")]:vL[n]||z_},YLe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=KLe(n,l),f=u?a.filter(function(m){return Qy(m)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(m){return Qy(m)}):s,g=f.map(function(m,v){return gL(gL({},m),{},{base:p[v]})});return l==="vertical"?h=zy().y(Xp).x1(Jp).x0(function(m){return m.base.x}):h=zy().x(Jp).y1(Xp).y0(function(m){return m.base.y}),h.defined(Qy).curve(d),h(g)}return l==="vertical"&&ge(s)?h=zy().y(Xp).x1(Jp).x0(s):ge(s)?h=zy().x(Jp).y1(Xp).y0(s):h=Nq().x(Jp).y(Xp),h.defined(Qy).curve(d),h(f)},Su=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?YLe(t):i;return y.createElement("path",MC({},ze(t,!1),n0(t),{className:ct("recharts-curve",r),d:s,ref:a}))};const{getOwnPropertyNames:JLe,getOwnPropertySymbols:XLe}=Object,{hasOwnProperty:QLe}=Object.prototype;function gS(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Zy(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:a}=i,s=a.get(r),l=a.get(n);if(s&&l)return s===n&&l===r;a.set(r,n),a.set(n,r);const c=e(r,n,i);return a.delete(r),a.delete(n),c}}function ZLe(e){return e!=null?e[Symbol.toStringTag]:void 0}function yL(e){return JLe(e).concat(XLe(e))}const e3e=Object.hasOwn||((e,t)=>QLe.call(e,t));function ud(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const t3e="__v",r3e="__o",n3e="_owner",{getOwnPropertyDescriptor:xL,keys:bL}=Object;function i3e(e,t){return e.byteLength===t.byteLength&&$0(new Uint8Array(e),new Uint8Array(t))}function a3e(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function s3e(e,t){return e.byteLength===t.byteLength&&$0(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function o3e(e,t){return ud(e.getTime(),t.getTime())}function l3e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function c3e(e,t){return e===t}function wL(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.entries();let s,l,c=0;for(;(s=a.next())&&!s.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(i[f]){f++;continue}const h=s.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const u3e=ud;function d3e(e,t,r){const n=bL(e);let i=n.length;if(bL(t).length!==i)return!1;for(;i-- >0;)if(!TK(e,t,r,n[i]))return!1;return!0}function Qp(e,t,r){const n=yL(e);let i=n.length;if(yL(t).length!==i)return!1;let a,s,l;for(;i-- >0;)if(a=n[i],!TK(e,t,r,a)||(s=xL(e,a),l=xL(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function f3e(e,t){return ud(e.valueOf(),t.valueOf())}function h3e(e,t){return e.source===t.source&&e.flags===t.flags}function _L(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.values();let s,l;for(;(s=a.next())&&!s.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function $0(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function p3e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function TK(e,t,r,n){return(n===n3e||n===r3e||n===t3e)&&(e.$$typeof||t.$$typeof)?!0:e3e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const m3e="[object ArrayBuffer]",g3e="[object Arguments]",v3e="[object Boolean]",y3e="[object DataView]",x3e="[object Date]",b3e="[object Error]",w3e="[object Map]",_3e="[object Number]",j3e="[object Object]",S3e="[object RegExp]",N3e="[object Set]",k3e="[object String]",C3e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},E3e="[object URL]",O3e=Object.prototype.toString;function P3e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;const w=typeof v;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(v,b,x):w==="function"?a(v,b,x):!1;const _=v.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(v,b,x);if(Array.isArray(v))return t(v,b,x);if(_===Date)return n(v,b,x);if(_===RegExp)return d(v,b,x);if(_===Map)return s(v,b,x);if(_===Set)return f(v,b,x);const N=O3e.call(v);if(N===x3e)return n(v,b,x);if(N===S3e)return d(v,b,x);if(N===w3e)return s(v,b,x);if(N===N3e)return f(v,b,x);if(N===j3e)return typeof v.then!="function"&&typeof b.then!="function"&&c(v,b,x);if(N===E3e)return p(v,b,x);if(N===b3e)return i(v,b,x);if(N===g3e)return c(v,b,x);if(C3e[N])return h(v,b,x);if(N===m3e)return e(v,b,x);if(N===y3e)return r(v,b,x);if(N===v3e||N===_3e||N===k3e)return u(v,b,x);if(g){let j=g[N];if(!j){const k=ZLe(v);k&&(j=g[k])}if(j)return j(v,b,x)}return!1}}function T3e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:i3e,areArraysEqual:r?Qp:a3e,areDataViewsEqual:s3e,areDatesEqual:o3e,areErrorsEqual:l3e,areFunctionsEqual:c3e,areMapsEqual:r?gS(wL,Qp):wL,areNumbersEqual:u3e,areObjectsEqual:r?Qp:d3e,arePrimitiveWrappersEqual:f3e,areRegExpsEqual:h3e,areSetsEqual:r?gS(_L,Qp):_L,areTypedArraysEqual:r?gS($0,Qp):$0,areUrlsEqual:p3e,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Zy(n.areArraysEqual),a=Zy(n.areMapsEqual),s=Zy(n.areObjectsEqual),l=Zy(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return n}function A3e(e){return function(t,r,n,i,a,s,l){return e(t,r,l)}}function M3e({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return t(l,c,a)}}const I3e=kc();kc({strict:!0});kc({circular:!0});kc({circular:!0,strict:!0});kc({createInternalComparator:()=>ud});kc({strict:!0,createInternalComparator:()=>ud});kc({circular:!0,createInternalComparator:()=>ud});kc({circular:!0,createInternalComparator:()=>ud,strict:!0});function kc(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,a=T3e(e),s=P3e(a),l=r?r(s):A3e(s);return M3e({circular:t,comparator:s,createState:n,equals:l,strict:i})}function $3e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function jL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):$3e(i)};requestAnimationFrame(n)}function IC(e){"@babel/helpers - typeof";return IC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IC(e)}function R3e(e){return B3e(e)||F3e(e)||L3e(e)||D3e()}function D3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L3e(e,t){if(e){if(typeof e=="string")return SL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SL(e,t)}}function SL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B3e(e){if(Array.isArray(e))return e}function U3e(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,l=R3e(s),c=l[0],u=l.slice(1);if(typeof c=="number"){jL(i.bind(null,u),c);return}i(c),jL(i.bind(null,u));return}IC(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t,r){return t=z3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3e(e){var t=V3e(e,"string");return Jg(t)==="symbol"?t:String(t)}function V3e(e,t){if(Jg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W3e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},H3e=function(t){return t},q3e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Mm=function(t,r){return Object.keys(r).reduce(function(n,i){return kL(kL({},n),{},AK({},i,t(i,r[i])))},{})},CL=function(t,r,n){return t.map(function(i){return"".concat(q3e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function G3e(e,t){return J3e(e)||Y3e(e,t)||MK(e,t)||K3e()}function K3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function J3e(e){if(Array.isArray(e))return e}function X3e(e){return eFe(e)||Z3e(e)||MK(e)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(e,t){if(e){if(typeof e=="string")return $C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $C(e,t)}}function Z3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eFe(e){if(Array.isArray(e))return $C(e)}function $C(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R0=1e-4,IK=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},$K=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},EL=function(t,r){return function(n){var i=IK(t,r);return $K(i,n)}},tFe=function(t,r){return function(n){var i=IK(t,r),a=[].concat(X3e(i.map(function(s,l){return s*l}).slice(1)),[0]);return $K(a,n)}},OL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=G3e(u,4);i=d[0],a=d[1],s=d[2],l=d[3]}}}var f=EL(i,s),h=EL(a,l),p=tFe(i,s),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var x=b>1?1:b,w=x,_=0;_<8;++_){var N=f(w)-x,j=p(w);if(Math.abs(N-x)<R0||j<R0)return h(w);w=g(w-N/j)}return h(w)};return m.isStepper=!1,m},rFe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,g=h*a,m=h+(p-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<R0&&Math.abs(m)<R0?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},nFe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OL(i);case"spring":return rFe();default:if(i.split("(")[0]==="cubic-bezier")return OL(i)}return typeof i=="function"?i:null};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function PL(e){return sFe(e)||aFe(e)||RK(e)||iFe()}function iFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sFe(e){if(Array.isArray(e))return DC(e)}function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(n){RC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RC(e,t,r){return t=oFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oFe(e){var t=lFe(e,"string");return Xg(t)==="symbol"?t:String(t)}function lFe(e,t){if(Xg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cFe(e,t){return fFe(e)||dFe(e,t)||RK(e,t)||uFe()}function uFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RK(e,t){if(e){if(typeof e=="string")return DC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DC(e,t)}}function DC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function fFe(e){if(Array.isArray(e))return e}var D0=function(t,r,n){return t+(r-t)*n},LC=function(t){var r=t.from,n=t.to;return r!==n},hFe=function e(t,r,n){var i=Mm(function(a,s){if(LC(s)){var l=t(s.from,s.to,s.velocity),c=cFe(l,2),u=c[0],d=c[1];return wn(wn({},s),{},{from:u,velocity:d})}return s},r);return n<1?Mm(function(a,s){return LC(s)?wn(wn({},s),{},{velocity:D0(s.velocity,i[a].velocity,n),from:D0(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const pFe=function(e,t,r,n,i){var a=W3e(e,t),s=a.reduce(function(v,b){return wn(wn({},v),{},RC({},b,[e[b],t[b]]))},{}),l=a.reduce(function(v,b){return wn(wn({},v),{},RC({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Mm(function(b,x){return x.from},l)},p=function(){return!Object.values(l).filter(LC).length},g=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=hFe(r,l,w),i(wn(wn(wn({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var x=(b-d)/n,w=Mm(function(N,j){return D0.apply(void 0,PL(j).concat([r(x)]))},s);if(i(wn(wn(wn({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var _=Mm(function(N,j){return D0.apply(void 0,PL(j).concat([r(1)]))},s);i(wn(wn(wn({},e),t),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}var mFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function gFe(e,t){if(e==null)return{};var r=vFe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function vS(e){return wFe(e)||bFe(e)||xFe(e)||yFe()}function yFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xFe(e,t){if(e){if(typeof e=="string")return FC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(e,t)}}function bFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wFe(e){if(Array.isArray(e))return FC(e)}function FC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){dm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dm(e,t,r){return t=DK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DK(n.key),n)}}function SFe(e,t,r){return t&&jFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DK(e){var t=NFe(e,"string");return yh(t)==="symbol"?t:String(t)}function NFe(e,t){if(yh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BC(e,t)}function BC(e,t){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BC(e,t)}function CFe(e){var t=EFe();return function(){var n=L0(e),i;if(t){var a=L0(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return UC(this,i)}}function UC(e,t){if(t&&(yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zC(e)}function zC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L0(e){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L0(e)}var ms=function(e){kFe(r,e);var t=CFe(r);function r(n,i){var a;_Fe(this,r),a=t.call(this,n,i);var s=a.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(zC(a)),a.changeStyle=a.changeStyle.bind(zC(a)),!l||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),UC(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},UC(a);a.state={style:c?dm({},c,u):u}}else a.state={style:{}};return a}return SFe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!s){var p={style:c?dm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(I3e(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:i.to;if(this.state&&h){var v={style:c?dm({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation($a($a({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=pFe(s,l,nFe(u),c,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,b){if(b===0)return m;var x=v.duration,w=v.easing,_=w===void 0?"ease":w,N=v.style,j=v.properties,k=v.onAnimationEnd,O=b>0?s[b-1]:v,P=j||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(vS(m),[a.runJSAnimation.bind(a,{from:O.style,to:N,duration:x,easing:_}),x]);var A=CL(P,x,_),$=$a($a($a({},O.style),N),{},{transition:A});return[].concat(vS(m),[$,x,k]).filter(H3e)};return this.manager.start([c].concat(vS(s.reduce(p,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=U3e());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=l?dm({},l,c):c,v=CL(Object.keys(m),s,u);g.start([d,a,$a($a({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=gFe(i,mFe),u=y.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||s<=0)return a;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,b=g.className,x=y.cloneElement(p,$a($a({},c),{},{style:$a($a({},v),d),className:b}));return x};return u===1?f(y.Children.only(a)):T.createElement("div",null,y.Children.map(a,function(h){return f(h)}))}}]),r}(y.PureComponent);ms.displayName="Animate";ms.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ms.propTypes={from:le.oneOfType([le.object,le.string]),to:le.oneOfType([le.object,le.string]),attributeName:le.string,duration:le.number,begin:le.number,easing:le.oneOfType([le.string,le.func]),steps:le.arrayOf(le.shape({duration:le.number.isRequired,style:le.object.isRequired,easing:le.oneOfType([le.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),le.func]),properties:le.arrayOf("string"),onAnimationEnd:le.func})),children:le.oneOfType([le.node,le.func]),isActive:le.bool,canBegin:le.bool,onAnimationEnd:le.func,shouldReAnimate:le.bool,onAnimationStart:le.func,onAnimationReStart:le.func};function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function OFe(e,t){return MFe(e)||AFe(e,t)||TFe(e,t)||PFe()}function PFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TFe(e,t){if(e){if(typeof e=="string")return ML(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ML(e,t)}}function ML(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function MFe(e){if(Array.isArray(e))return e}function IL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(r),!0).forEach(function(n){IFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IFe(e,t,r){return t=$Fe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Fe(e){var t=RFe(e,"string");return Qg(t)=="symbol"?t:t+""}function RFe(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RL=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var g=Math.min(s,a);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+i,`
            L `).concat(t+c*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},DFe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},LFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_A=function(t){var r=$L($L({},LFe),t),n=y.useRef(),i=y.useState(-1),a=OFe(i,2),s=a[0],l=a[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ct("recharts-rectangle",p);return x?T.createElement(ms,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(_){var N=_.width,j=_.height,k=_.x,O=_.y;return T.createElement(ms,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},T.createElement("path",F0({},ze(r,!0),{className:w,d:RL(k,O,N,j,h),ref:n})))}):T.createElement("path",F0({},ze(r,!0),{className:w,d:RL(c,u,d,f,h)}))},FFe=["points","className","baseLinePoints","connectNulls"];function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}function BFe(e,t){if(e==null)return{};var r=UFe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DL(e){return HFe(e)||WFe(e)||VFe(e)||zFe()}function zFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VFe(e,t){if(e){if(typeof e=="string")return VC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VC(e,t)}}function WFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HFe(e){if(Array.isArray(e))return VC(e)}function VC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var LL=function(t){return t&&t.x===+t.x&&t.y===+t.y},qFe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){LL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),LL(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Im=function(t,r){var n=qFe(t);r&&(n=[n.reduce(function(a,s){return[].concat(DL(a),DL(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},GFe=function(t,r,n){var i=Im(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Im(r.reverse(),n).slice(1))},KFe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=BFe(t,FFe);if(!r||!r.length)return null;var l=ct("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=GFe(r,i,a);return T.createElement("g",{className:l},T.createElement("path",af({},ze(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?T.createElement("path",af({},ze(s,!0),{fill:"none",d:Im(r,a)})):null,c?T.createElement("path",af({},ze(s,!0),{fill:"none",d:Im(i,a)})):null)}var d=Im(r,a);return T.createElement("path",af({},ze(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WC.apply(this,arguments)}var Qv=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=ct("recharts-dot",a);return r===+r&&n===+n&&i===+i?y.createElement("circle",WC({},ze(t,!1),n0(t),{className:s,cx:r,cy:n,r:i})):null};function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}var YFe=["x","y","top","left","width","height","className"];function HC(){return HC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HC.apply(this,arguments)}function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(n){XFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XFe(e,t,r){return t=QFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QFe(e){var t=ZFe(e,"string");return Zg(t)=="symbol"?t:t+""}function ZFe(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e5e(e,t){if(e==null)return{};var r=t5e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var r5e=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},n5e=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=e5e(t,YFe),v=JFe({x:n,y:a,top:l,left:u,width:f,height:p},m);return!ge(n)||!ge(a)||!ge(f)||!ge(p)||!ge(l)||!ge(u)?null:T.createElement("path",HC({},ze(v,!0),{className:ct("recharts-cross",g),d:r5e(n,a,f,p,l,u)}))},i5e=ej,a5e=QG,s5e=so;function o5e(e,t){return e&&e.length?i5e(e,s5e(t),a5e):void 0}var l5e=o5e;const c5e=Nt(l5e);var u5e=ej,d5e=so,f5e=ZG;function h5e(e,t){return e&&e.length?u5e(e,d5e(t),f5e):void 0}var p5e=h5e;const m5e=Nt(p5e);var g5e=["cx","cy","angle","ticks","axisLine"],v5e=["ticks","tick","angle","tickFormatter","stroke"];function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}function BL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(r),!0).forEach(function(n){ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t){if(e==null)return{};var r=y5e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FK(n.key),n)}}function b5e(e,t,r){return t&&zL(e.prototype,t),r&&zL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w5e(e,t,r){return t=B0(t),_5e(e,LK()?Reflect.construct(t,r||[],B0(e).constructor):t.apply(e,r))}function _5e(e,t){if(t&&(xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j5e(e)}function j5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LK=function(){return!!e})()}function B0(e){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B0(e)}function S5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qC(e,t)}function qC(e,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qC(e,t)}function ij(e,t,r){return t=FK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=N5e(e,"string");return xh(t)=="symbol"?t:t+""}function N5e(e,t){if(xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aj=function(e){function t(){return x5e(this,t),w5e(this,t,arguments)}return S5e(t,e),b5e(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,l=a.cx,c=a.cy;return tr(l,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=c5e(l,function(d){return d.coordinate||0}),u=m5e(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=UL(n,g5e),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=tr(i,a,d[0],s),h=tr(i,a,d[1],s),p=Rc(Rc(Rc({},ze(u,!1)),{},{fill:"none"},ze(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return T.createElement("line",$m({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=UL(i,v5e),f=this.getTickTextAnchor(),h=ze(d,!1),p=ze(s,!1),g=a.map(function(m,v){var b=n.getTickValueCoord(m),x=Rc(Rc(Rc(Rc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:m});return T.createElement(yt,$m({className:ct("recharts-polar-radius-axis-tick",CK(s)),key:"tick-".concat(m.coordinate)},Vu(n.props,m,v)),t.renderTickItem(s,x,c?c(m.value,v):m.value))});return T.createElement(yt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:T.createElement(yt,{className:ct("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),dn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return T.isValidElement(n)?s=T.cloneElement(n,i):Xe(n)?s=n(i):s=T.createElement(Wu,$m({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(y.PureComponent);ij(aj,"displayName","PolarRadiusAxis");ij(aj,"axisType","radiusAxis");ij(aj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qc.apply(this,arguments)}function VL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(r),!0).forEach(function(n){sj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UK(n.key),n)}}function C5e(e,t,r){return t&&WL(e.prototype,t),r&&WL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E5e(e,t,r){return t=U0(t),O5e(e,BK()?Reflect.construct(t,r||[],U0(e).constructor):t.apply(e,r))}function O5e(e,t){if(t&&(bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P5e(e)}function P5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BK=function(){return!!e})()}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U0(e)}function T5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GC(e,t)}function GC(e,t){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GC(e,t)}function sj(e,t,r){return t=UK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=A5e(e,"string");return bh(t)=="symbol"?t:t+""}function A5e(e,t){if(bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var M5e=Math.PI/180,HL=1e-5,oj=function(e){function t(){return k5e(this,t),E5e(this,t,arguments)}return T5e(t,e),C5e(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=tr(a,s,l,n.coordinate),h=tr(a,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*M5e),s;return a>HL?s=i==="outer"?"start":"end":a<-HL?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Dc(Dc({},ze(this.props,!1)),{},{fill:"none"},ze(l,!1));if(c==="circle")return T.createElement(Qv,Qc({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return tr(i,a,s,h.coordinate)});return T.createElement(KFe,Qc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ze(this.props,!1),f=ze(s,!1),h=Dc(Dc({},d),{},{fill:"none"},ze(l,!1)),p=a.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),x=Dc(Dc(Dc({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return T.createElement(yt,Qc({className:ct("recharts-polar-angle-axis-tick",CK(s)),key:"tick-".concat(g.coordinate)},Vu(n.props,g,m)),l&&T.createElement("line",Qc({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&t.renderTickItem(s,x,c?c(g.value,m):g.value))});return T.createElement(yt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:T.createElement(yt,{className:ct("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return T.isValidElement(n)?s=T.cloneElement(n,i):Xe(n)?s=n(i):s=T.createElement(Wu,Qc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(y.PureComponent);sj(oj,"displayName","PolarAngleAxis");sj(oj,"axisType","angleAxis");sj(oj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var I5e=Yq,$5e=I5e(Object.getPrototypeOf,Object),R5e=$5e,D5e=tl,L5e=R5e,F5e=rl,B5e="[object Object]",U5e=Function.prototype,z5e=Object.prototype,zK=U5e.toString,V5e=z5e.hasOwnProperty,W5e=zK.call(Object);function H5e(e){if(!F5e(e)||D5e(e)!=B5e)return!1;var t=L5e(e);if(t===null)return!0;var r=V5e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&zK.call(r)==W5e}var q5e=H5e;const G5e=Nt(q5e);var K5e=tl,Y5e=rl,J5e="[object Boolean]";function X5e(e){return e===!0||e===!1||Y5e(e)&&K5e(e)==J5e}var Q5e=X5e;const Z5e=Nt(Q5e);function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(this,arguments)}function eBe(e,t){return iBe(e)||nBe(e,t)||rBe(e,t)||tBe()}function tBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rBe(e,t){if(e){if(typeof e=="string")return qL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qL(e,t)}}function qL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function iBe(e){if(Array.isArray(e))return e}function GL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(r),!0).forEach(function(n){aBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aBe(e,t,r){return t=sBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sBe(e){var t=oBe(e,"string");return ev(t)=="symbol"?t:t+""}function oBe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YL=function(t,r,n,i,a){var s=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+a),l+="L ".concat(t+n-s/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},lBe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cBe=function(t){var r=KL(KL({},lBe),t),n=y.useRef(),i=y.useState(-1),a=eBe(i,2),s=a[0],l=a[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=ct("recharts-trapezoid",p);return b?T.createElement(ms,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,N=w.lowerWidth,j=w.height,k=w.x,O=w.y;return T.createElement(ms,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},T.createElement("path",z0({},ze(r,!0),{className:x,d:YL(k,O,_,N,j),ref:n})))}):T.createElement("g",null,T.createElement("path",z0({},ze(r,!0),{className:x,d:YL(c,u,d,f,h)})))},uBe=["option","shapeType","propTransformer","activeClassName","isActive"];function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function dBe(e,t){if(e==null)return{};var r=fBe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(n){hBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hBe(e,t,r){return t=pBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pBe(e){var t=mBe(e,"string");return tv(t)=="symbol"?t:t+""}function mBe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gBe(e,t){return V0(V0({},t),e)}function vBe(e,t){return e==="symbols"}function XL(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return T.createElement(_A,r);case"trapezoid":return T.createElement(cBe,r);case"sector":return T.createElement(PK,r);case"symbols":if(vBe(t))return T.createElement(UT,r);break;default:return null}}function yBe(e){return y.isValidElement(e)?e.props:e}function VK(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?gBe:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,l=e.isActive,c=dBe(e,uBe),u;if(y.isValidElement(t))u=y.cloneElement(t,V0(V0({},c),yBe(t)));else if(Xe(t))u=t(c);else if(G5e(t)&&!Z5e(t)){var d=i(t,c);u=T.createElement(XL,{shapeType:r,elementProps:d})}else{var f=c;u=T.createElement(XL,{shapeType:r,elementProps:f})}return l?T.createElement(yt,{className:s},u):u}function lj(e,t){return t!=null&&"trapezoids"in e.props}function cj(e,t){return t!=null&&"sectors"in e.props}function rv(e,t){return t!=null&&"points"in e.props}function xBe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function bBe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function wBe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function _Be(e,t){var r;return lj(e,t)?r=xBe:cj(e,t)?r=bBe:rv(e,t)&&(r=wBe),r}function jBe(e,t){var r;return lj(e,t)?r="trapezoids":cj(e,t)?r="sectors":rv(e,t)&&(r="points"),r}function SBe(e,t){if(lj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(cj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return rv(e,t)?t.payload:{}}function NBe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=jBe(r,t),a=SBe(r,t),s=n.filter(function(c,u){var d=Hu(a,c),f=r.props[i].filter(function(g){var m=_Be(r,t);return m(g,t)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(s[s.length-1]);return l}var Hx;function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(this,arguments)}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(n){ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HK(n.key),n)}}function CBe(e,t,r){return t&&ZL(e.prototype,t),r&&ZL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EBe(e,t,r){return t=W0(t),OBe(e,WK()?Reflect.construct(t,r||[],W0(e).constructor):t.apply(e,r))}function OBe(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PBe(e)}function PBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WK=function(){return!!e})()}function W0(e){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W0(e)}function TBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KC(e,t)}function KC(e,t){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KC(e,t)}function ha(e,t,r){return t=HK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HK(e){var t=ABe(e,"string");return wh(t)=="symbol"?t:t+""}function ABe(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var il=function(e){function t(r){var n;return kBe(this,t),n=EBe(this,t,[r]),ha(n,"pieRef",null),ha(n,"sectorRefs",[]),ha(n,"id",od("recharts-pie-")),ha(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xe(i)&&i()}),ha(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return TBe(t,e),CBe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=ze(this.props,!1),f=ze(s,!1),h=ze(l,!1),p=s&&s.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,x=tr(m.cx,m.cy,m.outerRadius+p,b),w=Jt(Jt(Jt(Jt({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,m.cx)},x),_=Jt(Jt(Jt(Jt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[tr(m.cx,m.cy,m.outerRadius,b),x]}),N=c;return lt(c)&&lt(u)?N="value":lt(c)&&(N=u),T.createElement(yt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(s,w,Ar(m,N)))});return T.createElement(yt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?s:h,g=Jt(Jt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return T.createElement(yt,sf({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Vu(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),T.createElement(VK,sf({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return T.createElement(ms,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=a&&a[0],x=b.startAngle;return a.forEach(function(w,_){var N=h&&h[_],j=_>0?Ji(w,"paddingAngle",0):0;if(N){var k=Xr(N.endAngle-N.startAngle,w.endAngle-w.startAngle),O=Jt(Jt({},w),{},{startAngle:x+j,endAngle:x+k(m)+j});v.push(O),x=O.endAngle}else{var P=w.endAngle,A=w.startAngle,$=Xr(0,P-A),M=$(m),z=Jt(Jt({},w),{},{startAngle:x+j,endAngle:x+M+j});v.push(z),x=z.endAngle}}),T.createElement(yt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Hu(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!s||!s.length||!ge(u)||!ge(d)||!ge(f)||!ge(h))return null;var m=ct("recharts-pie",l);return T.createElement(yt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(s),dn.renderCallByParent(this.props,null,!1),(!p||g)&&Ys.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(T.isValidElement(n))return T.cloneElement(n,i);if(Xe(n))return n(i);var s=ct("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return T.createElement(Su,sf({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(T.isValidElement(n))return T.cloneElement(n,i);var s=a;if(Xe(n)&&(s=n(i),T.isValidElement(s)))return s;var l=ct("recharts-pie-label-text",typeof n!="boolean"&&!Xe(n)?n.className:"");return T.createElement(Wu,sf({},i,{alignmentBaseline:"middle",className:l}),s)}}])}(y.PureComponent);Hx=il;ha(il,"displayName","Pie");ha(il,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!jc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ha(il,"parseDeltaAngle",function(e,t){var r=Zn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ha(il,"getRealPieData",function(e){var t=e.data,r=e.children,n=ze(e,!1),i=Xi(r,qv);return t&&t.length?t.map(function(a,s){return Jt(Jt(Jt({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Jt(Jt({},n),a.props)}):[]});ha(il,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=kK(i,a),l=n+ei(e.cx,i,i/2),c=r+ei(e.cy,a,a/2),u=ei(e.innerRadius,s,0),d=ei(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ha(il,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Jt(Jt({},t.type.defaultProps),t.props):t.props,i=Hx.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Hx.parseCoordinateOfPie(n,r),m=Hx.parseDeltaAngle(s,l),v=Math.abs(m),b=u;lt(u)&&lt(f)?(as(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):lt(u)&&(as(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var x=i.filter(function(O){return Ar(O,b,0)!==0}).length,w=(v>=360?x:x-1)*c,_=v-x*p-w,N=i.reduce(function(O,P){var A=Ar(P,b,0);return O+(ge(A)?A:0)},0),j;if(N>0){var k;j=i.map(function(O,P){var A=Ar(O,b,0),$=Ar(O,d,P),M=(ge(A)?A:0)/N,z;P?z=k.endAngle+Zn(m)*c*(A!==0?1:0):z=s;var L=z+Zn(m)*((A!==0?p:0)+M*_),V=(z+L)/2,D=(g.innerRadius+g.outerRadius)/2,U=[{name:$,value:A,payload:O,dataKey:b,type:h}],I=tr(g.cx,g.cy,D,V);return k=Jt(Jt(Jt({percent:M,cornerRadius:a,name:$,tooltipPayload:U,midAngle:V,middleRadius:D,tooltipPosition:I},O),g),{},{value:Ar(O,b),startAngle:z,endAngle:L,payload:O,paddingAngle:Zn(m)*c}),k})}return Jt(Jt({},g),{},{sectors:j,data:i})});var MBe=Math.ceil,IBe=Math.max;function $Be(e,t,r,n){for(var i=-1,a=IBe(MBe((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var RBe=$Be,DBe=pG,e3=1/0,LBe=17976931348623157e292;function FBe(e){if(!e)return e===0?e:0;if(e=DBe(e),e===e3||e===-e3){var t=e<0?-1:1;return t*LBe}return e===e?e:0}var qK=FBe,BBe=RBe,UBe=q_,yS=qK;function zBe(e){return function(t,r,n){return n&&typeof n!="number"&&UBe(t,r,n)&&(r=n=void 0),t=yS(t),r===void 0?(r=t,t=0):r=yS(r),n=n===void 0?t<r?1:-1:yS(n),BBe(t,r,n,e)}}var VBe=zBe,WBe=VBe,HBe=WBe(),qBe=HBe;const H0=Nt(qBe);function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(n){GK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GK(e,t,r){return t=GBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GBe(e){var t=KBe(e,"string");return nv(t)=="symbol"?t:t+""}function KBe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YBe=["Webkit","Moz","O","ms"],JBe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=YBe.reduce(function(a,s){return r3(r3({},a),{},GK({},s+n,r))},{});return i[t]=r,i};function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}function n3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(r),!0).forEach(function(n){Ii(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YK(n.key),n)}}function QBe(e,t,r){return t&&i3(e.prototype,t),r&&i3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZBe(e,t,r){return t=G0(t),e6e(e,KK()?Reflect.construct(t,r||[],G0(e).constructor):t.apply(e,r))}function e6e(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t6e(e)}function t6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KK=function(){return!!e})()}function G0(e){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G0(e)}function r6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YC(e,t)}function Ii(e,t,r){return t=YK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=n6e(e,"string");return _h(t)=="symbol"?t:t+""}function n6e(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i6e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Tm().domain(H0(0,c)).range([a,a+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},a3=function(t){return t.changedTouches&&!!t.changedTouches.length},jh=function(e){function t(r){var n;return XBe(this,t),n=ZBe(this,t,[r]),Ii(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ii(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ii(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Ii(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ii(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ii(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ii(n,"handleSlideDragStart",function(i){var a=a3(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return r6e(t,e),QBe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Ar(a[n],l,n);return Xe(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+d-f-l,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-l));var v=this.getIndex({startX:s+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=a3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-a;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),b[s]=u+x;var w=this.getIndex(b),_=w.startIndex,N=w.endIndex,j=function(){var O=v.length-1;return s==="startX"&&(l>c?_%m===0:N%m===0)||l<c&&N===O||s==="endX"&&(l>c?N%m===0:_%m===0)||l>c&&N===O};this.setState(Ii(Ii({},s,u+x),"brushMoveStartX",n.pageX),function(){g&&j()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Ii({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return T.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?T.cloneElement(f,{x:i,y:a,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),x=xS(xS({},ze(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=p||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return T.createElement(yt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return T.createElement(yt,{className:"recharts-brush-texts"},T.createElement(Wu,q0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+l/2},g),this.getTextOfTick(i)),T.createElement(Wu,q0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ge(l)||!ge(c)||!ge(u)||!ge(d)||u<=0||d<=0)return null;var w=ct("recharts-brush",a),_=T.Children.count(s)===1,N=JBe("userSelect","none");return T.createElement(yt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),T.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return T.isValidElement(n)?a=T.cloneElement(n,i):Xe(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return xS({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},a&&a.length?i6e({data:a,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}])}(y.PureComponent);Ii(jh,"displayName","Brush");Ii(jh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var a6e=KT;function s6e(e,t){var r;return a6e(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var o6e=s6e,l6e=Uq,c6e=so,u6e=o6e,d6e=ki,f6e=q_;function h6e(e,t,r){var n=d6e(e)?l6e:u6e;return r&&f6e(e,t,r)&&(t=void 0),n(e,c6e(t))}var p6e=h6e;const m6e=Nt(p6e);var Js=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},s3=cG;function g6e(e,t,r){t=="__proto__"&&s3?s3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var v6e=g6e,y6e=v6e,x6e=oG,b6e=so;function w6e(e,t){var r={};return t=b6e(t),x6e(e,function(n,i,a){y6e(r,i,t(n,i,a))}),r}var _6e=w6e;const j6e=Nt(_6e);function S6e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var N6e=S6e,k6e=KT;function C6e(e,t){var r=!0;return k6e(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var E6e=C6e,O6e=N6e,P6e=E6e,T6e=so,A6e=ki,M6e=q_;function I6e(e,t,r){var n=A6e(e)?O6e:P6e;return r&&M6e(e,t,r)&&(t=void 0),n(e,T6e(t))}var $6e=I6e;const JK=Nt($6e);var R6e=["x","y"];function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function JC(){return JC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JC.apply(this,arguments)}function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){D6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D6e(e,t,r){return t=L6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L6e(e){var t=F6e(e,"string");return iv(t)=="symbol"?t:t+""}function F6e(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B6e(e,t){if(e==null)return{};var r=U6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z6e(e,t){var r=e.x,n=e.y,i=B6e(e,R6e),a="".concat(r),s=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Zp(Zp(Zp(Zp(Zp({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function l3(e){return T.createElement(VK,JC({shapeType:"rectangle",propTransformer:z6e,activeClassName:"recharts-active-bar"},e))}var V6e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=ge(n)||gSe(n);return a?t(n,i):(a||Gu(),r)}},W6e=["value","background"],XK;function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function H6e(e,t){if(e==null)return{};var r=q6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){Fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZK(n.key),n)}}function K6e(e,t,r){return t&&u3(e.prototype,t),r&&u3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y6e(e,t,r){return t=Y0(t),J6e(e,QK()?Reflect.construct(t,r||[],Y0(e).constructor):t.apply(e,r))}function J6e(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X6e(e)}function X6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QK=function(){return!!e})()}function Y0(e){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y0(e)}function Q6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XC(e,t)}function XC(e,t){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XC(e,t)}function Fl(e,t,r){return t=ZK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=Z6e(e,"string");return Sh(t)=="symbol"?t:t+""}function Z6e(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dd=function(e){function t(){var r;G6e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Y6e(this,t,[].concat(i)),Fl(r,"state",{isAnimationFinished:!1}),Fl(r,"id",od("recharts-bar-")),Fl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Fl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Q6e(t,e),K6e(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=ze(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:s,m=Br(Br(Br({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return T.createElement(yt,K0({className:"recharts-bar-rectangle"},Vu(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),T.createElement(l3,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return T.createElement(ms,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=a.map(function(v,b){var x=h&&h[b];if(x){var w=Xr(x.x,v.x),_=Xr(x.y,v.y),N=Xr(x.width,v.width),j=Xr(x.height,v.height);return Br(Br({},v),{},{x:w(g),y:_(g),width:N(g),height:j(g)})}if(s==="horizontal"){var k=Xr(0,v.height),O=k(g);return Br(Br({},v),{},{y:v.y+v.height-O,height:O})}var P=Xr(0,v.width),A=P(g);return Br(Br({},v),{},{width:A})});return T.createElement(yt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Hu(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=ze(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=H6e(u,W6e);if(!f)return null;var p=Br(Br(Br(Br(Br({},h),{},{fill:"#eee"},f),c),Vu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return T.createElement(l3,K0({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Xi(d,Xv);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Ar(v,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return T.createElement(yt,g,f.map(function(m){return T.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=ct("recharts-bar",s),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=x||w,N=lt(m)?this.id:m;return T.createElement(yt,{className:b},x||w?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(N)},T.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,T.createElement(yt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!p||v)&&Ys.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(y.PureComponent);XK=dd;Fl(dd,"displayName","Bar");Fl(dd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fl(dd,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=I4e(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Br(Br({},m),r.props):r.props,b=v.dataKey,x=v.children,w=v.minPointSize,_=g==="horizontal"?s:a,N=u?_.scale.domain():null,j=U4e({numericAxis:_}),k=Xi(x,qv),O=f.map(function(P,A){var $,M,z,L,V,D;u?$=$4e(u[d+A],N):($=Ar(P,b),Array.isArray($)||($=[j,$]));var U=V6e(w,XK.defaultProps.minPointSize)($[1],A);if(g==="horizontal"){var I,F=[s.scale($[0]),s.scale($[1])],G=F[0],ne=F[1];M=rL({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:P,index:A}),z=(I=ne??G)!==null&&I!==void 0?I:void 0,L=p.size;var Z=G-ne;if(V=Number.isNaN(Z)?0:Z,D={x:M,y:s.y,width:L,height:s.height},Math.abs(U)>0&&Math.abs(V)<Math.abs(U)){var S=Zn(V||U)*(Math.abs(U)-Math.abs(V));z-=S,V+=S}}else{var C=[a.scale($[0]),a.scale($[1])],E=C[0],B=C[1];if(M=E,z=rL({axis:s,ticks:c,bandSize:i,offset:p.offset,entry:P,index:A}),L=B-E,V=p.size,D={x:a.x,y:z,width:a.width,height:V},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var R=Zn(L||U)*(Math.abs(U)-Math.abs(L));L+=R}}return Br(Br(Br({},P),{},{x:M,y:z,width:L,height:V,value:u?$:$[1],payload:P,background:D},k&&k[A]&&k[A].props),{},{tooltipPayload:[SK(r,P)],tooltipPosition:{x:M+L/2,y:z+V/2}})});return Br({data:O,layout:g},h)});function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function eUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eY(n.key),n)}}function tUe(e,t,r){return t&&d3(e.prototype,t),r&&d3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(n){uj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uj(e,t,r){return t=eY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=rUe(e,"string");return av(t)=="symbol"?t:t+""}function rUe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jA=function(t,r,n,i,a){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ri(u,dd);return d.reduce(function(p,g){var m=r[g],v=m.orientation,b=m.domain,x=m.padding,w=x===void 0?{}:x,_=m.mirror,N=m.reversed,j="".concat(v).concat(_?"Mirror":""),k,O,P,A,$;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var M=b[1]-b[0],z=1/0,L=m.categoricalDomain.sort(xSe);if(L.forEach(function(C,E){E>0&&(z=Math.min((C||0)-(L[E-1]||0),z))}),Number.isFinite(z)){var V=z/M,D=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=V*D/2),m.padding==="no-gap"){var U=ei(t.barCategoryGap,V*D),I=V*D/2;k=I-U-(I-U)/D*U}}}i==="xAxis"?O=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:i==="yAxis"?O=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:O=m.range,N&&(O=[O[1],O[0]]);var F=bK(m,a,h),G=F.scale,ne=F.realScaleType;G.domain(b).range(O),wK(G);var Z=_K(G,Ga(Ga({},m),{},{realScaleType:ne}));i==="xAxis"?($=v==="top"&&!_||v==="bottom"&&_,P=n.left,A=f[j]-$*m.height):i==="yAxis"&&($=v==="left"&&!_||v==="right"&&_,P=f[j]-$*m.width,A=n.top);var S=Ga(Ga(Ga({},m),Z),{},{realScaleType:ne,x:P,y:A,scale:G,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return S.bandSize=A0(S,Z),!m.hide&&i==="xAxis"?f[j]+=($?-1:1)*S.height:m.hide||(f[j]+=($?-1:1)*S.width),Ga(Ga({},p),{},uj({},g,S))},{})},tY=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},nUe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return tY({x:r,y:n},{x:i,y:a})},rY=function(){function e(t){eUe(this,e),this.scale=t}return tUe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();uj(rY,"EPS",1e-4);var SA=function(t){var r=Object.keys(t).reduce(function(n,i){return Ga(Ga({},n),{},uj({},i,rY.create(t[i])))},{});return Ga(Ga({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return j6e(i,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return JK(i,function(a,s){return r[s].isInRange(a)})}})};function iUe(e){return(e%180+180)%180}var aUe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=iUe(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},sUe=so,oUe=Hv,lUe=W_;function cUe(e){return function(t,r,n){var i=Object(t);if(!oUe(t)){var a=sUe(r);t=lUe(t),r=function(l){return a(i[l],l,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var uUe=cUe,dUe=qK;function fUe(e){var t=dUe(e),r=t%1;return t===t?r?t-r:t:0}var hUe=fUe,pUe=tG,mUe=so,gUe=hUe,vUe=Math.max;function yUe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:gUe(r);return i<0&&(i=vUe(n+i,0)),pUe(e,mUe(t),i)}var xUe=yUe,bUe=uUe,wUe=xUe,_Ue=bUe(wUe),jUe=_Ue;const SUe=Nt(jUe);var NUe=_1e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),NA=y.createContext(void 0),kA=y.createContext(void 0),nY=y.createContext(void 0),iY=y.createContext({}),aY=y.createContext(void 0),sY=y.createContext(0),oY=y.createContext(0),h3=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=NUe(a);return T.createElement(NA.Provider,{value:n},T.createElement(kA.Provider,{value:i},T.createElement(iY.Provider,{value:a},T.createElement(nY.Provider,{value:d},T.createElement(aY.Provider,{value:s},T.createElement(sY.Provider,{value:u},T.createElement(oY.Provider,{value:c},l)))))))},kUe=function(){return y.useContext(aY)},lY=function(t){var r=y.useContext(NA);r==null&&Gu();var n=r[t];return n==null&&Gu(),n},CUe=function(){var t=y.useContext(NA);return Cl(t)},EUe=function(){var t=y.useContext(kA),r=SUe(t,function(n){return JK(n.domain,Number.isFinite)});return r||Cl(t)},cY=function(t){var r=y.useContext(kA);r==null&&Gu();var n=r[t];return n==null&&Gu(),n},OUe=function(){var t=y.useContext(nY);return t},PUe=function(){return y.useContext(iY)},CA=function(){return y.useContext(oY)},EA=function(){return y.useContext(sY)};function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function TUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dY(n.key),n)}}function MUe(e,t,r){return t&&AUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IUe(e,t,r){return t=J0(t),$Ue(e,uY()?Reflect.construct(t,r||[],J0(e).constructor):t.apply(e,r))}function $Ue(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RUe(e)}function RUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uY=function(){return!!e})()}function J0(e){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J0(e)}function DUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QC(e,t)}function QC(e,t){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QC(e,t)}function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){OA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OA(e,t,r){return t=dY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=LUe(e,"string");return Nh(t)=="symbol"?t:t+""}function LUe(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FUe(e,t){return VUe(e)||zUe(e,t)||UUe(e,t)||BUe()}function BUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UUe(e,t){if(e){if(typeof e=="string")return g3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g3(e,t)}}function g3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function VUe(e){if(Array.isArray(e))return e}function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZC.apply(this,arguments)}var WUe=function(t,r){var n;return T.isValidElement(t)?n=T.cloneElement(t,r):Xe(t)?n=t(r):n=T.createElement("line",ZC({},r,{className:"recharts-reference-line-line"})),n},HUe=function(t,r,n,i,a,s,l,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var g=u.y,m=t.y.apply(g,{position:s});if(Js(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var b=u.x,x=t.x.apply(b,{position:s});if(Js(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+p},{x,y:f}];return l==="top"?w.reverse():w}if(i){var _=u.segment,N=_.map(function(j){return t.apply(j,{position:s})});return Js(u,"discard")&&m6e(N,function(j){return!t.isInRange(j)})?null:N}return null};function qUe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=kUe(),d=lY(i),f=cY(a),h=OUe();if(!u||!h)return null;as(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=SA({x:d.scale,y:f.scale}),g=en(t),m=en(r),v=n&&n.length===2,b=HUe(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=FUe(b,2),w=x[0],_=w.x,N=w.y,j=x[1],k=j.x,O=j.y,P=Js(e,"hidden")?"url(#".concat(u,")"):void 0,A=m3(m3({clipPath:P},ze(e,!0)),{},{x1:_,y1:N,x2:k,y2:O});return T.createElement(yt,{className:ct("recharts-reference-line",l)},WUe(s,A),dn.renderCallByParent(e,nUe({x1:_,y1:N,x2:k,y2:O})))}var PA=function(e){function t(){return TUe(this,t),IUe(this,t,arguments)}return DUe(t,e),MUe(t,[{key:"render",value:function(){return T.createElement(qUe,this.props)}}])}(T.Component);OA(PA,"displayName","ReferenceLine");OA(PA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eE.apply(this,arguments)}function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){dj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hY(n.key),n)}}function YUe(e,t,r){return t&&KUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JUe(e,t,r){return t=X0(t),XUe(e,fY()?Reflect.construct(t,r||[],X0(e).constructor):t.apply(e,r))}function XUe(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QUe(e)}function QUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fY=function(){return!!e})()}function X0(e){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X0(e)}function ZUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tE(e,t)}function tE(e,t){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tE(e,t)}function dj(e,t,r){return t=hY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=e8e(e,"string");return kh(t)=="symbol"?t:t+""}function e8e(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t8e=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=SA({x:i.scale,y:a.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Js(t,"discard")&&!s.isInRange(l)?null:l},fj=function(e){function t(){return GUe(this,t),JUe(this,t,arguments)}return ZUe(t,e),YUe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=en(i),d=en(a);if(as(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=t8e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,b=Js(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=y3(y3({clipPath:b},ze(this.props,!0)),{},{cx:h,cy:p});return T.createElement(yt,{className:ct("recharts-reference-dot",v)},t.renderDot(m,x),dn.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(T.Component);dj(fj,"displayName","ReferenceDot");dj(fj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dj(fj,"renderDot",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):Xe(e)?r=e(t):r=T.createElement(Qv,eE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function x3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(r),!0).forEach(function(n){hj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mY(n.key),n)}}function i8e(e,t,r){return t&&n8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a8e(e,t,r){return t=Q0(t),s8e(e,pY()?Reflect.construct(t,r||[],Q0(e).constructor):t.apply(e,r))}function s8e(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o8e(e)}function o8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pY=function(){return!!e})()}function Q0(e){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q0(e)}function l8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nE(e,t)}function hj(e,t,r){return t=mY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=c8e(e,"string");return Ch(t)=="symbol"?t:t+""}function c8e(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u8e=function(t,r,n,i,a){var s=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=SA({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Js(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:tY(p,g)},pj=function(e){function t(){return r8e(this,t),a8e(this,t,arguments)}return l8e(t,e),i8e(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;as(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=en(i),h=en(a),p=en(s),g=en(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=u8e(f,h,p,g,this.props);if(!v&&!m)return null;var b=Js(this.props,"hidden")?"url(#".concat(d,")"):void 0;return T.createElement(yt,{className:ct("recharts-reference-area",c)},t.renderRect(m,b3(b3({clipPath:b},ze(this.props,!0)),v)),dn.renderCallByParent(this.props,v))}}])}(T.Component);hj(pj,"displayName","ReferenceArea");hj(pj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hj(pj,"renderRect",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):Xe(e)?r=e(t):r=T.createElement(_A,rE({},t,{className:"recharts-reference-area-rect"})),r});function gY(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function d8e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return aUe(n,r)}function f8e(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function Z0(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function h8e(e,t){return gY(e,t+1)}function p8e(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:gY(n,u)};var m=c,v,b=function(){return v===void 0&&(v=r(g,m)),v},x=g.coordinate,w=c===0||Z0(e,x,b,d,l);w||(c=0,d=s,u+=1),w&&(d=x+e*(b()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(n){m8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m8e(e,t,r){return t=g8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g8e(e){var t=v8e(e,"string");return sv(t)=="symbol"?t:t+""}function v8e(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y8e(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,l=t.start,c=t.end,u=function(h){var p=a[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-c);a[h]=p=Tn(Tn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[h]=p=Tn(Tn({},p),{},{tickCoord:p.coordinate});var b=Z0(e,p.tickCoord,m,l,c);b&&(c=p.tickCoord-e*(m()/2+i),a[h]=Tn(Tn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function x8e(e,t,r,n,i,a){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=Tn(Tn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Z0(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+i),s[l-1]=Tn(Tn({},d),{},{isShow:!0}))}for(var g=a?l-1:l,m=function(x){var w=s[x],_,N=function(){return _===void 0&&(_=r(w,x)),_};if(x===0){var j=e*(w.coordinate-e*N()/2-c);s[x]=w=Tn(Tn({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else s[x]=w=Tn(Tn({},w),{},{tickCoord:w.coordinate});var k=Z0(e,w.tickCoord,N,c,u);k&&(c=w.tickCoord+e*(N()/2+i),s[x]=Tn(Tn({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function TA(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(ge(c)||jc.isSsr)return h8e(i,typeof c=="number"&&ge(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Pm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,_){var N=Xe(u)?u(w.value,_):w.value;return p==="width"?d8e(Pm(N,{fontSize:t,letterSpacing:r}),g,f):Pm(N,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?Zn(i[1].coordinate-i[0].coordinate):1,b=f8e(a,v,p);return c==="equidistantPreserveStart"?p8e(v,b,m,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=x8e(v,b,m,i,s,c==="preserveStartEnd"):h=y8e(v,b,m,i,s),h.filter(function(x){return x.isShow}))}var b8e=["viewBox"],w8e=["viewBox"],_8e=["ticks"];function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function _3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(r),!0).forEach(function(n){AA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bS(e,t){if(e==null)return{};var r=j8e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yY(n.key),n)}}function N8e(e,t,r){return t&&j3(e.prototype,t),r&&j3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k8e(e,t,r){return t=ew(t),C8e(e,vY()?Reflect.construct(t,r||[],ew(e).constructor):t.apply(e,r))}function C8e(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E8e(e)}function E8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vY=function(){return!!e})()}function ew(e){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(e)}function O8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iE(e,t)}function AA(e,t,r){return t=yY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=P8e(e,"string");return Eh(t)=="symbol"?t:t+""}function P8e(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yp=function(e){function t(r){var n;return S8e(this,t),n=k8e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return O8e(t,e),N8e(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=bS(n,b8e),l=this.props,c=l.viewBox,u=bS(l,w8e);return!Sf(a,c)||!Sf(s,u)||!Sf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,m,v,b,x,w=f?-1:1,_=n.tickSize||d,N=ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=s+ +!f*c,m=v-w*_,x=m-w*h,b=N;break;case"left":m=v=n.coordinate,g=a+ +!f*l,p=g-w*_,b=p-w*h,x=N;break;case"right":m=v=n.coordinate,g=a+ +f*l,p=g+w*_,b=p+w*h,x=N;break;default:p=g=n.coordinate,v=s+ +f*c,m=v+w*_,x=m+w*h,b=N;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=qr(qr(qr({},ze(this.props,!1)),ze(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=qr(qr({},f),{},{x1:i,y1:a+h*l,x2:i+s,y2:a+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=qr(qr({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+l})}return T.createElement("line",of({},f,{className:ct("recharts-cartesian-axis-line",Ji(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=TA(qr(qr({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=ze(this.props,!1),b=ze(d,!1),x=qr(qr({},v),{},{fill:"none"},ze(c,!1)),w=p.map(function(_,N){var j=s.getTickLineCoord(_),k=j.line,O=j.tick,P=qr(qr(qr(qr({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},b),O),{},{index:N,payload:_,visibleTicksCount:p.length,tickFormatter:f});return T.createElement(yt,of({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Vu(s.props,_,N)),c&&T.createElement("line",of({},x,k,{className:ct("recharts-cartesian-axis-tick-line",Ji(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(Xe(f)?f(_.value,N):_.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=bS(f,_8e),g=h;return Xe(c)&&(g=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!g||!g.length?null:T.createElement(yt,{className:ct("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,l=ct(i.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(n)?s=T.cloneElement(n,qr(qr({},i),{},{className:l})):Xe(n)?s=n(qr(qr({},i),{},{className:l})):s=T.createElement(Wu,of({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(y.Component);AA(yp,"displayName","CartesianAxis");AA(yp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var T8e=["x1","y1","x2","y2","key"],A8e=["offset"];function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(n){M8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8e(e,t,r){return t=I8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8e(e){var t=$8e(e,"string");return Ku(t)=="symbol"?t:t+""}function $8e(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(this,arguments)}function N3(e,t){if(e==null)return{};var r=R8e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var D8e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,l=t.height,c=t.ry;return T.createElement("rect",{x:i,y:a,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xY(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(Xe(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=N3(t,T8e),u=ze(c,!1);u.offset;var d=N3(u,A8e);r=T.createElement("line",cu({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function L8e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=Rn(Rn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return xY(i,u)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function F8e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var u=Rn(Rn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return xY(i,u)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function B8e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+s-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function U8e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var z8e=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return xK(TA(Rn(Rn(Rn({},yp.defaultProps),n),{},{ticks:Oo(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},V8e=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return xK(TA(Rn(Rn(Rn({},yp.defaultProps),n),{},{ticks:Oo(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Td={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mj(e){var t,r,n,i,a,s,l=CA(),c=EA(),u=PUe(),d=Rn(Rn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Td.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Td.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Td.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Td.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Td.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Td.verticalFill,x:ge(e.x)?e.x:u.left,y:ge(e.y)?e.y:u.top,width:ge(e.width)?e.width:u.width,height:ge(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=CUe(),w=EUe();if(!ge(p)||p<=0||!ge(g)||g<=0||!ge(f)||f!==+f||!ge(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||z8e,N=d.horizontalCoordinatesGenerator||V8e,j=d.horizontalPoints,k=d.verticalPoints;if((!j||!j.length)&&Xe(N)){var O=v&&v.length,P=N({yAxis:w?Rn(Rn({},w),{},{ticks:O?v:w.ticks}):void 0,width:l,height:c,offset:u},O?!0:m);as(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ku(P),"]")),Array.isArray(P)&&(j=P)}if((!k||!k.length)&&Xe(_)){var A=b&&b.length,$=_({xAxis:x?Rn(Rn({},x),{},{ticks:A?b:x.ticks}):void 0,width:l,height:c,offset:u},A?!0:m);as(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ku($),"]")),Array.isArray($)&&(k=$)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(D8e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),T.createElement(L8e,cu({},d,{offset:u,horizontalPoints:j,xAxis:x,yAxis:w})),T.createElement(F8e,cu({},d,{offset:u,verticalPoints:k,xAxis:x,yAxis:w})),T.createElement(B8e,cu({},d,{horizontalPoints:j})),T.createElement(U8e,cu({},d,{verticalPoints:k})))}mj.displayName="CartesianGrid";var W8e=["type","layout","connectNulls","ref"],H8e=["key"];function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function k3(e,t){if(e==null)return{};var r=q8e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}function C3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(r),!0).forEach(function(n){Ka(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ad(e){return J8e(e)||Y8e(e)||K8e(e)||G8e()}function G8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8e(e,t){if(e){if(typeof e=="string")return aE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(e,t)}}function Y8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J8e(e){if(Array.isArray(e))return aE(e)}function aE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wY(n.key),n)}}function Q8e(e,t,r){return t&&E3(e.prototype,t),r&&E3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z8e(e,t,r){return t=tw(t),eze(e,bY()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function eze(e,t){if(t&&(Oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tze(e)}function tze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bY=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function rze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sE(e,t)}function sE(e,t){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sE(e,t)}function Ka(e,t,r){return t=wY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=nze(e,"string");return Oh(t)=="symbol"?t:t+""}function nze(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zv=function(e){function t(){var r;X8e(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Z8e(this,t,[].concat(i)),Ka(r,"state",{isAnimationFinished:!0,totalLength:0}),Ka(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Ka(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(Ad(c.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Ad(t.repeat(c,d)),Ad(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Ka(r,"id",od("recharts-line-")),Ka(r,"pathRef",function(s){r.mainCurve=s}),Ka(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ka(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return rze(t,e),Q8e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Xi(d,Xv);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Ar(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return T.createElement(yt,p,f.map(function(g){return T.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ze(this.props,!1),h=ze(c,!0),p=u.map(function(m,v){var b=Mi(Mi(Mi({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return T.createElement(yt,Rm({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=k3(l,W8e),h=Mi(Mi(Mi({},ze(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return T.createElement(Su,Rm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,b=this.state,x=b.prevPoints,w=b.totalLength;return T.createElement(ms,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(x){var j=x.length/l.length,k=l.map(function(M,z){var L=Math.floor(z*j);if(x[L]){var V=x[L],D=Xr(V.x,M.x),U=Xr(V.y,M.y);return Mi(Mi({},M),{},{x:D(N),y:U(N)})}if(g){var I=Xr(m*2,M.x),F=Xr(v/2,M.y);return Mi(Mi({},M),{},{x:I(N),y:F(N)})}return Mi(Mi({},M),{},{x:M.x,y:M.y})});return a.renderCurveStatically(k,n,i)}var O=Xr(0,w),P=O(N),A;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});A=a.getStrokeDasharray(P,w,$)}else A=a.generateSimpleStrokeDasharray(w,P);return a.renderCurveStatically(l,n,i,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!Hu(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=ct("recharts-line",c),_=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,j=_||N,k=lt(v)?this.id:v,O=(n=ze(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,A=P===void 0?3:P,$=O.strokeWidth,M=$===void 0?2:$,z=fq(s)?s:{},L=z.clipDot,V=L===void 0?!0:L,D=A*2+M;return T.createElement(yt,{className:w},_||N?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(k)},T.createElement("rect",{x:_?h:h-p/2,y:N?f:f-g/2,width:_?p:p*2,height:N?g:g*2})),!V&&T.createElement("clipPath",{id:"clipPath-dots-".concat(k)},T.createElement("rect",{x:h-D/2,y:f-D/2,width:p+D,height:g+D}))):null,!x&&this.renderCurve(j,k),this.renderErrorBar(j,k),(x||s)&&this.renderDots(j,V,k),(!m||b)&&Ys.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Ad(n),[0]):n,s=[],l=0;l<i;++l)s=[].concat(Ad(s),Ad(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(T.isValidElement(n))a=T.cloneElement(n,i);else if(Xe(n))a=n(i);else{var s=i.key,l=k3(i,H8e),c=ct("recharts-line-dot",typeof n!="boolean"?n.className:"");a=T.createElement(Qv,Rm({key:s},l,{className:c}))}return a}}])}(y.PureComponent);Ka(Zv,"displayName","Line");Ka(Zv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!jc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ka(Zv,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=Ar(h,s);return d==="horizontal"?{x:T0({axis:r,ticks:i,bandSize:l,entry:h,index:p}),y:lt(g)?null:n.scale(g),value:g,payload:h}:{x:lt(g)?null:r.scale(g),y:T0({axis:n,ticks:a,bandSize:l,entry:h,index:p}),value:g,payload:h}});return Mi({points:f,layout:d},u)});var ize=["layout","type","stroke","connectNulls","isRange","ref"],aze=["key"],_Y;function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function jY(e,t){if(e==null)return{};var r=sze(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(this,arguments)}function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(n){Vs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NY(n.key),n)}}function lze(e,t,r){return t&&P3(e.prototype,t),r&&P3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cze(e,t,r){return t=rw(t),uze(e,SY()?Reflect.construct(t,r||[],rw(e).constructor):t.apply(e,r))}function uze(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dze(e)}function dze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SY=function(){return!!e})()}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}function fze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oE(e,t)}function oE(e,t){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oE(e,t)}function Vs(e,t,r){return t=NY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NY(e){var t=hze(e,"string");return Ph(t)=="symbol"?t:t+""}function hze(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jo=function(e){function t(){var r;oze(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=cze(this,t,[].concat(i)),Vs(r,"state",{isAnimationFinished:!0}),Vs(r,"id",od("recharts-area-")),Vs(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Xe(s)&&s()}),Vs(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Xe(s)&&s()}),r}return fze(t,e),lze(t,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=ze(this.props,!1),p=ze(u,!0),g=d.map(function(v,b){var x=ml(ml(ml({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,x)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return T.createElement(yt,uu({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=Ll(s.map(function(h){return h.y||0}));return ge(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ll(a.map(function(h){return h.y||0})),f)),ge(f)?T.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=Ll(s.map(function(h){return h.x||0}));return ge(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ll(a.map(function(h){return h.x||0})),f)),ge(f)?T.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=jY(l,ize);return T.createElement(yt,{clipPath:a?"url(#clipPath-".concat(s,")"):null},T.createElement(Su,uu({},ze(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&T.createElement(Su,uu({},ze(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&T.createElement(Su,uu({},ze(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return T.createElement(ms,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(m){var w=m.length/l.length,_=l.map(function(O,P){var A=Math.floor(P*w);if(m[A]){var $=m[A],M=Xr($.x,O.x),z=Xr($.y,O.y);return ml(ml({},O),{},{x:M(x),y:z(x)})}return O}),N;if(ge(c)&&typeof c=="number"){var j=Xr(v,c);N=j(x)}else if(lt(c)||dp(c)){var k=Xr(v,0);N=k(x)}else N=c.map(function(O,P){var A=Math.floor(P*w);if(v[A]){var $=v[A],M=Xr($.x,O.x),z=Xr($.y,O.y);return ml(ml({},O),{},{x:M(x),y:z(x)})}return O});return a.renderAreaStatically(_,N,n,i)}return T.createElement(yt,null,T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(x))),T.createElement(yt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!Hu(d,s)||!Hu(f,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=ct("recharts-area",c),_=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,j=_||N,k=lt(v)?this.id:v,O=(n=ze(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,A=P===void 0?3:P,$=O.strokeWidth,M=$===void 0?2:$,z=fq(s)?s:{},L=z.clipDot,V=L===void 0?!0:L,D=A*2+M;return T.createElement(yt,{className:w},_||N?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(k)},T.createElement("rect",{x:_?d:d-p/2,y:N?u:u-g/2,width:_?p:p*2,height:N?g:g*2})),!V&&T.createElement("clipPath",{id:"clipPath-dots-".concat(k)},T.createElement("rect",{x:d-D/2,y:u-D/2,width:p+D,height:g+D}))):null,x?null:this.renderArea(j,k),(s||x)&&this.renderDots(j,V,k),(!m||b)&&Ys.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(y.PureComponent);_Y=Jo;Vs(Jo,"displayName","Area");Vs(Jo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!jc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Vs(Jo,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,s=t.props.baseValue,l=s??a;if(ge(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Vs(Jo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=_Y.getBaseValue(t,r,n,i),v=p==="horizontal",b=!1,x=f.map(function(_,N){var j;g?j=u[d+N]:(j=Ar(_,c),Array.isArray(j)?b=!0:j=[m,j]);var k=j[1]==null||g&&Ar(_,c)==null;return v?{x:T0({axis:n,ticks:a,bandSize:l,entry:_,index:N}),y:k?null:i.scale(j[1]),value:j,payload:_}:{x:k?null:n.scale(j[1]),y:T0({axis:i,ticks:s,bandSize:l,entry:_,index:N}),value:j,payload:_}}),w;return g||b?w=x.map(function(_){var N=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:N!=null&&_.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:_.y}}):w=v?i.scale(m):n.scale(m),ml({points:x,baseLine:w,layout:p,isRange:b},h)});Vs(Jo,"renderDotItem",function(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(Xe(e))r=e(t);else{var n=ct("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=jY(t,aze);r=T.createElement(Qv,uu({},a,{key:i,className:n}))}return r});function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function pze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EY(n.key),n)}}function gze(e,t,r){return t&&mze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vze(e,t,r){return t=nw(t),yze(e,kY()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function yze(e,t){if(t&&(Th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xze(e)}function xze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kY=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function bze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lE(e,t)}function lE(e,t){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lE(e,t)}function CY(e,t,r){return t=EY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EY(e){var t=wze(e,"string");return Th(t)=="symbol"?t:t+""}function wze(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cE.apply(this,arguments)}function _ze(e){var t=e.xAxisId,r=CA(),n=EA(),i=lY(t);return i==null?null:y.createElement(yp,cE({},i,{className:ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Oo(s,!0)}}))}var Cc=function(e){function t(){return pze(this,t),vze(this,t,arguments)}return bze(t,e),gze(t,[{key:"render",value:function(){return y.createElement(_ze,this.props)}}])}(y.Component);CY(Cc,"displayName","XAxis");CY(Cc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function jze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TY(n.key),n)}}function Nze(e,t,r){return t&&Sze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kze(e,t,r){return t=iw(t),Cze(e,OY()?Reflect.construct(t,r||[],iw(e).constructor):t.apply(e,r))}function Cze(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eze(e)}function Eze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OY=function(){return!!e})()}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(e)}function Oze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uE(e,t)}function uE(e,t){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uE(e,t)}function PY(e,t,r){return t=TY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=Pze(e,"string");return Ah(t)=="symbol"?t:t+""}function Pze(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dE(){return dE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dE.apply(this,arguments)}var Tze=function(t){var r=t.yAxisId,n=CA(),i=EA(),a=cY(r);return a==null?null:y.createElement(yp,dE({},a,{className:ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Oo(l,!0)}}))},Ec=function(e){function t(){return jze(this,t),kze(this,t,arguments)}return Oze(t,e),Nze(t,[{key:"render",value:function(){return y.createElement(Tze,this.props)}}])}(y.Component);PY(Ec,"displayName","YAxis");PY(Ec,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function T3(e){return $ze(e)||Ize(e)||Mze(e)||Aze()}function Aze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mze(e,t){if(e){if(typeof e=="string")return fE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fE(e,t)}}function Ize(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ze(e){if(Array.isArray(e))return fE(e)}function fE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hE=function(t,r,n,i,a){var s=Xi(t,PA),l=Xi(t,fj),c=[].concat(T3(s),T3(l)),u=Xi(t,pj),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&Js(v.props,"extendDomain")&&ge(v.props[f])){var b=v.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Js(v.props,"extendDomain")&&ge(v.props[p])&&ge(v.props[g])){var b=v.props[p],x=v.props[g];return[Math.min(m[0],b,x),Math.max(m[1],b,x)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,v){return ge(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},AY={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var _=v.length,N;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(N=1,x=new Array(b-1);N<b;N++)x[N-1]=arguments[N];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(AY);var Rze=AY.exports;const Dze=Nt(Rze);var wS=new Dze,_S="recharts.syncMouseEvents";function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Lze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MY(n.key),n)}}function Bze(e,t,r){return t&&Fze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jS(e,t,r){return t=MY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MY(e){var t=Uze(e,"string");return ov(t)=="symbol"?t:t+""}function Uze(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zze=function(){function e(){Lze(this,e),jS(this,"activeIndex",0),jS(this,"coordinateList",[]),jS(this,"layout","horizontal")}return Bze(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Vze(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&ge(n)&&ge(i))return!0}return!1}function Wze(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function IY(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=tr(t,r,n,i),l=tr(t,r,n,a);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Hze(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=tr(l,c,u,f),p=tr(l,c,d,f);n=h.x,i=h.y,a=p.x,s=p.y}else return IY(t);return[{x:n,y:i},{x:a,y:s}]}function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function A3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(r),!0).forEach(function(n){qze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qze(e,t,r){return t=Gze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gze(e){var t=Kze(e,"string");return lv(t)=="symbol"?t:t+""}function Kze(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yze(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var g,m=Su;if(h==="ScatterChart")g=s,m=n5e;else if(h==="BarChart")g=Wze(f,s,c,d),m=_A;else if(f==="radial"){var v=IY(s),b=v.cx,x=v.cy,w=v.radius,_=v.startAngle,N=v.endAngle;g={cx:b,cy:x,startAngle:_,endAngle:N,innerRadius:w,outerRadius:w},m=PK}else g={points:Hze(f,s,c)},m=Su;var j=ex(ex(ex(ex({stroke:"#ccc",pointerEvents:"none"},c),g),ze(p,!1)),{},{payload:l,payloadIndex:u,className:ct("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,j):y.createElement(m,j)}var Jze=["item"],Xze=["children","className","width","height","style","compact","title","desc"];function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lf.apply(this,arguments)}function M3(e,t){return eVe(e)||Zze(e,t)||RY(e,t)||Qze()}function Qze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return l}}function eVe(e){if(Array.isArray(e))return e}function I3(e,t){if(e==null)return{};var r=tVe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tVe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nVe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DY(n.key),n)}}function iVe(e,t,r){return t&&nVe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aVe(e,t,r){return t=aw(t),sVe(e,$Y()?Reflect.construct(t,r||[],aw(e).constructor):t.apply(e,r))}function sVe(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oVe(e)}function oVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($Y=function(){return!!e})()}function aw(e){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(e)}function lVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pE(e,t)}function pE(e,t){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pE(e,t)}function Ih(e){return dVe(e)||uVe(e)||RY(e)||cVe()}function cVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RY(e,t){if(e){if(typeof e=="string")return mE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mE(e,t)}}function uVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dVe(e){if(Array.isArray(e))return mE(e)}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(n){Ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ke(e,t,r){return t=DY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=fVe(e,"string");return Mh(t)=="symbol"?t:t+""}function fVe(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hVe={xAxis:["bottom","top"],yAxis:["left","right"]},pVe={width:"100%",height:"100%"},LY={x:0,y:0};function tx(e){return e}var mVe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},gVe=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return ae(ae(ae({},i),tr(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,u=i.angle;return ae(ae(ae({},i),tr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return LY},gj=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ih(l),Ih(u)):l},[]);return s.length>0?s:t&&t.length&&ge(i)&&ge(a)?t.slice(i,a+1):[]};function FY(e){return e==="number"?[0,"auto"]:void 0}var gE=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,l=gj(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?l:f;h=r0(p,s.dataKey,i)}else h=f&&f[n]||l[n];return h?[].concat(Ih(c),[SK(u,h)]):c},[])},R3=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=mVe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=E4e(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=gE(t,r,d,f),p=gVe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},vVe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=yK(d,a);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?ae(ae({},m.type.defaultProps),m.props):m.props,x=b.type,w=b.dataKey,_=b.allowDataOverflow,N=b.allowDuplicatedCategory,j=b.scale,k=b.ticks,O=b.includeHidden,P=b[s];if(g[P])return g;var A=gj(t.data,{graphicalItems:i.filter(function(Z){var S,C=s in Z.props?Z.props[s]:(S=Z.type.defaultProps)===null||S===void 0?void 0:S[s];return C===P}),dataStartIndex:c,dataEndIndex:u}),$=A.length,M,z,L;Vze(b.domain,_,x)&&(M=OC(b.domain,null,_),p&&(x==="number"||j!=="auto")&&(L=Am(A,w,"category")));var V=FY(x);if(!M||M.length===0){var D,U=(D=b.domain)!==null&&D!==void 0?D:V;if(w){if(M=Am(A,w,x),x==="category"&&p){var I=ySe(M);N&&I?(z=M,M=H0(0,$)):N||(M=aL(U,M,m).reduce(function(Z,S){return Z.indexOf(S)>=0?Z:[].concat(Ih(Z),[S])},[]))}else if(x==="category")N?M=M.filter(function(Z){return Z!==""&&!lt(Z)}):M=aL(U,M,m).reduce(function(Z,S){return Z.indexOf(S)>=0||S===""||lt(S)?Z:[].concat(Ih(Z),[S])},[]);else if(x==="number"){var F=M4e(A,i.filter(function(Z){var S,C,E=s in Z.props?Z.props[s]:(S=Z.type.defaultProps)===null||S===void 0?void 0:S[s],B="hide"in Z.props?Z.props.hide:(C=Z.type.defaultProps)===null||C===void 0?void 0:C.hide;return E===P&&(O||!B)}),w,a,d);F&&(M=F)}p&&(x==="number"||j!=="auto")&&(L=Am(A,w,"category"))}else p?M=H0(0,$):l&&l[P]&&l[P].hasStack&&x==="number"?M=h==="expand"?[0,1]:jK(l[P].stackGroups,c,u):M=vK(A,i.filter(function(Z){var S=s in Z.props?Z.props[s]:Z.type.defaultProps[s],C="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return S===P&&(O||!C)}),x,d,!0);if(x==="number")M=hE(f,M,P,a,k),U&&(M=OC(U,M,_));else if(x==="category"&&U){var G=U,ne=M.every(function(Z){return G.indexOf(Z)>=0});ne&&(M=G)}}return ae(ae({},g),{},Ke({},P,ae(ae({},b),{},{axisType:a,domain:M,categoricalDomain:L,duplicateDomain:z,originalDomain:(v=b.domain)!==null&&v!==void 0?v:V,isCategorical:p,layout:d})))},{})},yVe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=gj(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=yK(d,a),m=-1;return n.reduce(function(v,b){var x=b.type.defaultProps!==void 0?ae(ae({},b.type.defaultProps),b.props):b.props,w=x[s],_=FY("number");if(!v[w]){m++;var N;return g?N=H0(0,p):l&&l[w]&&l[w].hasStack?(N=jK(l[w].stackGroups,c,u),N=hE(f,N,w,a)):(N=OC(_,vK(h,n.filter(function(j){var k,O,P=s in j.props?j.props[s]:(k=j.type.defaultProps)===null||k===void 0?void 0:k[s],A="hide"in j.props?j.props.hide:(O=j.type.defaultProps)===null||O===void 0?void 0:O.hide;return P===w&&!A}),"number",d),i.defaultProps.allowDataOverflow),N=hE(f,N,w,a)),ae(ae({},v),{},Ke({},w,ae(ae({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ji(hVe,"".concat(a,".").concat(m%2),null),domain:N,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},xVe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Xi(d,a),p={};return h&&h.length?p=vVe(t,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=yVe(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},bVe=function(t){var r=Cl(t),n=Oo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:YT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:A0(r,n)}},D3=function(t){var r=t.children,n=t.defaultShowTooltip,i=Ri(r,jh),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},wVe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Mo(r&&r.type);return n&&n.indexOf("Bar")>=0})},L3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_Ve=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Ri(f,jh),g=Ri(f,Io),m=Object.keys(c).reduce(function(N,j){var k=c[j],O=k.orientation;return!k.mirror&&!k.hide?ae(ae({},N),{},Ke({},O,N[O]+k.width)):N},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(N,j){var k=s[j],O=k.orientation;return!k.mirror&&!k.hide?ae(ae({},N),{},Ke({},O,Ji(N,"".concat(O))+k.height)):N},{top:h.top||0,bottom:h.bottom||0}),b=ae(ae({},v),m),x=b.bottom;p&&(b.bottom+=p.props.height||jh.defaultProps.height),g&&r&&(b=T4e(b,i,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return ae(ae({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},jVe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},vj=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,x){var w=x.graphicalItems,_=x.stackGroups,N=x.offset,j=x.updateId,k=x.dataStartIndex,O=x.dataEndIndex,P=b.barSize,A=b.layout,$=b.barGap,M=b.barCategoryGap,z=b.maxBarSize,L=L3(A),V=L.numericAxisName,D=L.cateAxisName,U=wVe(w),I=[];return w.forEach(function(F,G){var ne=gj(b.data,{graphicalItems:[F],dataStartIndex:k,dataEndIndex:O}),Z=F.type.defaultProps!==void 0?ae(ae({},F.type.defaultProps),F.props):F.props,S=Z.dataKey,C=Z.maxBarSize,E=Z["".concat(V,"Id")],B=Z["".concat(D,"Id")],R={},q=c.reduce(function(W,Y){var re=x["".concat(Y.axisType,"Map")],Se=Z["".concat(Y.axisType,"Id")];re&&re[Se]||Y.axisType==="zAxis"||Gu();var ye=re[Se];return ae(ae({},W),{},Ke(Ke({},Y.axisType,ye),"".concat(Y.axisType,"Ticks"),Oo(ye)))},R),H=q[D],X=q["".concat(D,"Ticks")],te=_&&_[E]&&_[E].hasStack&&z4e(F,_[E].stackGroups),J=Mo(F.type).indexOf("Bar")>=0,je=A0(H,X),Oe=[],it=U&&O4e({barSize:P,stackGroups:_,totalSize:jVe(q,D)});if(J){var qe,Ge,jt=lt(C)?z:C,$t=(qe=(Ge=A0(H,X,!0))!==null&&Ge!==void 0?Ge:jt)!==null&&qe!==void 0?qe:0;Oe=P4e({barGap:$,barCategoryGap:M,bandSize:$t!==je?$t:je,sizeList:it[B],maxBarSize:jt}),$t!==je&&(Oe=Oe.map(function(W){return ae(ae({},W),{},{position:ae(ae({},W.position),{},{offset:W.position.offset-$t/2})})}))}var Dt=F&&F.type&&F.type.getComposedData;Dt&&I.push({props:ae(ae({},Dt(ae(ae({},q),{},{displayedData:ne,props:b,dataKey:S,item:F,bandSize:je,barPosition:Oe,offset:N,stackedData:te,layout:A,dataStartIndex:k,dataEndIndex:O}))),{},Ke(Ke(Ke({key:F.key||"item-".concat(G)},V,q[V]),D,q[D]),"animationId",j)),childIndex:PSe(F,b.children),item:F})}),I},p=function(b,x){var w=b.props,_=b.dataStartIndex,N=b.dataEndIndex,j=b.updateId;if(!ZR({props:w}))return null;var k=w.children,O=w.layout,P=w.stackOffset,A=w.data,$=w.reverseStackOrder,M=L3(O),z=M.numericAxisName,L=M.cateAxisName,V=Xi(k,n),D=B4e(A,V,"".concat(z,"Id"),"".concat(L,"Id"),P,$),U=c.reduce(function(Z,S){var C="".concat(S.axisType,"Map");return ae(ae({},Z),{},Ke({},C,xVe(w,ae(ae({},S),{},{graphicalItems:V,stackGroups:S.axisType===z&&D,dataStartIndex:_,dataEndIndex:N}))))},{}),I=_Ve(ae(ae({},U),{},{props:w,graphicalItems:V}),x==null?void 0:x.legendBBox);Object.keys(U).forEach(function(Z){U[Z]=d(w,U[Z],I,Z.replace("Map",""),r)});var F=U["".concat(L,"Map")],G=bVe(F),ne=h(w,ae(ae({},U),{},{dataStartIndex:_,dataEndIndex:N,updateId:j,graphicalItems:V,stackGroups:D,offset:I}));return ae(ae({formattedGraphicalItems:ne,graphicalItems:V,offset:I,stackGroups:D},G),U)},g=function(v){function b(x){var w,_,N;return rVe(this,b),N=aVe(this,b,[x]),Ke(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ke(N,"accessibilityManager",new zze),Ke(N,"handleLegendBBoxUpdate",function(j){if(j){var k=N.state,O=k.dataStartIndex,P=k.dataEndIndex,A=k.updateId;N.setState(ae({legendBBox:j},p({props:N.props,dataStartIndex:O,dataEndIndex:P,updateId:A},ae(ae({},N.state),{},{legendBBox:j}))))}}),Ke(N,"handleReceiveSyncEvent",function(j,k,O){if(N.props.syncId===j){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(k)}}),Ke(N,"handleBrushChange",function(j){var k=j.startIndex,O=j.endIndex;if(k!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return ae({dataStartIndex:k,dataEndIndex:O},p({props:N.props,dataStartIndex:k,dataEndIndex:O,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:k,dataEndIndex:O})}}),Ke(N,"handleMouseEnter",function(j){var k=N.getMouseInfo(j);if(k){var O=ae(ae({},k),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var P=N.props.onMouseEnter;Xe(P)&&P(O,j)}}),Ke(N,"triggeredAfterMouseMove",function(j){var k=N.getMouseInfo(j),O=k?ae(ae({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var P=N.props.onMouseMove;Xe(P)&&P(O,j)}),Ke(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ke(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ke(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),Ke(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var O=N.props.onMouseLeave;Xe(O)&&O(k,j)}),Ke(N,"handleOuterEvent",function(j){var k=OSe(j),O=Ji(N.props,"".concat(k));if(k&&Xe(O)){var P,A;/.*touch.*/i.test(k)?A=N.getMouseInfo(j.changedTouches[0]):A=N.getMouseInfo(j),O((P=A)!==null&&P!==void 0?P:{},j)}}),Ke(N,"handleClick",function(j){var k=N.getMouseInfo(j);if(k){var O=ae(ae({},k),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var P=N.props.onClick;Xe(P)&&P(O,j)}}),Ke(N,"handleMouseDown",function(j){var k=N.props.onMouseDown;if(Xe(k)){var O=N.getMouseInfo(j);k(O,j)}}),Ke(N,"handleMouseUp",function(j){var k=N.props.onMouseUp;if(Xe(k)){var O=N.getMouseInfo(j);k(O,j)}}),Ke(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ke(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),Ke(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),Ke(N,"handleDoubleClick",function(j){var k=N.props.onDoubleClick;if(Xe(k)){var O=N.getMouseInfo(j);k(O,j)}}),Ke(N,"handleContextMenu",function(j){var k=N.props.onContextMenu;if(Xe(k)){var O=N.getMouseInfo(j);k(O,j)}}),Ke(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&wS.emit(_S,N.props.syncId,j,N.eventEmitterSymbol)}),Ke(N,"applySyncEvent",function(j){var k=N.props,O=k.layout,P=k.syncMethod,A=N.state.updateId,$=j.dataStartIndex,M=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(ae({dataStartIndex:$,dataEndIndex:M},p({props:N.props,dataStartIndex:$,dataEndIndex:M,updateId:A},N.state)));else if(j.activeTooltipIndex!==void 0){var z=j.chartX,L=j.chartY,V=j.activeTooltipIndex,D=N.state,U=D.offset,I=D.tooltipTicks;if(!U)return;if(typeof P=="function")V=P(I,j);else if(P==="value"){V=-1;for(var F=0;F<I.length;F++)if(I[F].value===j.activeLabel){V=F;break}}var G=ae(ae({},U),{},{x:U.left,y:U.top}),ne=Math.min(z,G.x+G.width),Z=Math.min(L,G.y+G.height),S=I[V]&&I[V].value,C=gE(N.state,N.props.data,V),E=I[V]?{x:O==="horizontal"?I[V].coordinate:ne,y:O==="horizontal"?Z:I[V].coordinate}:LY;N.setState(ae(ae({},j),{},{activeLabel:S,activeCoordinate:E,activePayload:C,activeTooltipIndex:V}))}else N.setState(j)}),Ke(N,"renderCursor",function(j){var k,O=N.state,P=O.isTooltipActive,A=O.activeCoordinate,$=O.activePayload,M=O.offset,z=O.activeTooltipIndex,L=O.tooltipAxisBandSize,V=N.getTooltipEventType(),D=(k=j.props.active)!==null&&k!==void 0?k:P,U=N.props.layout,I=j.key||"_recharts-cursor";return T.createElement(Yze,{key:I,activeCoordinate:A,activePayload:$,activeTooltipIndex:z,chartName:r,element:j,isActive:D,layout:U,offset:M,tooltipAxisBandSize:L,tooltipEventType:V})}),Ke(N,"renderPolarAxis",function(j,k,O){var P=Ji(j,"type.axisType"),A=Ji(N.state,"".concat(P,"Map")),$=j.type.defaultProps,M=$!==void 0?ae(ae({},$),j.props):j.props,z=A&&A[M["".concat(P,"Id")]];return y.cloneElement(j,ae(ae({},z),{},{className:ct(P,z.className),key:j.key||"".concat(k,"-").concat(O),ticks:Oo(z,!0)}))}),Ke(N,"renderPolarGrid",function(j){var k=j.props,O=k.radialLines,P=k.polarAngles,A=k.polarRadius,$=N.state,M=$.radiusAxisMap,z=$.angleAxisMap,L=Cl(M),V=Cl(z),D=V.cx,U=V.cy,I=V.innerRadius,F=V.outerRadius;return y.cloneElement(j,{polarAngles:Array.isArray(P)?P:Oo(V,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(A)?A:Oo(L,!0).map(function(G){return G.coordinate}),cx:D,cy:U,innerRadius:I,outerRadius:F,key:j.key||"polar-grid",radialLines:O})}),Ke(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,k=N.props,O=k.children,P=k.width,A=k.height,$=N.props.margin||{},M=P-($.left||0)-($.right||0),z=mK({children:O,formattedGraphicalItems:j,legendWidth:M,legendContent:u});if(!z)return null;var L=z.item,V=I3(z,Jze);return y.cloneElement(L,ae(ae({},V),{},{chartWidth:P,chartHeight:A,margin:$,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ke(N,"renderTooltip",function(){var j,k=N.props,O=k.children,P=k.accessibilityLayer,A=Ri(O,Li);if(!A)return null;var $=N.state,M=$.isTooltipActive,z=$.activeCoordinate,L=$.activePayload,V=$.activeLabel,D=$.offset,U=(j=A.props.active)!==null&&j!==void 0?j:M;return y.cloneElement(A,{viewBox:ae(ae({},D),{},{x:D.left,y:D.top}),active:U,label:V,payload:U?L:[],coordinate:z,accessibilityLayer:P})}),Ke(N,"renderBrush",function(j){var k=N.props,O=k.margin,P=k.data,A=N.state,$=A.offset,M=A.dataStartIndex,z=A.dataEndIndex,L=A.updateId;return y.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Jy(N.handleBrushChange,j.props.onChange),data:P,x:ge(j.props.x)?j.props.x:$.left,y:ge(j.props.y)?j.props.y:$.top+$.height+$.brushBottom-(O.bottom||0),width:ge(j.props.width)?j.props.width:$.width,startIndex:M,endIndex:z,updateId:"brush-".concat(L)})}),Ke(N,"renderReferenceElement",function(j,k,O){if(!j)return null;var P=N,A=P.clipPathId,$=N.state,M=$.xAxisMap,z=$.yAxisMap,L=$.offset,V=j.type.defaultProps||{},D=j.props,U=D.xAxisId,I=U===void 0?V.xAxisId:U,F=D.yAxisId,G=F===void 0?V.yAxisId:F;return y.cloneElement(j,{key:j.key||"".concat(k,"-").concat(O),xAxis:M[I],yAxis:z[G],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:A})}),Ke(N,"renderActivePoints",function(j){var k=j.item,O=j.activePoint,P=j.basePoint,A=j.childIndex,$=j.isRange,M=[],z=k.props.key,L=k.item.type.defaultProps!==void 0?ae(ae({},k.item.type.defaultProps),k.item.props):k.item.props,V=L.activeDot,D=L.dataKey,U=ae(ae({index:A,dataKey:D,cx:O.x,cy:O.y,r:4,fill:wA(k.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},ze(V,!1)),n0(V));return M.push(b.renderActiveDot(V,U,"".concat(z,"-activePoint-").concat(A))),P?M.push(b.renderActiveDot(V,ae(ae({},U),{},{cx:P.x,cy:P.y}),"".concat(z,"-basePoint-").concat(A))):$&&M.push(null),M}),Ke(N,"renderGraphicChild",function(j,k,O){var P=N.filterFormatItem(j,k,O);if(!P)return null;var A=N.getTooltipEventType(),$=N.state,M=$.isTooltipActive,z=$.tooltipAxis,L=$.activeTooltipIndex,V=$.activeLabel,D=N.props.children,U=Ri(D,Li),I=P.props,F=I.points,G=I.isRange,ne=I.baseLine,Z=P.item.type.defaultProps!==void 0?ae(ae({},P.item.type.defaultProps),P.item.props):P.item.props,S=Z.activeDot,C=Z.hide,E=Z.activeBar,B=Z.activeShape,R=!!(!C&&M&&U&&(S||E||B)),q={};A!=="axis"&&U&&U.props.trigger==="click"?q={onClick:Jy(N.handleItemMouseEnter,j.props.onClick)}:A!=="axis"&&(q={onMouseLeave:Jy(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Jy(N.handleItemMouseEnter,j.props.onMouseEnter)});var H=y.cloneElement(j,ae(ae({},P.props),q));function X(Y){return typeof z.dataKey=="function"?z.dataKey(Y.payload):null}if(R)if(L>=0){var te,J;if(z.dataKey&&!z.allowDuplicatedCategory){var je=typeof z.dataKey=="function"?X:"payload.".concat(z.dataKey.toString());te=r0(F,je,V),J=G&&ne&&r0(ne,je,V)}else te=F==null?void 0:F[L],J=G&&ne&&ne[L];if(B||E){var Oe=j.props.activeIndex!==void 0?j.props.activeIndex:L;return[y.cloneElement(j,ae(ae(ae({},P.props),q),{},{activeIndex:Oe})),null,null]}if(!lt(te))return[H].concat(Ih(N.renderActivePoints({item:P,activePoint:te,basePoint:J,childIndex:L,isRange:G})))}else{var it,qe=(it=N.getItemByXY(N.state.activeCoordinate))!==null&&it!==void 0?it:{graphicalItem:H},Ge=qe.graphicalItem,jt=Ge.item,$t=jt===void 0?j:jt,Dt=Ge.childIndex,W=ae(ae(ae({},P.props),q),{},{activeIndex:Dt});return[y.cloneElement($t,W),null,null]}return G?[H,null,null]:[H,null]}),Ke(N,"renderCustomized",function(j,k,O){return y.cloneElement(j,ae(ae({key:"recharts-customized-".concat(O)},N.props),N.state))}),Ke(N,"renderMap",{CartesianGrid:{handler:tx,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:tx},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:tx},YAxis:{handler:tx},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:od("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=mG(N.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return lVe(b,v),iVe(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,N=w.data,j=w.height,k=w.layout,O=Ri(_,Li);if(O){var P=O.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,$=gE(this.state,N,P,A),M=this.state.tooltipTicks[P].coordinate,z=(this.state.offset.top+j)/2,L=k==="horizontal",V=L?{x:M,y:z}:{y:M,x:z},D=this.state.formattedGraphicalItems.find(function(I){var F=I.item;return F.type.name==="Scatter"});D&&(V=ae(ae({},V),D.props.points[P].tooltipPosition),$=D.props.points[P].tooltipPayload);var U={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:$,activeCoordinate:V};this.setState(U),this.renderCursor(O),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){Wk([Ri(w.children,Li)],[Ri(this.props.children,Li)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ri(this.props.children,Li);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),j=rIe(N),k={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},O=N.width/_.offsetWidth||1,P=this.inRange(k.chartX,k.chartY,O);if(!P)return null;var A=this.state,$=A.xAxisMap,M=A.yAxisMap,z=this.getTooltipEventType(),L=R3(this.state,this.props.data,this.props.layout,P);if(z!=="axis"&&$&&M){var V=Cl($).scale,D=Cl(M).scale,U=V&&V.invert?V.invert(k.chartX):null,I=D&&D.invert?D.invert(k.chartY):null;return ae(ae({},k),{},{xValue:U,yValue:I},L)}return L?ae(ae({},k),L):null}},{key:"inRange",value:function(w,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,k=w/N,O=_/N;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,A=k>=P.left&&k<=P.left+P.width&&O>=P.top&&O<=P.top+P.height;return A?{x:k,y:O}:null}var $=this.state,M=$.angleAxisMap,z=$.radiusAxisMap;if(M&&z){var L=Cl(M);return lL({x:k,y:O},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),N=Ri(w,Li),j={};N&&_==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=n0(this.props,this.handleOuterEvent);return ae(ae({},k),j)}},{key:"addListener",value:function(){wS.on(_S,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wS.removeListener(_S,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,N){for(var j=this.state.formattedGraphicalItems,k=0,O=j.length;k<O;k++){var P=j[k];if(P.item===w||P.props.key===w.key||_===Mo(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,N=_.left,j=_.top,k=_.height,O=_.width;return T.createElement("defs",null,T.createElement("clipPath",{id:w},T.createElement("rect",{x:N,y:j,height:k,width:O})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,N){var j=M3(N,2),k=j[0],O=j[1];return ae(ae({},_),{},Ke({},k,O.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,N){var j=M3(N,2),k=j[0],O=j[1];return ae(ae({},_),{},Ke({},k,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,N=_.formattedGraphicalItems,j=_.activeItem;if(N&&N.length)for(var k=0,O=N.length;k<O;k++){var P=N[k],A=P.props,$=P.item,M=$.type.defaultProps!==void 0?ae(ae({},$.type.defaultProps),$.props):$.props,z=Mo($.type);if(z==="Bar"){var L=(A.data||[]).find(function(I){return DFe(w,I)});if(L)return{graphicalItem:P,payload:L}}else if(z==="RadialBar"){var V=(A.data||[]).find(function(I){return lL(w,I)});if(V)return{graphicalItem:P,payload:V}}else if(lj(P,j)||cj(P,j)||rv(P,j)){var D=NBe({graphicalItem:P,activeTooltipItem:j,itemData:M.data}),U=M.activeIndex===void 0?D:M.activeIndex;return{graphicalItem:ae(ae({},P),{},{childIndex:U}),payload:rv(P,j)?M.data[D]:P.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!ZR(this))return null;var _=this.props,N=_.children,j=_.className,k=_.width,O=_.height,P=_.style,A=_.compact,$=_.title,M=_.desc,z=I3(_,Xze),L=ze(z,!1);if(A)return T.createElement(h3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(qk,lf({},L,{width:k,height:O,title:$,desc:M}),this.renderClipPath(),tD(N,this.renderMap)));if(this.props.accessibilityLayer){var V,D;L.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,L.role=(D=this.props.role)!==null&&D!==void 0?D:"application",L.onKeyDown=function(I){w.accessibilityManager.keyboardEvent(I)},L.onFocus=function(){w.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return T.createElement(h3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",lf({className:ct("recharts-wrapper",j),style:ae({position:"relative",cursor:"default",width:k,height:O},P)},U,{ref:function(F){w.container=F}}),T.createElement(qk,lf({},L,{width:k,height:O,title:$,desc:M,style:pVe}),this.renderClipPath(),tD(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Ke(g,"displayName",r),Ke(g,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ke(g,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,w=v.data,_=v.children,N=v.width,j=v.height,k=v.layout,O=v.stackOffset,P=v.margin,A=b.dataStartIndex,$=b.dataEndIndex;if(b.updateId===void 0){var M=D3(v);return ae(ae(ae({},M),{},{updateId:0},p(ae(ae({props:v},M),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:w,prevWidth:N,prevHeight:j,prevLayout:k,prevStackOffset:O,prevMargin:P,prevChildren:_})}if(x!==b.prevDataKey||w!==b.prevData||N!==b.prevWidth||j!==b.prevHeight||k!==b.prevLayout||O!==b.prevStackOffset||!Sf(P,b.prevMargin)){var z=D3(v),L={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=ae(ae({},R3(b,w,k)),{},{updateId:b.updateId+1}),D=ae(ae(ae({},z),L),V);return ae(ae(ae({},D),p(ae({props:v},D),b)),{},{prevDataKey:x,prevData:w,prevWidth:N,prevHeight:j,prevLayout:k,prevStackOffset:O,prevMargin:P,prevChildren:_})}if(!Wk(_,b.prevChildren)){var U,I,F,G,ne=Ri(_,jh),Z=ne&&(U=(I=ne.props)===null||I===void 0?void 0:I.startIndex)!==null&&U!==void 0?U:A,S=ne&&(F=(G=ne.props)===null||G===void 0?void 0:G.endIndex)!==null&&F!==void 0?F:$,C=Z!==A||S!==$,E=!lt(w),B=E&&!C?b.updateId:b.updateId+1;return ae(ae({updateId:B},p(ae(ae({props:v},b),{},{updateId:B,dataStartIndex:Z,dataEndIndex:S}),b)),{},{prevChildren:_,dataStartIndex:Z,dataEndIndex:S})}return null}),Ke(g,"renderActiveDot",function(v,b,x){var w;return y.isValidElement(v)?w=y.cloneElement(v,b):Xe(v)?w=v(b):w=T.createElement(Qv,b),T.createElement(yt,{className:"recharts-active-dot",key:x},w)});var m=y.forwardRef(function(b,x){return T.createElement(g,lf({},b,{ref:x}))});return m.displayName=g.displayName,m},SVe=vj({chartName:"LineChart",GraphicalChild:Zv,axisComponents:[{axisType:"xAxis",AxisComp:Cc},{axisType:"yAxis",AxisComp:Ec}],formatAxisMap:jA}),NVe=vj({chartName:"BarChart",GraphicalChild:dd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Cc},{axisType:"yAxis",AxisComp:Ec}],formatAxisMap:jA}),kVe=vj({chartName:"PieChart",GraphicalChild:il,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:oj},{axisType:"radiusAxis",AxisComp:aj}],formatAxisMap:Q4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),CVe=vj({chartName:"AreaChart",GraphicalChild:Jo,axisComponents:[{axisType:"xAxis",AxisComp:Cc},{axisType:"yAxis",AxisComp:Ec}],formatAxisMap:jA});const EVe=({data:e})=>{const t=e.map(r=>({...r,date:Et(VP(r.date),"MMM d"),pending:r.count-r.completed-r.cancelled}));return o.jsxs(oe,{className:"col-span-full lg:col-span-2",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wu,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Appointment Trends"})]}),o.jsx(Ce,{children:"Daily appointment volume over time"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(G_,{width:"100%",height:"100%",children:o.jsxs(CVe,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:0})]})]}),o.jsx(mj,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),o.jsx(Cc,{dataKey:"date",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Ec,{tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Li,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(Io,{wrapperStyle:{fontSize:"12px"}}),o.jsx(Jo,{type:"monotone",dataKey:"count",name:"Total",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorTotal)"}),o.jsx(Jo,{type:"monotone",dataKey:"completed",name:"Completed",stroke:"hsl(152, 60%, 42%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorCompleted)"})]})})})})]})},F3=["hsl(174, 62%, 38%)","hsl(38, 92%, 50%)","hsl(16, 85%, 60%)"],OVe=({data:e})=>{const t=[{name:"Video",value:e.video,icon:""},{name:"Phone",value:e.phone,icon:""},{name:"In-Person",value:e.in_person,icon:""}].filter(n=>n.value>0),r=t.reduce((n,i)=>n+i.value,0);return r===0?o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dr,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Consultation Types"})]}),o.jsx(Ce,{children:"Distribution by type"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No consultation data available"})})]}):o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dr,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Consultation Types"})]}),o.jsx(Ce,{children:"Distribution by type"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(G_,{width:"100%",height:"100%",children:o.jsxs(kVe,{children:[o.jsx(il,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((n,i)=>o.jsx(qv,{fill:F3[i%F3.length]},`cell-${i}`))}),o.jsx(Li,{formatter:n=>[`${n} (${(n/r*100).toFixed(1)}%)`,"Count"],contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(Io,{formatter:n=>o.jsx("span",{className:"text-sm",children:n})})]})})})})]})},PVe={pending:"hsl(38, 92%, 50%)",confirmed:"hsl(210, 80%, 55%)",in_progress:"hsl(174, 62%, 38%)",completed:"hsl(152, 60%, 42%)",cancelled:"hsl(0, 72%, 51%)"},TVe=({data:e})=>{const t=Object.entries(e).map(([r,n])=>({status:r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1),count:n,color:PVe[r]||"hsl(215, 15%, 45%)"}));return t.length===0?o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(OM,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Status Distribution"})]}),o.jsx(Ce,{children:"Appointment status breakdown"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No status data available"})})]}):o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(OM,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Status Distribution"})]}),o.jsx(Ce,{children:"Appointment status breakdown"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(G_,{width:"100%",height:"100%",children:o.jsxs(NVe,{data:t,layout:"vertical",margin:{left:20,right:20},children:[o.jsx(mj,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)",horizontal:!1}),o.jsx(Cc,{type:"number",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Ec,{type:"category",dataKey:"status",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1,width:80}),o.jsx(Li,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(dd,{dataKey:"count",radius:[0,4,4,0],children:t.map((r,n)=>o.jsx(qv,{fill:r.color},`cell-${n}`))})]})})})})]})},AVe=({data:e})=>e.length===0?o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($M,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Clinician Performance"})]}),o.jsx(Ce,{children:"Top performing clinicians"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No clinician data available"})})]}):o.jsxs(oe,{className:"col-span-full lg:col-span-2",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($M,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Clinician Performance"})]}),o.jsx(Ce,{children:"Top performing clinicians by appointments"})]}),o.jsx(de,{children:o.jsx("div",{className:"space-y-4",children:e.slice(0,5).map((t,r)=>o.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold text-sm",children:r+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("p",{className:"font-medium truncate",children:["Dr. ",t.clinician_name]}),r===0&&o.jsx(Ee,{variant:"default",className:"text-xs",children:"Top Performer"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[t.total_appointments," appointments"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[t.completed_appointments," completed"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium",children:[t.completion_rate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion"})]}),o.jsx("div",{className:"w-24",children:o.jsx(Uu,{value:t.completion_rate,className:"h-2"})}),t.completion_rate>=80?o.jsx(wu,{className:"w-4 h-4 text-success"}):t.completion_rate>=50?o.jsx(wu,{className:"w-4 h-4 text-warning"}):o.jsx(Bee,{className:"w-4 h-4 text-destructive"})]})]},t.clinician_id))})})]}),MVe=({data:e})=>{const t=e.map(r=>({...r,date:Et(VP(r.date),"MMM d")}));return e.length===0?o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wb,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Patient Growth"})]}),o.jsx(Ce,{children:"New patient registrations over time"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No growth data available"})})]}):o.jsxs(oe,{className:"col-span-full lg:col-span-1",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wb,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Patient Growth"})]}),o.jsx(Ce,{children:"Total patients over time"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(G_,{width:"100%",height:"100%",children:o.jsxs(SVe,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[o.jsx(mj,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),o.jsx(Cc,{dataKey:"date",tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Ec,{tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Li,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(Io,{wrapperStyle:{fontSize:"11px"}}),o.jsx(Zv,{type:"monotone",dataKey:"total_patients",name:"Total Patients",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,dot:{fill:"hsl(174, 62%, 38%)",r:3},activeDot:{r:5}})]})})})})]})},IVe=()=>{var pd,Pa,ay,at,At,Wt,oi,li,Ta,js,ci,Aa,YA,JA,XA,QA,ZA,e2,t2,r2,n2,i2,a2,s2;const{profile:e,signOut:t}=Dr(),[r,n]=y.useState(30),{data:i,loading:a,error:s,refetch:l}=Lwe(r),[c,u]=y.useState("month"),[d,f]=y.useState(null),[h,p]=y.useState(null),[g,m]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,N]=y.useState(null),[j,k]=y.useState(null),[O,P]=y.useState(!1),[A,$]=y.useState(!1),[M,z]=y.useState(!1),[L,V]=y.useState(null),[D,U]=y.useState(""),[I,F]=y.useState(null),[G,ne]=y.useState(!1),[Z,S]=y.useState(null),[C,E]=y.useState("upload"),[B,R]=y.useState([]),[q,H]=y.useState("Campus Africa"),[X,te]=y.useState("university"),[J,je]=y.useState(""),[Oe,it]=y.useState(null),[qe,Ge]=y.useState(null),[jt,$t]=y.useState(!1),[Dt,W]=y.useState(null),[Y,re]=y.useState(!1),[Se,ye]=y.useState(null),[K,fe]=y.useState(null),[He,tt]=y.useState("preview"),[Vt,ia]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const ke=await $p.getCorporateClients();ke!=null&&ke.clients&&R(ke.clients)}catch(ke){console.error("Failed to fetch corporate clients:",ke)}})()},[]),y.useEffect(()=>{if(!Oe||C!=="importing")return;const ee=setInterval(async()=>{try{const ke=await $p.getJobStatus(Oe);ke!=null&&ke.job&&(Ge(ke.job),(ke.job.status==="completed"||ke.job.status==="failed")&&(clearInterval(ee),S({summary:{imported:ke.job.imported,duplicates:ke.job.duplicates,errors:ke.job.errors,skipped:ke.job.skipped,total_processed:ke.job.processed},details:ke.job.details}),E("complete"),ke.job.status==="completed"?ce.success(`Import complete! ${ke.job.imported} patients imported.`):ce.error(`Import failed: ${ke.job.error_message||"Unknown error"}`)))}catch(ke){console.error("Error polling job status:",ke)}},2e3);return()=>clearInterval(ee)},[Oe,C]),y.useEffect(()=>{if(!Se||He!=="sending")return;const ee=setInterval(async()=>{try{const ke=await Ly.getJobStatus(Se);ke!=null&&ke.job&&(fe(ke.job),ke.job.status==="completed"&&(clearInterval(ee),tt("complete"),ce.success(`Emails sent! ${ke.job.sent} delivered, ${ke.job.failed} failed.`)))}catch(ke){console.error("Error polling email job status:",ke)}},2e3);return()=>clearInterval(ee)},[Se,He]),y.useEffect(()=>{(async()=>{P(!0);try{const[ke,fr,Ac,wp,_p,Cj,sy]=await Promise.all([cl.getSummary(c),cl.getPeakTimes(c),cl.getCancellationStats(c),cl.getConversionFunnel(c),cl.getNoShowRates(c),cl.getReceptionistWorkload(c),cl.getTimestampTrends(c)]);f(ke),p(fr),m(Ac),b(wp),w(_p),N(Cj),k(sy)}catch(ke){console.error("Failed to fetch report data:",ke)}finally{P(!1)}})()},[c]);const Ci=async()=>{$(!0);try{await cl.exportCSV(c),ce.success("Report exported successfully")}catch(ee){console.error("Export failed:",ee),ce.error("Failed to export report")}finally{$(!1)}},Oc=ee=>{var fr;const ke=(fr=ee.target.files)==null?void 0:fr[0];ke&&(V(ke),F(null),S(null),E("upload"))},aa=async()=>{var ee,ke;if(L){ne(!0);try{const fr=await $p.preview(L,D||void 0);F(fr),E("preview"),ce.success(`File parsed successfully. ${fr.total_rows} rows found.`)}catch(fr){console.error("Preview failed:",fr),(ee=fr.message)!=null&&ee.includes("password protected")?ce.error("File is password protected. Please enter the password."):(ke=fr.message)!=null&&ke.includes("Invalid password")?ce.error("Invalid password. Please try again."):ce.error(fr.message||"Failed to preview file")}finally{ne(!1)}}},al=async()=>{if(!L)return;const ee=q==="__new__"?J:q;if(!ee){ce.error("Please select or enter a corporate client name");return}ne(!0),E("importing"),Ge(null);try{const ke=await $p.startImport(L,D||void 0,ee,X);if(ke!=null&&ke.job_id)it(ke.job_id),ce.success(`Import started for ${ke.total_rows} rows. Processing in background...`);else throw new Error("Failed to start import job")}catch(ke){console.error("Import failed:",ke),ce.error(ke.message||"Failed to start import"),E("preview"),ne(!1)}},_s=async()=>{if(Oe)try{await $p.cancelJob(Oe),ce.success("Import cancelled"),E("preview"),ne(!1)}catch{ce.error("Could not cancel import")}},Pc=()=>{V(null),U(""),F(null),S(null),E("upload"),H("Campus Africa"),te("university"),je(""),it(null),Ge(null),ne(!1)},bp=async()=>{re(!0);try{const ee=await Ly.preview();W(ee),tt("preview")}catch(ee){console.error("Failed to preview emails:",ee),ce.error("Failed to load email recipients")}finally{re(!1)}},Tc=async()=>{re(!0),tt("sending"),fe(null);try{const ee=await Ly.send({test_mode:Vt});if(ee!=null&&ee.job_id)ye(ee.job_id),ce.success(`Sending emails to ${ee.total_recipients} students...`);else throw new Error("Failed to start email job")}catch(ee){console.error("Email send failed:",ee),ce.error(ee.message||"Failed to send emails"),tt("preview")}finally{re(!1)}},ny=async()=>{re(!0);try{const ee=await Ly.sendTest();ee!=null&&ee.success&&ce.success(ee.message||"Test email sent to your email!")}catch(ee){ce.error(ee.message||"Failed to send test email")}finally{re(!1)}},iy=()=>{W(null),fe(null),tt("preview"),ye(null),ia(!1)};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("div",{className:"hidden sm:block",children:o.jsx("span",{className:"font-bold text-lg",children:"Quadcare Telehealth"})})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>l(),disabled:a,className:"hidden sm:flex",children:[o.jsx(Uo,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),o.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>l(),disabled:a,className:"sm:hidden",children:o.jsx(Uo,{className:`w-4 h-4 ${a?"animate-spin":""}`})}),o.jsx(Ee,{className:"bg-destructive text-white text-xs sm:text-sm",children:"Admin"}),o.jsxs("span",{className:"hidden md:block text-sm text-muted-foreground",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:t,children:[o.jsx(tc,{className:"w-4 h-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Admin Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"System analytics and administration"})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs(vr,{value:r.toString(),onValueChange:ee=>n(parseInt(ee)),children:[o.jsx(lr,{className:"w-[140px] sm:w-[180px]",children:o.jsx(yr,{placeholder:"Select period"})}),o.jsxs(cr,{children:[o.jsx(We,{value:"7",children:"Last 7 days"}),o.jsx(We,{value:"14",children:"Last 14 days"}),o.jsx(We,{value:"30",children:"Last 30 days"}),o.jsx(We,{value:"60",children:"Last 60 days"}),o.jsx(We,{value:"90",children:"Last 90 days"})]})]})})]}),o.jsxs(bc,{defaultValue:"analytics",className:"space-y-6",children:[o.jsxs(Zo,{className:"grid w-full grid-cols-2 sm:w-auto sm:inline-grid sm:grid-cols-4 gap-1",children:[o.jsxs(Gt,{value:"analytics",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(Zd,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Analytics"})]}),o.jsxs(Gt,{value:"reports",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(gn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Reports"})]}),o.jsxs(Gt,{value:"management",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(Ln,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Management"})]}),o.jsxs(Gt,{value:"settings",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(Mx,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),o.jsx(_r,{value:"analytics",className:"space-y-6",children:a?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(ee=>o.jsx(er,{className:"h-28"},ee))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(er,{className:"h-80 lg:col-span-2"}),o.jsx(er,{className:"h-80"})]})]}):i?o.jsxs(o.Fragment,{children:[o.jsx(Fwe,{overview:i.overview}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(EVe,{data:i.appointment_trends}),o.jsx(OVe,{data:i.consultation_types})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(AVe,{data:i.clinician_performance}),o.jsx(MVe,{data:i.patient_growth})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(TVe,{data:i.status_distribution}),o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wu,{className:"w-5 h-5 text-primary"}),o.jsx(_e,{className:"text-lg",children:"Quick Insights"})]}),o.jsx(Ce,{children:"Key performance indicators"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Session Duration"}),o.jsxs("span",{className:"font-semibold",children:[i.overview.average_consultation_duration.toFixed(1)," min"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),o.jsxs("span",{className:"font-semibold text-success",children:[i.overview.completion_rate,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Appointments This Week"}),o.jsx("span",{className:"font-semibold",children:i.overview.appointments_this_week})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Prescriptions Issued"}),o.jsx("span",{className:"font-semibold",children:i.overview.total_prescriptions})]})]})]})]})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Zd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Failed to load analytics data"}),s&&o.jsx("p",{className:"text-sm mt-2 text-destructive",children:s}),o.jsx(Q,{onClick:()=>l(),className:"mt-4",children:"Try Again"})]})}),o.jsxs(_r,{value:"reports",className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Booking Reports"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed analytics and export options"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(vr,{value:c,onValueChange:u,children:[o.jsx(lr,{className:"w-[150px]",children:o.jsx(yr,{placeholder:"Select period"})}),o.jsxs(cr,{children:[o.jsx(We,{value:"today",children:"Today"}),o.jsx(We,{value:"week",children:"Last 7 days"}),o.jsx(We,{value:"month",children:"Last 30 days"}),o.jsx(We,{value:"quarter",children:"Last 90 days"}),o.jsx(We,{value:"year",children:"Last year"})]})]}),o.jsxs(Q,{variant:"outline",onClick:Ci,disabled:A,children:[A?o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(bu,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),O?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(ee=>o.jsx(er,{className:"h-32"},ee))}):d?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs(oe,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsx(Ce,{children:"Total Bookings"}),o.jsx(_e,{className:"text-3xl",children:d.booking_stats.total_bookings})]}),o.jsx(de,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.period_start," - ",d.booking_stats.period_end]})})]}),o.jsxs(oe,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Ce,{className:"flex items-center gap-1",children:[o.jsx($r,{className:"w-3 h-3 text-green-500"}),"Completed"]}),o.jsx(_e,{className:"text-3xl text-green-600",children:d.booking_stats.completed})]}),o.jsx(de,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.total_bookings>0?Math.round(d.booking_stats.completed/d.booking_stats.total_bookings*100):0,"% completion rate"]})})]}),o.jsxs(oe,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Ce,{className:"flex items-center gap-1",children:[o.jsx(cs,{className:"w-3 h-3 text-red-500"}),"Cancelled"]}),o.jsx(_e,{className:"text-3xl text-red-600",children:d.booking_stats.cancelled})]}),o.jsx(de,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(g==null?void 0:g.cancellation_rate)||0,"% cancellation rate"]})})]}),o.jsxs(oe,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Ce,{className:"flex items-center gap-1",children:[o.jsx(rr,{className:"w-3 h-3 text-yellow-500"}),"Pending"]}),o.jsx(_e,{className:"text-3xl text-yellow-600",children:d.booking_stats.pending+d.booking_stats.confirmed})]}),o.jsx(de,{children:o.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting consultation"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(wu,{className:"w-5 h-5 text-primary"}),"Peak Times Analysis"]}),o.jsx(Ce,{children:"When are consultations most requested?"})]}),o.jsx(de,{className:"space-y-4",children:h!=null&&h.insights?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),o.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:h.insights.peak_day.day}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_day.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),o.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:h.insights.peak_hour.time}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_hour.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quietest Day"}),o.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300",children:h.insights.offpeak_day.day}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_day.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Off-Peak Hour"}),o.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:h.insights.offpeak_hour.time}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_hour.bookings," bookings"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Bookings by Day of Week"}),(pd=h.by_day_of_week)==null?void 0:pd.map(ee=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:ee.day}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2",style:{width:`${h.insights.peak_day.bookings>0?ee.count/h.insights.peak_day.bookings*100:0}%`}})}),o.jsx("span",{className:"w-8 text-xs text-right",children:ee.count})]},ee.day))]})]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(gn,{className:"w-5 h-5 text-primary"}),"Service Type Breakdown"]}),o.jsx(Ce,{children:"Distribution of consultation types"})]}),o.jsx(de,{className:"space-y-3",children:((Pa=d.service_breakdown)==null?void 0:Pa.length)>0?d.service_breakdown.map(ee=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:ee.service_type}),o.jsxs("span",{className:"font-medium",children:[ee.count," (",ee.percentage,"%)"]})]}),o.jsx("div",{className:"bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${ee.percentage}%`}})})]},ee.service_type)):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]})]}),j&&o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(rr,{className:"w-5 h-5 text-primary"}),"Consultation Time Trends"]}),o.jsxs(Ce,{children:["When do students book consultations? Busiest time: ",(at=(ay=j.summary)==null?void 0:ay.busiest_time_slot)==null?void 0:at.description]})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(Wt=(At=j.summary)==null?void 0:At.peak_hour)==null?void 0:Wt.time}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),o.jsxs("p",{className:"text-sm text-blue-600",children:[(li=(oi=j.summary)==null?void 0:oi.peak_hour)==null?void 0:li.count," bookings"]})]}),o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:(js=(Ta=j.summary)==null?void 0:Ta.peak_day)==null?void 0:js.day}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),o.jsxs("p",{className:"text-sm text-green-600",children:[(Aa=(ci=j.summary)==null?void 0:ci.peak_day)==null?void 0:Aa.count," bookings"]})]}),o.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(YA=j.summary)==null?void 0:YA.total_appointments}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Consultations"}),o.jsx("p",{className:"text-sm text-purple-600",children:"in selected period"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Hourly Distribution (SAST)"}),o.jsx("div",{className:"flex items-end gap-1 h-32",children:(JA=j.hourly_distribution)==null?void 0:JA.map(ee=>{var fr;const ke=((fr=j.scaling)==null?void 0:fr.max_hourly)>0?ee.count/j.scaling.max_hourly*100:0;return o.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[o.jsx("div",{className:`w-full rounded-t transition-all ${ee.is_peak?"bg-primary":"bg-primary/40"} hover:bg-primary/80`,style:{height:`${Math.max(ke,2)}%`},title:`${ee.hour}: ${ee.count} bookings`}),o.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 hidden sm:block",children:ee.hour_numeric%3===0?ee.hour.slice(0,2):""})]},ee.hour)})}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[o.jsx("span",{children:"00:00"}),o.jsx("span",{children:"06:00"}),o.jsx("span",{children:"12:00"}),o.jsx("span",{children:"18:00"}),o.jsx("span",{children:"23:00"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Day of Week Distribution"}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:(XA=j.daily_distribution)==null?void 0:XA.map(ee=>{var fr;const ke=((fr=j.scaling)==null?void 0:fr.max_daily)>0?ee.count/j.scaling.max_daily:0;return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`h-16 rounded-lg flex items-center justify-center text-sm font-medium ${ee.is_peak?"bg-primary text-primary-foreground":"bg-primary/20"}`,style:{opacity:Math.max(ke,.2)},children:ee.count}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:ee.day_short})]},ee.day)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Weekly Heatmap (Day  Hour)"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"min-w-[600px]",children:[o.jsxs("div",{className:"flex mb-1",children:[o.jsx("div",{className:"w-16"}),[0,3,6,9,12,15,18,21].map(ee=>o.jsx("div",{className:"flex-1 text-center text-xs text-muted-foreground",children:`${ee}:00`},ee))]}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((ee,ke)=>o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("div",{className:"w-16 text-xs text-muted-foreground pr-2 text-right",children:ee.slice(0,3)}),o.jsx("div",{className:"flex-1 flex gap-[1px]",children:Array.from({length:24},(fr,Ac)=>{var sy,o2,l2;const wp=(o2=(sy=j.heatmap)==null?void 0:sy.data)==null?void 0:o2.find(c2=>c2.day_index===ke&&c2.hour_index===Ac),_p=(wp==null?void 0:wp.count)||0,Cj=((l2=j.scaling)==null?void 0:l2.max_heatmap)>0?_p/j.scaling.max_heatmap:0;return o.jsx("div",{className:"flex-1 h-6 rounded-sm transition-colors cursor-pointer hover:ring-1 hover:ring-primary",style:{backgroundColor:_p>0?`rgba(59, 130, 246, ${Math.max(Cj,.1)})`:"rgba(0,0,0,0.05)"},title:`${ee} ${Ac}:00 - ${_p} bookings`},Ac)})})]},ee)),o.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Less"}),o.jsx("div",{className:"flex gap-[1px]",children:[.1,.3,.5,.7,1].map((ee,ke)=>o.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:`rgba(59, 130, 246, ${ee})`}},ke))}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"More"})]})]})})]}),((QA=j.daily_trend)==null?void 0:QA.length)>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Daily Booking Trend"}),o.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:j.daily_trend.map(ee=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"w-24 text-muted-foreground",children:ee.date}),o.jsx("div",{className:"flex-1 flex items-center gap-1",children:o.jsx("div",{className:"bg-primary h-4 rounded",style:{width:`${Math.max(ee.total/Math.max(...j.daily_trend.map(ke=>ke.total||1))*100,5)}%`}})}),o.jsxs("span",{className:"w-20 text-right",children:[o.jsx("span",{className:"font-medium",children:ee.total}),ee.completed>0&&o.jsxs("span",{className:"text-green-600 text-xs ml-1",children:["(",ee.completed,")"]})]})]},ee.date))})]})]})]}),o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-primary"}),"Clinician Performance"]}),o.jsx(Ce,{children:"Top clinicians by appointment volume"})]}),o.jsx(de,{children:((ZA=d.top_clinicians)==null?void 0:ZA.length)>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 font-medium",children:"Clinician"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Total"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Completed"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Cancelled"}),o.jsx("th",{className:"text-right py-2 font-medium",children:"Rate"})]})}),o.jsx("tbody",{children:d.top_clinicians.map(ee=>o.jsxs("tr",{className:"border-b last:border-0",children:[o.jsx("td",{className:"py-2",children:ee.clinician_name}),o.jsx("td",{className:"text-center py-2",children:ee.total_appointments}),o.jsx("td",{className:"text-center py-2 text-green-600",children:ee.completed}),o.jsx("td",{className:"text-center py-2 text-red-600",children:ee.cancelled}),o.jsxs("td",{className:"text-right py-2",children:[ee.total_appointments>0?Math.round(ee.completed/ee.total_appointments*100):0,"%"]})]},ee.clinician_name))})]})}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),v&&o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(wu,{className:"w-5 h-5 text-primary"}),"Conversion Funnel"]}),o.jsx(Ce,{children:"Patient journey from chat to completed consultation"})]}),o.jsx(de,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:[{label:"Chats Initiated",value:v.funnel.chats_initiated,color:"bg-blue-500"},{label:"Bookings Created",value:v.funnel.bookings_created,color:"bg-indigo-500"},{label:"Consultations Confirmed",value:v.funnel.consultations_confirmed,color:"bg-purple-500"},{label:"Consultations Completed",value:v.funnel.consultations_completed,color:"bg-green-500"}].map((ee,ke)=>{const fr=v.funnel.chats_initiated||1,Ac=Math.max(ee.value/fr*100,5);return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-40 text-sm text-right",children:ee.label}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-8 overflow-hidden",children:o.jsx("div",{className:`${ee.color} h-full flex items-center justify-end pr-3 transition-all`,style:{width:`${Ac}%`},children:o.jsx("span",{className:"text-white text-sm font-medium",children:ee.value})})})]},ee.label)})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[v.conversion_rates.chat_to_booking,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Chat  Booking"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[v.conversion_rates.booking_to_completed,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Booking  Completed"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[v.conversion_rates.overall,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall Conversion"})]})]}),o.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Chats without booking (Abandonment)"}),o.jsxs("span",{className:"font-semibold text-orange-700 dark:text-orange-300",children:[v.abandonment.chats_without_booking," (",v.abandonment.abandonment_rate,"%)"]})]})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x&&o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(cs,{className:"w-5 h-5 text-red-500"}),"No-Show Analysis"]}),o.jsx(Ce,{children:"Appointments missed without cancellation"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-red-600",children:x.summary.no_shows}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Shows"})]}),o.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[o.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[x.summary.no_show_rate,"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Show Rate"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"No-Shows by Day"}),(e2=x.by_day_of_week)==null?void 0:e2.map(ee=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:ee.day}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 rounded-full h-2",style:{width:`${x.summary.no_shows>0?ee.no_shows/x.summary.no_shows*100:0}%`}})}),o.jsx("span",{className:"w-8 text-xs text-right",children:ee.no_shows})]},ee.day))]})]})]}),_&&o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-primary"}),"Receptionist Workload"]}),o.jsx(Ce,{children:"Chat and booking distribution"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold",children:_.summary.total_chats_handled}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Chats"})]}),o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.summary.total_bookings_created}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Bookings Created"})]})]}),((t2=_.by_receptionist)==null?void 0:t2.length)>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"By Receptionist"}),_.by_receptionist.map(ee=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:ee.receptionist_name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[ee.chats_handled," chats  ",ee.bookings_created," bookings"]})]}),o.jsxs(Ee,{variant:ee.conversion_rate>=50?"default":"secondary",children:[ee.conversion_rate,"% conversion"]})]},ee.receptionist_id))]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No receptionist data available"})]})]})]})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(gn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No report data available"})]})]}),o.jsxs(_r,{value:"management",className:"space-y-6",children:[o.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:o.jsx(Ln,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-lg",children:"User Management"}),o.jsx(Ce,{children:"Manage all users"})]})]})}),o.jsxs(Yi,{open:M,onOpenChange:ee=>{z(ee),ee||Pc()},children:[o.jsx(Ub,{asChild:!0,children:o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-green-500/20 hover:border-green-500 bg-green-50/50 dark:bg-green-900/10",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:o.jsx(zee,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-lg",children:"Bulk Import"}),o.jsx(Ce,{children:"Import students from Excel"})]})]})})}),o.jsxs(bi,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(wi,{children:[o.jsxs(_i,{className:"flex items-center gap-2",children:[o.jsx(PM,{className:"w-5 h-5"}),"Campus Africa Student Import"]}),o.jsx(sc,{children:"Upload an Excel file to bulk register students. Supports password-protected files."})]}),C==="upload"&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[o.jsx(PM,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),o.jsxs(he,{htmlFor:"excel-upload",className:"cursor-pointer",children:[o.jsx("span",{className:"text-primary hover:underline",children:"Choose Excel file"}),o.jsx("span",{className:"text-muted-foreground",children:" or drag and drop"})]}),o.jsx(nt,{id:"excel-upload",type:"file",accept:".xlsx,.xls",onChange:Oc,className:"hidden"}),L&&o.jsxs("p",{className:"mt-4 text-sm text-green-600 flex items-center justify-center gap-2",children:[o.jsx(mn,{className:"w-4 h-4"}),L.name," (",(L.size/1024).toFixed(1)," KB)"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"password",children:"File Password (if protected)"}),o.jsx(nt,{id:"password",type:"password",placeholder:"Leave empty if not password protected",value:D,onChange:ee=>U(ee.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"corporate-client",children:"Corporate Client"}),o.jsxs(vr,{value:q,onValueChange:H,children:[o.jsx(lr,{children:o.jsx(yr,{placeholder:"Select corporate client"})}),o.jsxs(cr,{children:[B.map(ee=>o.jsxs(We,{value:ee.name,children:[ee.name," (",ee.code||ee.type,")"]},ee.id)),o.jsx(We,{value:"__new__",children:"+ Add New Client"})]})]})]}),q==="__new__"&&o.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-primary",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"new-client-name",children:"New Client Name"}),o.jsx(nt,{id:"new-client-name",placeholder:"e.g., Company XYZ",value:J,onChange:ee=>je(ee.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"client-type",children:"Client Type"}),o.jsxs(vr,{value:X,onValueChange:te,children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsxs(cr,{children:[o.jsx(We,{value:"corporate",children:"Corporate"}),o.jsx(We,{value:"university",children:"University / College"}),o.jsx(We,{value:"government",children:"Government"}),o.jsx(We,{value:"ngo",children:"NGO / Non-Profit"})]})]})]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-sm space-y-2",children:[o.jsx("p",{className:"font-medium",children:"Expected Columns:"}),o.jsx("p",{className:"text-muted-foreground",children:"Account Number, Title, First Name, Last Name, I.D Number, DOB, Gender, Cell, Email, Employer, Occupation, Status"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[" All patients will be linked to: ",o.jsx("strong",{children:q==="__new__"?J||"(enter name above)":q}),o.jsx("br",{})," Rows with invalid/missing email will be skipped",o.jsx("br",{})," Duplicate emails (already in Quadcare) will be skipped",o.jsx("br",{}),' Patients can use "Forgot Password" to set their login password']})]})]}),C==="preview"&&I&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg flex items-center gap-2 mb-4",children:[o.jsx(bb,{className:"w-5 h-5 text-primary"}),o.jsxs("span",{className:"font-medium",children:["Importing to: ",q==="__new__"?J:q]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.summary.to_import}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"To Import"})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.summary.duplicates||0}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Already in Quadcare"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:I.summary.errors}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid Email"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Preview of first 10 rows from ",I.total_rows," total rows:"]}),o.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[300px]",children:o.jsxs(zx,{children:[o.jsx(Vx,{children:o.jsxs(qc,{children:[o.jsx(Ti,{className:"w-12",children:"#"}),o.jsx(Ti,{children:"Name"}),o.jsx(Ti,{children:"Email"}),o.jsx(Ti,{children:"Phone"}),o.jsx(Ti,{children:"CA Status"}),o.jsx(Ti,{children:"Action"})]})}),o.jsx(Wx,{children:I.preview_rows.map(ee=>{var ke,fr;return o.jsxs(qc,{children:[o.jsx(Ai,{className:"font-mono text-xs",children:ee.row_number}),o.jsxs(Ai,{children:[ee.first_name," ",ee.last_name]}),o.jsx(Ai,{className:"text-xs",children:ee.email}),o.jsx(Ai,{className:"text-xs",children:ee.phone}),o.jsx(Ai,{children:o.jsx(Ee,{variant:(ke=ee.status)!=null&&ke.includes("existing")?"secondary":"outline",children:ee.status||"New"})}),o.jsxs(Ai,{children:[ee.import_action==="import"?o.jsxs(Ee,{variant:"default",className:"bg-green-600",children:[o.jsx(mn,{className:"w-3 h-3 mr-1"}),"Import"]}):ee.import_action==="duplicate"?o.jsx(Ee,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Duplicate"}):o.jsxs(Ee,{variant:"destructive",children:[o.jsx(pc,{className:"w-3 h-3 mr-1"}),"Error"]}),((fr=ee.validation_errors)==null?void 0:fr.length)>0&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ee.validation_errors.join(", ")})]})]},ee.row_number)})})]})})]}),C==="importing"&&o.jsxs("div",{className:"space-y-4 py-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(ft,{className:"w-12 h-12 mx-auto animate-spin text-primary"}),o.jsx("p",{className:"text-lg font-medium mt-4",children:"Importing patients..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing in the background. You can close this dialog - the import will continue."})]}),qe&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["Progress: ",qe.processed||0," / ",qe.total_rows||0]}),o.jsxs("span",{children:[qe.progress_percent||0,"%"]})]}),o.jsx(Uu,{value:qe.progress_percent||0,className:"w-full"}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[o.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-green-600",children:qe.imported||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Imported"})]}),o.jsxs("div",{className:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-yellow-600",children:qe.skipped||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Skipped"})]}),o.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-blue-600",children:qe.duplicates||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Duplicates"})]}),o.jsxs("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-red-600",children:qe.errors||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"})]})]}),o.jsx(Q,{variant:"outline",onClick:_s,className:"w-full",children:"Cancel Import"})]})]}),C==="complete"&&Z&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"text-center py-4",children:[o.jsx(mn,{className:"w-16 h-16 mx-auto text-green-500 mb-4"}),o.jsx("p",{className:"text-xl font-bold",children:"Import Complete!"})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:Z.summary.imported}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Imported"})]}),o.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Z.summary.skipped}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Z.summary.duplicates}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Duplicates"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:Z.summary.errors}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"})]})]}),((r2=Z.details)==null?void 0:r2.length)>0&&o.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[200px]",children:o.jsxs(zx,{children:[o.jsx(Vx,{children:o.jsxs(qc,{children:[o.jsx(Ti,{className:"w-12",children:"#"}),o.jsx(Ti,{children:"Email"}),o.jsx(Ti,{children:"Status"}),o.jsx(Ti,{children:"Details"})]})}),o.jsx(Wx,{children:Z.details.slice(0,20).map((ee,ke)=>o.jsxs(qc,{children:[o.jsx(Ai,{className:"font-mono text-xs",children:ee.row}),o.jsx(Ai,{className:"text-xs",children:ee.email}),o.jsx(Ai,{children:o.jsx(Ee,{variant:ee.status==="imported"?"default":ee.status==="skipped"?"secondary":ee.status==="duplicate"?"outline":"destructive",className:ee.status==="imported"?"bg-green-600":"",children:ee.status})}),o.jsx(Ai,{className:"text-xs text-muted-foreground",children:ee.reason})]},ke))})]})}),o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'Students can now log in using "Forgot Password" to set their password.'})]}),o.jsxs(_f,{children:[C==="upload"&&o.jsx(Q,{onClick:aa,disabled:!L||G,children:G?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):o.jsx(o.Fragment,{children:"Preview File"})}),C==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(Q,{variant:"outline",onClick:()=>E("upload"),children:"Back"}),o.jsx(Q,{onClick:al,disabled:G||((n2=I==null?void 0:I.summary)==null?void 0:n2.to_import)===0,children:G?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(wb,{className:"w-4 h-4 mr-2"}),"Import ",(i2=I==null?void 0:I.summary)==null?void 0:i2.to_import," Students"]})})]}),C==="complete"&&o.jsx(Q,{onClick:()=>{z(!1),Pc()},children:"Done"})]})]})]}),o.jsxs(Yi,{open:jt,onOpenChange:ee=>{$t(ee),ee||iy(),ee&&bp()},children:[o.jsx(Ub,{asChild:!0,children:o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-blue-500/20 hover:border-blue-500 bg-blue-50/50 dark:bg-blue-900/10",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:o.jsx(Rs,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-lg",children:"Welcome Emails"}),o.jsx(Ce,{children:"Send to Campus Africa students"})]})]})})}),o.jsxs(bi,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(wi,{children:[o.jsxs(_i,{className:"flex items-center gap-2",children:[o.jsx(Rs,{className:"w-5 h-5"}),"Send Welcome Emails"]}),o.jsx(sc,{children:"Send personalized welcome emails to Campus Africa students who haven't logged in yet."})]}),He==="preview"&&o.jsx("div",{className:"space-y-4 py-4",children:Y?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(ft,{className:"w-6 h-6 animate-spin mr-2"}),"Loading recipients..."]}):Dt?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-blue-600"}),o.jsxs("span",{className:"font-semibold text-lg",children:[Dt.total_eligible," students eligible"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Students who were bulk-imported but haven't logged in yet"})]}),((a2=Dt.preview)==null?void 0:a2.length)>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Preview (first 20):"}),o.jsx("div",{className:"border rounded-lg max-h-48 overflow-y-auto",children:o.jsxs(zx,{children:[o.jsx(Vx,{children:o.jsxs(qc,{children:[o.jsx(Ti,{children:"Name"}),o.jsx(Ti,{children:"Email"})]})}),o.jsx(Wx,{children:Dt.preview.map((ee,ke)=>o.jsxs(qc,{children:[o.jsxs(Ai,{children:[ee.first_name," ",ee.last_name]}),o.jsx(Ai,{className:"text-sm text-muted-foreground",children:ee.email})]},ke))})]})})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[o.jsx("input",{type:"checkbox",id:"test-mode",checked:Vt,onChange:ee=>ia(ee.target.checked),className:"rounded"}),o.jsx(he,{htmlFor:"test-mode",className:"text-sm cursor-pointer",children:"Test mode (send to first 5 students only)"})]})]}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data loaded"})}),He==="sending"&&K&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[o.jsx(ft,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{className:"font-medium",children:"Sending emails..."})]}),o.jsx(Uu,{value:K.progress_percent,className:"h-3"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:K.sent}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Sent"})]}),o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:K.failed}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed"})]}),o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:K.total}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[K.processed," of ",K.total," processed (",K.progress_percent,"%)"]})]}),He==="complete"&&K&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx($r,{className:"w-8 h-8 text-green-600"})}),o.jsx("h3",{className:"text-lg font-semibold",children:"Emails Sent!"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-green-600",children:K.sent}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Successfully Sent"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-red-600",children:K.failed}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]}),((s2=K.errors)==null?void 0:s2.length)>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{className:"text-red-600",children:"Failed emails:"}),o.jsx("div",{className:"border border-red-200 rounded-lg max-h-32 overflow-y-auto p-2",children:K.errors.map((ee,ke)=>o.jsxs("div",{className:"text-sm text-red-600",children:[ee.email,": ",ee.error]},ke))})]})]}),o.jsxs(_f,{className:"gap-2",children:[He==="preview"&&o.jsxs(o.Fragment,{children:[o.jsxs(Q,{variant:"outline",onClick:ny,disabled:Y,children:[o.jsx(RU,{className:"w-4 h-4 mr-2"}),"Send Test to Me"]}),o.jsxs(Q,{onClick:Tc,disabled:Y||!(Dt!=null&&Dt.total_eligible),children:[Y?o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Send ",Vt?"5 Test":(Dt==null?void 0:Dt.total_eligible)||0," Emails"]})]}),He==="complete"&&o.jsx(Q,{onClick:()=>{$t(!1),iy()},children:"Done"})]})]})]}),o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-success/10",children:o.jsx(bb,{className:"w-6 h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-lg",children:"Clinics"}),o.jsx(Ce,{children:"Manage clinic locations"})]})]})}),o.jsx(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-warning/10",children:o.jsx(Rt,{className:"w-6 h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-lg",children:"Appointments"}),o.jsx(Ce,{children:"View all bookings"})]})]})})]}),o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Zd,{className:"w-5 h-5 text-primary"}),"System Activity"]}),o.jsx(Ce,{children:"Recent system events and logs"})]}),o.jsx(de,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Zd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Activity logging coming soon"}),o.jsx("p",{className:"text-sm mt-2",children:"System events will appear here"})]})})]})]}),o.jsx(_r,{value:"settings",className:"space-y-6",children:o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Mx,{className:"w-5 h-5 text-primary"}),"System Settings"]}),o.jsx(Ce,{children:"Configure system parameters"})]}),o.jsx(de,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Mx,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Settings panel coming soon"}),o.jsx("p",{className:"text-sm mt-2",children:"System configuration options will appear here"})]})})]})})]})]})]})},$Ve=()=>{const e=zn(),{toast:t}=RO(),{user:r,profile:n,signOut:i,role:a}=Dr(),{currentConversation:s,messages:l,isLoading:c,selectConversation:u,sendMessage:d,claimConversation:f,updateConversationStatus:h}=pV(),[p,g]=y.useState("unassigned"),[m,v]=y.useState([]),[b,x]=y.useState([]),[w,_]=y.useState([]),[N,j]=y.useState({unassigned_count:0,my_chats_count:0,total_active:0}),[k,O]=y.useState(!1),[P,A]=y.useState(!1),[$,M]=y.useState("chat"),[z,L]=y.useState([]),[V,D]=y.useState(!1),[U,I]=y.useState(!1),[F,G]=y.useState([]),[ne,Z]=y.useState([]),[S,C]=y.useState({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:"",authorization_number:""}),[E,B]=y.useState(!1),[R,q]=y.useState(!1),[H,X]=y.useState(!1),[te,J]=y.useState(null),[je,Oe]=y.useState(null),[it,qe]=y.useState(null),[Ge,jt]=y.useState(!1);y.useEffect(()=>{(async()=>{if(!(s!=null&&s.patient_id)){qe(null);return}jt(!0);try{const fe=await Ov.getUrl(s.patient_id);qe((fe==null?void 0:fe.photo_url)||null)}catch(fe){console.error("Error fetching patient photo:",fe),qe(null)}finally{jt(!1)}})()},[s==null?void 0:s.patient_id]),y.useEffect(()=>{(async()=>{if(s!=null&&s.booking_id)try{const He=(await _o.list()).find(tt=>tt.id===s.booking_id);J(He||null)}catch(fe){console.error("Error fetching booking:",fe),J(null)}else J(null)})()},[s==null?void 0:s.booking_id]);const $t=y.useCallback(async()=>{D(!0);try{const fe=(await _o.list()||[]).sort((He,tt)=>new Date(He.scheduled_at).getTime()-new Date(tt.scheduled_at).getTime());L(fe)}catch(K){console.error("Error loading bookings:",K)}finally{D(!1)}},[]);y.useEffect(()=>{$==="bookings"&&$t()},[$,$t]);const Dt=async K=>{Oe(K),q(!0)},W=async()=>{const K=je||(s!=null&&s.booking_id?{id:s.booking_id}:null);if(K!=null&&K.id){X(!0);try{await _o.cancel(K.id),t({title:"Booking cancelled",description:"The booking has been cancelled successfully"}),q(!1),Oe(null),J(null),Y(),$==="bookings"&&$t()}catch(fe){t({title:"Error cancelling booking",description:fe.message,variant:"destructive"})}finally{X(!1)}}},Y=y.useCallback(async()=>{A(!0);try{const[K,fe,He,tt]=await Promise.all([an.getUnassignedConversations(),an.getMyChats(),an.getConversations(),an.getStats()]);v(K||[]),x(fe||[]),_(He||[]),j(tt||{unassigned_count:0,my_chats_count:0,total_active:0})}catch(K){console.error("Error loading data:",K)}finally{A(!1)}},[]);y.useEffect(()=>{Y();const K=setInterval(Y,3e4);return()=>clearInterval(K)},[Y]),y.useEffect(()=>{(async()=>{try{const[fe,He]=await Promise.all([_o.getFeeSchedule(),_o.getAvailableClinicians()]);G(fe||[]),Z(He||[]),console.log("Loaded clinicians:",He)}catch(fe){console.error("Error loading booking data:",fe)}})()},[]);const re=async K=>{try{await f(K),t({title:"Chat claimed",description:"You are now handling this conversation"}),await Y(),g("my-chats")}catch(fe){t({title:"Error",description:fe.message,variant:"destructive"})}},Se=async K=>{await u(K.id)},ye=async()=>{if(!s||!S.clinician_id||!S.scheduled_at){t({title:"Error",description:"Please select a clinician and date/time",variant:"destructive"});return}B(!0);try{await _o.create({patient_id:s.patient_id,clinician_id:S.clinician_id,conversation_id:s.id,scheduled_at:new Date(S.scheduled_at).toISOString(),service_type:S.service_type,billing_type:S.billing_type,notes:S.notes||void 0,authorization_number:S.billing_type==="medical_aid"?S.authorization_number:void 0}),t({title:"Booking created",description:"The patient has been notified"}),I(!1),C({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:"",authorization_number:""}),await u(s.id),await Y()}catch(K){t({title:"Error creating booking",description:K.message,variant:"destructive"})}finally{B(!1)}};return a!=="admin"&&a!=="nurse"&&a!=="doctor"&&a!=="receptionist"?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs(oe,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),o.jsx(Q,{className:"mt-4",onClick:()=>e("/"),children:"Go Home"})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-lg hidden sm:block",children:"Quadcare Reception"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[o.jsxs(Q,{variant:$==="chat"?"default":"ghost",size:"sm",onClick:()=>M("chat"),children:[o.jsx(Mu,{className:"w-4 h-4 mr-2"}),"Chats"]}),o.jsxs(Q,{variant:$==="bookings"?"default":"ghost",size:"sm",onClick:()=>M("bookings"),children:[o.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Bookings"]})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(Ee,{variant:"secondary",className:"gap-1",children:[o.jsx(kee,{className:"w-3 h-3"}),N.unassigned_count," Unassigned"]}),o.jsxs(Ee,{variant:"default",className:"gap-1",children:[o.jsx(Mu,{className:"w-3 h-3"}),N.my_chats_count," My Chats"]})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.first_name)||"Receptionist"}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:i,children:[o.jsx(tc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>O(!k),children:k?o.jsx(to,{className:"w-5 h-5"}):o.jsx(bv,{className:"w-5 h-5"})})]})}),o.jsx("main",{className:"container mx-auto px-4 py-4",children:$==="chat"?o.jsxs("div",{className:"flex gap-4 h-[calc(100vh-120px)]",children:[o.jsxs(oe,{className:"w-80 shrink-0 flex flex-col",children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(_e,{className:"text-lg",children:"Chat Queue"}),o.jsx(Q,{variant:"ghost",size:"sm",onClick:Y,disabled:P,children:P?o.jsx(ft,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),o.jsx(de,{className:"flex-1 p-0 overflow-hidden",children:o.jsxs(bc,{value:p,onValueChange:g,className:"h-full flex flex-col",children:[o.jsxs(Zo,{className:"grid grid-cols-3 mx-4",children:[o.jsxs(Gt,{value:"unassigned",className:"text-xs",children:["Unassigned",N.unassigned_count>0&&o.jsx(Ee,{variant:"destructive",className:"ml-1 px-1 py-0 text-xs",children:N.unassigned_count})]}),o.jsx(Gt,{value:"my-chats",className:"text-xs",children:"My Chats"}),o.jsx(Gt,{value:"all",className:"text-xs",children:"All"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsx(_r,{value:"unassigned",className:"m-0 h-full",children:m.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[o.jsx($r,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No unassigned chats"})]}):o.jsx("div",{className:"divide-y",children:m.map(K=>o.jsxs("div",{className:"p-4 hover:bg-accent",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:K.patient_name}),o.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:K.last_message})]}),o.jsx(Ee,{variant:"secondary",className:"text-xs",children:"New"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:K.last_message_at&&Et(new Date(K.last_message_at),"HH:mm")}),o.jsxs(Q,{size:"sm",onClick:()=>re(K.id),children:[o.jsx(wb,{className:"w-3 h-3 mr-1"}),"Claim"]})]})]},K.id))})}),o.jsx(_r,{value:"my-chats",className:"m-0 h-full",children:o.jsx(Mk,{conversations:b,selectedId:s==null?void 0:s.id,onSelect:Se,showPatientName:!0})}),o.jsx(_r,{value:"all",className:"m-0 h-full",children:o.jsx(Mk,{conversations:w,selectedId:s==null?void 0:s.id,onSelect:Se,showPatientName:!0})})]})]})})]}),o.jsx(oe,{className:"flex-1 flex flex-col",children:s?o.jsxs(o.Fragment,{children:[o.jsx(me,{className:"pb-2 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ap,{className:"w-14 h-14 border-2 border-border",children:Ge?o.jsx(lc,{children:o.jsx(ft,{className:"w-5 h-5 animate-spin"})}):it?o.jsx(p_,{src:it,alt:s.patient_name}):o.jsx(lc,{className:"bg-muted",children:o.jsx(Rr,{className:"w-6 h-6 text-muted-foreground"})})}),!it&&!Ge&&o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-amber-500 rounded-full p-1",title:"No verification photo",children:o.jsx(Sm,{className:"w-3 h-3 text-white"})})]}),o.jsxs("div",{children:[o.jsx(_e,{className:"text-lg",children:s.patient_name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Ee,{variant:"outline",children:s.status.replace("_"," ")}),s.patient_type&&o.jsx(Ee,{variant:"secondary",children:s.patient_type.replace("_"," ")}),!it&&!Ge&&o.jsx(Ee,{variant:"outline",className:"text-amber-600 border-amber-300 bg-amber-50",children:"No Photo"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(vr,{value:s.patient_type||"",onValueChange:async K=>{await an.updatePatientType(s.id,K),await u(s.id)},children:[o.jsx(lr,{className:"w-[150px]",children:o.jsx(yr,{placeholder:"Patient Type"})}),o.jsxs(cr,{children:[o.jsx(We,{value:"medical_aid",children:"Medical Aid"}),o.jsx(We,{value:"campus_africa",children:"Campus Africa"}),o.jsx(We,{value:"university_student",children:"University Student"}),o.jsx(We,{value:"cash",children:"Cash / Self-Pay"})]})]}),o.jsxs(Yi,{open:U,onOpenChange:I,children:[o.jsx(Ub,{asChild:!0,children:o.jsxs(Q,{disabled:s.status==="booked"||!!te,children:[o.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Create Booking"]})}),o.jsxs(bi,{className:"max-w-md",children:[o.jsx(wi,{children:o.jsxs(_i,{children:["Create Booking for ",s.patient_name]})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Clinical Associate *"}),o.jsxs(vr,{value:S.clinician_id,onValueChange:K=>C(fe=>({...fe,clinician_id:K})),children:[o.jsx(lr,{children:o.jsx(yr,{placeholder:"Select clinician"})}),o.jsx(cr,{children:ne.length===0?o.jsx(We,{value:"",disabled:!0,children:"No clinicians available"}):ne.map(K=>o.jsxs(We,{value:K.id,children:[K.name," (",K.specialization||K.role,")"]},K.id))})]}),ne.length===0&&o.jsx("p",{className:"text-xs text-destructive",children:"No clinicians found. Please create Clinical Associate accounts first."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Date & Time *"}),o.jsx(nt,{type:"datetime-local",value:S.scheduled_at,onChange:K=>C(fe=>({...fe,scheduled_at:K.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Service Type"}),o.jsxs(vr,{value:S.service_type,onValueChange:K=>C(fe=>({...fe,service_type:K})),children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsx(cr,{children:F.map(K=>o.jsxs(We,{value:K.service_type,children:[K.name," - R",K.price]},K.service_type))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Billing Type"}),o.jsxs(vr,{value:S.billing_type,onValueChange:K=>C(fe=>({...fe,billing_type:K,authorization_number:""})),children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsxs(cr,{children:[o.jsx(We,{value:"medical_aid",children:"Medical Aid"}),o.jsx(We,{value:"campus_africa",children:"Campus Africa"}),o.jsx(We,{value:"university_student",children:"University Student"}),o.jsx(We,{value:"cash",children:"Cash / Self-Pay"})]})]})]}),S.billing_type==="medical_aid"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs(he,{children:["Authorization Number ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(nt,{value:S.authorization_number,onChange:K=>C(fe=>({...fe,authorization_number:K.target.value})),placeholder:"Enter medical aid authorization number",className:S.authorization_number?"":"border-destructive"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for medical aid billing. Obtain from HealthBridge system."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Notes (optional)"}),o.jsx(Jr,{value:S.notes,onChange:K=>C(fe=>({...fe,notes:K.target.value})),placeholder:"e.g., Patient mentioned skin rash, see uploaded images"})]}),S.billing_type==="cash"&&o.jsx("div",{className:"p-3 bg-muted rounded-lg",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:" Invoice will be auto-generated for cash patients"})})]}),o.jsxs(_f,{children:[o.jsx(Q,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),o.jsx(Q,{onClick:ye,disabled:E||!S.clinician_id||S.billing_type==="medical_aid"&&!S.authorization_number.trim(),children:E?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Booking"})]})]})]}),te&&o.jsxs(Yi,{open:R,onOpenChange:q,children:[o.jsx(Ub,{asChild:!0,children:o.jsxs(Q,{variant:"destructive",size:"sm",children:[o.jsx(cs,{className:"w-4 h-4 mr-2"}),"Cancel Booking"]})}),o.jsxs(bi,{className:"max-w-md",children:[o.jsxs(wi,{children:[o.jsxs(_i,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(ni,{className:"w-5 h-5"}),"Cancel Booking"]}),o.jsx(sc,{children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),o.jsx("span",{className:"font-medium",children:s.patient_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),o.jsx("span",{className:"font-medium",children:te.scheduled_at?pi(te.scheduled_at,"MMM d, yyyy 'at' HH:mm"):"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),o.jsx("span",{className:"font-medium",children:te.service_type})]}),te.clinician_name&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Clinician"}),o.jsx("span",{className:"font-medium",children:te.clinician_name})]})]})}),o.jsxs(_f,{children:[o.jsx(Q,{variant:"outline",onClick:()=>q(!1),children:"Keep Booking"}),o.jsx(Q,{variant:"destructive",onClick:W,disabled:H,children:H?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})]})]})]})}),o.jsx(gW,{messages:l,currentUserId:r==null?void 0:r.id}),o.jsx(vW,{onSend:d,disabled:s.status==="closed"})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[o.jsx(Ln,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),o.jsx("p",{className:"text-muted-foreground",children:"Choose a chat from the queue to start helping patients"})]})})]}):o.jsxs("div",{className:"h-[calc(100vh-120px)]",children:[o.jsxs(oe,{className:"h-full flex flex-col",children:[o.jsx(me,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Rt,{className:"w-5 h-5 text-primary"}),"All Bookings"]}),o.jsx(Ce,{children:"Manage upcoming and past consultations"})]}),o.jsx(Q,{variant:"outline",size:"sm",onClick:$t,disabled:V,children:V?o.jsx(ft,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),o.jsx(de,{className:"flex-1 overflow-y-auto",children:V?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(ft,{className:"w-8 h-8 animate-spin text-primary"})}):z.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(Rt,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"No bookings yet"}),o.jsx("p",{className:"text-sm",children:"Bookings will appear here when created"})]}):o.jsx("div",{className:"space-y-3",children:z.map(K=>{var Vt;const fe=new Date(K.scheduled_at)<new Date,He=K.status==="cancelled",tt=K.status==="completed";return o.jsx("div",{className:`p-4 rounded-lg border ${He?"border-red-200 bg-red-50 dark:bg-red-900/10":tt?"border-green-200 bg-green-50 dark:bg-green-900/10":fe?"border-muted bg-muted/50":"border-primary/30 bg-primary/5"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-semibold",children:K.patient_name||"Patient"}),o.jsx(Ee,{variant:He?"destructive":tt||K.status==="confirmed"?"default":"secondary",children:K.status})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[pi(K.scheduled_at,"EEEE, MMMM d, yyyy 'at' HH:mm")," (SAST)"]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Service: ",o.jsx("span",{className:"text-foreground",children:K.service_type})]}),K.clinician_name&&o.jsxs("span",{className:"text-muted-foreground",children:["Clinician: ",o.jsx("span",{className:"text-foreground",children:K.clinician_name})]}),o.jsxs("span",{className:"text-muted-foreground",children:["Type: ",o.jsx("span",{className:"text-foreground capitalize",children:(Vt=K.billing_type)==null?void 0:Vt.replace("_"," ")})]})]})]}),!He&&!tt&&!fe&&o.jsxs(Q,{variant:"destructive",size:"sm",onClick:()=>Dt(K),children:[o.jsx(cs,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})},K.id)})})})]}),o.jsx(Yi,{open:R&&!!je,onOpenChange:K=>{K||(q(!1),Oe(null))},children:o.jsxs(bi,{className:"max-w-md",children:[o.jsxs(wi,{children:[o.jsxs(_i,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(ni,{className:"w-5 h-5"}),"Cancel Booking"]}),o.jsx(sc,{children:"Are you sure you want to cancel this booking? A cancellation message will be sent in the patient's chat."})]}),je&&o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),o.jsx("span",{className:"font-medium",children:je.patient_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),o.jsx("span",{className:"font-medium",children:pi(je.scheduled_at,"MMM d, yyyy 'at' HH:mm")})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),o.jsx("span",{className:"font-medium",children:je.service_type})]})]})}),o.jsxs(_f,{children:[o.jsx(Q,{variant:"outline",onClick:()=>{q(!1),Oe(null)},children:"Keep Booking"}),o.jsx(Q,{variant:"destructive",onClick:W,disabled:H,children:H?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})})]})})]})},RVe=()=>o.jsx(mV,{children:o.jsx($Ve,{})});function B3(e,t){if(e==null)return{};var r,n,i=function(s,l){if(s==null)return{};var c={};for(var u in s)if({}.hasOwnProperty.call(s,u)){if(l.indexOf(u)!==-1)continue;c[u]=s[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e){return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(e)}function BY(e){var t=function(r,n){if(kt(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,n);if(kt(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e,"string");return kt(t)=="symbol"?t:t+""}function U3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BY(n.key),n)}}function na(e,t,r){return t&&U3(e.prototype,t),r&&U3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yj(e,t){if(t&&(kt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function gs(e){return gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(e)}function cv(e,t){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},cv(e,t)}function xj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cv(e,t)}function Ms(e,t,r){return(t=BY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3(e,t,r,n,i,a,s){try{var l=e[a](s),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,i)}function rt(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(c){z3(a,n,i,s,l,"next",c)}function l(c){z3(a,n,i,s,l,"throw",c)}s(void 0)})}}function V3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Bn(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var a,s,l,c,u=[],d=!0,f=!1;try{if(l=(i=i.call(r)).next,n===0){if(Object(i)!==i)return;d=!1}else for(;!(d=(a=l.call(i)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(f)throw s}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return V3(r,n);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?V3(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function DVe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W3,rx={exports:{}},vE=function(){if(W3)return rx.exports;W3=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(m,v,b){return Function.prototype.apply.call(m,v,b)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var n=Number.isNaN||function(m){return m!=m};function i(){i.init.call(this)}rx.exports=i,rx.exports.once=function(m,v){return new Promise(function(b,x){function w(N){m.removeListener(v,_),x(N)}function _(){typeof m.removeListener=="function"&&m.removeListener("error",w),b([].slice.call(arguments))}g(m,v,_,{once:!0}),v!=="error"&&function(N,j,k){typeof N.on=="function"&&g(N,"error",j,k)}(m,w,{once:!0})})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function l(m){return m._maxListeners===void 0?i.defaultMaxListeners:m._maxListeners}function c(m,v,b,x){var w,_,N,j;if(s(b),(_=m._events)===void 0?(_=m._events=Object.create(null),m._eventsCount=0):(_.newListener!==void 0&&(m.emit("newListener",v,b.listener?b.listener:b),_=m._events),N=_[v]),N===void 0)N=_[v]=b,++m._eventsCount;else if(typeof N=="function"?N=_[v]=x?[b,N]:[N,b]:x?N.unshift(b):N.push(b),(w=l(m))>0&&N.length>w&&!N.warned){N.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=m,k.type=v,k.count=N.length,j=k,console&&console.warn&&console.warn(j)}return m}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(m,v,b){var x={fired:!1,wrapFn:void 0,target:m,type:v,listener:b},w=u.bind(x);return w.listener=b,x.wrapFn=w,w}function f(m,v,b){var x=m._events;if(x===void 0)return[];var w=x[v];return w===void 0?[]:typeof w=="function"?b?[w.listener||w]:[w]:b?function(_){for(var N=new Array(_.length),j=0;j<N.length;++j)N[j]=_[j].listener||_[j];return N}(w):p(w,w.length)}function h(m){var v=this._events;if(v!==void 0){var b=v[m];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function p(m,v){for(var b=new Array(v),x=0;x<v;++x)b[x]=m[x];return b}function g(m,v,b,x){if(typeof m.on=="function")x.once?m.once(v,b):m.on(v,b);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(v,function w(_){x.once&&m.removeEventListener(v,w),b(_)})}}return Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");a=m}}),i.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(m){for(var v=[],b=1;b<arguments.length;b++)v.push(arguments[b]);var x=m==="error",w=this._events;if(w!==void 0)x=x&&w.error===void 0;else if(!x)return!1;if(x){var _;if(v.length>0&&(_=v[0]),_ instanceof Error)throw _;var N=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw N.context=_,N}var j=w[m];if(j===void 0)return!1;if(typeof j=="function")r(j,this,v);else{var k=j.length,O=p(j,k);for(b=0;b<k;++b)r(O[b],this,v)}return!0},i.prototype.addListener=function(m,v){return c(this,m,v,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(m,v){return c(this,m,v,!0)},i.prototype.once=function(m,v){return s(v),this.on(m,d(this,m,v)),this},i.prototype.prependOnceListener=function(m,v){return s(v),this.prependListener(m,d(this,m,v)),this},i.prototype.removeListener=function(m,v){var b,x,w,_,N;if(s(v),(x=this._events)===void 0)return this;if((b=x[m])===void 0)return this;if(b===v||b.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete x[m],x.removeListener&&this.emit("removeListener",m,b.listener||v));else if(typeof b!="function"){for(w=-1,_=b.length-1;_>=0;_--)if(b[_]===v||b[_].listener===v){N=b[_].listener,w=_;break}if(w<0)return this;w===0?b.shift():function(j,k){for(;k+1<j.length;k++)j[k]=j[k+1];j.pop()}(b,w),b.length===1&&(x[m]=b[0]),x.removeListener!==void 0&&this.emit("removeListener",m,N||v)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(m){var v,b,x;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[m]),this;if(arguments.length===0){var w,_=Object.keys(b);for(x=0;x<_.length;++x)(w=_[x])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=b[m])=="function")this.removeListener(m,v);else if(v!==void 0)for(x=v.length-1;x>=0;x--)this.removeListener(m,v[x]);return this},i.prototype.listeners=function(m){return f(this,m,!0)},i.prototype.rawListeners=function(m){return f(this,m,!1)},i.listenerCount=function(m,v){return typeof m.listenerCount=="function"?m.listenerCount(v):h.call(m,v)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},rx.exports}(),nx=DVe(vE),H3=Object.prototype.hasOwnProperty;function q3(e,t,r){for(r of e.keys())if(Gn(r,t))return r}function Gn(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Gn(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((i=n)&&typeof i=="object"&&!(i=q3(t,i))||!t.has(i))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((i=n[0])&&typeof i=="object"&&!(i=q3(t,i))||!Gn(n[1],t.get(i)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if(H3.call(e,r)&&++n&&!H3.call(t,r)||!(r in t)||!Gn(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const LVe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},UY={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Pr={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Vn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},gl={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ue{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=ue.getVersionPrecision(t),a=ue.getVersionPrecision(r);let s=Math.max(i,a),l=0;const c=ue.map([t,r],u=>{const d=s-ue.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return ue.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(l=s-Math.min(i,a)),s-=1;s>=l;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===l)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const a=t[n];if(r(a,n))return a}}static assign(t,...r){const n=t;let i,a;if(Object.assign)return Object.assign(t,...r);for(i=0,a=r.length;i<a;i+=1){const s=r[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(l=>{n[l]=s[l]})}return t}static getBrowserAlias(t){return LVe[t]}static getBrowserTypeByAlias(t){return UY[t]||""}}const Ht=/version\/(\d+(\.?_?\d+)+)/i,FVe=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=ue.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=ue.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=ue.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=ue.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=ue.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=ue.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=ue.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=ue.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=ue.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=ue.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=ue.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=ue.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=ue.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=ue.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=ue.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=ue.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=ue.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=ue.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=ue.getFirstMatch(Ht,e)||ue.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=ue.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=ue.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=ue.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=ue.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=ue.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=ue.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=ue.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=ue.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=ue.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=ue.getFirstMatch(Ht,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ue.getFirstMatch(t,e),version:ue.getSecondMatch(t,e)}}}];var BVe=[{test:[/Roku\/DVP/],describe(e){const t=ue.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Vn.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=ue.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Vn.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=ue.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=ue.getWindowsVersionName(t);return{name:Vn.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Vn.iOS},r=ue.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=ue.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=ue.getMacOSVersionName(t),n={name:Vn.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=ue.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Vn.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=ue.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=ue.getAndroidVersionName(t),n={name:Vn.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=ue.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:Vn.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=ue.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||ue.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||ue.getFirstMatch(/\bbb(\d+)/i,e);return{name:Vn.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=ue.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Vn.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=ue.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Vn.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Vn.Linux})},{test:[/CrOS/],describe:()=>({name:Vn.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=ue.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Vn.PlayStation4,version:t}}}],UVe=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=ue.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:Pr.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Pr.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Pr.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Pr.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Pr.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Pr.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Pr.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=ue.getFirstMatch(/(ipod|iphone)/i,e);return{type:Pr.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Pr.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Pr.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:Pr.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:Pr.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:Pr.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:Pr.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:Pr.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:Pr.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:Pr.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:Pr.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:Pr.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:Pr.tv})}],zVe=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:gl.Blink};const t=ue.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:gl.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:gl.Trident},r=ue.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:gl.Presto},r=ue.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:gl.Gecko},r=ue.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:gl.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:gl.WebKit},r=ue.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class G3{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=ue.find(FVe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=ue.find(BVe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=ue.find(UVe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=ue.find(zVe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ue.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let a=0;if(Object.keys(t).forEach(s=>{const l=t[s];typeof l=="string"?(i[s]=l,a+=1):typeof l=="object"&&(r[s]=l,n+=1)}),n>0){const s=Object.keys(r),l=ue.find(s,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=ue.find(s,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(a>0){const s=Object.keys(i),l=ue.find(s,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(i[l])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const a=ue.getBrowserTypeByAlias(i);return r&&a&&(i=a.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const a=this.getBrowserVersion();if(typeof a=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(ue.compareVersions(a,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class VVe{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new G3(t,r)}static parse(t){return new G3(t).getResult()}static get BROWSER_MAP(){return UY}static get ENGINE_MAP(){return gl}static get OS_MAP(){return Vn}static get PLATFORMS_MAP(){return Pr}}function bj(){return Date.now()+Math.random().toString()}function em(){throw new Error("Method must be implemented in subclass")}function zY(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function sw(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:zY("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function ow(e){try{new URL(e)}catch{return!1}return!0}const Xt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nu="8.55.0",It=globalThis;function lw(e,t,r){const n=It,i=n.__SENTRY__=n.__SENTRY__||{},a=i[Nu]=i[Nu]||{};return a[e]||(a[e]=t())}const fd=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,yE=["debug","info","warn","error","log","assert","trace"],cw={};function ey(e){if(!("console"in It))return e();const t=It.console,r={},n=Object.keys(cw);n.forEach(i=>{const a=cw[i];r[i]=t[i],t[i]=a});try{return e()}finally{n.forEach(i=>{t[i]=r[i]})}}const ut=lw("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return fd?yE.forEach(r=>{t[r]=(...n)=>{e&&ey(()=>{It.console[r](`Sentry Logger [${r}]:`,...n)})}}):yE.forEach(r=>{t[r]=()=>{}}),t}),du="?",K3=/\(error: (.*)\)/,Y3=/captureMessage|captureException/;function ix(e){return e[e.length-1]||{}}const J3="<anonymous>";function cc(e){try{return e&&typeof e=="function"&&e.name||J3}catch{return J3}}function X3(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const qx={},Q3={};function ku(e,t){qx[e]=qx[e]||[],qx[e].push(t)}function Cu(e,t){if(!Q3[e]){Q3[e]=!0;try{t()}catch(r){fd&&ut.error(`Error while instrumenting ${e}`,r)}}}function ss(e,t){const r=e&&qx[e];if(r)for(const n of r)try{n(t)}catch(i){fd&&ut.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${cc(n)}
Error:`,i)}}let SS=null;function WVe(){SS=It.onerror,It.onerror=function(e,t,r,n,i){return ss("error",{column:n,error:i,line:r,msg:e,url:t}),!!SS&&SS.apply(this,arguments)},It.onerror.__SENTRY_INSTRUMENTED__=!0}let NS=null;function HVe(){NS=It.onunhandledrejection,It.onunhandledrejection=function(e){return ss("unhandledrejection",e),!NS||NS.apply(this,arguments)},It.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function wj(){return MA(It),It}function MA(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Nu,t[Nu]=t[Nu]||{}}const VY=Object.prototype.toString;function IA(e){switch(VY.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Yu(e,Error)}}function xp(e,t){return VY.call(e)===`[object ${t}]`}function WY(e){return xp(e,"ErrorEvent")}function Z3(e){return xp(e,"DOMError")}function Po(e){return xp(e,"String")}function $A(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function xE(e){return e===null||$A(e)||typeof e!="object"&&typeof e!="function"}function $h(e){return xp(e,"Object")}function _j(e){return typeof Event<"u"&&Yu(e,Event)}function jj(e){return!!(e&&e.then&&typeof e.then=="function")}function Yu(e,t){try{return e instanceof t}catch{return!1}}function HY(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const RA=It;function qY(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,i=[];let a=0,s=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&a++<n&&(u=qVe(r,d),!(u==="html"||a>1&&s+i.length*c+u.length>=f));)i.push(u),s+=u.length,r=r.parentNode;return i.reverse().join(l)}catch{return"<unknown>"}}function qVe(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(RA.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const i=t&&t.length?t.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{n.push(`[${s[0]}="${s[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const s=r.className;if(s&&Po(s)){const l=s.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const a=["aria-label","type","name","title","alt"];for(const s of a){const l=r.getAttribute(s);l&&n.push(`[${s}="${l}"]`)}return n.join("")}function Cf(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function eF(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const i=e[n];try{HY(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function GVe(e,t,r=!1){return!!Po(e)&&(xp(t,"RegExp")?t.test(e):!!Po(t)&&(r?e===t:e.includes(t)))}function ax(e,t=[],r=!1){return t.some(n=>GVe(e,n,r))}function qi(e,t,r){if(!(t in e))return;const n=e[t],i=r(n);typeof i=="function"&&GY(i,n);try{e[t]=i}catch{fd&&ut.log(`Failed to replace method "${t}" in object`,e)}}function Ju(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{fd&&ut.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function GY(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,Ju(e,"__sentry_original__",t)}catch{}}function DA(e){return e.__sentry_original__}function KY(e){if(IA(e))return{message:e.message,name:e.name,stack:e.stack,...rF(e)};if(_j(e)){const t={type:e.type,target:tF(e.target),currentTarget:tF(e.currentTarget),...rF(e)};return typeof CustomEvent<"u"&&Yu(e,CustomEvent)&&(t.detail=e.detail),t}return e}function tF(e){try{return t=e,typeof Element<"u"&&Yu(t,Element)?qY(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function rF(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function va(e){return bE(e,new Map)}function bE(e,t){if(function(r){if(!$h(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const i of Object.getOwnPropertyNames(e))e[i]!==void 0&&(n[i]=bE(e[i],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(i=>{n.push(bE(i,t))}),n}return e}function ty(){return Date.now()/1e3}const Ro=function(){const{performance:e}=It;if(!e||!e.now)return ty;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function wa(){const e=It,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function YY(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function _l(e){const{message:t,event_id:r}=e;if(t)return t;const n=YY(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function wE(e,t,r){const n=e.exception=e.exception||{},i=n.values=n.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type="Error")}function Rh(e,t){const r=YY(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const i={...n&&n.data,...t.data};r.mechanism.data=i}}function nF(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{Ju(e,"__sentry_captured__",!0)}catch{}return!1}var xo;function Xu(e){return new fa(t=>{t(e)})}function uw(e){return new fa((t,r)=>{r(e)})}(()=>{const{performance:e}=It;!e||!e.now||(e.now(),e.timing&&e.timing.navigationStart)})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(xo||(xo={}));class fa{constructor(t){fa.prototype.__init.call(this),fa.prototype.__init2.call(this),fa.prototype.__init3.call(this),fa.prototype.__init4.call(this),this._state=xo.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new fa((n,i)=>{this._handlers.push([!1,a=>{if(t)try{n(t(a))}catch(s){i(s)}else n(a)},a=>{if(r)try{n(r(a))}catch(s){i(s)}else i(a)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new fa((r,n)=>{let i,a;return this.then(s=>{a=!1,i=s,t&&t()},s=>{a=!0,i=s,t&&t()}).then(()=>{a?n(i):r(i)})})}__init(){this._resolve=t=>{this._setResult(xo.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(xo.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===xo.PENDING&&(jj(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===xo.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===xo.RESOLVED&&r[1](this._value),this._state===xo.REJECTED&&r[2](this._value),r[0]=!0)})}}}function KVe(e){const t=Ro(),r={sid:wa(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return va({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&Dh(r,e),r}function Dh(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ro(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:wa()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function iF(){return wa()}function _E(){return wa().substring(16)}function Sj(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Sj(n[i],t[i],r-1));return n}const jE="_sentrySpan";function aF(e,t){t?Ju(e,jE,t):delete e[jE]}function sF(e){return e[jE]}class LA{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:iF(),spanId:_E()}}clone(){const t=new LA;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,aF(t,sF(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Dh(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,i]=r instanceof uc?[r.getScopeData(),r.getRequestSession()]:$h(r)?[t,t.requestSession]:[],{tags:a,extra:s,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:f}=n||{};return this._tags={...this._tags,...a},this._extra={...this._extra,...s},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,aF(this,void 0),this._attachments=[],this.setPropagationContext({traceId:iF()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const i={timestamp:ty(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:sF(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Sj(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:_E(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:wa();if(!this._client)return ut.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...r,event_id:n},this),n}captureMessage(t,r,n){const i=n&&n.event_id?n.event_id:wa();if(!this._client)return ut.warn("No client configured on scope - will not capture message!"),i;const a=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:a,...n,event_id:i},this),i}captureEvent(t,r){const n=r&&r.event_id?r.event_id:wa();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(ut.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const uc=LA;class YVe{constructor(t,r){let n,i;n=t||new uc,i=r||new uc,this._stack=[{scope:n}],this._isolationScope=i}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(i){throw this._popScope(),i}return jj(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Lh(){const e=MA(wj());return e.stack=e.stack||new YVe(lw("defaultCurrentScope",()=>new uc),lw("defaultIsolationScope",()=>new uc))}function JVe(e){return Lh().withScope(e)}function XVe(e,t){const r=Lh();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function oF(e){return Lh().withScope(()=>e(Lh().getIsolationScope()))}function FA(e){const t=MA(e);return t.acs?t.acs:{withIsolationScope:oF,withScope:JVe,withSetScope:XVe,withSetIsolationScope:(r,n)=>oF(n),getCurrentScope:()=>Lh().getScope(),getIsolationScope:()=>Lh().getIsolationScope()}}function hd(){return FA(wj()).getCurrentScope()}function ry(){return FA(wj()).getIsolationScope()}function Dn(){return hd().getClient()}function QVe(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=t;return va({trace_id:r,span_id:n,parent_span_id:i})}function ZVe(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,i]]of t)(r[n]||(r[n]=[])).push(va(i));return r}const eWe=/^sentry-/;function tWe(e){const t=function(n){if(!(!n||!Po(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((i,a)=>{const s=lF(a);return Object.entries(s).forEach(([l,c])=>{i[l]=c}),i},{}):lF(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[i,a])=>(i.match(eWe)&&(n[i.slice(7)]=a),n),{});return Object.keys(r).length>0?r:void 0}function lF(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let cF=!1;function rWe(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return va({parent_span_id:n?t:BA(e).parent_span_id,span_id:n?_E():t,trace_id:r})}function uF(e){return typeof e=="number"?dF(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?dF(e.getTime()):Ro()}function dF(e){return e>9999999999?e/1e3:e}function BA(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const i=n;return!!(i.attributes&&i.startTime&&i.name&&i.endTime&&i.status)}(e)){const{attributes:n,startTime:i,name:a,endTime:s,parentSpanId:l,status:c}=e;return va({span_id:t,trace_id:r,data:n,description:a,parent_span_id:l,start_timestamp:uF(i),timestamp:uF(s)||void 0,status:nWe(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:ZVe(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function nWe(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function JY(e){return e._sentryRootSpan||e}function iWe(){cF||(ey(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),cF=!0)}const UA="production";function XY(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},i=va({environment:r.environment||UA,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",i),i}function aWe(e){const t=Dn();if(!t)return{};const r=JY(e),n=r._frozenDsc;if(n)return n;const i=r.spanContext().traceState,a=i&&i.get("sentry.dsc"),s=a&&tWe(a);if(s)return s;const l=XY(e.spanContext().traceId,t),c=BA(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const f=u["sentry.source"],h=c.description;return f!=="url"&&h&&(l.transaction=h),function(p){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const g=Dn(),m=g&&g.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)}()&&(l.sampled=String(function(p){const{traceFlags:g}=p.spanContext();return g===1}(r))),t.emit("createDsc",l,r),l}const sWe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dw(e,t=!1){const{host:r,path:n,pass:i,port:a,projectId:s,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&i?`:${i}`:""}@${r}${a?`:${a}`:""}/${n&&`${n}/`}${s}`}function fF(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function oWe(e){const t=typeof e=="string"?function(r){const n=sWe.exec(r);if(!n)return void ey(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[i,a,s="",l="",c="",u=""]=n.slice(1);let d="",f=u;const h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){const p=f.match(/^\d+/);p&&(f=p[0])}return fF({host:l,pass:s,path:d,projectId:f,port:c,protocol:i,publicKey:a})}(e):fF(e);if(t&&function(r){if(!fd)return!0;const{port:n,projectId:i,protocol:a}=r;return!(["protocol","publicKey","host","projectId"].find(s=>!r[s]&&(ut.error(`Invalid Sentry Dsn: ${s} missing`),!0))||(i.match(/^\d+$/)?function(s){return s==="http"||s==="https"}(a)?n&&isNaN(parseInt(n,10))&&(ut.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(ut.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),1):(ut.error(`Invalid Sentry Dsn: Invalid projectId ${i}`),1)))}(t))return t}function bo(e,t=100,r=1/0){try{return SE("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function QY(e,t=3,r=102400){const n=bo(e,t);return i=n,function(a){return~-encodeURI(a).split(/%..|./).length}(JSON.stringify(i))>r?QY(e,t-1,r):n;var i}function SE(e,t,r=1/0,n=1/0,i=function(){const a=typeof WeakSet=="function",s=a?new WeakSet:[];return[function(l){if(a)return!!s.has(l)||(s.add(l),!1);for(let c=0;c<s.length;c++)if(s[c]===l)return!0;return s.push(l),!1},function(l){if(a)s.delete(l);else for(let c=0;c<s.length;c++)if(s[c]===l){s.splice(c,1);break}}]}()){const[a,s]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(p,g){try{if(p==="domain"&&g&&typeof g=="object"&&g._events)return"[Domain]";if(p==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&g===global)return"[Global]";if(typeof window<"u"&&g===window)return"[Window]";if(typeof document<"u"&&g===document)return"[Document]";if(HY(g))return"[VueViewModel]";if($h(m=g)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof g=="number"&&!Number.isFinite(g))return`[${g}]`;if(typeof g=="function")return`[Function: ${cc(g)}]`;if(typeof g=="symbol")return`[${String(g)}]`;if(typeof g=="bigint")return`[BigInt: ${String(g)}]`;const v=function(b){const x=Object.getPrototypeOf(b);return x?x.constructor.name:"null prototype"}(g);return/^HTML(\w*)Element$/.test(v)?`[HTMLElement: ${v}]`:`[object ${v}]`}catch(v){return`**non-serializable** (${v})`}var m}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(a(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return SE("",u.toJSON(),c-1,n,i)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=KY(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=n){d[p]="[MaxProperties ~]";break}const g=h[p];d[p]=SE(p,g,c-1,n,i),f++}return s(t),d}function uv(e,t=[]){return[e,t]}function lWe(e,t){const[r,n]=e;return[r,[...n,t]]}function hF(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function NE(e){return It.__SENTRY__&&It.__SENTRY__.encodePolyfill?It.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function cWe(e){const[t,r]=e;let n=JSON.stringify(t);function i(a){typeof n=="string"?n=typeof a=="string"?n+a:[NE(n),a]:n.push(typeof a=="string"?NE(a):a)}for(const a of r){const[s,l]=a;if(i(`
${JSON.stringify(s)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(bo(l))}i(c)}}return typeof n=="string"?n:function(a){const s=a.reduce((u,d)=>u+d.length,0),l=new Uint8Array(s);let c=0;for(const u of a)l.set(u,c),c+=u.length;return l}(n)}function uWe(e){const t=typeof e.data=="string"?NE(e.data):e.data;return[va({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const dWe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function pF(e){return dWe[e]}function ZY(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function fWe(e,t,r,n){const i=ZY(r),a=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const s=function(l,c,u,d){const f=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:dw(d)},...f&&{trace:va({...f})}}}(e,i,n,t);return delete e.sdkProcessingMetadata,uv(s,[[{type:a},e]])}function kE(e,t,r,n=0){return new fa((i,a)=>{const s=e[n];if(t===null||typeof s!="function")i(t);else{const l=s({...t},r);Xt&&s.id&&l===null&&ut.log(`Event processor "${s.id}" dropped event`),jj(l)?l.then(c=>kE(e,c,r,n+1).then(i)).then(null,a):kE(e,l,r,n+1).then(i).then(null,a)}})}let sx,mF,kS;function hWe(e,t){const{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:a}=t;(function(s,l){const{extra:c,tags:u,user:d,contexts:f,level:h,transactionName:p}=l,g=va(c);g&&Object.keys(g).length&&(s.extra={...g,...s.extra});const m=va(u);m&&Object.keys(m).length&&(s.tags={...m,...s.tags});const v=va(d);v&&Object.keys(v).length&&(s.user={...v,...s.user});const b=va(f);b&&Object.keys(b).length&&(s.contexts={...b,...s.contexts}),h&&(s.level=h),p&&s.type!=="transaction"&&(s.transaction=p)})(e,t),n&&function(s,l){s.contexts={trace:rWe(l),...s.contexts},s.sdkProcessingMetadata={dynamicSamplingContext:aWe(l),...s.sdkProcessingMetadata};const c=JY(l),u=BA(c).description;u&&!s.transaction&&s.type==="transaction"&&(s.transaction=u)}(e,n),function(s,l){s.fingerprint=s.fingerprint?Array.isArray(s.fingerprint)?s.fingerprint:[s.fingerprint]:[],l&&(s.fingerprint=s.fingerprint.concat(l)),s.fingerprint&&!s.fingerprint.length&&delete s.fingerprint}(e,r),function(s,l){const c=[...s.breadcrumbs||[],...l];s.breadcrumbs=c.length?c:void 0}(e,i),function(s,l){s.sdkProcessingMetadata={...s.sdkProcessingMetadata,...l}}(e,a)}function gF(e,t){const{extra:r,tags:n,user:i,contexts:a,level:s,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:p,span:g}=t;ox(e,"extra",r),ox(e,"tags",n),ox(e,"user",i),ox(e,"contexts",a),e.sdkProcessingMetadata=Sj(e.sdkProcessingMetadata,l,2),s&&(e.level=s),p&&(e.transactionName=p),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function ox(e,t,r){e[t]=Sj(e[t],r,1)}function pWe(e,t,r,n,i,a){const{normalizeDepth:s=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||wa(),timestamp:t.timestamp||ty()},u=r.integrations||e.integrations.map(g=>g.name);(function(g,m){const{environment:v,release:b,dist:x,maxValueLength:w=250}=m;g.environment=g.environment||v||UA,!g.release&&b&&(g.release=b),!g.dist&&x&&(g.dist=x),g.message&&(g.message=Cf(g.message,w));const _=g.exception&&g.exception.values&&g.exception.values[0];_&&_.value&&(_.value=Cf(_.value,w));const N=g.request;N&&N.url&&(N.url=Cf(N.url,w))})(c,e),function(g,m){m.length>0&&(g.sdk=g.sdk||{},g.sdk.integrations=[...g.sdk.integrations||[],...m])}(c,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&function(g,m){const v=function(b){const x=It._sentryDebugIds;if(!x)return{};const w=Object.keys(x);return kS&&w.length===mF||(mF=w.length,kS=w.reduce((_,N)=>{sx||(sx={});const j=sx[N];if(j)_[j[0]]=j[1];else{const k=b(N);for(let O=k.length-1;O>=0;O--){const P=k[O],A=P&&P.filename,$=x[N];if(A&&$){_[A]=$,sx[N]=[A,$];break}}}return _},{})),kS}(m);try{g.exception.values.forEach(b=>{b.stacktrace.frames.forEach(x=>{v&&x.filename&&(x.debug_id=v[x.filename])})})}catch{}}(c,e.stackParser);const d=function(g,m){if(!m)return g;const v=g?g.clone():new uc;return v.update(m),v}(n,r.captureContext);r.mechanism&&Rh(c,r.mechanism);const f=i?i.getEventProcessors():[],h=lw("globalScope",()=>new uc).getScopeData();a&&gF(h,a.getScopeData()),d&&gF(h,d.getScopeData());const p=[...r.attachments||[],...h.attachments];return p.length&&(r.attachments=p),hWe(c,h),kE([...f,...h.eventProcessors],c,r).then(g=>(g&&function(m){const v={};try{m.exception.values.forEach(x=>{x.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?v[w.abs_path]=w.debug_id:w.filename&&(v[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(v).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const b=m.debug_meta.images;Object.entries(v).forEach(([x,w])=>{b.push({type:"sourcemap",code_file:x,debug_id:w})})}(g),typeof s=="number"&&s>0?function(m,v,b){if(!m)return null;const x={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map(w=>({...w,...w.data&&{data:bo(w.data,v,b)}}))},...m.user&&{user:bo(m.user,v,b)},...m.contexts&&{contexts:bo(m.contexts,v,b)},...m.extra&&{extra:bo(m.extra,v,b)}};return m.contexts&&m.contexts.trace&&x.contexts&&(x.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(x.contexts.trace.data=bo(m.contexts.trace.data,v,b))),m.spans&&(x.spans=m.spans.map(w=>({...w,...w.data&&{data:bo(w.data,v,b)}}))),m.contexts&&m.contexts.flags&&x.contexts&&(x.contexts.flags=bo(m.contexts.flags,3,b)),x}(g,s,l):g))}function vF(e,t){return hd().captureEvent(e,t)}function yF(e){const t=Dn(),r=ry(),n=hd(),{release:i,environment:a=UA}=t&&t.getOptions()||{},{userAgent:s}=It.navigator||{},l=KVe({release:i,environment:a,user:n.getUser()||r.getUser(),...s&&{userAgent:s},...e}),c=r.getSession();return c&&c.status==="ok"&&Dh(c,{status:"exited"}),eJ(),r.setSession(l),n.setSession(l),l}function eJ(){const e=ry(),t=hd(),r=t.getSession()||e.getSession();r&&function(n,i){let a={};n.status==="ok"&&(a={status:"exited"}),Dh(n,a)}(r),tJ(),e.setSession(),t.setSession()}function tJ(){const e=ry(),t=hd(),r=Dn(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function xF(e=!1){e?eJ():tJ()}function mWe(e,t,r){return t||`${function(n){return`${function(i){const a=i.protocol?`${i.protocol}:`:"",s=i.port?`:${i.port}`:"";return`${a}//${i.host}${s}${i.path?`/${i.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,i){const a={sentry_version:"7"};return n.publicKey&&(a.sentry_key=n.publicKey),i&&(a.sentry_client=`${i.name}/${i.version}`),new URLSearchParams(a).toString()}(e,r)}`}const bF=[];function wF(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function _F(e,t,r){if(r[t.name])Xt&&ut.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,bF.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),bF.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,a)=>n(i,a,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),i=Object.assign((a,s)=>n(a,s,e),{id:t.name});e.addEventProcessor(i)}Xt&&ut.log(`Integration installed: ${t.name}`)}}class Fa extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const jF="Not capturing exception because it's already been captured.";class gWe{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=oWe(t.dsn):Xt&&ut.warn("No DSN provided, client will not send events."),this._dsn){const n=mWe(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&ey(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const i=wa();if(nF(t))return Xt&&ut.log(jF),i;const a={event_id:i,...r};return this._process(this.eventFromException(t,a).then(s=>this._captureEvent(s,a,n))),a.event_id}captureMessage(t,r,n,i){const a={event_id:wa(),...n},s=$A(t)?t:String(t),l=xE(t)?this.eventFromMessage(s,r,a):this.eventFromException(t,a);return this._process(l.then(c=>this._captureEvent(c,a,i))),a.event_id}captureEvent(t,r,n){const i=wa();if(r&&r.originalException&&nF(r.originalException))return Xt&&ut.log(jF),i;const a={event_id:i,...r},s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,a,s||n)),a.event_id}captureSession(t){typeof t.release!="string"?Xt&&ut.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Dh(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(i=>n&&i))):Xu(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];_F(this,t,this._integrations),r||wF(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=fWe(t,this._dsn,this._options._metadata,this._options.tunnel);for(const a of r.attachments||[])n=lWe(n,uWe(a));const i=this.sendEnvelope(n);i&&i.then(a=>this.emit("afterSendEvent",t,a),null)}sendSession(t){const r=function(n,i,a,s){const l=ZY(a);return uv({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!s&&i&&{dsn:dw(i)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const i=typeof n=="number"?n:1,a=`${t}:${r}`;Xt&&ut.log(`Recording outcome: "${a}"${i>1?` (${i} times)`:""}`),this._outcomes[a]=(this._outcomes[a]||0)+i}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(i=>i(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(Xt&&ut.error("Error while sending envelope:",r),r)):(Xt&&ut.error("Transport disabled"),Xu({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const i={};return n.forEach(a=>{a&&_F(r,a,i)}),i}(this,t),wF(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",i=!1;const a=r.exception&&r.exception.values;if(a){i=!0;for(const l of a){const c=l.mechanism;if(c&&c.handled===!1){n=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&n)&&(Dh(t,{...n&&{status:"crashed"},errors:t.errors||Number(i||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new fa(r=>{let n=0;const i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),r(!0)):(n+=1,t&&n>=t&&(clearInterval(i),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=hd(),i=ry()){const a=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",t,r),t.type||i.setLastEventId(t.event_id||r.event_id),pWe(a,t,r,n,this,i).then(l=>{if(l===null)return l;l.contexts={trace:QVe(n),...l.contexts};const c=function(u,d){const f=d.getPropagationContext();return f.dsc||XY(f.traceId,u)}(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(i=>i.event_id,i=>{Xt&&(i instanceof Fa&&i.logLevel==="log"?ut.log(i.message):ut.warn(i))})}_processEvent(t,r,n){const i=this.getOptions(),{sampleRate:a}=i,s=NF(t),l=SF(t),c=t.type||"error",u=`before send for type \`${c}\``,d=a===void 0?void 0:function(p){if(typeof p=="boolean")return Number(p);const g=typeof p=="string"?parseFloat(p):p;if(!(typeof g!="number"||isNaN(g)||g<0||g>1))return g;Xt&&ut.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(p)} of type ${JSON.stringify(typeof p)}.`)}(a);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),uw(new Fa(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));const f=c==="replay_event"?"replay":c,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f,t),new Fa("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return p;const g=function(m,v,b,x){const{beforeSend:w,beforeSendTransaction:_,beforeSendSpan:N}=v;if(SF(b)&&w)return w(b,x);if(NF(b)){if(b.spans&&N){const j=[];for(const k of b.spans){const O=N(k);O?j.push(O):(iWe(),m.recordDroppedEvent("before_send","span"))}b.spans=j}if(_){if(b.spans){const j=b.spans.length;b.sdkProcessingMetadata={...b.sdkProcessingMetadata,spanCountBeforeProcessing:j}}return _(b,x)}}return b}(this,i,p,r);return function(m,v){const b=`${v} must return \`null\` or a valid event.`;if(jj(m))return m.then(x=>{if(!$h(x)&&x!==null)throw new Fa(b);return x},x=>{throw new Fa(`${v} rejected with ${x}`)});if(!$h(m)&&m!==null)throw new Fa(b);return m}(g,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f,t),s){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new Fa(`${u} returned \`null\`, will not send event.`,"log")}const g=n&&n.getSession();if(!s&&g&&this._updateSessionFromEvent(g,p),s){const v=(p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(p.spans?p.spans.length:0);v>0&&this.recordDroppedEvent("before_send","span",v)}const m=p.transaction_info;if(s&&m&&p.transaction!==t.transaction){const v="custom";p.transaction_info={...m,source:v}}return this.sendEvent(p,r),p}).then(null,p=>{throw p instanceof Fa?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Fa(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[i,a]=r.split(":");return{reason:i,category:a,quantity:n}})}_flushOutcomes(){Xt&&ut.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Xt&&ut.log("No outcomes to send"));if(!this._dsn)return void(Xt&&ut.log("No dsn provided, will not send outcomes"));Xt&&ut.log("Sending outcomes:",t);const r=(n=t,uv((i=this._options.tunnel&&dw(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:a||ty(),discarded_events:n}]]));var n,i,a;this.sendEnvelope(r)}}function SF(e){return e.type===void 0}function NF(e){return e.type==="transaction"}function vWe(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return uw(new Fa("Not adding Promise because buffer limit was reached."));const i=n();return t.indexOf(i)===-1&&t.push(i),i.then(()=>r(i)).then(null,()=>r(i).then(null,()=>{})),i},drain:function(n){return new fa((i,a)=>{let s=t.length;if(!s)return i(!0);const l=setTimeout(()=>{n&&n>0&&i(!1)},n);t.forEach(c=>{Xu(c).then(()=>{--s||(clearTimeout(l),i(!0))},a)})})}}}function yWe(e,{statusCode:t,headers:r},n=Date.now()){const i={...e},a=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(a)for(const l of a.trim().split(",")){const[c,u,,,d]=l.split(":",5),f=parseInt(c,10),h=1e3*(isNaN(f)?60:f);if(u)for(const p of u.split(";"))p==="metric_bucket"&&d&&!d.split(";").includes("custom")||(i[p]=n+h);else i.all=n+h}else s?i.all=n+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(s,n):t===429&&(i.all=n+6e4);return i}function xWe(e,t,r=vWe(e.bufferSize||64)){let n={};return{send:function(i){const a=[];if(hF(i,(c,u)=>{const d=pF(u);if(function(f,h,p=Date.now()){return function(g,m){return g[m]||g.all||0}(f,h)>p}(n,d)){const f=kF(c,u);e.recordDroppedEvent("ratelimit_backoff",d,f)}else a.push(c)}),a.length===0)return Xu({});const s=uv(i[0],a),l=c=>{hF(s,(u,d)=>{const f=kF(u,d);e.recordDroppedEvent(c,pF(d),f)})};return r.add(()=>t({body:cWe(s)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&Xt&&ut.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=yWe(n,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof Fa)return Xt&&ut.error("Skipped sending event because buffer is full."),l("queue_overflow"),Xu({});throw c})},flush:i=>r.drain(i)}}function kF(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const bWe=100;function Lc(e,t){const r=Dn(),n=ry();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=bWe}=r.getOptions();if(a<=0)return;const s={timestamp:ty(),...e},l=i?ey(()=>i(s,t)):s;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,a))}let CF;const EF=new WeakMap,wWe=()=>({name:"FunctionToString",setupOnce(){CF=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=DA(this),r=EF.has(Dn())&&t!==void 0?t:this;return CF.apply(r,e)}}catch{}},setup(e){EF.set(e,!0)}}),_We=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],jWe=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const i=n.getOptions(),a=function(s={},l={}){return{allowUrls:[...s.allowUrls||[],...l.allowUrls||[]],denyUrls:[...s.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...s.ignoreErrors||[],...l.ignoreErrors||[],...s.disableErrorDefaults?[]:_We],ignoreTransactions:[...s.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:s.ignoreInternal===void 0||s.ignoreInternal}}(e,i);return function(s,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(s)?(Xt&&ut.warn(`Event dropped due to being internal Sentry Error.
Event: ${_l(s)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const f=[];d.message&&f.push(d.message);let h;try{h=d.exception.values[d.exception.values.length-1]}catch{}return h&&h.value&&(f.push(h.value),h.type&&f.push(`${h.type}: ${h.value}`)),f}(c).some(d=>ax(d,u))}(s,l.ignoreErrors)?(Xt&&ut.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${_l(s)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(s)?(Xt&&ut.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${_l(s)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&ax(d,u)}(s,l.ignoreTransactions)?(Xt&&ut.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${_l(s)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=lx(c);return!!d&&ax(d,u)}(s,l.denyUrls)?(Xt&&ut.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${_l(s)}.
Url: ${lx(s)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=lx(c);return!d||ax(d,u)}(s,l.allowUrls)?!1:(Xt&&ut.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${_l(s)}.
Url: ${lx(s)}`),!0)}(t,a)?null:t}});function lx(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const i=r[n];if(i&&i.filename!=="<anonymous>"&&i.filename!=="[native code]")return i.filename||null}return null}(t):null}catch{return Xt&&ut.error(`Cannot extract url for event ${_l(e)}`),null}}function SWe(e,t,r=250,n,i,a,s){if(!(a.exception&&a.exception.values&&s&&Yu(s.originalException,Error)))return;const l=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;var c,u;l&&(a.exception.values=(c=CE(e,t,i,s.originalException,n,a.exception.values,l,0),u=r,c.map(d=>(d.value&&(d.value=Cf(d.value,u)),d))))}function CE(e,t,r,n,i,a,s,l){if(a.length>=r+1)return a;let c=[...a];if(Yu(n[i],Error)){OF(s,l);const u=e(t,n[i]),d=c.length;PF(u,i,d,l),c=CE(e,t,r,n[i],i,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(Yu(u,Error)){OF(s,l);const f=e(t,u),h=c.length;PF(f,`errors[${d}]`,h,l),c=CE(e,t,r,u,i,[f,...c],f,h)}}),c}function OF(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function PF(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function CS(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function NWe(){"console"in It&&yE.forEach(function(e){e in It.console&&qi(It.console,e,function(t){return cw[e]=t,function(...r){ss("console",{args:r,level:e});const n=cw[e];n&&n.apply(It.console,r)}})})}function kWe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const CWe=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(i,a){const s=i.message,l=a.message;return!(!s&&!l||s&&!l||!s&&l||s!==l||!AF(i,a)||!TF(i,a))}(r,n)||function(i,a){const s=MF(a),l=MF(i);return!(!s||!l||s.type!==l.type||s.value!==l.value||!AF(i,a)||!TF(i,a))}(r,n)):!1}(t,e))return Xt&&ut.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function TF(e,t){let r=X3(e),n=X3(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const a=n[i],s=r[i];if(a.filename!==s.filename||a.lineno!==s.lineno||a.colno!==s.colno||a.function!==s.function)return!1}return!0}function AF(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function MF(e){return e.exception&&e.exception.values&&e.exception.values[0]}function IF(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const ES=It;function EE(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function EWe(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in ES))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(EE(ES.fetch))return!0;let e=!1;const t=ES.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=EE(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){fd&&ut.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function OWe(e,t){const r="fetch";ku(r,e),Cu(r,()=>function(n,i=!1){i&&!EWe()||qi(It,"fetch",function(a){return function(...s){const l=new Error,{method:c,url:u}=function(f){if(f.length===0)return{method:"GET",url:""};if(f.length===2){const[p,g]=f;return{url:$F(p),method:OE(g,"method")?String(g.method).toUpperCase():"GET"}}const h=f[0];return{url:$F(h),method:OE(h,"method")?String(h.method).toUpperCase():"GET"}}(s),d={args:s,fetchData:{method:c,url:u},startTimestamp:1e3*Ro(),virtualError:l};return n||ss("fetch",{...d}),a.apply(It,s).then(async f=>(n?n(f):ss("fetch",{...d,endTimestamp:1e3*Ro(),response:f}),f),f=>{throw ss("fetch",{...d,endTimestamp:1e3*Ro(),error:f}),IA(f)&&f.stack===void 0&&(f.stack=l.stack,Ju(f,"framesToPop",1)),f})}})}(void 0,t))}function OE(e,t){return!!e&&typeof e=="object"&&!!e[t]}function $F(e){return typeof e=="string"?e:e?OE(e,"url")?e.url:e.toString?e.toString():"":""}const cx=It,un=It;let PE=0;function RF(){return PE>0}function Fh(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(DA(e))return e}catch{return e}const r=function(...n){try{const i=n.map(a=>Fh(a,t));return e.apply(this,i)}catch(i){throw PE++,setTimeout(()=>{PE--}),function(...a){const s=FA(wj());if(a.length===2){const[l,c]=a;return l?s.withSetScope(l,c):s.withScope(c)}s.withScope(a[0])}(a=>{var s;a.addEventProcessor(l=>(t.mechanism&&(wE(l,void 0),Rh(l,t.mechanism)),l.extra={...l.extra,arguments:n},l)),s=i,hd().captureException(s,void 0)}),i}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}GY(r,e),Ju(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const Nj=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function zA(e,t){const r=VA(e,t),n={type:AWe(t),value:MWe(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function PWe(e,t,r,n){const i=Dn(),a=i&&i.getOptions().normalizeDepth,s=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=u[d];if(f instanceof Error)return f}}(t),l={__serialized__:QY(t,a)};if(s)return{exception:{values:[zA(e,s)]},extra:l};const c={exception:{values:[{type:_j(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:IWe(t,{isUnhandledRejection:n})}]},extra:l};if(r){const u=VA(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function OS(e,t){return{exception:{values:[zA(e,t)]}}}function VA(e,t){const r=t.stacktrace||t.stack||"",n=function(a){return a&&TWe.test(a.message)?1:0}(t),i=function(a){return typeof a.framesToPop=="number"?a.framesToPop:0}(t);try{return e(r,n,i)}catch{}return[]}const TWe=/Minified React error #\d+;/i;function rJ(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function AWe(e){const t=e&&e.name;return!t&&rJ(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function MWe(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:rJ(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function TE(e,t,r,n,i){let a;if(WY(t)&&t.error)return OS(e,t.error);if(Z3(t)||xp(t,"DOMException")){const s=t;if("stack"in t)a=OS(e,t);else{const l=s.name||(Z3(s)?"DOMError":"DOMException"),c=s.message?`${l}: ${s.message}`:l;a=AE(e,c,r,n),wE(a,c)}return"code"in s&&(a.tags={...a.tags,"DOMException.code":`${s.code}`}),a}return IA(t)?OS(e,t):$h(t)||_j(t)?(a=PWe(e,t,r,i),Rh(a,{synthetic:!0}),a):(a=AE(e,t,r,n),wE(a,`${t}`),Rh(a,{synthetic:!0}),a)}function AE(e,t,r,n){const i={};if(n&&r){const a=VA(e,r);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]}),Rh(i,{synthetic:!0})}if($A(t)){const{__sentry_template_string__:a,__sentry_template_values__:s}=t;return i.logentry={message:a,params:s},i}return i.message=t,i}function IWe(e,{isUnhandledRejection:t}){const r=function(i,a=40){const s=Object.keys(KY(i));s.sort();const l=s[0];if(!l)return"[object has no keys]";if(l.length>=a)return Cf(l,a);for(let c=s.length;c>0;c--){const u=s.slice(0,c).join(", ");if(!(u.length>a))return c===s.length?u:Cf(u,a)}return""}(e),n=t?"promise rejection":"exception";return WY(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:_j(e)?`Event \`${function(i){try{const a=Object.getPrototypeOf(i);return a?a.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class $We extends gWe{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,i,a=[i],s="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${i}`,packages:a.map(c=>({name:`${s}:@sentry/${c}`,version:Nu})),version:Nu}),n._metadata=l})(r,"browser",["browser"],un.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&un.document&&un.document.addEventListener("visibilitychange",()=>{un.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,i,a,s){const l=TE(n,i,a&&a.syntheticException||void 0,s);return Rh(l),l.level="error",a&&a.event_id&&(l.event_id=a.event_id),Xu(l)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(i,a,s="info",l,c){const u=AE(i,a,l&&l.syntheticException||void 0,c);return u.level=s,l&&l.event_id&&(u.event_id=l.event_id),Xu(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Nj&&ut.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:i,tunnel:a,dsn:s}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}},...!!a&&!!s&&{dsn:dw(s)}};return uv(l,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const RWe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Xn=It;let DF,PS,TS,ux;function DWe(){if(!Xn.document)return;const e=ss.bind(null,"dom"),t=LF(e,!0);Xn.document.addEventListener("click",t,!1),Xn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=Xn[r],i=n&&n.prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(qi(i,"addEventListener",function(a){return function(s,l,c){if(s==="click"||s=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){const f=LF(e);d.handler=f,a.call(this,s,f,c)}d.refCount++}catch{}return a.call(this,s,l,c)}}),qi(i,"removeEventListener",function(a){return function(s,l,c){if(s==="click"||s=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(a.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,s,l,c)}}))})}function LF(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(a){try{return a.target}catch{return null}}(r);if(function(a,s){return a==="keypress"&&(!s||!s.tagName||s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!s.isContentEditable)}(r.type,n))return;Ju(r,"_sentryCaptured",!0),n&&!n._sentryId&&Ju(n,"_sentryId",wa());const i=r.type==="keypress"?"input":r.type;(function(a){if(a.type!==PS)return!1;try{if(!a.target||a.target._sentryId!==TS)return!1}catch{}return!0})(r)||(e({event:r,name:i,global:t}),PS=r.type,TS=n?n._sentryId:void 0),clearTimeout(DF),DF=Xn.setTimeout(()=>{TS=void 0,PS=void 0},1e3)}}function nJ(e){const t="history";ku(t,e),Cu(t,LWe)}function LWe(){if(!function(){const r=cx.chrome,n=r&&r.app&&r.app.runtime,i="history"in cx&&!!cx.history.pushState&&!!cx.history.replaceState;return!n&&i}())return;const e=Xn.onpopstate;function t(r){return function(...n){const i=n.length>2?n[2]:void 0;if(i){const a=ux,s=String(i);ux=s,ss("history",{from:a,to:s})}return r.apply(this,n)}}Xn.onpopstate=function(...r){const n=Xn.location.href,i=ux;if(ux=n,ss("history",{from:i,to:n}),e)try{return e.apply(this,r)}catch{}},qi(Xn.history,"pushState",t),qi(Xn.history,"replaceState",t)}const Gx={};function FF(e){Gx[e]=void 0}const fm="__sentry_xhr_v3__";function FWe(){if(!Xn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const i=new Error,a=1e3*Ro(),s=Po(n[0])?n[0].toUpperCase():void 0,l=function(u){if(Po(u))return u;try{return u.toString()}catch{}}(n[1]);if(!s||!l)return t.apply(r,n);r[fm]={method:s,url:l,request_headers:{}},s==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[fm];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}ss("xhr",{endTimestamp:1e3*Ro(),startTimestamp:a,xhr:r,virtualError:i})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,f)=>(c(),u.apply(d,f))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,f){const[h,p]=f,g=d[fm];return g&&Po(h)&&Po(p)&&(g.request_headers[h.toLowerCase()]=p),u.apply(d,f)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const i=r[fm];return i?(n[0]!==void 0&&(i.body=n[0]),ss("xhr",{startTimestamp:1e3*Ro(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function BWe(e,t=function(r){const n=Gx[r];if(n)return n;let i=Xn[r];if(EE(i))return Gx[r]=i.bind(Xn);const a=Xn.document;if(a&&typeof a.createElement=="function")try{const s=a.createElement("iframe");s.hidden=!0,a.head.appendChild(s);const l=s.contentWindow;l&&l[r]&&(i=l[r]),a.head.removeChild(s)}catch(s){RWe&&ut.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,s)}return i&&(Gx[r]=i.bind(Xn))}("fetch")){let r=0,n=0;return xWe(e,function(i){const a=i.body.length;r+=a,n++;const s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return FF("fetch"),uw("No fetch implementation available");try{return t(e.url,s).then(l=>(r-=a,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return FF("fetch"),r-=a,n--,uw(l)}})}function AS(e,t,r,n){const i={filename:e,function:t==="<anonymous>"?du:t,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}const UWe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,zWe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,VWe=/\((\S*)(?::(\d+))(?::(\d+))\)/,WWe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,HWe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,qWe=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{const a=[],s=r.split(`
`);for(let l=n;l<s.length;l++){const c=s[l];if(c.length>1024)continue;const u=K3.test(c)?c.replace(K3,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){a.push(f);break}}if(a.length>=50+i)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(ix(c).function||"")&&c.pop(),c.reverse(),Y3.test(ix(c).function||"")&&(c.pop(),Y3.test(ix(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||ix(c).filename,function:u.function||du}))}(a.slice(i))}}([30,e=>{const t=UWe.exec(e);if(t){const[,n,i,a]=t;return AS(n,du,+i,+a)}const r=zWe.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=VWe.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[n,i]=BF(r[1]||du,r[2]);return AS(i,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=WWe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=HWe.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],n=t[1]||du;return[n,r]=BF(n,r),AS(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),BF=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:du,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},UF=1024,GWe=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(i){const a="console";ku(a,i),Cu(a,NWe)}(function(i){return function(a){if(Dn()!==i)return;const s={category:"console",data:{arguments:a.args,logger:"console"},level:kWe(a.level),message:eF(a.args," ")};if(a.level==="assert"){if(a.args[0]!==!1)return;s.message=`Assertion failed: ${eF(a.args.slice(1)," ")||"console.assert"}`,s.data.arguments=a.args.slice(1)}Lc(s,{input:a.args,level:a.level})}}(r)),t.dom&&(n=function(i,a){return function(s){if(Dn()!==i)return;let l,c,u=typeof a=="object"?a.serializeAttribute:void 0,d=typeof a=="object"&&typeof a.maxStringLength=="number"?a.maxStringLength:void 0;d&&d>UF&&(Nj&&ut.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=UF),typeof u=="string"&&(u=[u]);try{const h=s.event,p=function(g){return!!g&&!!g.target}(h)?h.target:h;l=qY(p,{keyAttrs:u,maxStringLength:d}),c=function(g){if(!RA.HTMLElement)return null;let m=g;for(let v=0;v<5;v++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(p)}catch{l="<unknown>"}if(l.length===0)return;const f={category:`ui.${s.name}`,message:l};c&&(f.data={"ui.component_name":c}),Lc(f,{event:s.event,name:s.name,global:s.global})}}(r,t.dom),ku("dom",n),Cu("dom",DWe)),t.xhr&&function(i){ku("xhr",i),Cu("xhr",FWe)}(function(i){return function(a){if(Dn()!==i)return;const{startTimestamp:s,endTimestamp:l}=a,c=a.xhr[fm];if(!s||!l||!c)return;const{method:u,url:d,status_code:f,body:h}=c,p={method:u,url:d,status_code:f},g={xhr:a.xhr,input:h,startTimestamp:s,endTimestamp:l};Lc({category:"xhr",data:p,type:"http",level:IF(f)},g)}}(r)),t.fetch&&OWe(function(i){return function(a){if(Dn()!==i)return;const{startTimestamp:s,endTimestamp:l}=a;if(l&&(!a.fetchData.url.match(/sentry_key/)||a.fetchData.method!=="POST"))if(a.error)Lc({category:"fetch",data:a.fetchData,level:"error",type:"http"},{data:a.error,input:a.args,startTimestamp:s,endTimestamp:l});else{const c=a.response,u={...a.fetchData,status_code:c&&c.status},d={input:a.args,response:c,startTimestamp:s,endTimestamp:l};Lc({category:"fetch",data:u,type:"http",level:IF(u.status_code)},d)}}}(r)),t.history&&nJ(function(i){return function(a){if(Dn()!==i)return;let s=a.from,l=a.to;const c=CS(un.location.href);let u=s?CS(s):void 0;const d=CS(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(s=u.relative),Lc({category:"navigation",data:{from:s,to:l}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(i){return function(a){Dn()===i&&Lc({category:"sentry."+(a.type==="transaction"?"transaction":"event"),event_id:a.event_id,level:a.level,message:_l(a)},{event:a})}}(r))}}},KWe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],YWe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&qi(un,"setTimeout",zF),t.setInterval&&qi(un,"setInterval",zF),t.requestAnimationFrame&&qi(un,"requestAnimationFrame",JWe),t.XMLHttpRequest&&"XMLHttpRequest"in un&&qi(XMLHttpRequest.prototype,"send",XWe);const r=t.eventTarget;r&&(Array.isArray(r)?r:KWe).forEach(QWe)}}};function zF(e){return function(...t){const r=t[0];return t[0]=Fh(r,{mechanism:{data:{function:cc(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function JWe(e){return function(t){return e.apply(this,[Fh(t,{mechanism:{data:{function:"requestAnimationFrame",handler:cc(e)},handled:!1,type:"instrument"}})])}}function XWe(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&qi(r,n,function(i){const a={mechanism:{data:{function:n,handler:cc(i)},handled:!1,type:"instrument"}},s=DA(i);return s&&(a.mechanism.data.handler=cc(s)),Fh(i,a)})}),e.apply(this,t)}}function QWe(e){const t=un[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(qi(r,"addEventListener",function(n){return function(i,a,s){try{typeof a.handleEvent=="function"&&(a.handleEvent=Fh(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:cc(a),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[i,Fh(a,{mechanism:{data:{function:"addEventListener",handler:cc(a),target:e},handled:!1,type:"instrument"}}),s])}}),qi(r,"removeEventListener",function(n){return function(i,a,s){try{const l=a.__sentry_wrapped__;l&&n.call(this,i,l,s)}catch{}return n.call(this,i,a,s)}}))}const ZWe=()=>({name:"BrowserSession",setupOnce(){un.document!==void 0?(yF({ignoreDuration:!0}),xF(),nJ(({from:e,to:t})=>{e!==void 0&&e!==t&&(yF({ignoreDuration:!0}),xF())})):Nj&&ut.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),e9e=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(i){const a="error";ku(a,i),Cu(a,WVe)})(i=>{const{stackParser:a,attachStacktrace:s}=WF();if(Dn()!==n||RF())return;const{msg:l,url:c,line:u,column:d,error:f}=i,h=function(p,g,m,v){const b=p.exception=p.exception||{},x=b.values=b.values||[],w=x[0]=x[0]||{},_=w.stacktrace=w.stacktrace||{},N=_.frames=_.frames||[],j=v,k=m,O=Po(g)&&g.length>0?g:function(){try{return RA.document.location.href}catch{return""}}();return N.length===0&&N.push({colno:j,filename:O,function:du,in_app:!0,lineno:k}),p}(TE(a,f||l,void 0,s,!1),c,u,d);h.level="error",vF(h,{originalException:f,mechanism:{handled:!1,type:"onerror"}})})}(r),VF("onerror")),t.onunhandledrejection&&(function(n){(function(i){const a="unhandledrejection";ku(a,i),Cu(a,HVe)})(i=>{const{stackParser:a,attachStacktrace:s}=WF();if(Dn()!==n||RF())return;const l=function(u){if(xE(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(i),c=xE(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:TE(a,l,void 0,s,!0);c.level="error",vF(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),VF("onunhandledrejection"))}}};function VF(e){Nj&&ut.log(`Global Handler attached: ${e}`)}function WF(){const e=Dn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const t9e=()=>({name:"HttpContext",preprocessEvent(e){if(!un.navigator&&!un.location&&!un.document)return;const t=e.request&&e.request.url||un.location&&un.location.href,{referrer:r}=un.document||{},{userAgent:n}=un.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},a={...e.request,...t&&{url:t},headers:i};e.request=a}}),r9e=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,i,a){const s=a.getOptions();SWe(zA,s.stackParser,s.maxValueLength,r,t,n,i)}}};var HF="new",qF="loading",GF="loaded",ME="joining-meeting",Zc="joined-meeting",Fc="left-meeting",dl="error",n9e="playable",MS="unknown",i9e="full",a9e="base",KF="no-room",s9e="end-of-life",o9e="connection-error",l9e="iframe-ready-for-launch-config",c9e="iframe-launch-config",u9e="theme-updated",d9e="loading",f9e="load-attempt-failed",YF="loaded",h9e="started-camera",p9e="camera-error",m9e="joining-meeting",g9e="joined-meeting",v9e="left-meeting",y9e="participant-joined",x9e="participant-updated",b9e="participant-left",w9e="participant-counts-updated",_9e="access-state-updated",j9e="meeting-session-summary-updated",S9e="meeting-session-state-updated",N9e="waiting-participant-added",k9e="waiting-participant-updated",C9e="waiting-participant-removed",E9e="track-started",O9e="track-stopped",P9e="transcription-started",T9e="transcription-stopped",A9e="transcription-error",JF="recording-started",XF="recording-stopped",M9e="recording-stats",I9e="recording-error",$9e="recording-upload-completed",R9e="recording-data",D9e="app-message",L9e="transcription-message",F9e="remote-media-player-started",B9e="remote-media-player-updated",U9e="remote-media-player-stopped",z9e="local-screen-share-started",V9e="local-screen-share-stopped",W9e="local-screen-share-canceled",H9e="active-speaker-change",q9e="active-speaker-mode-change",G9e="network-quality-change",K9e="network-connection",Y9e="cpu-load-change",J9e="face-counts-updated",dx="fullscreen",fx="exited-fullscreen",X9e="live-streaming-started",Q9e="live-streaming-updated",Z9e="live-streaming-stopped",e7e="live-streaming-error",t7e="lang-updated",r7e="receive-settings-updated",QF="input-settings-updated",ZF="nonfatal-error",e5="error",IS=4096,t5=102400,$S="iframe-call-message",r5="local-screen-start",n5="daily-method-update-live-streaming-endpoints",hx="transmit-log",To="daily-custom-track",Kx={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},iJ={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},IE={PLAY:"play",PAUSE:"pause"},RS=["jpg","png","jpeg"],n7e="add-endpoints",i7e="remove-endpoints",i5="sip-call-transfer";function Na(){return!_t()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function _t(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function aJ(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function a7e(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(Qu(),fw())||_t())}function a5(){if(_t()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var $E="none",s7e="software",o7e="hardware",l7e=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?s7e:o7e:$E}catch{return $E}}();function sJ(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!_t()&&l7e!==$E&&(e?function(){return s5()?!1:["Chrome","Firefox"].includes(Qu())}():function(){if(s5())return!1;var t=Qu();if(t==="Safari"){var r=HA();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?WA().major>=77:t==="Firefox"?qA().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function oJ(){if(_t()||lJ()||typeof AudioWorkletNode>"u")return!1;switch(Qu()){case"Chrome":case"Firefox":return!0;case"Safari":var e=fw();return e.major>17||e.major===17&&e.minor>=4}return!1}function DS(){return aJ()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=Qu();if(!Na())return!0;switch(t){case"Chrome":return(e=WA()).major&&e.major>0&&e.major<75;case"Firefox":return(e=qA()).major<91;case"Safari":return(e=HA()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function lJ(){return Na().match(/Linux; Android/)}function s5(){var e,t=Na(),r=t.match(/Mac/)&&(!_t()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!Na().match(/DailyAnd\//)||void 0}function Qu(){if(typeof window<"u"){var e=Na();return cJ()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||uJ()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function fw(){switch(Qu()){case"Chrome":return WA();case"Safari":return HA();case"Firefox":return qA();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=Na().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function WA(){var e=0,t=0,r=0,n=0,i=!1;if(typeof window<"u"){var a=Na(),s=a.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(s)try{e=parseInt(s[1]),t=parseInt(s[2]),r=parseInt(s[3]),n=parseInt(s[4]),i=a.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:i}}function cJ(){return!!Na().match(/iPad|iPhone|iPod/i)&&aJ()}function uJ(){return Na().indexOf("AppleWebKit/605.1.15")>-1}function HA(){var e=0,t=0,r=0;if(typeof window<"u"){var n=Na().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(cJ()||uJ())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function qA(){var e=0,t=0;if(typeof window<"u"){var r=Na().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var dJ=function(){return na(function e(){ra(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){em()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){em()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){em()}},{key:"sendMessageToDailyJs",value:function(e,t){em()}},{key:"removeListener",value:function(e){em()}}])}();function o5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(r),!0).forEach(function(n){Ms(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fJ=function(){return!!e})()}var c7e=function(){function e(){var t,r,n,i;return ra(this,e),r=this,n=gs(n=e),(t=yj(r,fJ()?Reflect.construct(n,[],gs(r).constructor):n.apply(r,i)))._wrappedListeners={},t._messageCallbacks={},t}return xj(e,dJ),na(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var i=this,a=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===r)&&(!s.data.from||s.data.from!=="module")){var l=LS({},s.data);if(delete l.from,l.callbackStamp&&i._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;i._messageCallbacks[c].call(n,l),delete i._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(n,l)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var i=function(a){var s;if(!(!a.data||a.data.what!==$S||!a.data.action||a.data.from&&a.data.from!=="module"||a.data.callClientId&&r&&a.data.callClientId!==r||a!=null&&(s=a.data)!==null&&s!==void 0&&s.callFrameId)){var l=a.data;t.call(n,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"sendMessageToCallMachine",value:function(t,r,n,i){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var a=LS({},t);if(a.what=$S,a.from="module",a.callClientId=n,r){var s=bj();this._messageCallbacks[s]=r,a.callbackStamp=s}var l=i?i.contentWindow:window,c=this._callMachineTargetOrigin(i);c&&l.postMessage(a,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=$S,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var i=LS({},t);i.callClientId=n;var a=r?r.contentWindow:window,s=this._callMachineTargetOrigin(r);s&&a.postMessage(i,s)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(i){if(i.data&&i.data.what==="iframe-call-message"&&(!i.data.callClientId||i.data.callClientId===r)&&(!i.data.from||i.data.from!=="module")){var a=i.data;t(a)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hJ=function(){return!!e})()}var u7e=function(){function e(){var t,r,n,i;return ra(this,e),r=this,n=gs(n=e),t=yj(r,hJ()?Reflect.construct(n,[],gs(r).constructor):n.apply(r,i)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new vE.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new vE.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return xj(e,dJ),na(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,i,a){var s=this,l=function(c){if(c.callClientId===n){if(c.callbackStamp&&s._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;s._messageCallbacks[u].call(i,c),delete s._messageCallbacks[u]}t.call(i,c)}};this._wrappedListeners[t]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(t,r,n,i,a){var s=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?l5(Object(d),!0).forEach(function(f){Ms(c,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):l5(Object(d)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(d,f))})}return c}({},t);if(s.callClientId=n,i){var l=bj();this._messageCallbacks[l]=i,s.callbackStamp=l}r.emit("message",s)}}])}(),RE="replace",DE="shallow-merge",c5=[RE,DE],d7e=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,i=n===void 0?RE:n;ra(this,e),e._validateMergeStrategy(i),e._validateData(r,i),this.mergeStrategy=i,this.data=r}return na(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===DE}},{key:"_validateMergeStrategy",value:function(t){if(!c5.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(c5,"]"))}},{key:"_validateData",value:function(t,r){if(!function(l){if(l==null||kt(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===RE){var i=JSON.parse(n);Gn(i,t)||console.warn("The meeting session data provided will be modified when serialized.",i,t)}else if(r===DE){for(var a in t)if(Object.hasOwnProperty.call(t,a)&&t[a]!==void 0){var s=JSON.parse(JSON.stringify(t[a]));Gn(t[a],s)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",s,t[a])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(n.length>t5)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(t5,"."))}}])}();function pJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pJ=function(){return!!e})()}function LE(e){var t=typeof Map=="function"?new Map:void 0;return LE=function(r){if(r===null||!function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(i,a,s){if(pJ())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,a);var c=new(i.bind.apply(i,l));return s&&cv(c,s.prototype),c}(r,arguments,gs(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),cv(n,r)},LE(e)}function mJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!e})()}function u5(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var f7e=function(){return na(function e(t){ra(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new h7e(r,function(){n(!1)},function(a,s){s||u5(t._callClientId),i(a,s)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),u5(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),h7e=function(){return na(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;ra(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new d5(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new d5(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),FS=function(){function e(){return ra(this,e),t=this,n=arguments,r=gs(r=e),yj(t,mJ()?Reflect.construct(r,n||[],gs(t).constructor):r.apply(t,n));var t,r,n}return xj(e,LE(Error)),na(e)}(),hw=2e4,d5=function(){return na(function t(r,n,i){ra(this,t),this._loadAttemptImpl=_t()||!r.avoidEval?new p7e(r,n,i):new m7e(r,n,i)},[{key:"start",value:(e=rt(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),p7e=function(){return na(function i(a,s,l){ra(this,i),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=a,this._successCallback=s,this._failureCallback=l},[{key:"start",value:(n=rt(function*(){var i=sw(this._dailyConfig);!(yield this._tryLoadFromIOSCache(i))&&this._loadFromNetwork(i)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=rt(function*(i){if(!this._iosCache)return!1;try{var a=yield this._iosCache.get(i);return!!this.cancelled||!!a&&(a.code?(Function('"use strict";'+a.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=a.refetchHeaders,!1))}catch{return!1}}),function(i){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=rt(function*(i){var a=this;this._networkTimeout=setTimeout(function(){a._networkTimedOut=!0,a._failureCallback({msg:"Timed out (>".concat(hw," ms) when loading call object bundle ").concat(i),type:"timeout"})},hw);try{var s=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(i,s);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new FS;var c=yield this._getBundleCodeFromResponse(i,l);if(this.cancelled)throw new FS;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(i,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof FS||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(i,": ").concat(u),type:u.message})}}),function(i){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=rt(function*(i,a){if(a.ok)return yield a.text();if(this._iosCache&&a.status===304)return(yield this._iosCache.renew(i,a.headers)).code;throw new Error("Received ".concat(a.status," response"))}),function(i,a){return e.apply(this,arguments)})}]);var e,t,r,n}(),m7e=function(){return na(function e(t,r,n){ra(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=bj(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=sw(this._dailyConfig);(typeof document>"u"?"undefined":kt(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(hw," ms) when loading call object bundle ").concat(e),type:"timeout"})},hw);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(i){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(i.target.src),type:i.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),px=function(e,t,r){return v7e(e.local,t,r)===!0},g7e=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},cf=function(e,t,r,n){var i=y7e(e,t,r,n);return i&&i.pendingTrack},v7e=function(e,t,r){if(!e)return!1;var n=function(a){switch(a){case"avatar":return!0;case"staged":return a;default:return!!a}},i=e.public.subscribedTracks;return i&&i[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&i[t].custom?[!0,"staged"].includes(i[t].custom)?n(i[t].custom):n(i[t].custom[r]):n(i[t][r]):!i||n(i.ALL)},y7e=function(e,t,r,n){var i=Object.values(e.streams||{}).filter(function(a){return a.participantId===t&&a.type===r&&a.pendingTrack&&a.pendingTrack.kind===n}).sort(function(a,s){return new Date(s.starttime)-new Date(a.starttime)});return i&&i[0]},x7e=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function f5(e,t){for(var r=t.getState(),n=0,i=["cam","screen"];n<i.length;n++)for(var a=i[n],s=0,l=["video","audio"];s<l.length;s++){var c=l[s],u=a==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var f=e.local?g7e(r,a,c):cf(r,e.session_id,a,c);d.state==="playable"&&(d.track=f),d.persistentTrack=f}}}function h5(e,t){try{var r=t.getState();for(var n in e.tracks)if(!b7e(n)){var i=e.tracks[n].kind;if(i){var a=e.tracks[n];if(a){var s=e.local?x7e(r,n):cf(r,e.session_id,n,i);a.state==="playable"&&(e.tracks[n].track=s),a.persistentTrack=s}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function b7e(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function p5(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var i=!0;try{var a=n.participants[e.session_id];a&&a.public&&a.public.rtcType&&a.public.rtcType.impl==="peer-to-peer"&&a.private&&!["connected","completed"].includes(a.private.peeringState)&&(i=!1)}catch(d){console.error(d)}if(!i)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&px(n,e.session_id,"cam-audio")){var s=cf(n,e.session_id,"cam","audio");s&&(t&&t.audioTrack&&t.audioTrack.id===s.id?e.audioTrack=s:s.muted||(e.audioTrack=s)),e.audioTrack||(e.audio=!1)}if(e.video&&px(n,e.session_id,"cam-video")){var l=cf(n,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&px(n,e.session_id,"screen-audio")){var c=cf(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&px(n,e.session_id,"screen-video")){var u=cf(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function w7e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return m5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?m5(c,u):void 0}}(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,a=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw a}}}}function m5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ks=new Map,Ef=null;function _7e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return g5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?g5(c,u):void 0}}(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,a=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw a}}}}function g5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Cs=new Map,Dm=null;function j7e(e){gJ()?function(t){ks.has(t)||(ks.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){ks.has(t)&&(ks.get(t).lastDevicesString=JSON.stringify(r),Ef||(Ef=function(){var n=rt(function*(){var i,a=yield navigator.mediaDevices.enumerateDevices(),s=w7e(ks.keys());try{for(s.s();!(i=s.n()).done;){var l=i.value,c=JSON.stringify(a);c!==ks.get(l).lastDevicesString&&(ks.get(l).lastDevicesString=c,l(a))}}catch(u){s.e(u)}finally{s.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Ef)))}).catch(function(){}))}(e):function(t){Cs.has(t)||(Cs.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){Cs.has(t)&&(Cs.get(t).lastDevicesString=JSON.stringify(r),Dm||(Dm=setInterval(rt(function*(){var n,i=yield navigator.mediaDevices.enumerateDevices(),a=_7e(Cs.keys());try{for(a.s();!(n=a.n()).done;){var s=n.value,l=JSON.stringify(i);l!==Cs.get(s).lastDevicesString&&(Cs.get(s).lastDevicesString=l,s(i))}}catch(c){a.e(c)}finally{a.f()}}),3e3)))}))}(e)}function S7e(e){gJ()?function(t){ks.has(t)&&(ks.delete(t),ks.size===0&&Ef&&(navigator.mediaDevices.removeEventListener("devicechange",Ef),Ef=null))}(e):function(t){Cs.has(t)&&(Cs.delete(t),Cs.size===0&&Dm&&(clearInterval(Dm),Dm=null))}(e)}function gJ(){var e;return _t()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var N7e=new Set;function k7e(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!N7e.has(r.id)}(e)}function v5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(r),!0).forEach(function(n){Ms(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var hm=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),C7e=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Lm=Object.values(hm),y5=["v","a","sv","sa","cv","ca"];Object.freeze(Lm.reduce(function(e,t,r){return e[t]=y5[r],e},{})),Object.freeze(y5.reduce(function(e,t,r){return e[t]=Lm[r],e},{}));var E7e=[hm.VIDEO,hm.AUDIO,hm.SCREEN_VIDEO,hm.SCREEN_AUDIO],x5=Object.values(C7e),b5=["p","s","t"];Object.freeze(x5.reduce(function(e,t,r){return e[t]=b5[r],e},{})),Object.freeze(b5.reduce(function(e,t,r){return e[t]=x5[r],e},{}));var vJ=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,i=t.byParticipantId;ra(this,e),this.base=r,this.byUserId=n,this.byParticipantId=i}return na(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof xn?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof xn?n.clone():n}if(this.byParticipantId!==void 0)for(var i in t.byParticipantId={},this.byParticipantId){var a=this.byParticipantId[i];t.byParticipantId[i]=a instanceof xn?a.clone():a}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof xn&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof xn?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var i in t.byParticipantId={},this.byParticipantId){var a=this.byParticipantId[i];t.byParticipantId[i]=a instanceof xn?a.toJSONObject():a}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var i in t.p={},this.byParticipantId){var a=this.byParticipantId[i];t.p[i]=typeof a=="boolean"?a:a.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof xn&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=Bn(t,2),n=r[0],i=r[1];return[n,i instanceof xn?i.normalize():i]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=Bn(t,2),n=r[0],i=r[1];return[n,i instanceof xn?i.normalize():i]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,i;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:xn.fromJSONObject(t.base)),t.byUserId!==void 0)for(var a in n={},t.byUserId){var s=t.byUserId[a];n[a]=typeof s=="boolean"?s:xn.fromJSONObject(s)}if(t.byParticipantId!==void 0)for(var l in i={},t.byParticipantId){var c=t.byParticipantId[l];i[l]=typeof c=="boolean"?c:xn.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:i})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,i;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:xn.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var a in n={},t.u){var s=t.u[a];n[a]=typeof s=="boolean"?s:xn.fromMinifiedJSONObject(s)}if(t.p!==void 0)for(var l in i={},t.p){var c=t.p[l];i[l]=typeof c=="boolean"?c:xn.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:i})}},{key:"validateJSONObject",value:function(t){if(kt(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];if(!r.includes(a))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(a==="base"){var s=Bn(xn.validateJSONObject(t.base,!0),2),l=s[0],c=s[1];if(!l)return[!1,c]}else{if(kt(t[a])!=="object")return[!1,"invalid (non-object) value for field '".concat(a,"' in canReceive")];for(var u=0,d=Object.values(t[a]);u<d.length;u++){var f=d[u],h=Bn(xn.validateJSONObject(f),2),p=h[0],g=h[1];if(!p)return[!1,g]}}}return[!0]}}])}(),xn=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,i=t.screenVideo,a=t.screenAudio,s=t.customVideo,l=t.customAudio;ra(this,e),this.video=r,this.audio=n,this.screenVideo=i,this.screenAudio=a,this.customVideo=s,this.customAudio=l}return na(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=fl({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=fl({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=fl({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=fl({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=fl({},this.customVideo)),this.customAudio!==void 0&&(t.ca=fl({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?fl({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?fl({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(kt(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),i=0,a=n;i<a.length;i++){var s=a[i];if(!Lm.includes(s))return[!1,"invalid media type '".concat(s,"' in canReceive")];if(E7e.includes(s)){if(typeof t[s]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(s,"' in canReceive")]}else{if(kt(t[s])!=="object")return[!1,"invalid (non-object) value for media type '".concat(s,"' in canReceive")];for(var l=0,c=Object.values(t[s]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(s,"' in canReceive")];if(r&&t[s]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(s,"'")]}}return r&&n.length!==Lm.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Lm.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),O7e=["result"],P7e=["preserveIframe"];function w5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w5(Object(r),!0).forEach(function(n){Ms(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yJ=function(){return!!e})()}function _5(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return j5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?j5(c,u):void 0}}(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,a=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw a}}}}function j5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Bc={},S5="video",T7e="voice",N5=_t()?{data:{}}:{data:{},topology:"none"},k5={present:0,hidden:0},xJ={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},BS=Object.keys(xJ),C5=["state","volume","simulcastEncodings"],E5={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},pw={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},FE={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Uc={customIntegrations:{validate:CJ,help:NJ()},customTrayButtons:{validate:kJ,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(pw))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return EJ(e,E5)},help:"reactNativeConfig should look like ".concat(JSON.stringify(E5),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return bJ(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:To};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:To};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var i=0,a=Object.keys(n);i<a.length;i++){var s=a[i];if(!t.includes(s))return console.error('unsupported color "'.concat(s,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[s].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(s,' theme color should be provided in valid hex color format. Received: "').concat(n[s],'"')),!1}return!0};return kt(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return wJ(e,{allowAllParticipantsKey:!1})},help:SJ({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(i){return console.error("Failed to validate send settings",i),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!_J(e)&&(t._inputSettings||(t._inputSettings={}),jJ(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:BE()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},mx={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!_t()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],i=function(a){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in a)if(l==="custom"){if(!r.includes(a[l])&&!i(a[l],!0))return!1}else{var c=!s&&!n.includes(l),u=!r.includes(a[l]);if(c||u)return!1}return!0};return i(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(_t()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=Bn(r[t],2),i=n[0],a=n[1];switch(i){case"hasPresence":if(typeof a!="boolean")return!1;break;case"canSend":if(a instanceof Set||a instanceof Array||Array.isArray(a)){var s,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=_5(a);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(!l.includes(u))return!1}}catch(b){c.e(b)}finally{c.f()}}else if(typeof a!="boolean")return!1;(a instanceof Array||Array.isArray(a))&&(e.canSend=new Set(a));break;case"canReceive":var d=Bn(vJ.validateJSONObject(a),2),f=d[0],h=d[1];if(!f)return console.error(h),!1;break;case"canAdmin":if(a instanceof Set||a instanceof Array||Array.isArray(a)){var p,g=["participants","streaming","transcription"],m=_5(a);try{for(m.s();!(p=m.n()).done;){var v=p.value;if(!g.includes(v))return!1}}catch(b){m.e(b)}finally{m.f()}}else if(typeof a!="boolean")return!1;(a instanceof Array||Array.isArray(a))&&(e.canAdmin=new Set(a));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=rt(function*(t){return new Promise(function(r,n){var i=[];t.forEach(function(a){return Promise.resolve(a).then(function(s){r(s)}).catch(function(s){i.push(s),i.length===t.length&&n(i)})})})});return function(t){return e.apply(this,arguments)}}());var O5=function(){function e(S){var C,E,B,R,q,H,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ra(this,e),B=this,R=gs(R=e),Ms(E=yj(B,yJ()?Reflect.construct(R,[],gs(B).constructor):R.apply(B,q)),"startListeningForDeviceChanges",function(){j7e(E.handleDeviceChange)}),Ms(E,"stopListeningForDeviceChanges",function(){S7e(E.handleDeviceChange)}),Ms(E,"handleDeviceChange",function(J){J=J.map(function(je){return JSON.parse(JSON.stringify(je))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:J})}),Ms(E,"handleNativeAppStateChange",function(){var J=rt(function*(je){if(je==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var Oe=je==="active";E.disableReactNativeAutoDeviceManagement("video")||(Oe?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(je){return J.apply(this,arguments)}}()),Ms(E,"handleNativeAudioFocusChange",function(J){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=J,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),Ms(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!DS()&&!_t())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=X.strictMode===void 0||X.strictMode,E.allowMultipleCallInstances=(C=X.allowMultipleCallInstances)!==null&&C!==void 0&&C,Object.keys(Bc).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=bj(),Bc[(H=E).callClientId]=H,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,X.dailyJsVersion=e.version(),E._iframe=S,E._callObjectMode=X.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},X.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!X.showLocalVideo:E._showLocalVideo=!0,X.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!X.showParticipantsBar:E._showParticipantsBar=!0,X.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=X.customIntegrations:E._customIntegrations={},X.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=X.customTrayButtons:E._customTrayButtons={},X.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!X.activeSpeakerMode:E._activeSpeakerMode=!1,X.receiveSettings?E._callObjectMode?E._receiveSettings=X.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(X),E.properties=Ve({},X),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new f7e(E.callClientId):null,E._callState=HF,E._isPreparingToJoin=!1,E._accessState={access:MS},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=VS(N5,E._callObjectMode),E._nativeInCallAudioMode=S5,E._participants={},E._isScreenSharing=!1,E._participantCounts=k5,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=IS,E._messageChannel=_t()?new u7e:new c7e,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:dx}),E.sendMessageToCallMachine({action:dx})):(E.emitDailyJSEvent({action:fx}),E.sendMessageToCallMachine({action:fx}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:dx}),E.sendMessageToCallMachine({action:dx})):(E.emitDailyJSEvent({action:fx}),E.sendMessageToCallMachine({action:fx}))})),_t()){var te=E.nativeUtils();te.addAudioFocusChangeListener&&te.removeAudioFocusChangeListener&&te.addAppStateChangeListener&&te.removeAppStateChangeListener&&te.addSystemScreenCaptureStopListener&&te.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,te.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),te.addAppStateChangeListener(E.handleNativeAppStateChange),te.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return xj(e,nx),na(e,[{key:"destroy",value:(Z=rt(function*(){var S;try{yield this.leave()}catch{}var C=this._iframe;if(C){var E=C.parentElement;E&&E.removeChild(C)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),_t()){var B=this.nativeUtils();B.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),B.removeAppStateChangeListener(this.handleNativeAppStateChange),B.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Bc[this.callClientId],!((S=window)===null||S===void 0||(S=S._daily)===null||S===void 0)&&S.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Z.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(S){var C=S.bodyClass,E=S.cssFile,B=S.cssText;return wt(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:C,cssText:B}),this}},{key:"iframe",value:function(){return wt(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Ra(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Ra(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(S,C){for(var E in C){if(!mx[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(mx[E].validate&&!mx[E].validate(C[E],this,this._participants[S]))throw new Error(mx[E].help)}}},{key:"updateParticipant",value:function(S,C){return this._participants.local&&this._participants.local.session_id===S&&(S="local"),S&&C&&(this.validateParticipantProperties(S,C),this.sendMessageToCallMachine({action:"update-participant",id:S,properties:C})),this}},{key:"updateParticipants",value:function(S){var C=this._participants.local&&this._participants.local.session_id;for(var E in S)E===C&&(E="local"),E&&S[E]&&this.validateParticipantProperties(E,S[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:S}),this}},{key:"updateWaitingParticipant",value:(ne=rt(function*(){var S=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ra(this._callObjectMode,"updateWaitingParticipant()"),qt(this._callState,"updateWaitingParticipant()"),typeof C!="string"||kt(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(B,R){S.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:C,updates:E},function(q){q.error&&R(q.error),q.id||R(new Error("unknown error in updateWaitingParticipant()")),B({id:q.id})})})}),function(){return ne.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(G=rt(function*(){var S=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ra(this._callObjectMode,"updateWaitingParticipants()"),qt(this._callState,"updateWaitingParticipants()"),kt(C)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,B){S.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:C},function(R){R.error&&B(R.error),R.ids||B(new Error("unknown error in updateWaitingParticipants()")),E({ids:R.ids})})})}),function(){return G.apply(this,arguments)})},{key:"requestAccess",value:(F=rt(function*(){var S=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=C.access,B=E===void 0?{level:i9e}:E,R=C.name,q=R===void 0?"":R;return Ra(this._callObjectMode,"requestAccess()"),qt(this._callState,"requestAccess()"),new Promise(function(H,X){S.sendMessageToCallMachine({action:"daily-method-request-access",access:B,name:q},function(te){te.error&&X(te.error),te.access||X(new Error("unknown error in requestAccess()")),H({access:te.access,granted:te.granted})})})}),function(){return F.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in C&&(_t()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),C={}):S&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),C={})),this.sendMessageToCallMachine({action:"local-audio",state:S,options:C}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(S){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:S}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(S){return this.sendMessageToCallMachine({action:"local-video",state:S}),this}},{key:"_setAllowLocalAudio",value:function(S){if(this._preloadCache.allowLocalAudio=S,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:S}),this}},{key:"_setAllowLocalVideo",value:function(S){if(this._preloadCache.allowLocalVideo=S,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:S}),this}},{key:"getReceiveSettings",value:(I=rt(function*(S){var C=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,B=E!==void 0&&E;if(Ra(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(kt(S)){case"string":return new Promise(function(R){C.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:S,showInheritedValues:B},function(q){R(q.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(S){return I.apply(this,arguments)})},{key:"updateReceiveSettings",value:(U=rt(function*(S){var C=this;if(Ra(this._callObjectMode,"updateReceiveSettings()"),!wJ(S,{allowAllParticipantsKey:!0}))throw new Error(SJ({allowAllParticipantsKey:!0}));return qt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){C.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:S},function(B){E({receiveSettings:B.receiveSettings})})})}),function(S){return U.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(S,C){if(S){var E={};if(S.audio){var B,R,q;S.audio.settings&&(!Object.keys(S.audio.settings).length&&C||(E.audio={settings:Ve({},S.audio.settings)})),C&&(B=E.audio)!==null&&B!==void 0&&(B=B.settings)!==null&&B!==void 0&&B.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var H=((R=S.audio.processor)===null||R===void 0?void 0:R.type)==="none"&&((q=S.audio.processor)===null||q===void 0?void 0:q._isDefaultWhenNone);if(S.audio.processor&&!H){var X=Ve({},S.audio.processor);delete X._isDefaultWhenNone,E.audio=Ve(Ve({},E.audio),{},{processor:X})}}if(S.video){var te,J,je;S.video.settings&&(!Object.keys(S.video.settings).length&&C||(E.video={settings:Ve({},S.video.settings)})),C&&(te=E.video)!==null&&te!==void 0&&(te=te.settings)!==null&&te!==void 0&&te.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var Oe=((J=S.video.processor)===null||J===void 0?void 0:J.type)==="none"&&((je=S.video.processor)===null||je===void 0?void 0:je._isDefaultWhenNone);if(S.video.processor&&!Oe){var it=Ve({},S.video.processor);delete it._isDefaultWhenNone,E.video=Ve(Ve({},E.video),{},{processor:it})}}return E}}},{key:"getInputSettings",value:function(){var S=this;return wt(),new Promise(function(C){C(S._getInputSettings())})}},{key:"_getInputSettings",value:function(){var S,C,E,B,R,q,H={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(S=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||H,C=((B=this._inputSettings)===null||B===void 0?void 0:B.audio)||H):(S=((R=this._preloadCache)===null||R===void 0||(R=R.inputSettings)===null||R===void 0?void 0:R.video)||H,C=((q=this._preloadCache)===null||q===void 0||(q=q.inputSettings)===null||q===void 0?void 0:q.audio)||H);var X={audio:C,video:S};return this._prepInputSettingsForSharing(X,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(S,C){var E=this._inputSettings||{},B={};if(S.video){var R,q,H;B.video={},S.video.settings?(B.video.settings={},C||S.video.settings.customTrack||(H=E.video)===null||H===void 0||!H.settings?B.video.settings=S.video.settings:B.video.settings=Ve(Ve({},E.video.settings),S.video.settings),Object.keys(B.video.settings).length||delete B.video.settings):(R=E.video)!==null&&R!==void 0&&R.settings&&(B.video.settings=E.video.settings),S.video.processor?B.video.processor=S.video.processor:(q=E.video)!==null&&q!==void 0&&q.processor&&(B.video.processor=E.video.processor)}else E.video&&(B.video=E.video);if(S.audio){var X,te,J;B.audio={},S.audio.settings?(B.audio.settings={},C||S.audio.settings.customTrack||(J=E.audio)===null||J===void 0||!J.settings?B.audio.settings=S.audio.settings:B.audio.settings=Ve(Ve({},E.audio.settings),S.audio.settings),Object.keys(B.audio.settings).length||delete B.audio.settings):(X=E.audio)!==null&&X!==void 0&&X.settings&&(B.audio.settings=E.audio.settings),S.audio.processor?B.audio.processor=S.audio.processor:(te=E.audio)!==null&&te!==void 0&&te.processor&&(B.audio.processor=E.audio.processor)}else E.audio&&(B.audio=E.audio);this._maybeUpdateInputSettings(B)}},{key:"_devicesFromInputSettings",value:function(S){var C,E,B=(S==null||(C=S.video)===null||C===void 0||(C=C.settings)===null||C===void 0?void 0:C.deviceId)||null,R=(S==null||(E=S.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,q=this._preloadCache.outputDeviceId||null;return{camera:B?{deviceId:B}:{},mic:R?{deviceId:R}:{},speaker:q?{deviceId:q}:{}}}},{key:"updateInputSettings",value:(D=rt(function*(S){var C=this;return wt(),_J(S)?S.video||S.audio?(jJ(S,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(S,!0),this._getInputSettings()):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-input-settings",inputSettings:S},function(R){if(R.error)B(R.error);else{if(R.returnPreloadCache)return C._updatePreloadCacheInputSettings(S,!0),void E(C._getInputSettings());C._maybeUpdateInputSettings(R.inputSettings),E(C._prepInputSettingsForSharing(R.inputSettings,!0))}})})):this._getInputSettings():(console.error(BE()),Promise.reject(BE()))}),function(S){return D.apply(this,arguments)})},{key:"setBandwidth",value:function(S){var C=S.kbs,E=S.trackConstraints;if(wt(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:C,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var S=this;if(wt(),this._callMachineInitialized)return new Promise(function(C){S.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}},{key:"setDailyLang",value:function(S){return wt(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:S}),this}},{key:"setProxyUrl",value:function(S){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:S}),this}},{key:"setIceConfig",value:function(S){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:S}),this}},{key:"meetingSessionSummary",value:function(){return[Fc,dl].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(V=rt(function*(){var S=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),qt(this._callState,"getMeetingSession()"),new Promise(function(C){S.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}),function(){return V.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return qt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Ra(this._callObjectMode,"setMeetingSessionData()"),qt(this._callState,"setMeetingSessionData");try{(function(E,B){new d7e({data:E,mergeStrategy:B})})(S,C)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:S,mergeStrategy:C})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(S,C){var E=this;return this.properties.userName=S,new Promise(function(B){E.sendMessageToCallMachine({action:"set-user-name",name:S??"",thisMeetingOnly:_t()||!!C&&!!C.thisMeetingOnly},function(R){delete R.action,delete R.callbackStamp,B(R)})})}},{key:"setUserData",value:(L=rt(function*(S){var C=this;try{bJ(S)}catch(E){throw console.error(E),E}if(this.properties.userData=S,this._callMachineInitialized)return new Promise(function(E){try{C.sendMessageToCallMachine({action:"set-user-data",userData:S},function(B){delete B.action,delete B.callbackStamp,E(B)})}catch(B){throw new Error("Error setting user data: ".concat(B))}})}),function(S){return L.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(S){if(S&&(S<100||typeof S!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(S){var C=this;if(typeof AudioWorkletNode>"u"&&!_t())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(S),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:S},function(R){C._isLocalAudioLevelObserverRunning=!R.error,R.error?B({error:R.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:S}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(S){var C=this;if(this.validateAudioLevelInterval(S),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:S},function(R){C._isRemoteParticipantsAudioLevelObserverRunning=!R.error,R.error?B({error:R.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:S}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(z=rt(function*(){var S=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ra(this._callObjectMode,"startCamera()"),US(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(C)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(C),this.properties=Ve(Ve({},this.properties),C)}return new Promise(function(E){S._preloadCache.inputSettings=S._prepInputSettingsForSharing(S._inputSettings,!1),S.sendMessageToCallMachine({action:"start-camera",properties:Md(S.properties,S.callClientId),preloadCache:Md(S._preloadCache,S.callClientId)},function(B){E({camera:B.camera,mic:B.mic,speaker:B.speaker})})})}),function(){return z.apply(this,arguments)})},{key:"validateCustomTrack",value:function(S,C,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(C&&C!=="music"&&C!=="speech"&&!(C instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(S instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var S=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return wt(),qt(this._callState,"startCustomTrack()"),this.validateCustomTrack(C.track,C.mode,C.trackName),new Promise(function(E,B){S._sharedTracks.customTrack=C.track,C.track=To,S.sendMessageToCallMachine({action:"start-custom-track",properties:C},function(R){R.error?B({error:R.error}):E(R.mediaTag)})})}},{key:"stopCustomTrack",value:function(S){var C=this;return wt(),qt(this._callState,"stopCustomTrack()"),new Promise(function(E){C.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:S},function(B){E(B.mediaTag)})})}},{key:"setCamera",value:function(S){var C=this;return tm(),gx(this._callMachineInitialized,"setCamera()"),new Promise(function(E){C.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:S},function(B){E({device:B.device})})})}},{key:"setAudioDevice",value:(M=rt(function*(S){return tm(),this.nativeUtils().setAudioDevice(S),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(S){return M.apply(this,arguments)})},{key:"cycleCamera",value:function(){var S=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){S.sendMessageToCallMachine({action:"cycle-camera",properties:C},function(B){E({device:B.device})})})}},{key:"cycleMic",value:function(){var S=this;return wt(),new Promise(function(C){S.sendMessageToCallMachine({action:"cycle-mic"},function(E){C({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var S=this;return tm(),new Promise(function(C){S.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){C(E.facingMode)})})}},{key:"setInputDevicesAsync",value:($=rt(function*(S){var C=this,E=S.audioDeviceId,B=S.videoDeviceId,R=S.audioSource,q=S.videoSource;if(wt(),R!==void 0&&(E=R),q!==void 0&&(B=q),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof B=="boolean"&&(this._setAllowLocalVideo(B),B=void 0),!E&&!B)return yield this.getInputDevices();var H={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=To,H.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,H.audio={settings:{deviceId:E}})),B&&(B instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=B,B=To,H.video={settings:{customTrack:B}}):(delete this._sharedTracks.videoTrack,H.video={settings:{deviceId:B}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(H,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(X){C.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:B},function(te){if(delete te.action,delete te.callbackStamp,te.returnPreloadCache)return C._updatePreloadCacheInputSettings(H,!1),void X(C._devicesFromInputSettings(C._inputSettings));X(te)})})}),function(S){return $.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(A=rt(function*(S){var C=this,E=S.outputDeviceId;if(wt(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(B,R){C.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(q){if(delete q.action,delete q.callbackStamp,q.error){var H=new Error(q.error.message);return H.type=q.error.type,void R(H)}q.returnPreloadCache?B(C._devicesFromInputSettings(C._inputSettings)):B(q)})})}),function(S){return A.apply(this,arguments)})},{key:"getInputDevices",value:(P=rt(function*(){var S=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(C){S.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?C(S._devicesFromInputSettings(S._inputSettings)):C({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return P.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return tm(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(S){if(tm(),[S5,T7e].includes(S)){if(S!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=S,!this.disableReactNativeAutoDeviceManagement("audio")&&Yx(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",S)}},{key:"preAuth",value:(O=rt(function*(){var S=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Ra(this._callObjectMode,"preAuth()"),US(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(C)),!C.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(C),this.properties=Ve(Ve({},this.properties),C),new Promise(function(E,B){S._preloadCache.inputSettings=S._prepInputSettingsForSharing(S._inputSettings,!1),S.sendMessageToCallMachine({action:"daily-method-preauth",properties:Md(S.properties,S.callClientId),preloadCache:Md(S._preloadCache,S.callClientId)},function(R){return R.error?B(R.error):R.access?(S._didPreAuth=!0,void E({access:R.access})):B(new Error("unknown error in preAuth()"))})})}),function(){return O.apply(this,arguments)})},{key:"load",value:(k=rt(function*(S){var C=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(S&&(this.validateProperties(S),this.properties=Ve(Ve({},this.properties),S)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(qF),this.emitDailyJSEvent({action:d9e}),this._callObjectMode?new Promise(function(E,B){C._callObjectLoader.cancel();var R=Date.now();C._callObjectLoader.load(C.properties.dailyConfig,function(q){C._bundleLoadTime=q?"no-op":Date.now()-R,C._updateCallState(GF),q&&C.emitDailyJSEvent({action:YF}),E()},function(q,H){if(C.emitDailyJSEvent({action:f9e}),!H){C._updateCallState(dl),C.resetMeetingDependentVars();var X={action:e5,errorMsg:q.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:q,bundleUrl:sw(C.properties.dailyConfig)}}};C._maybeSendToSentry(X),C.emitDailyJSEvent(X),B(q.msg)}})}):(this._iframe.src=zY(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,B){C._loadedCallback=function(R){C._callState!==dl?(C._updateCallState(GF),(C.properties.cssFile||C.properties.cssText)&&C.loadCss(C.properties),E()):B(R)}}))}}),function(S){return k.apply(this,arguments)})},{key:"join",value:(j=rt(function*(){var S=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(C)}catch(B){return this.updateIsPreparingToJoin(!1),Promise.reject(B)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(C.url&&!this._callObjectMode&&C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(C.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(C),this.properties=Ve(Ve({},this.properties),C)}return C.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!C.showLocalVideo),C.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!C.showParticipantsBar),this._callState===Zc||this._callState===ME?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(ME,!1),this.emitDailyJSEvent({action:m9e}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Md(this.properties,this.callClientId),preloadCache:Md(this._preloadCache,this.callClientId)}),new Promise(function(B,R){S._joinedCallback=function(q,H){if(S._callState!==dl){if(S._updateCallState(Zc),q)for(var X in q){if(S._callObjectMode){var te=S._callMachine().store;f5(q[X],te),h5(q[X],te),p5(q[X],S._participants[X],te)}S._participants[X]=Ve({},q[X]),S.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&S.loadCss(S.properties),B(q)}else R(H)}}))}),function(){return j.apply(this,arguments)})},{key:"leave",value:(N=rt(function*(){var S=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(C){S._callState===Fc||S._callState===dl?C():S._callObjectLoader&&!S._callObjectLoader.loaded?(S._callObjectLoader.cancel(),S._updateCallState(Fc),S.resetMeetingDependentVars(),S.emitDailyJSEvent({action:Fc}),C()):(S._resolveLeave=C,S.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return N.apply(this,arguments)})},{key:"startScreenShare",value:(_=rt(function*(){var S=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(gx(this._callMachineInitialized,"startScreenShare()"),C.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",C.screenVideoSendSettings),C.mediaStream&&(this._sharedTracks.screenMediaStream=C.mediaStream,C.mediaStream=To),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:ZF,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),S.sendMessageToCallMachine({action:r5,captureOptions:C})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:r5,captureOptions:C})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){gx(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=S.type;if(C&&C!=="cloud"&&C!=="raw-tracks"&&C!=="local")throw new Error("invalid type: ".concat(C,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Ve({action:"local-recording-start"},S))}},{key:"updateRecording",value:function(S){var C=S.layout,E=C===void 0?{preset:"default"}:C,B=S.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:B})}},{key:"stopRecording",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ve({action:"local-recording-stop"},S))}},{key:"startLiveStreaming",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ve({action:"daily-method-start-live-streaming"},S))}},{key:"updateLiveStreaming",value:function(S){var C=S.layout,E=C===void 0?{preset:"default"}:C,B=S.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:B})}},{key:"addLiveStreamingEndpoints",value:function(S){var C=S.endpoints,E=S.instanceId;this.sendMessageToCallMachine({action:n5,endpointsOp:n7e,endpoints:C,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(S){var C=S.endpoints,E=S.instanceId;this.sendMessageToCallMachine({action:n5,endpointsOp:i7e,endpoints:C,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Ve({action:"daily-method-stop-live-streaming"},S))}},{key:"validateDailyConfig",value:function(S){S.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(S.camSimulcastEncodings)),S.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),lJ()&&S.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(S){if(!(S instanceof Array||Array.isArray(S)))throw new Error("encodings must be an Array");if(!I5(S.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var B=0;B<S.length;B++){var R=S[B];for(var q in this._validateEncodingLayerHasValidProperties(R),R)if(BS.includes(q)){if(typeof R[q]!="number")throw new Error("".concat(q," must be a number"));if(C){var H=C[q],X=H.min,te=H.max;if(!I5(R[q],X,te))throw new Error("".concat(q," value not in range. valid range: ").concat(X," to ").concat(te))}}else if(!["active","scalabilityMode"].includes(q))throw new Error("Invalid key ".concat(q,", valid keys are:")+Object.values(BS));if(E&&!R.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=rt(function*(S){var C=this,E=S.url,B=S.settings,R=B===void 0?{state:IE.PLAY}:B;try{(function(q){if(typeof q!="string")throw new Error('url parameter must be "string" type')})(E),M5(R),function(q){for(var H in q)if(!C5.includes(H))throw new Error("Invalid key ".concat(H,", valid keys are: ").concat(C5));q.simulcastEncodings&&this.validateSimulcastEncodings(q.simulcastEncodings,xJ,!0)}(R)}catch(q){throw console.error("invalid argument Error: ".concat(q)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),q}return new Promise(function(q,H){C.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:R},function(X){X.error?H({error:X.error,errorMsg:X.errorMsg}):q({session_id:X.session_id,remoteMediaPlayerState:{state:X.state,settings:X.settings}})})})}),function(S){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(x=rt(function*(S){var C=this;if(typeof S!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,B){C.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:S},function(R){R.error?B({error:R.error,errorMsg:R.errorMsg}):E()})})}),function(S){return x.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(b=rt(function*(S){var C=this,E=S.session_id,B=S.settings;try{M5(B)}catch(R){throw console.error("invalid argument Error: ".concat(R)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),R}return new Promise(function(R,q){C.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:B},function(H){H.error?q({error:H.error,errorMsg:H.errorMsg}):R({session_id:H.session_id,remoteMediaPlayerState:{state:H.state,settings:H.settings}})})})}),function(S){return b.apply(this,arguments)})},{key:"startTranscription",value:function(S){qt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Ve({action:"daily-method-start-transcription"},S))}},{key:"updateTranscription",value:function(S){if(qt(this._callState,"updateTranscription()"),!S)throw new Error("updateTranscription Error: options is mandatory");if(kt(S)!=="object")throw new Error("updateTranscription Error: options must be object type");if(S.participants&&!Array.isArray(S.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Ve({action:"daily-method-update-transcription"},S))}},{key:"stopTranscription",value:function(S){if(qt(this._callState,"stopTranscription()"),S&&kt(S)!=="object")throw new Error("stopTranscription Error: options must be object type");if(S&&!S.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Ve({action:"daily-method-stop-transcription"},S))}},{key:"startDialOut",value:(v=rt(function*(S){var C=this;qt(this._callState,"startDialOut()");var E=function(H){if(H){if(!Array.isArray(H))throw new Error("Error starting dial out: audio codec must be an array");if(H.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");H.forEach(function(X){if(typeof X!="string")throw new Error("Error starting dial out: audio codec must be a string");if(X!=="OPUS"&&X!=="PCMU"&&X!=="PCMA"&&X!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!S.sipUri&&!S.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(S.sipUri&&S.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(S.sipUri){if(typeof S.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!S.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(S.video&&typeof S.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(H){if(H&&(E(H.audio),H.video)){if(!Array.isArray(H.video))throw new Error("Error starting dial out: video codec must be an array");if(H.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");H.video.forEach(function(X){if(typeof X!="string")throw new Error("Error starting dial out: video codec must be a string");if(X!=="H264"&&X!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(S.codecs)}if(S.phoneNumber){if(typeof S.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(S.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");S.codecs&&E(S.codecs.audio)}if(S.callerId){if(typeof S.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(S.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(S.displayName){if(typeof S.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(S.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(S.userId){if(typeof S.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(S.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(P5(S),S.permissions&&S.permissions.canReceive){var B=Bn(vJ.validateJSONObject(S.permissions.canReceive),2),R=B[0],q=B[1];if(!R)throw new Error(q)}if(S.provider){if(S.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(S.provider));if(S.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(H,X){C.sendMessageToCallMachine(Ve({action:"dialout-start"},S),function(te){te.error?X(te.error):H(te)})})}),function(S){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(S){var C=this;return qt(this._callState,"stopDialOut()"),new Promise(function(E,B){C.sendMessageToCallMachine(Ve({action:"dialout-stop"},S),function(R){R.error?B(R.error):E(R)})})}},{key:"sipCallTransfer",value:(m=rt(function*(S){var C=this;if(qt(this._callState,"sipCallTransfer()"),!S)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return S.useSipRefer=!1,A5(S,"sipCallTransfer"),P5(S),new Promise(function(E,B){C.sendMessageToCallMachine(Ve({action:i5},S),function(R){R.error?B(R.error):E(R)})})}),function(S){return m.apply(this,arguments)})},{key:"sipRefer",value:(g=rt(function*(S){var C=this;if(qt(this._callState,"sipRefer()"),!S)throw new Error("sessionId and toEndPoint are mandatory parameter");return S.useSipRefer=!0,A5(S,"sipRefer"),new Promise(function(E,B){C.sendMessageToCallMachine(Ve({action:i5},S),function(R){R.error?B(R.error):E(R)})})}),function(S){return g.apply(this,arguments)})},{key:"sendDTMF",value:(p=rt(function*(S){var C=this;return qt(this._callState,"sendDTMF()"),function(E){var B=E.sessionId,R=E.tones;if(!B||!R)throw new Error("sessionId and tones are mandatory parameter");if(typeof B!="string"||typeof R!="string")throw new Error("sessionId and tones should be of string type");if(R.length>20)throw new Error("tones string must be upto 20 characters");var q=/[^0-9A-D*#]/g,H=R.match(q);if(H&&H[0])throw new Error("".concat(H[0]," is not valid DTMF tone"))}(S),new Promise(function(E,B){C.sendMessageToCallMachine(Ve({action:"send-dtmf"},S),function(R){R.error?B(R.error):E(R)})})}),function(S){return p.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var S=this;return this._callState!==Zc?Promise.resolve(Ve({stats:{latest:{}}},this._network)):new Promise(function(C){S.sendMessageToCallMachine({action:"get-calc-stats"},function(E){C(Ve(Ve({},S._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(h=rt(function*(){var S=this;if(zS(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(C){return Promise.reject(C)}return new Promise(function(C,E){S.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(B){B.error?E(B.error):C(B.results)})})}),function(){return h.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(S){return S?S instanceof MediaStreamTrack?!!k7e(S)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(f=rt(function*(){var S=this;wt(),Ra(this._callObjectMode,"testCallQuality()"),gx(this._callMachineInitialized,"testCallQuality()",null,!0),US(this._callState,this._isPreparingToJoin,"testCallQuality()");var C=this._testCallAlreadyInProgress,E=function(R){C||(S._testCallInProgress=R)};if(E(!0),this.needsLoad())try{var B=this._callState;yield this.load(),this._callState=B}catch(R){return E(!1),Promise.reject(R)}return new Promise(function(R){S.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:S.properties.dailyJsVersion},function(q){var H=q.results,X=H.result,te=B3(H,O7e);if(X==="failed"){var J,je=Ve({},te);(J=te.error)!==null&&J!==void 0&&J.details?(te.error.details=JSON.parse(te.error.details),je.error=Ve(Ve({},je.error),{},{details:Ve({},je.error.details)}),je.error.details.duringTest="testCallQuality"):(je.error=je.error?Ve({},je.error):{},je.error.details={duringTest:"testCallQuality"}),S._maybeSendToSentry(je)}E(!1),R(Ve({result:X},te))})})}),function(){return f.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=rt(function*(S){var C;_t()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),C=yield this.testPeerToPeerCallQuality(S)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),C=yield this.testCallQuality());var E={result:C.result,secondsElapsed:C.secondsElapsed};return C.data&&(E.data={maxRTT:C.data.maxRoundTripTime,packetLoss:C.data.avgRecvPacketLoss}),E}),function(S){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=rt(function*(S){var C=this;if(zS(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(R){return Promise.reject(R)}var E=S.videoTrack,B=S.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function(R,q){C.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:B},function(H){H.error?q(H.error):R(H.results)})})}),function(S){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){_t()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=rt(function*(S){var C=this;if(zS(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(S))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=S,new Promise(function(E,B){C.sendMessageToCallMachine({action:"test-network-connectivity"},function(R){R.error?B(R.error):E(R.results)})})}),function(S){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var S=this;return new Promise(function(C){S._callState===Zc?S.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){C(E.cpuStats)}):C({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(S){var C;if(!(((C=Object.keys(S))===null||C===void 0?void 0:C.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(BS))}},{key:"_validateVideoSendSettings",value:function(S,C){var E=S==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],B="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof C=="string"){if(!E.includes(C))throw new Error(B)}else{if(kt(C)!=="object")throw new Error(B);if(!C.maxQuality&&!C.encodings&&C.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(C.maxQuality&&["low","medium","high"].indexOf(C.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(C.encodings){var R=!1;switch(Object.keys(C.encodings).length){case 1:R=!C.encodings.low;break;case 2:R=!C.encodings.low||!C.encodings.medium;break;case 3:R=!C.encodings.low||!C.encodings.medium||!C.encodings.high;break;default:R=!0}if(R)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");C.encodings.low&&this._validateEncodingLayerHasValidProperties(C.encodings.low),C.encodings.medium&&this._validateEncodingLayerHasValidProperties(C.encodings.medium),C.encodings.high&&this._validateEncodingLayerHasValidProperties(C.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(S){var C=this;if(!S||Object.keys(S).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(S).forEach(function(E){var B=Bn(E,2),R=B[0],q=B[1];C._validateVideoSendSettings(R,q)})}},{key:"updateSendSettings",value:function(S){var C=this;return this.validateUpdateSendSettings(S),this.needsLoad()?(this._preloadCache.sendSettings=S,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-send-settings",sendSettings:S},function(R){R.error?B(R.error):E(R.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return wt(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(S){return wt(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:S}),this}},{key:"activeSpeakerMode",value:function(){return wt(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(S){return qt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=S,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:S}),this}},{key:"enumerateDevices",value:(l=rt(function*(){var S=this;if(this._callObjectMode){var C=yield navigator.mediaDevices.enumerateDevices();return Qu()==="Firefox"&&fw().major>115&&fw().major<123&&(C=C.filter(function(E){return E.kind!=="audiooutput"})),{devices:C.map(function(E){var B=JSON.parse(JSON.stringify(E));if(!_t()&&E.kind==="videoinput"&&E.getCapabilities){var R,q=E.getCapabilities();B.facing=(q==null||(R=q.facingMode)===null||R===void 0?void 0:R.length)>=1?q.facingMode[0]:void 0}return B})}}return new Promise(function(E){S.sendMessageToCallMachine({action:"enumerate-devices"},function(B){E({devices:B.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(qt(this._callState,"sendAppMessage()"),JSON.stringify(S).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:S,to:C}),this}},{key:"addFakeParticipant",value:function(S){return wt(),qt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Ve({action:"add-fake-participant"},S)),this}},{key:"setShowNamesMode",value:function(S){return Ei(this._callObjectMode,"setShowNamesMode()"),wt(),S&&S!=="always"&&S!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:S}),this)}},{key:"setShowLocalVideo",value:function(){var S=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ei(this._callObjectMode,"setShowLocalVideo()"),wt(),qt(this._callState,"setShowLocalVideo()"),typeof S!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:S}),this._showLocalVideo=S,this)}},{key:"showLocalVideo",value:function(){return Ei(this._callObjectMode,"showLocalVideo()"),wt(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var S=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ei(this._callObjectMode,"setShowParticipantsBar()"),wt(),qt(this._callState,"setShowParticipantsBar()"),typeof S!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:S}),this._showParticipantsBar=S,this)}},{key:"showParticipantsBar",value:function(){return Ei(this._callObjectMode,"showParticipantsBar()"),wt(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return wt(),Ei(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(S){return wt(),Ei(this._callObjectMode,"setCustomIntegrations()"),qt(this._callState,"setCustomIntegrations()"),CJ(S)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:S}),this._customIntegrations=S,this):this}},{key:"startCustomIntegrations",value:function(S){var C=this;if(wt(),Ei(this._callObjectMode,"startCustomIntegrations()"),qt(this._callState,"startCustomIntegrations()"),Array.isArray(S)&&S.some(function(R){return typeof R!="string"})||!Array.isArray(S)&&typeof S!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof S=="string"?[S]:S,B=E.filter(function(R){return!(R in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(S){var C=this;if(wt(),Ei(this._callObjectMode,"stopCustomIntegrations()"),qt(this._callState,"stopCustomIntegrations()"),Array.isArray(S)&&S.some(function(R){return typeof R!="string"})||!Array.isArray(S)&&typeof S!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof S=="string"?[S]:S,B=E.filter(function(R){return!(R in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return Ei(this._callObjectMode,"customTrayButtons()"),wt(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(S){return Ei(this._callObjectMode,"updateCustomTrayButtons()"),wt(),qt(this._callState,"updateCustomTrayButtons()"),kJ(S)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:S}),this._customTrayButtons=S,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(pw))),this)}},{key:"theme",value:function(){return Ei(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(S){var C=this;return Ei(this._callObjectMode,"setTheme()"),new Promise(function(E,B){try{C.validateProperties({theme:S}),C.properties.theme=Ve({},S),C.sendMessageToCallMachine({action:"set-theme",theme:C.properties.theme});try{C.emitDailyJSEvent({action:u9e,theme:C.properties.theme})}catch(R){console.log("could not emit 'theme-updated'",R)}E(C.properties.theme)}catch(R){B(R)}})}},{key:"requestFullscreen",value:(s=rt(function*(){if(wt(),this._iframe&&!document.fullscreenElement&&a5())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(S){console.log("could not make video call fullscreen",S)}}),function(){return s.apply(this,arguments)})},{key:"exitFullscreen",value:function(){wt(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(a=rt(function*(){var S=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(C){S.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){C(E.view)})})}),function(){return a.apply(this,arguments)})},{key:"setSidebarView",value:function(S){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:S}),this)}},{key:"room",value:(i=rt(function*(){var S=this,C=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=C===void 0||C;return this._accessState.access===MS||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(B){S.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function(R){delete R.action,delete R.callbackStamp,B(R)})})}),function(){return i.apply(this,arguments)})},{key:"geo",value:(n=rt(function*(){try{var S=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield S.json()).geo}}catch(C){return console.error("geo lookup failed",C),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=rt(function*(S){var C=this;return wt(),qt(this._callState,"setNetworkTopology()"),new Promise(function(E,B){C.sendMessageToCallMachine({action:"set-network-topology",opts:S},function(R){R.error?B({error:R.error}):E({workerId:R.workerId})})})}),function(S){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=rt(function*(){var S=this;return new Promise(function(C,E){S.needsLoad()&&C({topology:"none"}),S.sendMessageToCallMachine({action:"get-network-topology"},function(B){B.error?E({error:B.error}):C({topology:B.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(S){if(wt(),typeof S!="number"&&S!==!0&&S!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(S));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:S})}},{key:"on",value:function(S,C){return nx.prototype.on.call(this,S,C)}},{key:"once",value:function(S,C){return nx.prototype.once.call(this,S,C)}},{key:"off",value:function(S,C){return nx.prototype.off.call(this,S,C)}},{key:"validateProperties",value:function(S){var C,E;if(S!=null&&(C=S.dailyConfig)!==null&&C!==void 0&&C.userMediaAudioConstraints){var B,R;_t()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var q=S.inputSettings||{};q.audio=((B=S.inputSettings)===null||B===void 0?void 0:B.audio)||{},q.audio.settings=((R=S.inputSettings)===null||R===void 0||(R=R.audio)===null||R===void 0?void 0:R.settings)||{},q.audio.settings=Ve(Ve({},q.audio.settings),S.dailyConfig.userMediaAudioConstraints),S.inputSettings=q,delete S.dailyConfig.userMediaAudioConstraints}if(S!=null&&(E=S.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var H,X;_t()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var te=S.inputSettings||{};te.video=((H=S.inputSettings)===null||H===void 0?void 0:H.video)||{},te.video.settings=((X=S.inputSettings)===null||X===void 0||(X=X.video)===null||X===void 0?void 0:X.settings)||{},te.video.settings=Ve(Ve({},te.video.settings),S.dailyConfig.userMediaVideoConstraints),S.inputSettings=te,delete S.dailyConfig.userMediaVideoConstraints}for(var J in S)if(Uc[J]){if(Uc[J].validate&&!Uc[J].validate(S[J],this))throw new Error("property '".concat(J,"': ").concat(Uc[J].help))}else console.warn("Ignoring unrecognized property '".concat(J,"'")),delete S[J]}},{key:"assembleMeetingUrl",value:function(){var S,C,E=Ve(Ve({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(S=this.properties.dailyConfig)!==null&&S!==void 0&&S.proxyUrl?encodeURIComponent((C=this.properties.dailyConfig)===null||C===void 0?void 0:C.proxyUrl):void 0}),B=E.url.match(/\?/)?"&":"?";return E.url+B+Object.keys(Uc).filter(function(R){return Uc[R].queryString&&E[R]!==void 0}).map(function(R){return"".concat(Uc[R].queryString,"=").concat(E[R])}).join("&")}},{key:"needsLoad",value:function(){return[HF,qF,Fc,dl].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(S,C){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(S,C,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(S){this._messageChannel.forwardPackagedMessageToCallMachine(S,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(S){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(S,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(S){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(S)}},{key:"handleMessageFromCallMachine",value:function(S){switch(S.action){case l9e:this.sendMessageToCallMachine(Ve({action:c9e},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var C={action:hx,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:sw(this.properties.dailyConfig)}};this.sendMessageToCallMachine(C),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case YF:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(S);break;case g9e:var E,B=Ve({},S);delete B.internal,this._maxAppMessageSize=((E=S.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||IS,this._joinedCallback&&(this._joinedCallback(S.participants),this._joinedCallback=null),this.emitDailyJSEvent(B);break;case y9e:case x9e:if(this._callState===Fc)return;if(S.participant&&S.participant.session_id){var R=S.participant.local?"local":S.participant.session_id;if(this._callObjectMode){var q=this._callMachine().store;f5(S.participant,q),h5(S.participant,q),p5(S.participant,this._participants[R],q)}try{this.maybeParticipantTracksStopped(this._participants[R],S.participant),this.maybeParticipantTracksStarted(this._participants[R],S.participant),this.maybeEventRecordingStopped(this._participants[R],S.participant),this.maybeEventRecordingStarted(this._participants[R],S.participant)}catch(K){console.error("track events error",K)}this.compareEqualForParticipantUpdateEvent(S.participant,this._participants[R])||(this._participants[R]=Ve({},S.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(S))}break;case b9e:if(S.participant&&S.participant.session_id){var H=this._participants[S.participant.session_id];H&&this.maybeParticipantTracksStopped(H,null),delete this._participants[S.participant.session_id],this.emitDailyJSEvent(S)}break;case w9e:Gn(this._participantCounts,S.participantCounts)||(this._participantCounts=S.participantCounts,this.emitDailyJSEvent(S));break;case _9e:var X={access:S.access};S.awaitingAccess&&(X.awaitingAccess=S.awaitingAccess),Gn(this._accessState,X)||(this._accessState=X,this.emitDailyJSEvent(S));break;case j9e:if(S.meetingSession){this._meetingSessionSummary=S.meetingSession,this.emitDailyJSEvent(S);var te=Ve(Ve({},S),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(te)}break;case e5:var J;this._iframe&&!S.preserveIframe&&(this._iframe.src=""),this._updateCallState(dl),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(S.errorMsg),this._loadedCallback=null),S.preserveIframe;var je=B3(S,P7e);je!=null&&(J=je.error)!==null&&J!==void 0&&J.details&&(je.error.details=JSON.parse(je.error.details)),this._maybeSendToSentry(S),this._joinedCallback&&(this._joinedCallback(null,je),this._joinedCallback=null),this.emitDailyJSEvent(je);break;case v9e:this._callState!==dl&&this._updateCallState(Fc),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(S);break;case"selected-devices-updated":S.devices&&this.emitDailyJSEvent(S);break;case G9e:var Oe=S.state,it=S.threshold,qe=S.quality,Ge=Oe.state,jt=Oe.reasons;Ge===this._network.networkState&&Gn(jt,this._network.networkStateReasons)&&it===this._network.threshold&&qe===this._network.quality||(this._network.networkState=Ge,this._network.networkStateReasons=jt,this._network.quality=qe,this._network.threshold=it,S.networkState=Ge,jt.length&&(S.networkStateReasons=jt),delete S.state,this.emitDailyJSEvent(S));break;case Y9e:S&&S.cpuLoadState&&this.emitDailyJSEvent(S);break;case J9e:S&&S.faceCounts!==void 0&&this.emitDailyJSEvent(S);break;case H9e:var $t=S.activeSpeaker;this._activeSpeaker.peerId!==$t.peerId&&(this._activeSpeaker.peerId=$t.peerId,this.emitDailyJSEvent({action:S.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Dt=S.show;this._showLocalVideo=Dt,this.emitDailyJSEvent({action:S.action,show:Dt});break;case q9e:var W=S.enabled;this._activeSpeakerMode!==W&&(this._activeSpeakerMode=W,this.emitDailyJSEvent({action:S.action,enabled:this._activeSpeakerMode}));break;case N9e:case k9e:case C9e:this._waitingParticipants=S.allWaitingParticipants,this.emitDailyJSEvent({action:S.action,participant:S.participant});break;case r7e:Gn(this._receiveSettings,S.receiveSettings)||(this._receiveSettings=S.receiveSettings,this.emitDailyJSEvent({action:S.action,receiveSettings:S.receiveSettings}));break;case QF:this._maybeUpdateInputSettings(S.inputSettings);break;case"send-settings-updated":Gn(this._sendSettings,S.sendSettings)||(this._sendSettings=S.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:S.action,sendSettings:S.sendSettings}));break;case"local-audio-level":this._localAudioLevel=S.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(S);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=S.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(S);break;case F9e:var Y=S.session_id;this._rmpPlayerState[Y]=S.playerState,this.emitDailyJSEvent(S);break;case U9e:delete this._rmpPlayerState[S.session_id],this.emitDailyJSEvent(S);break;case B9e:var re=S.session_id,Se=this._rmpPlayerState[re];Se&&this.compareEqualForRMPUpdateEvent(Se,S.remoteMediaPlayerState)||(this._rmpPlayerState[re]=S.remoteMediaPlayerState,this.emitDailyJSEvent(S));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(S);break;case S9e:var ye=this._meetingSessionState.topology!==(S.meetingSessionState&&S.meetingSessionState.topology);this._meetingSessionState=VS(S.meetingSessionState,this._callObjectMode),(this._callObjectMode||ye)&&this.emitDailyJSEvent(S);break;case z9e:this._isScreenSharing=!0,this.emitDailyJSEvent(S);break;case V9e:case W9e:this._isScreenSharing=!1,this.emitDailyJSEvent(S);break;case JF:case XF:case M9e:case I9e:case $9e:case P9e:case T9e:case A9e:case h9e:case p9e:case D9e:case L9e:case"test-completed":case K9e:case R9e:case X9e:case Q9e:case Z9e:case e7e:case ZF:case t7e:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(S);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(S,C){var E="record";S&&(C.local||C[E]!==!1||S[E]===C[E]||this.emitDailyJSEvent({action:XF}))}},{key:"maybeEventRecordingStarted",value:function(S,C){var E="record";S&&(C.local||C[E]!==!0||S[E]===C[E]||this.emitDailyJSEvent({action:JF}))}},{key:"_trackStatePlayable",value:function(S){return!(!S||S.state!==n9e)}},{key:"_trackChanged",value:function(S,C){return(S==null?void 0:S.id)!==(C==null?void 0:C.id)}},{key:"maybeEventTrackStopped",value:function(S,C,E){var B,R,q=(B=C==null?void 0:C.tracks[S])!==null&&B!==void 0?B:null,H=(R=E==null?void 0:E.tracks[S])!==null&&R!==void 0?R:null,X=q==null?void 0:q.track;if(X){var te=this._trackStatePlayable(q),J=this._trackStatePlayable(H),je=this._trackChanged(X,H==null?void 0:H.track);te&&(J&&!je||this.emitDailyJSEvent({action:O9e,track:X,participant:E??C,type:S}))}}},{key:"maybeEventTrackStarted",value:function(S,C,E){var B,R,q=(B=C==null?void 0:C.tracks[S])!==null&&B!==void 0?B:null,H=(R=E==null?void 0:E.tracks[S])!==null&&R!==void 0?R:null,X=H==null?void 0:H.track;if(X){var te=this._trackStatePlayable(q),J=this._trackStatePlayable(H),je=this._trackChanged(q==null?void 0:q.track,X);J&&(te&&!je||this.emitDailyJSEvent({action:E9e,track:X,participant:E,type:S}))}}},{key:"maybeParticipantTracksStopped",value:function(S,C){if(S)for(var E in S.tracks)this.maybeEventTrackStopped(E,S,C)}},{key:"maybeParticipantTracksStarted",value:function(S,C){if(C)for(var E in C.tracks)this.maybeEventTrackStarted(E,S,C)}},{key:"compareEqualForRMPUpdateEvent",value:function(S,C){var E,B;return S.state===C.state&&((E=S.settings)===null||E===void 0?void 0:E.volume)===((B=C.settings)===null||B===void 0?void 0:B.volume)}},{key:"emitDailyJSEvent",value:function(S){try{S.callClientId=this.callClientId,this.emit(S.action,S)}catch(C){console.log("could not emit",S,C)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(S,C){return!!Gn(S,C)&&(!S.videoTrack||!C.videoTrack||S.videoTrack.id===C.videoTrack.id&&S.videoTrack.muted===C.videoTrack.muted&&S.videoTrack.enabled===C.videoTrack.enabled)&&(!S.audioTrack||!C.audioTrack||S.audioTrack.id===C.audioTrack.id&&S.audioTrack.muted===C.audioTrack.muted&&S.audioTrack.enabled===C.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return _t()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(S){this._updateCallState(this._callState,S)}},{key:"_updateCallState",value:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(S!==this._callState||C!==this._isPreparingToJoin){var E=this._callState,B=this._isPreparingToJoin;this._callState=S,this._isPreparingToJoin=C;var R=this._callState===Zc;this.updateShowAndroidOngoingMeetingNotification(R);var q=Yx(E,B),H=Yx(this._callState,this._isPreparingToJoin);q!==H&&(this.updateKeepDeviceAwake(H),this.updateDeviceAudioMode(H),this.updateNoOpRecordingEnsuringBackgroundContinuity(H))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=k5,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:MS},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=VS(N5,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=IS,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(S){_t()&&this.nativeUtils().setKeepDeviceAwake(S,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(S){if(_t()&&!this.disableReactNativeAutoDeviceManagement("audio")){var C=S?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(C)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(S){if(_t()&&this.nativeUtils().setShowOngoingMeetingNotification){var C,E,B,R;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var q=this.properties.reactNativeConfig.androidInCallNotification;C=q.title,E=q.subtitle,B=q.iconName,R=q.disableForCustomOverride}R&&(S=!1),this.nativeUtils().setShowOngoingMeetingNotification(S,C,E,B,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(S){_t()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(S)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var S;if(_t()){var C=(S=this._callMachine())===null||S===void 0||(S=S.store)===null||S===void 0?void 0:S.getState();for(var E in C==null?void 0:C.streams){var B=C.streams[E];B&&B.pendingTrack&&B.pendingTrack.kind==="audio"&&(B.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(S){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[S]}},{key:"absoluteUrl",value:function(S){if(S!==void 0){var C=document.createElement("a");return C.href=S,C.href}}},{key:"sayHello",value:function(){var S="hello, world.";return console.log(S),S}},{key:"_logUseAfterDestroy",value:function(){var S=Object.values(Bc)[0];if(this.needsLoad())if(S&&!S.needsLoad()){var C={action:hx,level:"error",code:this.strictMode?9995:9997};S.sendMessageToCallMachine(C)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:hx,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var S=0,C=Object.values(Bc);S<C.length;S++){var E=C[S];E._callMachineInitialized?(E.sendMessageToCallMachine({action:hx,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(S){var C,E,B,R;if(!((C=S.error)!==null&&C!==void 0&&C.type&&(![o9e,s9e,KF].includes(S.error.type)||S.error.type===KF&&S.error.msg.includes("deleted")))){var q=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,H="production";q&&q.host.includes(".staging.daily")&&(H="staging");var X,te,J,je,Oe,it=function(Y){const re=[jWe(),wWe(),YWe(),GWe(),e9e(),r9e(),CWe(),t9e()];return Y.autoSessionTracking!==!1&&re.push(ZWe()),re}({}).filter(function(Y){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Y.name)}),qe=new $We({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:BWe,stackParser:qWe,integrations:it,environment:H}),Ge=new uc;if(Ge.setClient(qe),qe.init(),this.session_id&&Ge.setExtra("sessionId",this.session_id),this.properties){var jt=Ve({},this.properties);jt.userName=jt.userName?"[Filtered]":void 0,jt.userData=jt.userData?"[Filtered]":void 0,jt.token=jt.token?"[Filtered]":void 0,Ge.setExtra("properties",jt)}if(q){var $t=q.searchParams.get("domain");if(!$t){var Dt=q.host.match(/(.*?)\./);$t=Dt&&Dt[1]||""}$t&&Ge.setTag("domain",$t)}S.error&&(Ge.setTag("fatalErrorType",S.error.type),Ge.setExtra("errorDetails",S.error.details),!((X=S.error.details)===null||X===void 0)&&X.uri&&Ge.setTag("serverAddress",S.error.details.uri),!((te=S.error.details)===null||te===void 0)&&te.workerGroup&&Ge.setTag("workerGroup",S.error.details.workerGroup),!((J=S.error.details)===null||J===void 0)&&J.geoGroup&&Ge.setTag("geoGroup",S.error.details.geoGroup),!((je=S.error.details)===null||je===void 0)&&je.on&&Ge.setTag("connectionAttempt",S.error.details.on),(Oe=S.error.details)!==null&&Oe!==void 0&&Oe.bundleUrl&&(Ge.setTag("bundleUrl",S.error.details.bundleUrl),Ge.setTag("bundleError",S.error.details.sourceError.type))),Ge.setTags({callMode:this._callObjectMode?_t()?"reactNative":(B=this.properties)!==null&&B!==void 0&&(B=B.dailyConfig)!==null&&B!==void 0&&(B=B.callMode)!==null&&B!==void 0&&B.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var W=((R=S.error)===null||R===void 0?void 0:R.msg)||S.errorMsg;Ge.captureException(new Error(W))}}},{key:"_callMachine",value:function(){var S;return(S=window._daily)===null||S===void 0||(S=S.instances)===null||S===void 0||(S=S[this.callClientId])===null||S===void 0?void 0:S.callMachine}},{key:"_maybeUpdateInputSettings",value:function(S){if(!Gn(this._inputSettings,S)){var C=this._getInputSettings();this._inputSettings=S;var E=this._getInputSettings();Gn(C,E)||this.emitDailyJSEvent({action:QF,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(_t())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var S=VVe.getParser(Na());return{supported:!!DS(),mobile:S.getPlatformType()==="mobile",name:S.getBrowserName(),version:S.getBrowserVersion(),supportsFullscreen:!!a5(),supportsScreenShare:!!a7e(),supportsSfu:!!DS(),supportsVideoProcessing:sJ(),supportsAudioProcessing:oJ()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return S.layout="none",new e(null,S)}},{key:"wrap",value:function(S){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(wt(),!S||!S.contentWindow||typeof S.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return C.layout||(C.customLayout?C.layout="custom-v1":C.layout="browser"),new e(S,C)}},{key:"createFrame",value:function(S,C){var E,B;wt(),S&&C?(E=S,B=C):S&&S.append?(E=S,B={}):(E=document.body,B=S||{});var R=B.iframeStyle;R||(R=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var q=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?q.allow="microphone, camera":q.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",q.style.visibility="hidden",E.appendChild(q),q.style.visibility=null,Object.keys(R).forEach(function(H){return q.style[H]=R[H]}),B.layout||(B.customLayout?B.layout="custom-v1":B.layout="browser");try{return new e(q,B)}catch(H){throw E.removeChild(q),H}}},{key:"createTransparentFrame",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wt();var C=document.createElement("iframe");return C.allow="microphone; camera; autoplay",C.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(C),S.layout||(S.layout="custom-v1"),e.wrap(C,S)}},{key:"getCallInstance",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return S?Bc[S]:Object.values(Bc)[0]}}]);var t,r,n,i,a,s,l,c,u,d,f,h,p,g,m,v,b,x,w,_,N,j,k,O,P,A,$,M,z,L,V,D,U,I,F,G,ne,Z}();function P5(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Md(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=To;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=a,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function qt(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==Zc){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function Yx(e,t){return[ME,Zc].includes(e)||t}function US(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(Yx(e,t)){var i="".concat(r," not supported after joining a meeting.");throw n&&(i+=" ".concat(n)),console.error(i),new Error(i)}}function gx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function zS(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function Ra(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function Ei(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function wt(){if(_t())throw new Error("This daily-js method is not currently supported in React Native")}function tm(){if(!_t())throw new Error("This daily-js method is only supported in React Native")}function bJ(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Gn(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function wJ(e,t){for(var r=t.allowAllParticipantsKey,n=function(f){var h=["local"];return r||h.push("*"),f&&!h.includes(f)},i=function(f){return!!(f.layer===void 0||Number.isInteger(f.layer)&&f.layer>=0||f.layer==="inherit")},a=function(f){return!!f&&!(f.video&&!i(f.video))&&!(f.screenVideo&&!i(f.screenVideo))},s=0,l=Object.entries(e);s<l.length;s++){var c=Bn(l[s],2),u=c[0],d=c[1];if(!n(u)||!a(d))return!1}return!0}function _J(e){if(kt(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=Bn(r[t],2),i=n[0],a=n[1];switch(i){case"video":if(kt(a)!=="object")return!1;for(var s=0,l=Object.entries(a);s<l.length;s++){var c=Bn(l[s],2),u=c[0],d=c[1];switch(u){case"processor":if(!M7e(d))return!1;break;case"settings":if(!T5(d))return!1;break;default:return!1}}break;case"audio":if(kt(a)!=="object")return!1;for(var f=0,h=Object.entries(a);f<h.length;f++){var p=Bn(h[f],2),g=p[0],m=p[1];switch(g){case"processor":if(!A7e(m))return!1;break;case"settings":if(!T5(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function jJ(e,t,r){var n,i=[];e.video&&e.video.processor&&(sJ((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,i.push("video"))),e.audio&&e.audio.processor&&(oJ()||(e.audio.settings?delete e.audio.processor:delete e.audio,i.push("audio"))),i.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(i.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:To}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:To}):delete r.videoTrack)}function A7e(e){if(_t())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&kt(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(iJ).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function M7e(e){if(_t())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||kt(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(Kx).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(kt(e.config)!=="object"||!function(r,n){var i=Object.keys(n);if(i.length===0)return!0;var a="invalid object in inputSettings -> video -> processor -> config";switch(r){case Kx.BGBLUR:return i.length>1||i[0]!=="strength"?(console.error(a),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(a,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case Kx.BGIMAGE:return!(n.source!==void 0&&!function(s){if(s.source==="default")return s.type="default",!0;if(s.source instanceof ArrayBuffer)return!0;if(ow(s.source))return s.type="url",!!function(u){var d=new URL(u),f=d.pathname;if(d.protocol==="data:")try{var h=f.substring(f.indexOf(":")+1,f.indexOf(";")).split("/")[1];return RS.includes(h)}catch(g){return console.error("failed to deduce blob content type",g),!1}var p=f.split(".").at(-1).toLowerCase().trim();return RS.includes(p)}(s.source)||(console.error("invalid image type; supported types: [".concat(RS.join(", "),"]")),!1);return l=s.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(s.type="daily-preselect",!0);var l,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function T5(e){return kt(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function BE(){var e=Object.values(Kx).join(" | "),t=Object.values(iJ).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function SJ(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(a9e).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function NJ(){return"customIntegrations should be an object of type ".concat(JSON.stringify(FE),".")}function kJ(e){if(e&&kt(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(pw),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=Bn(r[t],1)[0],i=0,a=Object.entries(e[n]);i<a.length;i++){var s=Bn(a[i],2),l=s[0],c=s[1],u=pw.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!ow(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(kt(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function CJ(e){if(!e||e&&kt(e)!=="object"||Array.isArray(e))return console.error(NJ()),!1;for(var t=function(f){return"".concat(f," should be ").concat(FE.id[f])},r=function(f,h){return console.error("customIntegration ".concat(f,": ").concat(h))},n=0,i=Object.entries(e);n<i.length;n++){var a=Bn(i[n],1)[0];if(!("label"in e[a]))return r(a,"label is required"),!1;if(!("location"in e[a]))return r(a,"location is required"),!1;if(!("src"in e[a])&&!("srcdoc"in e[a]))return r(a,"src or srcdoc is required"),!1;for(var s=0,l=Object.entries(e[a]);s<l.length;s++){var c=Bn(l[s],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(a,t(u)),!1;break;case"iconURL":if(!ow(d))return r(a,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[a])return r(a,"cannot have both src and srcdoc"),!1;if(!ow(d))return r(a,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[a])return r(a,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(a,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(a,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(f){return typeof f!="string"})))return r(a,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(f){return typeof f!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(a,t(u)),!1;break;default:if(!FE.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function EJ(e,t){if(t===void 0)return!1;switch(kt(t)){case"string":return kt(e)===t;case"object":if(kt(e)!=="object")return!1;for(var r in e)if(!EJ(e[r],t[r]))return!1;return!0;default:return!1}}function A5(e,t){var r=e.sessionId,n=e.toEndPoint,i=e.callerId,a=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(a&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(i&&typeof i!="string")throw new Error("callerId must be of type string");if(i&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function M5(e){if(kt(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(IE).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(IE));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function I5(e,t,r){return!(typeof e!="number"||e<t||e>r)}function VS(e,t){return e&&!t&&delete e.data,e}const I7e=()=>{const[e]=cP(),t=zn(),{user:r,profile:n,role:i}=Dr(),a=e.get("appointment"),[s,l]=y.useState(!0),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,p]=y.useState(null),[g,m]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(!1),[_,N]=y.useState(!1),[j,k]=y.useState(null),[O,P]=y.useState(!1),A=y.useRef(null),$=y.useRef(null);y.useEffect(()=>{(async()=>{if(!a||!r){f("No appointment specified"),l(!1);return}try{const{data:U,error:I}=await Me.from("appointments").select("*").eq("id",a).single();if(I||!U){f("Appointment not found"),l(!1);return}const F=U.patient_id===r.id,G=U.clinician_id===r.id,ne=i&&["admin","receptionist"].includes(i);if(!F&&!G&&!ne){f("You are not authorized to join this consultation"),l(!1);return}const[Z,S]=await Promise.all([Me.from("profiles").select("first_name, last_name").eq("id",U.patient_id).single(),Me.from("profiles").select("first_name, last_name").eq("id",U.clinician_id).single()]);if(p({...U,patient_name:Z.data?`${Z.data.first_name} ${Z.data.last_name}`.trim():"Patient",clinician_name:S.data?`${S.data.first_name} ${S.data.last_name}`.trim():"Clinician"}),G||ne){P(!0);try{const R=await Ov.getUrl(U.patient_id);k((R==null?void 0:R.photo_url)||null)}catch(R){console.error("Error fetching patient photo:",R)}finally{P(!1)}}const C=await S$.createRoom(a),E=n?`${n.first_name} ${n.last_name}`.trim():i==="patient"?"Patient":"Clinician",B=await S$.createToken(C.room_name,E,i!=="patient");m(B.room_url),b(B.token),U.status!=="in_progress"&&await Me.from("appointments").update({status:"in_progress"}).eq("id",a)}catch(U){console.error("Error setting up video call:",U),f(U.message||"Failed to set up video consultation")}finally{l(!1)}})()},[a,r,n,i]),y.useEffect(()=>()=>{$.current&&($.current.destroy(),$.current=null)},[]);const M=y.useCallback(async()=>{if(!(!g||!v)){if(u(!0),await new Promise(D=>setTimeout(D,100)),!A.current){f("Video container not ready"),u(!1);return}try{const D=O5.getCallInstance();D&&await D.destroy();const U=O5.createFrame(A.current,{iframeStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"0"},showLeaveButton:!0,showFullscreenButton:!0});$.current=U,U.on("joined-meeting",()=>{console.log("Joined Daily meeting"),ce.success("Connected to consultation"),w(!0)}),U.on("left-meeting",()=>{console.log("Left Daily meeting"),z()}),U.on("error",I=>{console.error("Daily error:",I),ce.error("Video call error occurred"),f("Video call error: "+((I==null?void 0:I.errorMsg)||"Unknown error")),w(!1),u(!1)}),U.on("participant-joined",I=>{var F,G;console.log("Participant joined:",(F=I==null?void 0:I.participant)==null?void 0:F.user_name),(G=I==null?void 0:I.participant)!=null&&G.user_name&&ce.info(`${I.participant.user_name} joined the call`)}),U.on("participant-left",I=>{var F,G,ne;console.log("Participant left:",(F=I==null?void 0:I.participant)==null?void 0:F.user_name),(G=I==null?void 0:I.participant)!=null&&G.user_name&&!((ne=I==null?void 0:I.participant)!=null&&ne.local)&&ce.info(`${I.participant.user_name} left the call`)}),await U.join({url:g,token:v}),u(!1)}catch(D){console.error("Failed to join Daily call:",D),f("Failed to join video call: "+(D.message||"Unknown error")),ce.error("Failed to join video call"),u(!1)}}},[g,v]),z=async()=>{if($.current){try{await $.current.destroy()}catch(D){console.error("Error destroying call frame:",D)}$.current=null}w(!1),N(!0),h&&await Me.from("appointments").update({status:"completed"}).eq("id",h.id)},L=async()=>{if($.current)try{await $.current.leave()}catch(D){console.error("Error leaving call:",D)}u(!1),z()},V=()=>{t(i==="patient"?"/patient":i==="nurse"||i==="doctor"?"/clinician":"/")};return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(ft,{className:"w-12 h-12 animate-spin mx-auto text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Setting up your consultation..."})]})}):d?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(oe,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(pc,{className:"w-12 h-12 text-destructive mx-auto mb-2"}),o.jsx(_e,{children:"Unable to Join"}),o.jsx(Ce,{children:d})]}),o.jsx(de,{children:o.jsxs(Q,{onClick:V,className:"w-full",children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})})]})}):_?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(oe,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(dr,{className:"w-12 h-12 text-primary mx-auto mb-2"}),o.jsx(_e,{children:"Consultation Ended"}),o.jsx(Ce,{children:"Your video consultation has ended successfully."})]}),o.jsxs(de,{className:"space-y-4",children:[i!=="patient"&&o.jsx(Q,{variant:"outline",className:"w-full",onClick:()=>t(`/clinician?notes=${a}`),children:"Complete Clinical Notes"}),o.jsxs(Q,{onClick:V,className:"w-full",children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})}):x||c?o.jsxs("div",{className:"fixed inset-0 bg-black",children:[o.jsx("div",{ref:A,className:"w-full h-full",style:{position:"relative"}}),o.jsxs(Q,{variant:"destructive",size:"sm",className:"absolute bottom-4 right-4 z-50",onClick:L,children:[o.jsx(WO,{className:"w-4 h-4 mr-2"}),"Leave Call"]})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5 flex items-center justify-center p-4",children:o.jsxs(oe,{className:"max-w-lg w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(dr,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsx(_e,{className:"text-2xl",children:"Ready to Join?"}),o.jsx(Ce,{children:i==="patient"?`Your consultation with ${h==null?void 0:h.clinician_name}`:`Consultation with ${h==null?void 0:h.patient_name}`})]}),o.jsxs(de,{className:"space-y-6",children:[i!=="patient"&&o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(MM,{className:"w-5 h-5 text-blue-600"}),o.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Patient Identity Verification"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(ap,{className:"w-20 h-20 border-2 border-blue-300",children:O?o.jsx(lc,{className:"bg-blue-100",children:o.jsx(ft,{className:"w-6 h-6 animate-spin text-blue-600"})}):j?o.jsx(p_,{src:j,alt:h==null?void 0:h.patient_name}):o.jsx(lc,{className:"bg-blue-100",children:o.jsx(Rr,{className:"w-8 h-8 text-blue-600"})})}),!j&&!O&&o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-amber-500 rounded-full p-1",title:"No verification photo on file",children:o.jsx(AM,{className:"w-3 h-3 text-white"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-lg",children:h==null?void 0:h.patient_name}),j?o.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[o.jsx(MM,{className:"w-4 h-4"}),"Verification photo on file"]}):o.jsxs("p",{className:"text-sm text-amber-600 flex items-center gap-1",children:[o.jsx(AM,{className:"w-4 h-4"}),"No verification photo"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Please verify the patient's identity when the video connects"})]})]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(rr,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled Time"}),o.jsx("p",{className:"font-medium",children:h!=null&&h.scheduled_at?new Date(h.scheduled_at).toLocaleString():"N/A"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Rr,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:i==="patient"?"Clinician":"Patient"}),o.jsx("p",{className:"font-medium",children:i==="patient"?h==null?void 0:h.clinician_name:h==null?void 0:h.patient_name})]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[o.jsx("p",{children:"Before joining, please ensure:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[o.jsx("li",{children:"You're in a quiet, private location"}),o.jsx("li",{children:"Your camera and microphone are working"}),o.jsx("li",{children:"You have a stable internet connection"})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Ee,{variant:"outline",className:"text-green-600 border-green-600",children:"Room Ready"})}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs(Q,{size:"lg",onClick:M,className:"w-full",children:[o.jsx(dr,{className:"w-5 h-5 mr-2"}),"Join Consultation"]}),o.jsxs(Q,{variant:"outline",onClick:V,className:"w-full",children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})},$7e=()=>o.jsx(I7e,{}),R7e=()=>{const[e,t]=y.useState({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null}),r=y.useRef(null),n=y.useRef(null),i=y.useCallback(()=>{e.localStream&&e.localStream.getTracks().forEach(d=>d.stop()),e.remoteStream&&e.remoteStream.getTracks().forEach(d=>d.stop())},[e.localStream,e.remoteStream]),a=y.useCallback(d=>{const f=document.createElement("canvas");f.width=1280,f.height=720,n.current=f;const h=f.getContext("2d"),p=document.createElement("video");p.srcObject=d,p.muted=!0,p.play(),r.current=p;const g=()=>{h&&p.readyState>=2&&(h.save(),h.scale(-1,1),h.drawImage(p,-f.width,0,f.width,f.height),h.restore(),h.fillStyle="rgba(0, 100, 200, 0.03)",h.fillRect(0,0,f.width,f.height)),requestAnimationFrame(g)};g();const m=f.captureStream(30),v=d.getAudioTracks()[0];return v&&m.addTrack(v.clone()),m},[]),s=y.useCallback(async()=>{t(d=>({...d,isConnecting:!0,error:null}));try{const d=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});t(h=>({...h,localStream:d})),await new Promise(h=>setTimeout(h,1500));const f=a(d);t(h=>({...h,remoteStream:f,isConnected:!0,isConnecting:!1}))}catch(d){console.error("Failed to start demo call:",d),t(f=>({...f,isConnecting:!1,error:d.message||"Failed to access camera/microphone"}))}},[a]),l=y.useCallback(async()=>{i(),t({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null})},[i]),c=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getAudioTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isMuted:!d.enabled})))}},[e.localStream]),u=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getVideoTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isVideoOff:!d.enabled})))}},[e.localStream]);return y.useEffect(()=>()=>{i()},[i]),{...e,startCall:s,endCall:l,toggleMute:c,toggleVideo:u}},WS=({stream:e,muted:t=!1,isLocal:r=!1,isVideoOff:n=!1,userName:i="Participant",className:a=""})=>{const s=y.useRef(null);y.useEffect(()=>{s.current&&e&&(s.current.srcObject=e)},[e]);const l=i.split(" ").map(c=>c[0]).join("").toUpperCase();return!e||n?o.jsxs("div",{className:`relative bg-muted flex items-center justify-center ${a}`,children:[o.jsxs("div",{className:"text-center",children:[o.jsx(ap,{className:"w-24 h-24 mx-auto mb-4",children:o.jsx(lc,{className:"bg-primary/20 text-primary text-2xl",children:l||o.jsx(Rr,{className:"w-12 h-12"})})}),n&&o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(WO,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Camera off"})]})]}),r&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 px-2 py-1 rounded text-xs",children:"You"})]}):o.jsxs("div",{className:`relative bg-black ${a}`,children:[o.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:t,className:`w-full h-full object-cover ${r?"transform -scale-x-100":""}`,style:{imageRendering:"auto",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}}),r&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:"You"}),!r&&i&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:i})]})},D7e=({isMuted:e,isVideoOff:t,onToggleMute:r,onToggleVideo:n,onEndCall:i,isConnected:a})=>o.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-background/80 backdrop-blur-sm rounded-full",children:[o.jsx(Q,{variant:e?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:r,title:e?"Unmute":"Mute",children:e?o.jsx(Tee,{className:"w-6 h-6"}):o.jsx(Aee,{className:"w-6 h-6"})}),o.jsx(Q,{variant:t?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:n,title:t?"Turn on camera":"Turn off camera",children:t?o.jsx(WO,{className:"w-6 h-6"}):o.jsx(dr,{className:"w-6 h-6"})}),o.jsx(Q,{variant:"destructive",size:"lg",className:"rounded-full w-14 h-14",onClick:i,title:"End call",children:o.jsx(Ree,{className:"w-6 h-6"})})]}),L7e=()=>{const e=zn(),[t,r]=y.useState(0),[n,i]=y.useState(!1),[a,s]=y.useState(!0),{localStream:l,remoteStream:c,isConnected:u,isConnecting:d,isMuted:f,isVideoOff:h,error:p,startCall:g,endCall:m,toggleMute:v,toggleVideo:b}=R7e();y.useEffect(()=>{let j;return u&&(j=setInterval(()=>{r(k=>k+1)},1e3)),()=>clearInterval(j)},[u]);const x=j=>{const k=Math.floor(j/60),O=j%60;return`${k.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`},w=async()=>{await g(),p||(s(!1),ce.success("Demo consultation started!"))},_=async()=>{await m(),ce.info("Demo ended"),e(-1)},N=()=>{document.fullscreenElement?(document.exitFullscreen(),i(!1)):(document.documentElement.requestFullscreen(),i(!0))};return a&&!u?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(oe,{className:"w-full max-w-2xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:o.jsxs(Ee,{variant:"outline",className:"bg-warning/10 text-warning border-warning",children:[o.jsx(ni,{className:"w-3 h-3 mr-1"}),"Demo Mode"]})}),o.jsx(_e,{className:"text-2xl",children:"Video Consultation Demo"}),o.jsx(Ce,{children:"Test the video consultation features without needing a second account. Your camera will be mirrored to simulate a remote participant."})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden relative",children:l?o.jsx(WS,{stream:l,muted:!0,isLocal:!0,userName:"Your Preview",className:"w-full h-full"}):o.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx(dr,{className:"w-12 h-12 mb-2 opacity-50"}),o.jsx("p",{children:"Camera preview will appear here"})]})}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:"What you can test:"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Camera and microphone access"}),o.jsx("li",{children:" Video/audio mute controls"}),o.jsx("li",{children:" Picture-in-picture layout"}),o.jsx("li",{children:" Fullscreen mode"}),o.jsx("li",{children:" Call duration timer"})]})]}),p&&o.jsx("div",{className:"bg-destructive/10 text-destructive rounded-lg p-4 text-sm",children:p}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(Q,{variant:"outline",onClick:()=>e(-1),className:"flex-1",children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Q,{onClick:w,disabled:d,className:"flex-1 gradient-primary",children:d?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(VO,{className:"w-4 h-4 mr-2"}),"Start Demo"]})})]})]})]})}):o.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[o.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent",children:[o.jsxs(Q,{variant:"ghost",size:"sm",onClick:_,className:"text-white",children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Leave Demo"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Ee,{variant:"outline",className:"bg-warning/20 text-warning border-warning",children:[o.jsx(ni,{className:"w-3 h-3 mr-1"}),"Demo"]}),o.jsxs(Ee,{variant:"secondary",className:"bg-white/20 text-white",children:[o.jsx(rr,{className:"w-3 h-3 mr-1"}),x(t)]}),o.jsx(Q,{variant:"ghost",size:"sm",onClick:N,className:"text-white",children:n?o.jsx(Mee,{className:"w-4 h-4"}):o.jsx(Pee,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(WS,{stream:c,userName:"Simulated Remote",className:"w-full h-full"}),o.jsx("div",{className:"absolute bottom-24 right-4 w-48 aspect-video rounded-lg overflow-hidden shadow-xl border-2 border-white/20",children:o.jsx(WS,{stream:l,muted:!0,isLocal:!0,isVideoOff:h,userName:"You",className:"w-full h-full"})})]}),o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:o.jsx(D7e,{isMuted:f,isVideoOff:h,onToggleMute:v,onToggleVideo:b,onEndCall:_,isConnected:u})})]})},F7e=()=>o.jsx(L7e,{});var kj="Checkbox",[B7e]=Cn(kj),[U7e,GA]=B7e(kj);function z7e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=ls({prop:r,defaultProp:i??!1,onChange:c,caller:kj}),[g,m]=y.useState(null),[v,b]=y.useState(null),x=y.useRef(!1),w=g?!!s||!!g.closest("form"):!0,_={checked:h,disabled:a,setChecked:p,control:g,setControl:m,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Ql(i)?!1:i,isFormControl:w,bubbleInput:v,setBubbleInput:b};return o.jsx(U7e,{scope:t,..._,children:V7e(f)?f(_):n})}var OJ="CheckboxTrigger",PJ=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:a,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=GA(OJ,e),m=et(i,d),v=y.useRef(c);return y.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const x=()=>f(v.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[a,f]),o.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":Ql(c)?"mixed":c,"aria-required":u,"data-state":$J(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:m,onKeyDown:pe(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:pe(r,b=>{f(x=>Ql(x)?!0:!x),g&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});PJ.displayName=OJ;var KA=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(z7e,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(PJ,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(IJ,{__scopeCheckbox:r})]})})});KA.displayName=kj;var TJ="CheckboxIndicator",AJ=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=GA(TJ,r);return o.jsx(tn,{present:n||Ql(a.checked)||a.checked===!0,children:o.jsx(Le.span,{"data-state":$J(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});AJ.displayName=TJ;var MJ="CheckboxBubbleInput",IJ=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=GA(MJ,e),g=et(r,p),m=Zw(a),v=Uw(n);y.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,j=!i.current;if(m!==a&&N){const k=new Event("click",{bubbles:j});x.indeterminate=Ql(a),N.call(x,Ql(a)?!1:a),x.dispatchEvent(k)}},[h,m,a,i]);const b=y.useRef(Ql(a)?!1:a);return o.jsx(Le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});IJ.displayName=MJ;function V7e(e){return typeof e=="function"}function Ql(e){return e==="indeterminate"}function $J(e){return Ql(e)?"indeterminate":e?"checked":"unchecked"}const uf=y.forwardRef(({className:e,...t},r)=>o.jsx(KA,{ref:r,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(AJ,{className:be("flex items-center justify-center text-current"),children:o.jsx(Rw,{className:"h-4 w-4"})})}));uf.displayName=KA.displayName;const HS="",W7e=["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","Northern Cape","North West","Western Cape"],H7e=["A+","A-","B+","B-","O+","O-","AB+","AB-","unknown"],q7e=["Penicillin","Sulfa drugs","Aspirin","NSAIDs","Codeine","Peanuts","Tree nuts","Shellfish","Eggs","Milk","Wheat","Latex","Bee stings","Pollen","Dust mites"],G7e=["Diabetes Type 1","Diabetes Type 2","Hypertension","Asthma","COPD","Heart Disease","Epilepsy","Arthritis","HIV/AIDS","Thyroid Disorder","Depression","Anxiety","Cancer"],K7e=({onComplete:e,prefilledIdType:t="sa_id",prefilledIdNumber:r,prefilledPassportNumber:n,prefilledPassportCountry:i,prefilledData:a})=>{const[s,l]=y.useState(1),[c,u]=y.useState(!1),[d,f]=y.useState([]),[h,p]=y.useState(a||null),[g,m]=y.useState({first_name:"",last_name:"",id_type:t,id_number:r||"",passport_number:n||"",passport_country:i||"",date_of_birth:(a==null?void 0:a.date_of_birth)||"",gender:(a==null?void 0:a.gender)||"",email:"",phone:"",alternative_phone:"",address_line_1:"",address_line_2:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relationship:"",emergency_contact_phone:"",has_medical_aid:!1,medical_aid_scheme:"",medical_aid_number:"",medical_aid_plan:"",medical_aid_dependent_code:"00",allergies:[],chronic_conditions:[],current_medications:[],past_surgeries:[],blood_type:"unknown",smoking_status:"never",alcohol_use:"none",consent_telehealth:!1,consent_data_processing:!1,consent_marketing:!1});y.useEffect(()=>{m(j=>({...j,id_type:t,id_number:r||j.id_number,passport_number:n||j.passport_number,passport_country:i||j.passport_country,date_of_birth:(a==null?void 0:a.date_of_birth)||j.date_of_birth,gender:(a==null?void 0:a.gender)||j.gender})),a&&p(a)},[t,r,n,i,a]),y.useEffect(()=>{v()},[]);const v=async()=>{try{const k=await(await fetch(`${HS}/api/patient/medical-aid-schemes`)).json();f(k.schemes||[])}catch(j){console.error("Failed to fetch schemes:",j)}},b=async j=>{if(j.length===13)try{const O=await(await fetch(`${HS}/api/patient/validate-id?id_number=${j}`,{method:"POST"})).json();p(O),O.valid?(m(P=>({...P,date_of_birth:O.date_of_birth,gender:O.gender})),ce.success("ID number validated successfully")):ce.error(O.error||"Invalid ID number")}catch(k){console.error("ID validation failed:",k)}},x=async()=>{u(!0);try{const{supabase:j}=await qo(async()=>{const{supabase:A}=await Promise.resolve().then(()=>Wo);return{supabase:A}},void 0),{data:{session:k}}=await j.auth.getSession();if(!(k!=null&&k.access_token)){ce.error("Please sign in to continue");return}const O={first_name:g.first_name,last_name:g.last_name,id_type:g.id_type,id_number:g.id_type==="sa_id"?g.id_number:null,passport_number:g.id_type==="passport"?g.passport_number:null,passport_country:g.id_type==="passport"?g.passport_country:null,date_of_birth:g.date_of_birth,gender:g.gender,email:g.email,phone:g.phone,alternative_phone:g.alternative_phone||null,address_line_1:g.address_line_1||null,address_line_2:g.address_line_2||null,city:g.city||null,province:g.province||null,postal_code:g.postal_code||null,emergency_contact:g.emergency_contact_name?{name:g.emergency_contact_name,relationship:g.emergency_contact_relationship,phone:g.emergency_contact_phone}:null,has_medical_aid:g.has_medical_aid,medical_aid:g.has_medical_aid?{scheme:g.medical_aid_scheme,membership_number:g.medical_aid_number,plan:g.medical_aid_plan||null,dependent_code:g.medical_aid_dependent_code}:null,medical_history:{allergies:g.allergies,chronic_conditions:g.chronic_conditions,current_medications:g.current_medications.map(A=>({name:A,dosage:"",frequency:""})),past_surgeries:g.past_surgeries,blood_type:g.blood_type},consent_telehealth:g.consent_telehealth,consent_data_processing:g.consent_data_processing,consent_marketing:g.consent_marketing},P=await fetch(`${HS}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k.access_token}`},body:JSON.stringify(O)});if(!P.ok){const A=await P.json();throw new Error(A.detail||"Onboarding failed")}ce.success("Profile completed successfully!"),e==null||e()}catch(j){ce.error(j.message||"Failed to complete onboarding")}finally{u(!1)}},w=5,_=s/w*100,N=d.find(j=>j.code===g.medical_aid_scheme);return o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(Uu,{value:_,className:"h-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",s," of ",w]})]}),s===1&&o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Rr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),o.jsx(Ce,{children:"Tell us about yourself"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"first_name",children:"First Name *"}),o.jsx(nt,{id:"first_name",value:g.first_name,onChange:j=>m({...g,first_name:j.target.value}),placeholder:"Enter first name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(nt,{id:"last_name",value:g.last_name,onChange:j=>m({...g,last_name:j.target.value}),placeholder:"Enter last name"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(he,{htmlFor:"id_number",className:"flex items-center gap-2",children:[o.jsx(See,{className:"w-4 h-4"}),"South African ID Number *"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(nt,{id:"id_number",value:g.id_number,onChange:j=>{const k=j.target.value.replace(/\D/g,"").slice(0,13);m({...g,id_number:k}),k.length===13&&b(k)},placeholder:"13-digit ID number",maxLength:13}),(h==null?void 0:h.valid)&&o.jsxs(Ee,{className:"bg-success shrink-0",children:[o.jsx(mn,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(h==null?void 0:h.valid)&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["DOB: ",h.date_of_birth," | Gender: ",h.gender," | Age: ",h.age]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"email",children:"Email *"}),o.jsx(nt,{id:"email",type:"email",value:g.email,onChange:j=>m({...g,email:j.target.value}),placeholder:"your@email.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"phone",children:"Phone Number *"}),o.jsx(nt,{id:"phone",value:g.phone,onChange:j=>m({...g,phone:j.target.value}),placeholder:"0XX XXX XXXX"})]})]})]})]}),s===2&&o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx($U,{className:"w-5 h-5 text-primary"}),"Address & Emergency Contact"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Address Line 1"}),o.jsx(nt,{value:g.address_line_1,onChange:j=>m({...g,address_line_1:j.target.value}),placeholder:"Street address"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"City"}),o.jsx(nt,{value:g.city,onChange:j=>m({...g,city:j.target.value}),placeholder:"City"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Province"}),o.jsxs(vr,{value:g.province,onValueChange:j=>m({...g,province:j}),children:[o.jsx(lr,{children:o.jsx(yr,{placeholder:"Select province"})}),o.jsx(cr,{children:W7e.map(j=>o.jsx(We,{value:j,children:j},j))})]})]})]}),o.jsx(Xb,{className:"my-4"}),o.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[o.jsx(Si,{className:"w-4 h-4"}),"Emergency Contact"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Contact Name"}),o.jsx(nt,{value:g.emergency_contact_name,onChange:j=>m({...g,emergency_contact_name:j.target.value}),placeholder:"Full name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Relationship"}),o.jsx(nt,{value:g.emergency_contact_relationship,onChange:j=>m({...g,emergency_contact_relationship:j.target.value}),placeholder:"e.g., Spouse, Parent"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Contact Phone"}),o.jsx(nt,{value:g.emergency_contact_phone,onChange:j=>m({...g,emergency_contact_phone:j.target.value}),placeholder:"0XX XXX XXXX"})]})]})]}),s===3&&o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(wv,{className:"w-5 h-5 text-primary"}),"Medical Aid Details"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(uf,{id:"has_medical_aid",checked:g.has_medical_aid,onCheckedChange:j=>m({...g,has_medical_aid:!!j})}),o.jsx(he,{htmlFor:"has_medical_aid",children:"I have medical aid coverage"})]}),g.has_medical_aid&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Medical Aid Scheme *"}),o.jsxs(vr,{value:g.medical_aid_scheme,onValueChange:j=>m({...g,medical_aid_scheme:j,medical_aid_plan:""}),children:[o.jsx(lr,{children:o.jsx(yr,{placeholder:"Select your medical aid"})}),o.jsx(cr,{children:d.map(j=>o.jsx(We,{value:j.code,children:j.name},j.code))})]})]}),N&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Plan"}),o.jsxs(vr,{value:g.medical_aid_plan,onValueChange:j=>m({...g,medical_aid_plan:j}),children:[o.jsx(lr,{children:o.jsx(yr,{placeholder:"Select your plan"})}),o.jsx(cr,{children:N.plans.map(j=>o.jsx(We,{value:j,children:j},j))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Membership Number *"}),o.jsx(nt,{value:g.medical_aid_number,onChange:j=>m({...g,medical_aid_number:j.target.value}),placeholder:"Your member number"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Dependent Code"}),o.jsx(nt,{value:g.medical_aid_dependent_code,onChange:j=>m({...g,medical_aid_dependent_code:j.target.value}),placeholder:"00 for main member"})]})]})]}),!g.has_medical_aid&&o.jsx("p",{className:"text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:"No problem! You can still use our services as a cash-pay patient."})]})]}),s===4&&o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(zO,{className:"w-5 h-5 text-primary"}),"Medical History"]}),o.jsx(Ce,{children:"This information helps us provide better care"})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(he,{className:"flex items-center gap-2",children:[o.jsx(ni,{className:"w-4 h-4 text-warning"}),"Allergies"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:q7e.map(j=>o.jsx(Ee,{variant:g.allergies.some(k=>k.allergen===j)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.allergies.some(O=>O.allergen===j);m(k?{...g,allergies:g.allergies.filter(O=>O.allergen!==j)}:{...g,allergies:[...g.allergies,{allergen:j,reaction:"",severity:"mild"}]})},children:j},j))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(he,{className:"flex items-center gap-2",children:[o.jsx(Qr,{className:"w-4 h-4"}),"Chronic Conditions"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:G7e.map(j=>o.jsx(Ee,{variant:g.chronic_conditions.some(k=>k.condition===j)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.chronic_conditions.some(O=>O.condition===j);m(k?{...g,chronic_conditions:g.chronic_conditions.filter(O=>O.condition!==j)}:{...g,chronic_conditions:[...g.chronic_conditions,{condition:j}]})},children:j},j))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Blood Type"}),o.jsxs(vr,{value:g.blood_type,onValueChange:j=>m({...g,blood_type:j}),children:[o.jsx(lr,{className:"w-[200px]",children:o.jsx(yr,{})}),o.jsx(cr,{children:H7e.map(j=>o.jsx(We,{value:j,children:j},j))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Smoking Status"}),o.jsxs(vr,{value:g.smoking_status,onValueChange:j=>m({...g,smoking_status:j}),children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsxs(cr,{children:[o.jsx(We,{value:"never",children:"Never smoked"}),o.jsx(We,{value:"former",children:"Former smoker"}),o.jsx(We,{value:"current",children:"Current smoker"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Alcohol Use"}),o.jsxs(vr,{value:g.alcohol_use,onValueChange:j=>m({...g,alcohol_use:j}),children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsxs(cr,{children:[o.jsx(We,{value:"none",children:"None"}),o.jsx(We,{value:"occasional",children:"Occasional"}),o.jsx(We,{value:"moderate",children:"Moderate"}),o.jsx(We,{value:"heavy",children:"Heavy"})]})]})]})]})]})]}),s===5&&o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(mn,{className:"w-5 h-5 text-primary"}),"Terms & Consent"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(uf,{id:"consent_telehealth",checked:g.consent_telehealth,onCheckedChange:j=>m({...g,consent_telehealth:!!j})}),o.jsxs("div",{children:[o.jsx(he,{htmlFor:"consent_telehealth",className:"font-medium",children:"Telehealth Consent *"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to receive healthcare services via telehealth (video/audio consultation) and understand the limitations compared to in-person visits."})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(uf,{id:"consent_data",checked:g.consent_data_processing,onCheckedChange:j=>m({...g,consent_data_processing:!!j})}),o.jsxs("div",{children:[o.jsx(he,{htmlFor:"consent_data",className:"font-medium",children:"Data Processing Consent (POPIA) *"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to the collection, storage, and processing of my personal and health information in accordance with POPIA and the National Health Act."})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(uf,{id:"consent_marketing",checked:g.consent_marketing,onCheckedChange:j=>m({...g,consent_marketing:!!j})}),o.jsxs("div",{children:[o.jsx(he,{htmlFor:"consent_marketing",className:"font-medium",children:"Marketing Communications (Optional)"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I would like to receive health tips, appointment reminders, and promotional offers via email/SMS."})]})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsxs(Q,{variant:"outline",onClick:()=>l(j=>j-1),disabled:s===1,children:[o.jsx(UO,{className:"w-4 h-4 mr-2"}),"Back"]}),s<w?o.jsxs(Q,{onClick:()=>l(j=>j+1),children:["Next",o.jsx(Hf,{className:"w-4 h-4 ml-2"})]}):o.jsx(Q,{onClick:x,disabled:c||!g.consent_telehealth||!g.consent_data_processing,children:c?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(mn,{className:"w-4 h-4 mr-2"})," Complete Registration"]})})]})]})},vx="",Y7e=()=>{var U,I;const e=zn(),{profile:t,onboardingComplete:r,refreshProfile:n,isLoading:i}=Dr(),[a,s]=y.useState("check"),[l,c]=y.useState("sa_id"),[u,d]=y.useState(""),[f,h]=y.useState(""),[p,g]=y.useState(""),[m,v]=y.useState(""),[b,x]=y.useState(!1),[w,_]=y.useState(null),[N,j]=y.useState(null),[k,O]=y.useState([]),[P,A]=y.useState(null),[$,M]=y.useState(!1);y.useEffect(()=>{z()},[]),y.useEffect(()=>{!i&&r&&e("/patient")},[i,r,e]);const z=async()=>{try{const G=await(await fetch(`${vx}/api/patient/countries`)).json();O(G.countries||[])}catch(F){console.error("Failed to fetch countries:",F),O([{code:"ZW",name:"Zimbabwe"},{code:"MZ",name:"Mozambique"},{code:"MW",name:"Malawi"},{code:"LS",name:"Lesotho"},{code:"NG",name:"Nigeria"},{code:"OTHER",name:"Other"}])}},L=async()=>{x(!0);try{let F=`${vx}/api/patient/validate-id?id_type=${l}`;if(l==="sa_id"){if(u.length!==13){ce.error("Please enter a valid 13-digit SA ID number"),x(!1);return}F+=`&id_number=${u}`}else{if(!f||f.length<5){ce.error("Please enter a valid passport number"),x(!1);return}if(!p){ce.error("Please select your country of citizenship"),x(!1);return}if(!m){ce.error("Please enter your date of birth"),x(!1);return}F+=`&passport_number=${f}&country_code=${p}&date_of_birth=${m}`}const ne=await(await fetch(F,{method:"POST"})).json();if(!ne.valid){ce.error(ne.error||"Invalid identification"),x(!1);return}if(j(ne),l==="sa_id"){const{supabase:Z}=await qo(async()=>{const{supabase:C}=await Promise.resolve().then(()=>Wo);return{supabase:C}},void 0),{data:{session:S}}=await Z.auth.getSession();if(S!=null&&S.access_token)try{const C=await fetch(`${vx}/api/patient/lookup-existing?id_number=${u}`,{method:"POST",headers:{Authorization:`Bearer ${S.access_token}`}});if(C.ok){const E=await C.json();if(_(E),E.found){ce.success("We found your existing records! Let's take a quick photo first."),s("photo");return}}}catch{console.log("EHR lookup not available")}}ce.info("Let's take a quick photo for identity verification."),s("photo")}catch(F){console.error("Validation failed:",F),ce.error("Could not validate identification. Please try again.")}finally{x(!1)}},V=async()=>{console.log("[Onboarding] Onboarding complete, refreshing profile..."),await n(),ce.success("Profile completed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})},D=async()=>{x(!0);try{const{supabase:F}=await qo(async()=>{const{supabase:S}=await Promise.resolve().then(()=>Wo);return{supabase:S}},void 0),{data:{session:G}}=await F.auth.getSession();if(!(G!=null&&G.access_token)){ce.error("Please sign in to continue");return}const ne={first_name:(w==null?void 0:w.first_name)||(t==null?void 0:t.first_name),last_name:(w==null?void 0:w.last_name)||(t==null?void 0:t.last_name),id_type:"sa_id",id_number:u,date_of_birth:(w==null?void 0:w.date_of_birth)||(N==null?void 0:N.date_of_birth),gender:(w==null?void 0:w.gender)||(N==null?void 0:N.gender),email:(w==null?void 0:w.email)||"",phone:(w==null?void 0:w.phone)||"",has_medical_aid:!!(w!=null&&w.medical_aid),medical_aid:(w==null?void 0:w.medical_aid)||null,consent_telehealth:!0,consent_data_processing:!0,consent_marketing:!1,medical_history:{allergies:((w==null?void 0:w.allergies)||[]).map(S=>({allergen:S,reaction:"",severity:"mild"})),chronic_conditions:((w==null?void 0:w.chronic_conditions)||[]).map(S=>({condition:S})),current_medications:[],past_surgeries:[],blood_type:"unknown"}};if(!(await fetch(`${vx}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G.access_token}`},body:JSON.stringify(ne)})).ok)throw new Error("Failed to save profile");await n(),ce.success("Profile confirmed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})}catch(F){console.error("Confirmation failed:",F),ce.error("Failed to confirm profile. Please try again.")}finally{x(!1)}};if(i)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(a==="check")return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsx("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]})})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:o.jsxs(oe,{children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(zN,{className:"w-8 h-8 text-primary"})}),o.jsxs(_e,{className:"text-xl sm:text-2xl",children:["Welcome, ",t==null?void 0:t.first_name,"!"]}),o.jsx(Ce,{className:"text-sm sm:text-base",children:"Let's verify your identity and check for existing records."})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(he,{children:"Type of Identification"}),o.jsxs(Ng,{value:l,onValueChange:F=>c(F),className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Us,{value:"sa_id",id:"sa_id"}),o.jsxs(he,{htmlFor:"sa_id",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(gn,{className:"w-4 h-4"}),"SA ID"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Us,{value:"passport",id:"passport"}),o.jsxs(he,{htmlFor:"passport",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(_ee,{className:"w-4 h-4"}),"Passport"]})]})]})]}),l==="sa_id"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"id_number",children:"South African ID Number"}),o.jsx(nt,{id:"id_number",value:u,onChange:F=>d(F.target.value.replace(/\D/g,"").slice(0,13)),placeholder:"Enter your 13-digit ID number",maxLength:13,className:"text-lg tracking-wider"}),u.length>0&&u.length<13&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[13-u.length," digits remaining"]})]}),l==="passport"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"passport_country",children:"Country of Citizenship"}),o.jsxs(vr,{value:p,onValueChange:g,children:[o.jsx(lr,{children:o.jsx(yr,{placeholder:"Select your country"})}),o.jsx(cr,{children:k.filter(F=>F.code!=="ZA").map(F=>o.jsx(We,{value:F.code,children:F.name},F.code))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"passport_number",children:"Passport Number"}),o.jsx(nt,{id:"passport_number",value:f,onChange:F=>h(F.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),placeholder:"Enter your passport number",className:"text-lg tracking-wider uppercase"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{htmlFor:"date_of_birth",children:"Date of Birth"}),o.jsx(nt,{id:"date_of_birth",type:"date",value:m,onChange:F=>v(F.target.value),max:new Date().toISOString().split("T")[0]})]})]}),o.jsx(Q,{className:"w-full",size:"lg",onClick:L,disabled:b||l==="sa_id"&&u.length!==13||l==="passport"&&(!f||!p||!m),children:b?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"})," Verifying..."]}):o.jsxs(o.Fragment,{children:[o.jsx(zN,{className:"w-4 h-4 mr-2"})," Verify & Continue"]})}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure and protected under POPIA."})]})]})})]});if(a==="photo"){const F=async G=>{A(G),M(!0);try{const ne=await Ov.upload(G);ne!=null&&ne.success?(ce.success("Photo saved successfully!"),w!=null&&w.found?s("confirm"):s("onboarding")):ce.error("Failed to save photo. Please try again.")}catch(ne){console.error("Photo upload error:",ne),ce.error(ne.message||"Failed to upload photo")}finally{M(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>s("check"),children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:$?o.jsx(oe,{children:o.jsx(de,{className:"py-12",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(ft,{className:"w-8 h-8 animate-spin text-primary mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Saving your photo..."})]})})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(Sm,{className:"w-8 h-8 text-primary"})}),o.jsx("h2",{className:"text-xl font-bold",children:"Identity Verification Photo"}),o.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"This photo helps us verify your identity during consultations and protects your healthcare benefits."})]}),o.jsx(yW,{onCapture:F,required:!0,title:"Take a Selfie",description:"Position your face clearly in the frame and ensure good lighting."}),o.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:"Your photo is stored securely and only visible to Quadcare healthcare staff for identity verification."})]})})]})}return a==="confirm"&&(w!=null&&w.found)?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>s("check"),children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:o.jsxs(oe,{children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(mn,{className:"w-8 h-8 text-success"})}),o.jsx(_e,{className:"text-xl sm:text-2xl",children:"Records Found!"}),o.jsx(Ce,{children:"We found your existing records. Please confirm your details."})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Personal Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Name"}),o.jsxs("p",{className:"font-medium",children:[w.first_name," ",w.last_name]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Date of Birth"}),o.jsx("p",{className:"font-medium",children:w.date_of_birth})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Gender"}),o.jsx("p",{className:"font-medium capitalize",children:w.gender})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:w.phone||"Not on file"})]})]})]}),w.medical_aid&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Medical Aid"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"text-muted-foreground",children:"Scheme"}),o.jsx("p",{className:"font-medium",children:w.medical_aid.scheme}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Member Number"}),o.jsx("p",{className:"font-medium",children:w.medical_aid.membership_number})]})]}),(((U=w.allergies)==null?void 0:U.length)||((I=w.chronic_conditions)==null?void 0:I.length))&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Medical History"}),w.allergies&&w.allergies.length>0&&o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allergies"}),o.jsx("p",{className:"text-sm font-medium",children:w.allergies.join(", ")})]}),w.chronic_conditions&&w.chronic_conditions.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Chronic Conditions"}),o.jsx("p",{className:"text-sm font-medium",children:w.chronic_conditions.join(", ")})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx(Q,{className:"w-full",size:"lg",onClick:D,disabled:b,children:b?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"})," Confirming..."]}):o.jsxs(o.Fragment,{children:[o.jsx(mn,{className:"w-4 h-4 mr-2"})," Confirm & Continue"]})}),o.jsx(Q,{variant:"outline",className:"w-full",onClick:()=>s("onboarding"),children:"Update My Information"})]})]})]})})]}):a==="onboarding"?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>s("check"),children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 sm:py-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Complete Your Profile"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Help us provide better care by completing your health profile"}),N&&o.jsx("div",{className:"mt-3 p-3 bg-success/10 rounded-lg text-sm",children:o.jsxs("p",{className:"text-success",children:[" ",l==="sa_id"?"ID":"Passport"," Verified",N.date_of_birth&&`  DOB: ${N.date_of_birth}`,N.gender&&`  ${N.gender}`,N.age&&`  Age ${N.age}`]})})]}),o.jsx(K7e,{onComplete:V,prefilledIdType:l,prefilledIdNumber:l==="sa_id"?u:void 0,prefilledPassportNumber:l==="passport"?f:void 0,prefilledPassportCountry:l==="passport"?p:void 0,prefilledData:N})]})]}):null},J7e="",$5=[{value:"red",label:"Red - Immediate",color:"bg-red-500",description:"Life-threatening"},{value:"orange",label:"Orange - Very Urgent",color:"bg-orange-500",description:"Within 10 minutes"},{value:"yellow",label:"Yellow - Urgent",color:"bg-yellow-500",description:"Within 60 minutes"},{value:"green",label:"Green - Standard",color:"bg-green-500",description:"Within 2 hours"},{value:"blue",label:"Blue - Non-urgent",color:"bg-blue-500",description:"Within 4 hours"}],X7e=[{value:"proceed_to_doctor",label:"Proceed to Doctor Consultation"},{value:"refer_to_emergency",label:"Refer to Emergency Services"},{value:"specialist_referral",label:"Specialist Referral Required"},{value:"follow_up",label:"Schedule Follow-up"},{value:"self_care",label:"Self-Care with Instructions"}],Q7e=({appointmentId:e,patientId:t,patientName:r,aiAssessment:n,onComplete:i})=>{const[a,s]=y.useState(!1),[l,c]=y.useState({blood_pressure_systolic:null,blood_pressure_diastolic:null,heart_rate:null,respiratory_rate:null,temperature:null,oxygen_saturation:null,weight:null,height:null,pain_score:null}),[u,d]=y.useState({chief_complaint:"",symptom_duration:"",symptom_onset:"gradual",triage_priority:(n==null?void 0:n.urgency)==="emergency"?"red":"green",nurse_notes:"",allergies_confirmed:!1,medications_confirmed:!1,identity_verified:!1,consent_obtained:!1,medical_aid_verified:!1,patient_education_provided:!1,recommended_action:"proceed_to_doctor",referral_reason:"",doctor_notes:""}),f=(g,m)=>{const v=m?parseFloat(m):null;c(b=>({...b,[g]:v}))},h=async()=>{if(!u.chief_complaint){ce.error("Chief complaint is required");return}s(!0);try{const{supabase:g}=await qo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>Wo);return{supabase:x}},void 0),{data:{session:m}}=await g.auth.getSession();if(!(m!=null&&m.access_token)){ce.error("Please sign in to continue");return}const v={appointment_id:e,patient_id:t,vital_signs:l,chief_complaint:u.chief_complaint,symptom_duration:u.symptom_duration,symptom_onset:u.symptom_onset,ai_urgency:n==null?void 0:n.urgency,ai_urgency_score:n==null?void 0:n.urgency_score,ai_care_pathway:n==null?void 0:n.care_pathway,ai_assessment_summary:n==null?void 0:n.assessment_summary,triage_priority:u.triage_priority,nurse_notes:u.nurse_notes,allergies_confirmed:u.allergies_confirmed,medications_confirmed:u.medications_confirmed,identity_verified:u.identity_verified,consent_obtained:u.consent_obtained,medical_aid_verified:u.medical_aid_verified,patient_education_provided:u.patient_education_provided,recommended_action:u.recommended_action,referral_reason:u.referral_reason||void 0,doctor_notes:u.doctor_notes||void 0},b=await fetch(`${J7e}/api/triage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify(v)});if(!b.ok){const x=await b.json();throw new Error(x.detail||"Triage submission failed")}ce.success("Triage assessment saved successfully"),i==null||i()}catch(g){ce.error(g.message||"Failed to save triage")}finally{s(!1)}},p=$5.find(g=>g.value===u.triage_priority);return o.jsxs("div",{className:"space-y-6",children:[o.jsx(oe,{children:o.jsx(me,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Rr,{className:"w-5 h-5 text-primary"}),"Patient: ",r]}),n&&o.jsxs(Ee,{variant:"outline",className:"text-sm",children:["AI Assessment: ",n.urgency," (",n.urgency_score,"/10)"]})]})})}),o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(zO,{className:"w-5 h-5 text-primary"}),"Vital Signs"]})}),o.jsx(de,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{className:"text-xs",children:"Blood Pressure (mmHg)"}),o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx(nt,{type:"number",placeholder:"Sys",value:l.blood_pressure_systolic||"",onChange:g=>f("blood_pressure_systolic",g.target.value),className:"w-16"}),o.jsx("span",{children:"/"}),o.jsx(nt,{type:"number",placeholder:"Dia",value:l.blood_pressure_diastolic||"",onChange:g=>f("blood_pressure_diastolic",g.target.value),className:"w-16"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{className:"text-xs",children:"Heart Rate (bpm)"}),o.jsx(nt,{type:"number",placeholder:"HR",value:l.heart_rate||"",onChange:g=>f("heart_rate",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{className:"text-xs",children:"Temperature (C)"}),o.jsx(nt,{type:"number",step:"0.1",placeholder:"Temp",value:l.temperature||"",onChange:g=>f("temperature",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{className:"text-xs",children:"SpO2 (%)"}),o.jsx(nt,{type:"number",placeholder:"SpO2",value:l.oxygen_saturation||"",onChange:g=>f("oxygen_saturation",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{className:"text-xs",children:"Respiratory Rate"}),o.jsx(nt,{type:"number",placeholder:"RR",value:l.respiratory_rate||"",onChange:g=>f("respiratory_rate",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{className:"text-xs",children:"Weight (kg)"}),o.jsx(nt,{type:"number",step:"0.1",placeholder:"kg",value:l.weight||"",onChange:g=>f("weight",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{className:"text-xs",children:"Height (cm)"}),o.jsx(nt,{type:"number",placeholder:"cm",value:l.height||"",onChange:g=>f("height",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{className:"text-xs",children:"Pain Score (0-10)"}),o.jsx(nt,{type:"number",min:"0",max:"10",placeholder:"0-10",value:l.pain_score||"",onChange:g=>f("pain_score",g.target.value)})]})]})})]}),o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(gn,{className:"w-5 h-5 text-primary"}),"Chief Complaint"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"What is the main reason for this visit? *"}),o.jsx(Jr,{value:u.chief_complaint,onChange:g=>d({...u,chief_complaint:g.target.value}),placeholder:"Describe the patient's primary complaint...",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Duration of Symptoms"}),o.jsx(nt,{value:u.symptom_duration,onChange:g=>d({...u,symptom_duration:g.target.value}),placeholder:"e.g., 2 days"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Onset"}),o.jsxs(vr,{value:u.symptom_onset,onValueChange:g=>d({...u,symptom_onset:g}),children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsxs(cr,{children:[o.jsx(We,{value:"sudden",children:"Sudden"}),o.jsx(We,{value:"gradual",children:"Gradual"})]})]})]})]})]})]}),o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(ni,{className:"w-5 h-5 text-primary"}),"Triage Priority"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs(vr,{value:u.triage_priority,onValueChange:g=>d({...u,triage_priority:g}),children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsx(cr,{children:$5.map(g=>o.jsx(We,{value:g.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),g.label," - ",g.description]})},g.value))})]}),p&&o.jsxs("div",{className:`p-3 rounded-lg ${p.color} bg-opacity-10`,children:[o.jsx("p",{className:"text-sm font-medium",children:p.label}),o.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]})]}),o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(mn,{className:"w-5 h-5 text-primary"}),"Pre-Consultation Checklist"]})}),o.jsx(de,{className:"space-y-3",children:[{key:"identity_verified",label:"Patient identity verified"},{key:"consent_obtained",label:"Telehealth consent obtained"},{key:"allergies_confirmed",label:"Allergies reviewed and confirmed"},{key:"medications_confirmed",label:"Current medications reviewed"},{key:"medical_aid_verified",label:"Medical aid details verified"},{key:"patient_education_provided",label:"Patient education provided"}].map(g=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(uf,{id:g.key,checked:u[g.key],onCheckedChange:m=>d({...u,[g.key]:!!m})}),o.jsx(he,{htmlFor:g.key,children:g.label})]},g.key))})]}),o.jsxs(oe,{children:[o.jsx(me,{children:o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(xa,{className:"w-5 h-5 text-primary"}),"Assessment & Recommendation"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Nurse Assessment Notes"}),o.jsx(Jr,{value:u.nurse_notes,onChange:g=>d({...u,nurse_notes:g.target.value}),placeholder:"Clinical observations and nursing assessment...",rows:4})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Recommended Action"}),o.jsxs(vr,{value:u.recommended_action,onValueChange:g=>d({...u,recommended_action:g}),children:[o.jsx(lr,{children:o.jsx(yr,{})}),o.jsx(cr,{children:X7e.map(g=>o.jsx(We,{value:g.value,children:g.label},g.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(he,{children:"Notes for Doctor (optional)"}),o.jsx(Jr,{value:u.doctor_notes,onChange:g=>d({...u,doctor_notes:g.target.value}),placeholder:"Any specific notes for the consulting doctor...",rows:2})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(Q,{variant:"outline",children:"Cancel"}),o.jsx(Q,{onClick:h,disabled:a,children:a?o.jsxs(o.Fragment,{children:[o.jsx(ft,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(mn,{className:"w-4 h-4 mr-2"})," Complete Triage"]})})]})]})},Z7e="",R5={emergency:{color:"text-red-600",bgColor:"bg-red-100"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100"},routine:{color:"text-green-600",bgColor:"bg-green-100"}},eHe=()=>{const e=zn(),[t]=cP(),{profile:r,role:n,signOut:i}=Dr(),[a,s]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(!1),p=t.get("appointment");y.useEffect(()=>{g()},[]),y.useEffect(()=>{if(p&&a.length>0){const v=a.find(b=>b.appointment.id===p);v&&d(v)}},[p,a]);const g=async()=>{c(!0);try{const{supabase:v}=await qo(async()=>{const{supabase:_}=await Promise.resolve().then(()=>Wo);return{supabase:_}},void 0),{data:{session:b}}=await v.auth.getSession();if(!(b!=null&&b.access_token)){ce.error("Please sign in to continue");return}const x=await fetch(`${Z7e}/api/triage/queue`,{headers:{Authorization:`Bearer ${b.access_token}`}});if(!x.ok)throw new Error("Failed to fetch triage queue");const w=await x.json();s(w.queue||[])}catch(v){console.error("Error fetching triage queue:",v),ce.error("Failed to load triage queue")}finally{c(!1)}},m=()=>{d(null),g(),ce.success("Triage completed successfully")};return u?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>d(null),children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Back to Queue"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-6 sm:py-8 max-w-4xl",children:o.jsx(Q7e,{appointmentId:u.appointment.id,patientId:u.appointment.patient_id,patientName:u.patient_name,aiAssessment:u.latest_symptom_assessment,onComplete:m})})]}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(Q,{variant:"ghost",size:"sm",onClick:g,disabled:l,children:[o.jsx(Uo,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),o.jsx(Ee,{className:"bg-success text-white",children:"Nurse"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(Q,{variant:"ghost",size:"icon",onClick:g,disabled:l,children:o.jsx(Uo,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>h(!f),children:f?o.jsx(to,{className:"w-5 h-5"}):o.jsx(bv,{className:"w-5 h-5"})})]})]}),f&&o.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),o.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),className:"justify-start",children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-2",children:[o.jsx(xa,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),"Nurse Triage"]}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Assess patients before their doctor consultation"})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(oe,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Ln,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:a.length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting"})]})]})})}),o.jsx(oe,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:o.jsx(ni,{className:"w-5 h-5 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:a.filter(v=>{var b,x;return((b=v.latest_symptom_assessment)==null?void 0:b.urgency)==="urgent"||((x=v.latest_symptom_assessment)==null?void 0:x.urgency)==="emergency"}).length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent"})]})]})})}),o.jsx(oe,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:o.jsx(xa,{className:"w-5 h-5 text-success"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:a.filter(v=>v.latest_symptom_assessment).length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Assessed"})]})]})})}),o.jsx(oe,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:o.jsx(rr,{className:"w-5 h-5 text-warning"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:"~15"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Min/Patient"})]})]})})})]}),o.jsxs(oe,{children:[o.jsxs(me,{children:[o.jsxs(_e,{className:"flex items-center gap-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-primary"}),"Triage Queue"]}),o.jsx(Ce,{children:"Patients waiting for nurse triage assessment"})]}),o.jsx(de,{children:l?o.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>o.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},v))}):a.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(xa,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No patients waiting for triage"}),o.jsx("p",{className:"text-sm",children:"Check back soon or refresh the queue"})]}):o.jsx("div",{className:"space-y-3",children:a.map(v=>{var x;const b=v.latest_symptom_assessment?R5[v.latest_symptom_assessment.urgency]||R5.routine:null;return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors gap-3 cursor-pointer",onClick:()=>d(v),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"text-primary font-medium",children:v.patient_name.split(" ").map(w=>w[0]).join("")})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"font-medium",children:v.patient_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Et(new Date(v.appointment.scheduled_at),"h:mm a"),"  ",v.appointment.consultation_type]}),v.latest_symptom_assessment&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:["AI: ",v.latest_symptom_assessment.assessment_summary]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 pl-13 sm:pl-0",children:[v.latest_symptom_assessment&&b&&o.jsxs(Ee,{className:`${b.bgColor} ${b.color}`,children:[v.latest_symptom_assessment.urgency," (",v.latest_symptom_assessment.urgency_score,"/10)"]}),((x=v.patient_profile)==null?void 0:x.has_medical_aid)&&o.jsx(Ee,{variant:"outline",className:"text-xs",children:"Medical Aid"}),o.jsx(Q,{size:"sm",variant:"ghost",children:o.jsx(Hf,{className:"w-4 h-4"})})]})]},v.appointment.id)})})})]})]})]})},tHe=()=>{const e=no();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},rHe=new vie,nHe=()=>o.jsx(xie,{client:rHe,children:o.jsx(ile,{children:o.jsxs(Vne,{children:[o.jsx(Nte,{}),o.jsx(nre,{}),o.jsx(xae,{children:o.jsxs(dae,{children:[o.jsx(Oi,{path:"/",element:o.jsx(wle,{})}),o.jsx(Oi,{path:"/auth",element:o.jsx(cde,{})}),o.jsx(Oi,{path:"/patient/*",element:o.jsx(lo,{allowedRoles:["patient"],children:o.jsx(Xge,{})})}),o.jsx(Oi,{path:"/book-appointment",element:o.jsx(lo,{allowedRoles:["patient"],children:o.jsx(Txe,{})})}),o.jsx(Oi,{path:"/onboarding",element:o.jsx(lo,{allowedRoles:["patient"],children:o.jsx(Y7e,{})})}),o.jsx(Oi,{path:"/clinician/*",element:o.jsx(lo,{allowedRoles:["nurse","doctor"],children:o.jsx(Iwe,{})})}),o.jsx(Oi,{path:"/nurse-triage",element:o.jsx(lo,{allowedRoles:["nurse","doctor"],children:o.jsx(eHe,{})})}),o.jsx(Oi,{path:"/admin/*",element:o.jsx(lo,{allowedRoles:["admin"],children:o.jsx(IVe,{})})}),o.jsx(Oi,{path:"/receptionist/*",element:o.jsx(lo,{allowedRoles:["admin","nurse","doctor","receptionist"],children:o.jsx(RVe,{})})}),o.jsx(Oi,{path:"/consultation",element:o.jsx(lo,{allowedRoles:["patient","nurse","doctor"],children:o.jsx($7e,{})})}),o.jsx(Oi,{path:"/demo-consultation",element:o.jsx(lo,{allowedRoles:["patient","nurse","doctor"],children:o.jsx(F7e,{})})}),o.jsx(Oi,{path:"*",element:o.jsx(tHe,{})})]})})]})})});iU(document.getElementById("root")).render(o.jsx(nHe,{}));
