var FJ=Object.defineProperty;var f2=e=>{throw TypeError(e)};var BJ=(e,t,r)=>t in e?FJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var h2=(e,t,r)=>BJ(e,typeof t!="symbol"?t+"":t,r),Ij=(e,t,r)=>t.has(e)||f2("Cannot "+r);var ae=(e,t,r)=>(Ij(e,t,"read from private field"),r?r.call(e):t.get(e)),_t=(e,t,r)=>t.has(e)?f2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ot=(e,t,r,n)=>(Ij(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Cn=(e,t,r)=>(Ij(e,t,"access private method"),r);var oy=(e,t,r,n)=>({set _(i){ot(e,t,i,r)},get _(){return ae(e,t,n)}});function UJ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K5={exports:{}},bw={},Y5={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=Symbol.for("react.element"),zJ=Symbol.for("react.portal"),WJ=Symbol.for("react.fragment"),VJ=Symbol.for("react.strict_mode"),HJ=Symbol.for("react.profiler"),qJ=Symbol.for("react.provider"),GJ=Symbol.for("react.context"),KJ=Symbol.for("react.forward_ref"),YJ=Symbol.for("react.suspense"),JJ=Symbol.for("react.memo"),XJ=Symbol.for("react.lazy"),p2=Symbol.iterator;function QJ(e){return e===null||typeof e!="object"?null:(e=p2&&e[p2]||e["@@iterator"],typeof e=="function"?e:null)}var J5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X5=Object.assign,Q5={};function Fh(e,t,r){this.props=e,this.context=t,this.refs=Q5,this.updater=r||J5}Fh.prototype.isReactComponent={};Fh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z5(){}Z5.prototype=Fh.prototype;function HO(e,t,r){this.props=e,this.context=t,this.refs=Q5,this.updater=r||J5}var qO=HO.prototype=new Z5;qO.constructor=HO;X5(qO,Fh.prototype);qO.isPureReactComponent=!0;var m2=Array.isArray,eB=Object.prototype.hasOwnProperty,GO={current:null},tB={key:!0,ref:!0,__self:!0,__source:!0};function rB(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)eB.call(t,n)&&!tB.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:pv,type:e,key:s,ref:a,props:i,_owner:GO.current}}function ZJ(e,t){return{$$typeof:pv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function KO(e){return typeof e=="object"&&e!==null&&e.$$typeof===pv}function eX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var g2=/\/+/g;function Rj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eX(""+e.key):t.toString(36)}function wx(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case pv:case zJ:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Rj(a,0):n,m2(i)?(r="",e!=null&&(r=e.replace(g2,"$&/")+"/"),wx(i,t,r,"",function(u){return u})):i!=null&&(KO(i)&&(i=ZJ(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(g2,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",m2(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Rj(s,l);a+=wx(s,t,r,c,i)}else if(c=QJ(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Rj(s,l++),a+=wx(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ly(e,t,r){if(e==null)return e;var n=[],i=0;return wx(e,n,"","",function(s){return t.call(r,s,i++)}),n}function tX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var oi={current:null},_x={transition:null},rX={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:_x,ReactCurrentOwner:GO};function nB(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:ly,forEach:function(e,t,r){ly(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ly(e,function(){t++}),t},toArray:function(e){return ly(e,function(t){return t})||[]},only:function(e){if(!KO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xt.Component=Fh;xt.Fragment=WJ;xt.Profiler=HJ;xt.PureComponent=HO;xt.StrictMode=VJ;xt.Suspense=YJ;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rX;xt.act=nB;xt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=X5({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=GO.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)eB.call(t,c)&&!tB.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:pv,type:e.type,key:i,ref:s,props:n,_owner:a}};xt.createContext=function(e){return e={$$typeof:GJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qJ,_context:e},e.Consumer=e};xt.createElement=rB;xt.createFactory=function(e){var t=rB.bind(null,e);return t.type=e,t};xt.createRef=function(){return{current:null}};xt.forwardRef=function(e){return{$$typeof:KJ,render:e}};xt.isValidElement=KO;xt.lazy=function(e){return{$$typeof:XJ,_payload:{_status:-1,_result:e},_init:tX}};xt.memo=function(e,t){return{$$typeof:JJ,type:e,compare:t===void 0?null:t}};xt.startTransition=function(e){var t=_x.transition;_x.transition={};try{e()}finally{_x.transition=t}};xt.unstable_act=nB;xt.useCallback=function(e,t){return oi.current.useCallback(e,t)};xt.useContext=function(e){return oi.current.useContext(e)};xt.useDebugValue=function(){};xt.useDeferredValue=function(e){return oi.current.useDeferredValue(e)};xt.useEffect=function(e,t){return oi.current.useEffect(e,t)};xt.useId=function(){return oi.current.useId()};xt.useImperativeHandle=function(e,t,r){return oi.current.useImperativeHandle(e,t,r)};xt.useInsertionEffect=function(e,t){return oi.current.useInsertionEffect(e,t)};xt.useLayoutEffect=function(e,t){return oi.current.useLayoutEffect(e,t)};xt.useMemo=function(e,t){return oi.current.useMemo(e,t)};xt.useReducer=function(e,t,r){return oi.current.useReducer(e,t,r)};xt.useRef=function(e){return oi.current.useRef(e)};xt.useState=function(e){return oi.current.useState(e)};xt.useSyncExternalStore=function(e,t,r){return oi.current.useSyncExternalStore(e,t,r)};xt.useTransition=function(){return oi.current.useTransition()};xt.version="18.3.1";Y5.exports=xt;var y=Y5.exports;const T=kt(y),ww=UJ({__proto__:null,default:T},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nX=y,iX=Symbol.for("react.element"),sX=Symbol.for("react.fragment"),aX=Object.prototype.hasOwnProperty,oX=nX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lX={key:!0,ref:!0,__self:!0,__source:!0};function iB(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)aX.call(t,n)&&!lX.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:iX,type:e,key:s,ref:a,props:i,_owner:oX.current}}bw.Fragment=sX;bw.jsx=iB;bw.jsxs=iB;K5.exports=bw;var o=K5.exports,sB={exports:{}},Qi={},aB={exports:{}},oB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,B){var K=R.length;R.push(B);e:for(;0<K;){var ee=K-1>>>1,te=R[ee];if(0<i(te,B))R[ee]=B,R[K]=te,K=ee;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var B=R[0],K=R.pop();if(K!==B){R[0]=K;e:for(var ee=0,te=R.length,S=te>>>1;ee<S;){var O=2*(ee+1)-1,E=R[O],U=O+1,$=R[U];if(0>i(E,K))U<te&&0>i($,E)?(R[ee]=$,R[U]=K,ee=U):(R[ee]=E,R[O]=K,ee=O);else if(U<te&&0>i($,K))R[ee]=$,R[U]=K,ee=U;else break e}}return B}function i(R,B){var K=R.sortIndex-B.sortIndex;return K!==0?K:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=R)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function _(R){if(m=!1,w(R),!g)if(r(c)!==null)g=!0,F(N);else{var B=r(u);B!==null&&D(_,B.startTime-R)}}function N(R,B){g=!1,m&&(m=!1,b(C),C=-1),p=!0;var K=h;try{for(w(B),f=r(c);f!==null&&(!(f.expirationTime>B)||R&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var te=ee(f.expirationTime<=B);B=e.unstable_now(),typeof te=="function"?f.callback=te:f===r(c)&&n(c),w(B)}else n(c);f=r(c)}if(f!==null)var S=!0;else{var O=r(u);O!==null&&D(_,O.startTime-B),S=!1}return S}finally{f=null,h=K,p=!1}}var j=!1,k=null,C=-1,P=5,A=-1;function I(){return!(e.unstable_now()-A<P)}function M(){if(k!==null){var R=e.unstable_now();A=R;var B=!0;try{B=k(!0,R)}finally{B?z():(j=!1,k=null)}}else j=!1}var z;if(typeof x=="function")z=function(){x(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=M,z=function(){W.postMessage(null)}}else z=function(){v(M,0)};function F(R){k=R,j||(j=!0,z())}function D(R,B){C=v(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,F(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var K=h;h=B;try{return R()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=h;h=R;try{return B()}finally{h=K}},e.unstable_scheduleCallback=function(R,B,K){var ee=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,R={id:d++,callback:B,priorityLevel:R,startTime:K,expirationTime:te,sortIndex:-1},K>ee?(R.sortIndex=K,t(u,R),r(c)===null&&R===r(u)&&(m?(b(C),C=-1):m=!0,D(_,K-ee))):(R.sortIndex=te,t(c,R),g||p||(g=!0,F(N))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var B=h;return function(){var K=h;h=B;try{return R.apply(this,arguments)}finally{h=K}}}})(oB);aB.exports=oB;var cX=aB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uX=y,Ji=cX;function ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lB=new Set,Fm={};function Qu(e,t){$f(e,t),$f(e+"Capture",t)}function $f(e,t){for(Fm[e]=t,e=0;e<t.length;e++)lB.add(t[e])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),JS=Object.prototype.hasOwnProperty,dX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v2={},y2={};function fX(e){return JS.call(y2,e)?!0:JS.call(v2,e)?!1:dX.test(e)?y2[e]=!0:(v2[e]=!0,!1)}function hX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pX(e,t,r,n){if(t===null||typeof t>"u"||hX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function li(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nn[e]=new li(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nn[t]=new li(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nn[e]=new li(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nn[e]=new li(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nn[e]=new li(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nn[e]=new li(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nn[e]=new li(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nn[e]=new li(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nn[e]=new li(e,5,!1,e.toLowerCase(),null,!1,!1)});var YO=/[\-:]([a-z])/g;function JO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(YO,JO);Nn[t]=new li(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(YO,JO);Nn[t]=new li(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(YO,JO);Nn[t]=new li(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nn[e]=new li(e,1,!1,e.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new li("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nn[e]=new li(e,1,!1,e.toLowerCase(),null,!0,!0)});function XO(e,t,r,n){var i=Nn.hasOwnProperty(t)?Nn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pX(t,r,i,n)&&(r=null),n||i===null?fX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qo=uX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cy=Symbol.for("react.element"),Fd=Symbol.for("react.portal"),Bd=Symbol.for("react.fragment"),QO=Symbol.for("react.strict_mode"),XS=Symbol.for("react.profiler"),cB=Symbol.for("react.provider"),uB=Symbol.for("react.context"),ZO=Symbol.for("react.forward_ref"),QS=Symbol.for("react.suspense"),ZS=Symbol.for("react.suspense_list"),eE=Symbol.for("react.memo"),xl=Symbol.for("react.lazy"),dB=Symbol.for("react.offscreen"),x2=Symbol.iterator;function jp(e){return e===null||typeof e!="object"?null:(e=x2&&e[x2]||e["@@iterator"],typeof e=="function"?e:null)}var Sr=Object.assign,$j;function im(e){if($j===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$j=t&&t[1]||""}return`
`+$j+e}var Dj=!1;function Lj(e,t){if(!e||Dj)return"";Dj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Dj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?im(e):""}function mX(e){switch(e.tag){case 5:return im(e.type);case 16:return im("Lazy");case 13:return im("Suspense");case 19:return im("SuspenseList");case 0:case 2:case 15:return e=Lj(e.type,!1),e;case 11:return e=Lj(e.type.render,!1),e;case 1:return e=Lj(e.type,!0),e;default:return""}}function eN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bd:return"Fragment";case Fd:return"Portal";case XS:return"Profiler";case QO:return"StrictMode";case QS:return"Suspense";case ZS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uB:return(e.displayName||"Context")+".Consumer";case cB:return(e._context.displayName||"Context")+".Provider";case ZO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eE:return t=e.displayName||null,t!==null?t:eN(e.type)||"Memo";case xl:t=e._payload,e=e._init;try{return eN(e(t))}catch{}}return null}function gX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eN(t);case 8:return t===QO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ec(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fB(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vX(e){var t=fB(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uy(e){e._valueTracker||(e._valueTracker=vX(e))}function hB(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=fB(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function eb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tN(e,t){var r=t.checked;return Sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function b2(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ec(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pB(e,t){t=t.checked,t!=null&&XO(e,"checked",t,!1)}function rN(e,t){pB(e,t);var r=ec(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nN(e,t.type,r):t.hasOwnProperty("defaultValue")&&nN(e,t.type,ec(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w2(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function nN(e,t,r){(t!=="number"||eb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sm=Array.isArray;function uf(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ec(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function iN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ye(91));return Sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _2(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ye(92));if(sm(r)){if(1<r.length)throw Error(ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ec(r)}}function mB(e,t){var r=ec(t.value),n=ec(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function j2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gB(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gB(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dy,vB=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dy=dy||document.createElement("div"),dy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yX=["Webkit","ms","Moz","O"];Object.keys(mm).forEach(function(e){yX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mm[t]=mm[e]})});function yB(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mm.hasOwnProperty(e)&&mm[e]?(""+t).trim():t+"px"}function xB(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=yB(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var xX=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aN(e,t){if(t){if(xX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ye(62))}}function oN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lN=null;function tE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cN=null,df=null,ff=null;function S2(e){if(e=vv(e)){if(typeof cN!="function")throw Error(ye(280));var t=e.stateNode;t&&(t=kw(t),cN(e.stateNode,e.type,t))}}function bB(e){df?ff?ff.push(e):ff=[e]:df=e}function wB(){if(df){var e=df,t=ff;if(ff=df=null,S2(e),t)for(e=0;e<t.length;e++)S2(t[e])}}function _B(e,t){return e(t)}function jB(){}var Fj=!1;function SB(e,t,r){if(Fj)return e(t,r);Fj=!0;try{return _B(e,t,r)}finally{Fj=!1,(df!==null||ff!==null)&&(jB(),wB())}}function Um(e,t){var r=e.stateNode;if(r===null)return null;var n=kw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ye(231,t,typeof r));return r}var uN=!1;if(Do)try{var Sp={};Object.defineProperty(Sp,"passive",{get:function(){uN=!0}}),window.addEventListener("test",Sp,Sp),window.removeEventListener("test",Sp,Sp)}catch{uN=!1}function bX(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var gm=!1,tb=null,rb=!1,dN=null,wX={onError:function(e){gm=!0,tb=e}};function _X(e,t,r,n,i,s,a,l,c){gm=!1,tb=null,bX.apply(wX,arguments)}function jX(e,t,r,n,i,s,a,l,c){if(_X.apply(this,arguments),gm){if(gm){var u=tb;gm=!1,tb=null}else throw Error(ye(198));rb||(rb=!0,dN=u)}}function Zu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function NB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N2(e){if(Zu(e)!==e)throw Error(ye(188))}function SX(e){var t=e.alternate;if(!t){if(t=Zu(e),t===null)throw Error(ye(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return N2(i),e;if(s===n)return N2(i),t;s=s.sibling}throw Error(ye(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(ye(189))}}if(r.alternate!==n)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?e:t}function kB(e){return e=SX(e),e!==null?CB(e):null}function CB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=CB(e);if(t!==null)return t;e=e.sibling}return null}var OB=Ji.unstable_scheduleCallback,k2=Ji.unstable_cancelCallback,NX=Ji.unstable_shouldYield,kX=Ji.unstable_requestPaint,Tr=Ji.unstable_now,CX=Ji.unstable_getCurrentPriorityLevel,rE=Ji.unstable_ImmediatePriority,EB=Ji.unstable_UserBlockingPriority,nb=Ji.unstable_NormalPriority,OX=Ji.unstable_LowPriority,PB=Ji.unstable_IdlePriority,_w=null,za=null;function EX(e){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(_w,e,void 0,(e.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:AX,PX=Math.log,TX=Math.LN2;function AX(e){return e>>>=0,e===0?32:31-(PX(e)/TX|0)|0}var fy=64,hy=4194304;function am(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ib(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=am(l):(s&=a,s!==0&&(n=am(s)))}else a=r&~i,a!==0?n=am(a):s!==0&&(n=am(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qs(t),i=1<<r,n|=e[r],t&=~i;return n}function MX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Qs(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=MX(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function fN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function TB(){var e=fy;return fy<<=1,!(fy&4194240)&&(fy=64),e}function Bj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qs(t),e[t]=r}function RX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Qs(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function nE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ut=0;function AB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var MB,iE,IB,RB,$B,hN=!1,py=[],zl=null,Wl=null,Vl=null,zm=new Map,Wm=new Map,Nl=[],$X="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C2(e,t){switch(e){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Wl=null;break;case"mouseover":case"mouseout":Vl=null;break;case"pointerover":case"pointerout":zm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wm.delete(t.pointerId)}}function Np(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=vv(t),t!==null&&iE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function DX(e,t,r,n,i){switch(t){case"focusin":return zl=Np(zl,e,t,r,n,i),!0;case"dragenter":return Wl=Np(Wl,e,t,r,n,i),!0;case"mouseover":return Vl=Np(Vl,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return zm.set(s,Np(zm.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Wm.set(s,Np(Wm.get(s)||null,e,t,r,n,i)),!0}return!1}function DB(e){var t=Qc(e.target);if(t!==null){var r=Zu(t);if(r!==null){if(t=r.tag,t===13){if(t=NB(r),t!==null){e.blockedOn=t,$B(e.priority,function(){IB(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=pN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);lN=n,r.target.dispatchEvent(n),lN=null}else return t=vv(r),t!==null&&iE(t),e.blockedOn=r,!1;t.shift()}return!0}function O2(e,t,r){jx(e)&&r.delete(t)}function LX(){hN=!1,zl!==null&&jx(zl)&&(zl=null),Wl!==null&&jx(Wl)&&(Wl=null),Vl!==null&&jx(Vl)&&(Vl=null),zm.forEach(O2),Wm.forEach(O2)}function kp(e,t){e.blockedOn===t&&(e.blockedOn=null,hN||(hN=!0,Ji.unstable_scheduleCallback(Ji.unstable_NormalPriority,LX)))}function Vm(e){function t(i){return kp(i,e)}if(0<py.length){kp(py[0],e);for(var r=1;r<py.length;r++){var n=py[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zl!==null&&kp(zl,e),Wl!==null&&kp(Wl,e),Vl!==null&&kp(Vl,e),zm.forEach(t),Wm.forEach(t),r=0;r<Nl.length;r++)n=Nl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Nl.length&&(r=Nl[0],r.blockedOn===null);)DB(r),r.blockedOn===null&&Nl.shift()}var hf=Qo.ReactCurrentBatchConfig,sb=!0;function FX(e,t,r,n){var i=Ut,s=hf.transition;hf.transition=null;try{Ut=1,sE(e,t,r,n)}finally{Ut=i,hf.transition=s}}function BX(e,t,r,n){var i=Ut,s=hf.transition;hf.transition=null;try{Ut=4,sE(e,t,r,n)}finally{Ut=i,hf.transition=s}}function sE(e,t,r,n){if(sb){var i=pN(e,t,r,n);if(i===null)Jj(e,t,n,ab,r),C2(e,n);else if(DX(i,e,t,r,n))n.stopPropagation();else if(C2(e,n),t&4&&-1<$X.indexOf(e)){for(;i!==null;){var s=vv(i);if(s!==null&&MB(s),s=pN(e,t,r,n),s===null&&Jj(e,t,n,ab,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Jj(e,t,n,null,r)}}var ab=null;function pN(e,t,r,n){if(ab=null,e=tE(n),e=Qc(e),e!==null)if(t=Zu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=NB(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ab=e,null}function LB(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CX()){case rE:return 1;case EB:return 4;case nb:case OX:return 16;case PB:return 536870912;default:return 16}default:return 16}}var $l=null,aE=null,Sx=null;function FB(){if(Sx)return Sx;var e,t=aE,r=t.length,n,i="value"in $l?$l.value:$l.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Sx=i.slice(e,1<n?1-n:void 0)}function Nx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function my(){return!0}function E2(){return!1}function Zi(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?my:E2,this.isPropagationStopped=E2,this}return Sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=my)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=my)},persist:function(){},isPersistent:my}),t}var Bh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oE=Zi(Bh),gv=Sr({},Bh,{view:0,detail:0}),UX=Zi(gv),Uj,zj,Cp,jw=Sr({},gv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cp&&(Cp&&e.type==="mousemove"?(Uj=e.screenX-Cp.screenX,zj=e.screenY-Cp.screenY):zj=Uj=0,Cp=e),Uj)},movementY:function(e){return"movementY"in e?e.movementY:zj}}),P2=Zi(jw),zX=Sr({},jw,{dataTransfer:0}),WX=Zi(zX),VX=Sr({},gv,{relatedTarget:0}),Wj=Zi(VX),HX=Sr({},Bh,{animationName:0,elapsedTime:0,pseudoElement:0}),qX=Zi(HX),GX=Sr({},Bh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KX=Zi(GX),YX=Sr({},Bh,{data:0}),T2=Zi(YX),JX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QX[e])?!!t[e]:!1}function lE(){return ZX}var eQ=Sr({},gv,{key:function(e){if(e.key){var t=JX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lE,charCode:function(e){return e.type==="keypress"?Nx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tQ=Zi(eQ),rQ=Sr({},jw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A2=Zi(rQ),nQ=Sr({},gv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lE}),iQ=Zi(nQ),sQ=Sr({},Bh,{propertyName:0,elapsedTime:0,pseudoElement:0}),aQ=Zi(sQ),oQ=Sr({},jw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lQ=Zi(oQ),cQ=[9,13,27,32],cE=Do&&"CompositionEvent"in window,vm=null;Do&&"documentMode"in document&&(vm=document.documentMode);var uQ=Do&&"TextEvent"in window&&!vm,BB=Do&&(!cE||vm&&8<vm&&11>=vm),M2=" ",I2=!1;function UB(e,t){switch(e){case"keyup":return cQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ud=!1;function dQ(e,t){switch(e){case"compositionend":return zB(t);case"keypress":return t.which!==32?null:(I2=!0,M2);case"textInput":return e=t.data,e===M2&&I2?null:e;default:return null}}function fQ(e,t){if(Ud)return e==="compositionend"||!cE&&UB(e,t)?(e=FB(),Sx=aE=$l=null,Ud=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BB&&t.locale!=="ko"?null:t.data;default:return null}}var hQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hQ[e.type]:t==="textarea"}function WB(e,t,r,n){bB(n),t=ob(t,"onChange"),0<t.length&&(r=new oE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ym=null,Hm=null;function pQ(e){e6(e,0)}function Sw(e){var t=Vd(e);if(hB(t))return e}function mQ(e,t){if(e==="change")return t}var VB=!1;if(Do){var Vj;if(Do){var Hj="oninput"in document;if(!Hj){var $2=document.createElement("div");$2.setAttribute("oninput","return;"),Hj=typeof $2.oninput=="function"}Vj=Hj}else Vj=!1;VB=Vj&&(!document.documentMode||9<document.documentMode)}function D2(){ym&&(ym.detachEvent("onpropertychange",HB),Hm=ym=null)}function HB(e){if(e.propertyName==="value"&&Sw(Hm)){var t=[];WB(t,Hm,e,tE(e)),SB(pQ,t)}}function gQ(e,t,r){e==="focusin"?(D2(),ym=t,Hm=r,ym.attachEvent("onpropertychange",HB)):e==="focusout"&&D2()}function vQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sw(Hm)}function yQ(e,t){if(e==="click")return Sw(t)}function xQ(e,t){if(e==="input"||e==="change")return Sw(t)}function bQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sa=typeof Object.is=="function"?Object.is:bQ;function qm(e,t){if(sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!JS.call(t,i)||!sa(e[i],t[i]))return!1}return!0}function L2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function F2(e,t){var r=L2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=L2(r)}}function qB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function GB(){for(var e=window,t=eb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=eb(e.document)}return t}function uE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wQ(e){var t=GB(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&qB(r.ownerDocument.documentElement,r)){if(n!==null&&uE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=F2(r,s);var a=F2(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _Q=Do&&"documentMode"in document&&11>=document.documentMode,zd=null,mN=null,xm=null,gN=!1;function B2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gN||zd==null||zd!==eb(n)||(n=zd,"selectionStart"in n&&uE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xm&&qm(xm,n)||(xm=n,n=ob(mN,"onSelect"),0<n.length&&(t=new oE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zd)))}function gy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wd={animationend:gy("Animation","AnimationEnd"),animationiteration:gy("Animation","AnimationIteration"),animationstart:gy("Animation","AnimationStart"),transitionend:gy("Transition","TransitionEnd")},qj={},KB={};Do&&(KB=document.createElement("div").style,"AnimationEvent"in window||(delete Wd.animationend.animation,delete Wd.animationiteration.animation,delete Wd.animationstart.animation),"TransitionEvent"in window||delete Wd.transitionend.transition);function Nw(e){if(qj[e])return qj[e];if(!Wd[e])return e;var t=Wd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in KB)return qj[e]=t[r];return e}var YB=Nw("animationend"),JB=Nw("animationiteration"),XB=Nw("animationstart"),QB=Nw("transitionend"),ZB=new Map,U2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dc(e,t){ZB.set(e,t),Qu(t,[e])}for(var Gj=0;Gj<U2.length;Gj++){var Kj=U2[Gj],jQ=Kj.toLowerCase(),SQ=Kj[0].toUpperCase()+Kj.slice(1);dc(jQ,"on"+SQ)}dc(YB,"onAnimationEnd");dc(JB,"onAnimationIteration");dc(XB,"onAnimationStart");dc("dblclick","onDoubleClick");dc("focusin","onFocus");dc("focusout","onBlur");dc(QB,"onTransitionEnd");$f("onMouseEnter",["mouseout","mouseover"]);$f("onMouseLeave",["mouseout","mouseover"]);$f("onPointerEnter",["pointerout","pointerover"]);$f("onPointerLeave",["pointerout","pointerover"]);Qu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var om="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(om));function z2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,jX(n,t,void 0,e),e.currentTarget=null}function e6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;z2(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;z2(i,l,u),s=c}}}if(rb)throw e=dN,rb=!1,dN=null,e}function ar(e,t){var r=t[wN];r===void 0&&(r=t[wN]=new Set);var n=e+"__bubble";r.has(n)||(t6(t,e,2,!1),r.add(n))}function Yj(e,t,r){var n=0;t&&(n|=4),t6(r,e,n,t)}var vy="_reactListening"+Math.random().toString(36).slice(2);function Gm(e){if(!e[vy]){e[vy]=!0,lB.forEach(function(r){r!=="selectionchange"&&(NQ.has(r)||Yj(r,!1,e),Yj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vy]||(t[vy]=!0,Yj("selectionchange",!1,t))}}function t6(e,t,r,n){switch(LB(t)){case 1:var i=FX;break;case 4:i=BX;break;default:i=sE}r=i.bind(null,t,r,e),i=void 0,!uN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Jj(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Qc(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}SB(function(){var u=s,d=tE(r),f=[];e:{var h=ZB.get(e);if(h!==void 0){var p=oE,g=e;switch(e){case"keypress":if(Nx(r)===0)break e;case"keydown":case"keyup":p=tQ;break;case"focusin":g="focus",p=Wj;break;case"focusout":g="blur",p=Wj;break;case"beforeblur":case"afterblur":p=Wj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=P2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=WX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iQ;break;case YB:case JB:case XB:p=qX;break;case QB:p=aQ;break;case"scroll":p=UX;break;case"wheel":p=lQ;break;case"copy":case"cut":case"paste":p=KX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=A2}var m=(t&4)!==0,v=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Um(x,b),_!=null&&m.push(Km(x,_,w)))),v)break;x=x.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==lN&&(g=r.relatedTarget||r.fromElement)&&(Qc(g)||g[Lo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Qc(g):null,g!==null&&(v=Zu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=P2,_="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=A2,_="onPointerLeave",b="onPointerEnter",x="pointer"),v=p==null?h:Vd(p),w=g==null?h:Vd(g),h=new m(_,x+"leave",p,r,d),h.target=v,h.relatedTarget=w,_=null,Qc(d)===u&&(m=new m(b,x+"enter",g,r,d),m.target=w,m.relatedTarget=v,_=m),v=_,p&&g)t:{for(m=p,b=g,x=0,w=m;w;w=pd(w))x++;for(w=0,_=b;_;_=pd(_))w++;for(;0<x-w;)m=pd(m),x--;for(;0<w-x;)b=pd(b),w--;for(;x--;){if(m===b||b!==null&&m===b.alternate)break t;m=pd(m),b=pd(b)}m=null}else m=null;p!==null&&W2(f,h,p,m,!1),g!==null&&v!==null&&W2(f,v,g,m,!0)}}e:{if(h=u?Vd(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=mQ;else if(R2(h))if(VB)N=xQ;else{N=vQ;var j=gQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=yQ);if(N&&(N=N(e,u))){WB(f,N,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&nN(h,"number",h.value)}switch(j=u?Vd(u):window,e){case"focusin":(R2(j)||j.contentEditable==="true")&&(zd=j,mN=u,xm=null);break;case"focusout":xm=mN=zd=null;break;case"mousedown":gN=!0;break;case"contextmenu":case"mouseup":case"dragend":gN=!1,B2(f,r,d);break;case"selectionchange":if(_Q)break;case"keydown":case"keyup":B2(f,r,d)}var k;if(cE)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ud?UB(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(BB&&r.locale!=="ko"&&(Ud||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ud&&(k=FB()):($l=d,aE="value"in $l?$l.value:$l.textContent,Ud=!0)),j=ob(u,C),0<j.length&&(C=new T2(C,e,null,r,d),f.push({event:C,listeners:j}),k?C.data=k:(k=zB(r),k!==null&&(C.data=k)))),(k=uQ?dQ(e,r):fQ(e,r))&&(u=ob(u,"onBeforeInput"),0<u.length&&(d=new T2("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}e6(f,t)})}function Km(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ob(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Um(e,r),s!=null&&n.unshift(Km(e,s,i)),s=Um(e,t),s!=null&&n.push(Km(e,s,i))),e=e.return}return n}function pd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function W2(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Um(r,s),c!=null&&a.unshift(Km(r,c,l))):i||(c=Um(r,s),c!=null&&a.push(Km(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var kQ=/\r\n?/g,CQ=/\u0000|\uFFFD/g;function V2(e){return(typeof e=="string"?e:""+e).replace(kQ,`
`).replace(CQ,"")}function yy(e,t,r){if(t=V2(t),V2(e)!==t&&r)throw Error(ye(425))}function lb(){}var vN=null,yN=null;function xN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bN=typeof setTimeout=="function"?setTimeout:void 0,OQ=typeof clearTimeout=="function"?clearTimeout:void 0,H2=typeof Promise=="function"?Promise:void 0,EQ=typeof queueMicrotask=="function"?queueMicrotask:typeof H2<"u"?function(e){return H2.resolve(null).then(e).catch(PQ)}:bN;function PQ(e){setTimeout(function(){throw e})}function Xj(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Vm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Vm(t)}function Hl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function q2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Uh=Math.random().toString(36).slice(2),Aa="__reactFiber$"+Uh,Ym="__reactProps$"+Uh,Lo="__reactContainer$"+Uh,wN="__reactEvents$"+Uh,TQ="__reactListeners$"+Uh,AQ="__reactHandles$"+Uh;function Qc(e){var t=e[Aa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lo]||r[Aa]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=q2(e);e!==null;){if(r=e[Aa])return r;e=q2(e)}return t}e=r,r=e.parentNode}return null}function vv(e){return e=e[Aa]||e[Lo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ye(33))}function kw(e){return e[Ym]||null}var _N=[],Hd=-1;function fc(e){return{current:e}}function dr(e){0>Hd||(e.current=_N[Hd],_N[Hd]=null,Hd--)}function er(e,t){Hd++,_N[Hd]=e.current,e.current=t}var tc={},zn=fc(tc),bi=fc(!1),Cu=tc;function Df(e,t){var r=e.type.contextTypes;if(!r)return tc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wi(e){return e=e.childContextTypes,e!=null}function cb(){dr(bi),dr(zn)}function G2(e,t,r){if(zn.current!==tc)throw Error(ye(168));er(zn,t),er(bi,r)}function r6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ye(108,gX(e)||"Unknown",i));return Sr({},r,n)}function ub(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tc,Cu=zn.current,er(zn,e),er(bi,bi.current),!0}function K2(e,t,r){var n=e.stateNode;if(!n)throw Error(ye(169));r?(e=r6(e,t,Cu),n.__reactInternalMemoizedMergedChildContext=e,dr(bi),dr(zn),er(zn,e)):dr(bi),er(bi,r)}var bo=null,Cw=!1,Qj=!1;function n6(e){bo===null?bo=[e]:bo.push(e)}function MQ(e){Cw=!0,n6(e)}function hc(){if(!Qj&&bo!==null){Qj=!0;var e=0,t=Ut;try{var r=bo;for(Ut=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bo=null,Cw=!1}catch(i){throw bo!==null&&(bo=bo.slice(e+1)),OB(rE,hc),i}finally{Ut=t,Qj=!1}}return null}var qd=[],Gd=0,db=null,fb=0,ls=[],cs=0,Ou=null,jo=1,So="";function Bc(e,t){qd[Gd++]=fb,qd[Gd++]=db,db=e,fb=t}function i6(e,t,r){ls[cs++]=jo,ls[cs++]=So,ls[cs++]=Ou,Ou=e;var n=jo;e=So;var i=32-Qs(n)-1;n&=~(1<<i),r+=1;var s=32-Qs(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,jo=1<<32-Qs(t)+i|r<<i|n,So=s+e}else jo=1<<s|r<<i|n,So=e}function dE(e){e.return!==null&&(Bc(e,1),i6(e,1,0))}function fE(e){for(;e===db;)db=qd[--Gd],qd[Gd]=null,fb=qd[--Gd],qd[Gd]=null;for(;e===Ou;)Ou=ls[--cs],ls[cs]=null,So=ls[--cs],ls[cs]=null,jo=ls[--cs],ls[cs]=null}var qi=null,Vi=null,yr=!1,Gs=null;function s6(e,t){var r=fs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Y2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qi=e,Vi=Hl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qi=e,Vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ou!==null?{id:jo,overflow:So}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qi=e,Vi=null,!0):!1;default:return!1}}function jN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function SN(e){if(yr){var t=Vi;if(t){var r=t;if(!Y2(e,t)){if(jN(e))throw Error(ye(418));t=Hl(r.nextSibling);var n=qi;t&&Y2(e,t)?s6(n,r):(e.flags=e.flags&-4097|2,yr=!1,qi=e)}}else{if(jN(e))throw Error(ye(418));e.flags=e.flags&-4097|2,yr=!1,qi=e}}}function J2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qi=e}function xy(e){if(e!==qi)return!1;if(!yr)return J2(e),yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xN(e.type,e.memoizedProps)),t&&(t=Vi)){if(jN(e))throw a6(),Error(ye(418));for(;t;)s6(e,t),t=Hl(t.nextSibling)}if(J2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Vi=Hl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Vi=null}}else Vi=qi?Hl(e.stateNode.nextSibling):null;return!0}function a6(){for(var e=Vi;e;)e=Hl(e.nextSibling)}function Lf(){Vi=qi=null,yr=!1}function hE(e){Gs===null?Gs=[e]:Gs.push(e)}var IQ=Qo.ReactCurrentBatchConfig;function Op(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var n=r.stateNode}if(!n)throw Error(ye(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,e))}return e}function by(e,t){throw e=Object.prototype.toString.call(t),Error(ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function X2(e){var t=e._init;return t(e._payload)}function o6(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=Yl(b,x),b.index=0,b.sibling=null,b}function s(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,_){return x===null||x.tag!==6?(x=s1(w,b.mode,_),x.return=b,x):(x=i(x,w),x.return=b,x)}function c(b,x,w,_){var N=w.type;return N===Bd?d(b,x,w.props.children,_,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xl&&X2(N)===x.type)?(_=i(x,w.props),_.ref=Op(b,x,w),_.return=b,_):(_=Ax(w.type,w.key,w.props,null,b.mode,_),_.ref=Op(b,x,w),_.return=b,_)}function u(b,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=a1(w,b.mode,_),x.return=b,x):(x=i(x,w.children||[]),x.return=b,x)}function d(b,x,w,_,N){return x===null||x.tag!==7?(x=vu(w,b.mode,_,N),x.return=b,x):(x=i(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=s1(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cy:return w=Ax(x.type,x.key,x.props,null,b.mode,w),w.ref=Op(b,null,x),w.return=b,w;case Fd:return x=a1(x,b.mode,w),x.return=b,x;case xl:var _=x._init;return f(b,_(x._payload),w)}if(sm(x)||jp(x))return x=vu(x,b.mode,w,null),x.return=b,x;by(b,x)}return null}function h(b,x,w,_){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(b,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:return w.key===N?c(b,x,w,_):null;case Fd:return w.key===N?u(b,x,w,_):null;case xl:return N=w._init,h(b,x,N(w._payload),_)}if(sm(w)||jp(w))return N!==null?null:d(b,x,w,_,null);by(b,w)}return null}function p(b,x,w,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(x,b,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case cy:return b=b.get(_.key===null?w:_.key)||null,c(x,b,_,N);case Fd:return b=b.get(_.key===null?w:_.key)||null,u(x,b,_,N);case xl:var j=_._init;return p(b,x,w,j(_._payload),N)}if(sm(_)||jp(_))return b=b.get(w)||null,d(x,b,_,N,null);by(x,_)}return null}function g(b,x,w,_){for(var N=null,j=null,k=x,C=x=0,P=null;k!==null&&C<w.length;C++){k.index>C?(P=k,k=null):P=k.sibling;var A=h(b,k,w[C],_);if(A===null){k===null&&(k=P);break}e&&k&&A.alternate===null&&t(b,k),x=s(A,x,C),j===null?N=A:j.sibling=A,j=A,k=P}if(C===w.length)return r(b,k),yr&&Bc(b,C),N;if(k===null){for(;C<w.length;C++)k=f(b,w[C],_),k!==null&&(x=s(k,x,C),j===null?N=k:j.sibling=k,j=k);return yr&&Bc(b,C),N}for(k=n(b,k);C<w.length;C++)P=p(k,b,C,w[C],_),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?C:P.key),x=s(P,x,C),j===null?N=P:j.sibling=P,j=P);return e&&k.forEach(function(I){return t(b,I)}),yr&&Bc(b,C),N}function m(b,x,w,_){var N=jp(w);if(typeof N!="function")throw Error(ye(150));if(w=N.call(w),w==null)throw Error(ye(151));for(var j=N=null,k=x,C=x=0,P=null,A=w.next();k!==null&&!A.done;C++,A=w.next()){k.index>C?(P=k,k=null):P=k.sibling;var I=h(b,k,A.value,_);if(I===null){k===null&&(k=P);break}e&&k&&I.alternate===null&&t(b,k),x=s(I,x,C),j===null?N=I:j.sibling=I,j=I,k=P}if(A.done)return r(b,k),yr&&Bc(b,C),N;if(k===null){for(;!A.done;C++,A=w.next())A=f(b,A.value,_),A!==null&&(x=s(A,x,C),j===null?N=A:j.sibling=A,j=A);return yr&&Bc(b,C),N}for(k=n(b,k);!A.done;C++,A=w.next())A=p(k,b,C,A.value,_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?C:A.key),x=s(A,x,C),j===null?N=A:j.sibling=A,j=A);return e&&k.forEach(function(M){return t(b,M)}),yr&&Bc(b,C),N}function v(b,x,w,_){if(typeof w=="object"&&w!==null&&w.type===Bd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:e:{for(var N=w.key,j=x;j!==null;){if(j.key===N){if(N=w.type,N===Bd){if(j.tag===7){r(b,j.sibling),x=i(j,w.props.children),x.return=b,b=x;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xl&&X2(N)===j.type){r(b,j.sibling),x=i(j,w.props),x.ref=Op(b,j,w),x.return=b,b=x;break e}r(b,j);break}else t(b,j);j=j.sibling}w.type===Bd?(x=vu(w.props.children,b.mode,_,w.key),x.return=b,b=x):(_=Ax(w.type,w.key,w.props,null,b.mode,_),_.ref=Op(b,x,w),_.return=b,b=_)}return a(b);case Fd:e:{for(j=w.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=i(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=a1(w,b.mode,_),x.return=b,b=x}return a(b);case xl:return j=w._init,v(b,x,j(w._payload),_)}if(sm(w))return g(b,x,w,_);if(jp(w))return m(b,x,w,_);by(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=i(x,w),x.return=b,b=x):(r(b,x),x=s1(w,b.mode,_),x.return=b,b=x),a(b)):r(b,x)}return v}var Ff=o6(!0),l6=o6(!1),hb=fc(null),pb=null,Kd=null,pE=null;function mE(){pE=Kd=pb=null}function gE(e){var t=hb.current;dr(hb),e._currentValue=t}function NN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function pf(e,t){pb=e,pE=Kd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gi=!0),e.firstContext=null)}function bs(e){var t=e._currentValue;if(pE!==e)if(e={context:e,memoizedValue:t,next:null},Kd===null){if(pb===null)throw Error(ye(308));Kd=e,pb.dependencies={lanes:0,firstContext:e}}else Kd=Kd.next=e;return t}var Zc=null;function vE(e){Zc===null?Zc=[e]:Zc.push(e)}function c6(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,vE(t)):(r.next=i.next,i.next=r),t.interleaved=r,Fo(e,n)}function Fo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bl=!1;function yE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function To(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ql(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Fo(e,r)}return i=n.interleaved,i===null?(t.next=t,vE(n)):(t.next=i.next,i.next=t),n.interleaved=t,Fo(e,r)}function kx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,nE(e,r)}}function Q2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function mb(e,t,r,n){var i=e.updateQueue;bl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Sr({},f,h);break e;case 2:bl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Pu|=a,e.lanes=a,e.memoizedState=f}}function Z2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ye(191,i));i.call(n)}}}var yv={},Wa=fc(yv),Jm=fc(yv),Xm=fc(yv);function eu(e){if(e===yv)throw Error(ye(174));return e}function xE(e,t){switch(er(Xm,t),er(Jm,e),er(Wa,yv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sN(t,e)}dr(Wa),er(Wa,t)}function Bf(){dr(Wa),dr(Jm),dr(Xm)}function d6(e){eu(Xm.current);var t=eu(Wa.current),r=sN(t,e.type);t!==r&&(er(Jm,e),er(Wa,r))}function bE(e){Jm.current===e&&(dr(Wa),dr(Jm))}var _r=fc(0);function gb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zj=[];function wE(){for(var e=0;e<Zj.length;e++)Zj[e]._workInProgressVersionPrimary=null;Zj.length=0}var Cx=Qo.ReactCurrentDispatcher,e1=Qo.ReactCurrentBatchConfig,Eu=0,jr=null,Xr=null,un=null,vb=!1,bm=!1,Qm=0,RQ=0;function On(){throw Error(ye(321))}function _E(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sa(e[r],t[r]))return!1;return!0}function jE(e,t,r,n,i,s){if(Eu=s,jr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cx.current=e===null||e.memoizedState===null?FQ:BQ,e=r(n,i),bm){s=0;do{if(bm=!1,Qm=0,25<=s)throw Error(ye(301));s+=1,un=Xr=null,t.updateQueue=null,Cx.current=UQ,e=r(n,i)}while(bm)}if(Cx.current=yb,t=Xr!==null&&Xr.next!==null,Eu=0,un=Xr=jr=null,vb=!1,t)throw Error(ye(300));return e}function SE(){var e=Qm!==0;return Qm=0,e}function ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?jr.memoizedState=un=e:un=un.next=e,un}function ws(){if(Xr===null){var e=jr.alternate;e=e!==null?e.memoizedState:null}else e=Xr.next;var t=un===null?jr.memoizedState:un.next;if(t!==null)un=t,Xr=e;else{if(e===null)throw Error(ye(310));Xr=e,e={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},un===null?jr.memoizedState=un=e:un=un.next=e}return un}function Zm(e,t){return typeof t=="function"?t(e):t}function t1(e){var t=ws(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=Xr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Eu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,jr.lanes|=d,Pu|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,sa(n,t.memoizedState)||(gi=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,jr.lanes|=s,Pu|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function r1(e){var t=ws(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);sa(s,t.memoizedState)||(gi=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function f6(){}function h6(e,t){var r=jr,n=ws(),i=t(),s=!sa(n.memoizedState,i);if(s&&(n.memoizedState=i,gi=!0),n=n.queue,NE(g6.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||un!==null&&un.memoizedState.tag&1){if(r.flags|=2048,eg(9,m6.bind(null,r,n,i,t),void 0,null),mn===null)throw Error(ye(349));Eu&30||p6(r,t,i)}return i}function p6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=jr.updateQueue,t===null?(t={lastEffect:null,stores:null},jr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function m6(e,t,r,n){t.value=r,t.getSnapshot=n,v6(t)&&y6(e)}function g6(e,t,r){return r(function(){v6(t)&&y6(e)})}function v6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sa(e,r)}catch{return!0}}function y6(e){var t=Fo(e,1);t!==null&&Zs(t,e,1,-1)}function eM(e){var t=ja();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:e},t.queue=e,e=e.dispatch=LQ.bind(null,jr,e),[t.memoizedState,e]}function eg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=jr.updateQueue,t===null?(t={lastEffect:null,stores:null},jr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function x6(){return ws().memoizedState}function Ox(e,t,r,n){var i=ja();jr.flags|=e,i.memoizedState=eg(1|t,r,void 0,n===void 0?null:n)}function Ow(e,t,r,n){var i=ws();n=n===void 0?null:n;var s=void 0;if(Xr!==null){var a=Xr.memoizedState;if(s=a.destroy,n!==null&&_E(n,a.deps)){i.memoizedState=eg(t,r,s,n);return}}jr.flags|=e,i.memoizedState=eg(1|t,r,s,n)}function tM(e,t){return Ox(8390656,8,e,t)}function NE(e,t){return Ow(2048,8,e,t)}function b6(e,t){return Ow(4,2,e,t)}function w6(e,t){return Ow(4,4,e,t)}function _6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j6(e,t,r){return r=r!=null?r.concat([e]):null,Ow(4,4,_6.bind(null,t,e),r)}function kE(){}function S6(e,t){var r=ws();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_E(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function N6(e,t){var r=ws();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_E(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function k6(e,t,r){return Eu&21?(sa(r,t)||(r=TB(),jr.lanes|=r,Pu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gi=!0),e.memoizedState=r)}function $Q(e,t){var r=Ut;Ut=r!==0&&4>r?r:4,e(!0);var n=e1.transition;e1.transition={};try{e(!1),t()}finally{Ut=r,e1.transition=n}}function C6(){return ws().memoizedState}function DQ(e,t,r){var n=Kl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},O6(e))E6(t,r);else if(r=c6(e,t,r,n),r!==null){var i=ri();Zs(r,e,n,i),P6(r,t,n)}}function LQ(e,t,r){var n=Kl(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(O6(e))E6(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,sa(l,a)){var c=t.interleaved;c===null?(i.next=i,vE(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=c6(e,t,i,n),r!==null&&(i=ri(),Zs(r,e,n,i),P6(r,t,n))}}function O6(e){var t=e.alternate;return e===jr||t!==null&&t===jr}function E6(e,t){bm=vb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function P6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,nE(e,r)}}var yb={readContext:bs,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},FQ={readContext:bs,useCallback:function(e,t){return ja().memoizedState=[e,t===void 0?null:t],e},useContext:bs,useEffect:tM,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ox(4194308,4,_6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ox(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ox(4,2,e,t)},useMemo:function(e,t){var r=ja();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ja();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=DQ.bind(null,jr,e),[n.memoizedState,e]},useRef:function(e){var t=ja();return e={current:e},t.memoizedState=e},useState:eM,useDebugValue:kE,useDeferredValue:function(e){return ja().memoizedState=e},useTransition:function(){var e=eM(!1),t=e[0];return e=$Q.bind(null,e[1]),ja().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=jr,i=ja();if(yr){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=t(),mn===null)throw Error(ye(349));Eu&30||p6(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,tM(g6.bind(null,n,s,e),[e]),n.flags|=2048,eg(9,m6.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ja(),t=mn.identifierPrefix;if(yr){var r=So,n=jo;r=(n&~(1<<32-Qs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Qm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=RQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BQ={readContext:bs,useCallback:S6,useContext:bs,useEffect:NE,useImperativeHandle:j6,useInsertionEffect:b6,useLayoutEffect:w6,useMemo:N6,useReducer:t1,useRef:x6,useState:function(){return t1(Zm)},useDebugValue:kE,useDeferredValue:function(e){var t=ws();return k6(t,Xr.memoizedState,e)},useTransition:function(){var e=t1(Zm)[0],t=ws().memoizedState;return[e,t]},useMutableSource:f6,useSyncExternalStore:h6,useId:C6,unstable_isNewReconciler:!1},UQ={readContext:bs,useCallback:S6,useContext:bs,useEffect:NE,useImperativeHandle:j6,useInsertionEffect:b6,useLayoutEffect:w6,useMemo:N6,useReducer:r1,useRef:x6,useState:function(){return r1(Zm)},useDebugValue:kE,useDeferredValue:function(e){var t=ws();return Xr===null?t.memoizedState=e:k6(t,Xr.memoizedState,e)},useTransition:function(){var e=r1(Zm)[0],t=ws().memoizedState;return[e,t]},useMutableSource:f6,useSyncExternalStore:h6,useId:C6,unstable_isNewReconciler:!1};function Ls(e,t){if(e&&e.defaultProps){t=Sr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function kN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Sr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ew={isMounted:function(e){return(e=e._reactInternals)?Zu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ri(),i=Kl(e),s=To(n,i);s.payload=t,r!=null&&(s.callback=r),t=ql(e,s,i),t!==null&&(Zs(t,e,i,n),kx(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ri(),i=Kl(e),s=To(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=ql(e,s,i),t!==null&&(Zs(t,e,i,n),kx(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ri(),n=Kl(e),i=To(r,n);i.tag=2,t!=null&&(i.callback=t),t=ql(e,i,n),t!==null&&(Zs(t,e,n,r),kx(t,e,n))}};function rM(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!qm(r,n)||!qm(i,s):!0}function T6(e,t,r){var n=!1,i=tc,s=t.contextType;return typeof s=="object"&&s!==null?s=bs(s):(i=wi(t)?Cu:zn.current,n=t.contextTypes,s=(n=n!=null)?Df(e,i):tc),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ew,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function nM(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ew.enqueueReplaceState(t,t.state,null)}function CN(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},yE(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=bs(s):(s=wi(t)?Cu:zn.current,i.context=Df(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(kN(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ew.enqueueReplaceState(i,i.state,null),mb(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Uf(e,t){try{var r="",n=t;do r+=mX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function n1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ON(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zQ=typeof WeakMap=="function"?WeakMap:Map;function A6(e,t,r){r=To(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){bb||(bb=!0,LN=n),ON(e,t)},r}function M6(e,t,r){r=To(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ON(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ON(e,t),typeof n!="function"&&(Gl===null?Gl=new Set([this]):Gl.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function iM(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new zQ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=rZ.bind(null,e,t,r),t.then(e,e))}function sM(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aM(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=To(-1,1),t.tag=2,ql(r,t,1))),r.lanes|=1),e)}var WQ=Qo.ReactCurrentOwner,gi=!1;function qn(e,t,r,n){t.child=e===null?l6(t,null,r,n):Ff(t,e.child,r,n)}function oM(e,t,r,n,i){r=r.render;var s=t.ref;return pf(t,i),n=jE(e,t,r,n,s,i),r=SE(),e!==null&&!gi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i)):(yr&&r&&dE(t),t.flags|=1,qn(e,t,n,i),t.child)}function lM(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!IE(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,I6(e,t,s,n,i)):(e=Ax(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:qm,r(a,n)&&e.ref===t.ref)return Bo(e,t,i)}return t.flags|=1,e=Yl(s,n),e.ref=t.ref,e.return=t,t.child=e}function I6(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(qm(s,n)&&e.ref===t.ref)if(gi=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(gi=!0);else return t.lanes=e.lanes,Bo(e,t,i)}return EN(e,t,r,n,i)}function R6(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Jd,Ri),Ri|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,er(Jd,Ri),Ri|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,er(Jd,Ri),Ri|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,er(Jd,Ri),Ri|=n;return qn(e,t,i,r),t.child}function $6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function EN(e,t,r,n,i){var s=wi(r)?Cu:zn.current;return s=Df(t,s),pf(t,i),r=jE(e,t,r,n,s,i),n=SE(),e!==null&&!gi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Bo(e,t,i)):(yr&&n&&dE(t),t.flags|=1,qn(e,t,r,i),t.child)}function cM(e,t,r,n,i){if(wi(r)){var s=!0;ub(t)}else s=!1;if(pf(t,i),t.stateNode===null)Ex(e,t),T6(t,r,n),CN(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=bs(u):(u=wi(r)?Cu:zn.current,u=Df(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&nM(t,a,n,u),bl=!1;var h=t.memoizedState;a.state=h,mb(t,n,a,i),c=t.memoizedState,l!==n||h!==c||bi.current||bl?(typeof d=="function"&&(kN(t,r,d,n),c=t.memoizedState),(l=bl||rM(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,u6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ls(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=bs(c):(c=wi(r)?Cu:zn.current,c=Df(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&nM(t,a,n,c),bl=!1,h=t.memoizedState,a.state=h,mb(t,n,a,i);var g=t.memoizedState;l!==f||h!==g||bi.current||bl?(typeof p=="function"&&(kN(t,r,p,n),g=t.memoizedState),(u=bl||rM(t,r,u,n,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return PN(e,t,r,n,s,i)}function PN(e,t,r,n,i,s){$6(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&K2(t,r,!1),Bo(e,t,s);n=t.stateNode,WQ.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ff(t,e.child,null,s),t.child=Ff(t,null,l,s)):qn(e,t,l,s),t.memoizedState=n.state,i&&K2(t,r,!0),t.child}function D6(e){var t=e.stateNode;t.pendingContext?G2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&G2(e,t.context,!1),xE(e,t.containerInfo)}function uM(e,t,r,n,i){return Lf(),hE(i),t.flags|=256,qn(e,t,r,n),t.child}var TN={dehydrated:null,treeContext:null,retryLane:0};function AN(e){return{baseLanes:e,cachePool:null,transitions:null}}function L6(e,t,r){var n=t.pendingProps,i=_r.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),er(_r,i&1),e===null)return SN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Aw(a,n,0,null),e=vu(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=AN(r),t.memoizedState=TN,e):CE(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return VQ(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Yl(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Yl(l,s):(s=vu(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?AN(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=TN,n}return s=e.child,e=s.sibling,n=Yl(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function CE(e,t){return t=Aw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wy(e,t,r,n){return n!==null&&hE(n),Ff(t,e.child,null,r),e=CE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VQ(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=n1(Error(ye(422))),wy(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Aw({mode:"visible",children:n.children},i,0,null),s=vu(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ff(t,e.child,null,a),t.child.memoizedState=AN(a),t.memoizedState=TN,s);if(!(t.mode&1))return wy(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ye(419)),n=n1(s,n,void 0),wy(e,t,a,n)}if(l=(a&e.childLanes)!==0,gi||l){if(n=mn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Fo(e,i),Zs(n,e,i,-1))}return ME(),n=n1(Error(ye(421))),wy(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=nZ.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Vi=Hl(i.nextSibling),qi=t,yr=!0,Gs=null,e!==null&&(ls[cs++]=jo,ls[cs++]=So,ls[cs++]=Ou,jo=e.id,So=e.overflow,Ou=t),t=CE(t,n.children),t.flags|=4096,t)}function dM(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),NN(e.return,t,r)}function i1(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function F6(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(qn(e,t,n.children,r),n=_r.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dM(e,r,t);else if(e.tag===19)dM(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(er(_r,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&gb(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),i1(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&gb(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}i1(t,!0,r,null,s);break;case"together":i1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ex(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Pu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ye(153));if(t.child!==null){for(e=t.child,r=Yl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function HQ(e,t,r){switch(t.tag){case 3:D6(t),Lf();break;case 5:d6(t);break;case 1:wi(t.type)&&ub(t);break;case 4:xE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;er(hb,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(er(_r,_r.current&1),t.flags|=128,null):r&t.child.childLanes?L6(e,t,r):(er(_r,_r.current&1),e=Bo(e,t,r),e!==null?e.sibling:null);er(_r,_r.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return F6(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),er(_r,_r.current),n)break;return null;case 22:case 23:return t.lanes=0,R6(e,t,r)}return Bo(e,t,r)}var B6,MN,U6,z6;B6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};MN=function(){};U6=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,eu(Wa.current);var s=null;switch(r){case"input":i=tN(e,i),n=tN(e,n),s=[];break;case"select":i=Sr({},i,{value:void 0}),n=Sr({},n,{value:void 0}),s=[];break;case"textarea":i=iN(e,i),n=iN(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=lb)}aN(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ar("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};z6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ep(e,t){if(!yr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function En(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qQ(e,t,r){var n=t.pendingProps;switch(fE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(t),null;case 1:return wi(t.type)&&cb(),En(t),null;case 3:return n=t.stateNode,Bf(),dr(bi),dr(zn),wE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gs!==null&&(UN(Gs),Gs=null))),MN(e,t),En(t),null;case 5:bE(t);var i=eu(Xm.current);if(r=t.type,e!==null&&t.stateNode!=null)U6(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ye(166));return En(t),null}if(e=eu(Wa.current),xy(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Aa]=t,n[Ym]=s,e=(t.mode&1)!==0,r){case"dialog":ar("cancel",n),ar("close",n);break;case"iframe":case"object":case"embed":ar("load",n);break;case"video":case"audio":for(i=0;i<om.length;i++)ar(om[i],n);break;case"source":ar("error",n);break;case"img":case"image":case"link":ar("error",n),ar("load",n);break;case"details":ar("toggle",n);break;case"input":b2(n,s),ar("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ar("invalid",n);break;case"textarea":_2(n,s),ar("invalid",n)}aN(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&yy(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&yy(n.textContent,l,e),i=["children",""+l]):Fm.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ar("scroll",n)}switch(r){case"input":uy(n),w2(n,s,!0);break;case"textarea":uy(n),j2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=lb)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gB(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Aa]=t,e[Ym]=n,B6(e,t,!1,!1),t.stateNode=e;e:{switch(a=oN(r,n),r){case"dialog":ar("cancel",e),ar("close",e),i=n;break;case"iframe":case"object":case"embed":ar("load",e),i=n;break;case"video":case"audio":for(i=0;i<om.length;i++)ar(om[i],e);i=n;break;case"source":ar("error",e),i=n;break;case"img":case"image":case"link":ar("error",e),ar("load",e),i=n;break;case"details":ar("toggle",e),i=n;break;case"input":b2(e,n),i=tN(e,n),ar("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Sr({},n,{value:void 0}),ar("invalid",e);break;case"textarea":_2(e,n),i=iN(e,n),ar("invalid",e);break;default:i=n}aN(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?xB(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vB(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bm(e,c):typeof c=="number"&&Bm(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fm.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ar("scroll",e):c!=null&&XO(e,s,c,a))}switch(r){case"input":uy(e),w2(e,n,!1);break;case"textarea":uy(e),j2(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ec(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?uf(e,!!n.multiple,s,!1):n.defaultValue!=null&&uf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=lb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return En(t),null;case 6:if(e&&t.stateNode!=null)z6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ye(166));if(r=eu(Xm.current),eu(Wa.current),xy(t)){if(n=t.stateNode,r=t.memoizedProps,n[Aa]=t,(s=n.nodeValue!==r)&&(e=qi,e!==null))switch(e.tag){case 3:yy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yy(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Aa]=t,t.stateNode=n}return En(t),null;case 13:if(dr(_r),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yr&&Vi!==null&&t.mode&1&&!(t.flags&128))a6(),Lf(),t.flags|=98560,s=!1;else if(s=xy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ye(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ye(317));s[Aa]=t}else Lf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;En(t),s=!1}else Gs!==null&&(UN(Gs),Gs=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||_r.current&1?en===0&&(en=3):ME())),t.updateQueue!==null&&(t.flags|=4),En(t),null);case 4:return Bf(),MN(e,t),e===null&&Gm(t.stateNode.containerInfo),En(t),null;case 10:return gE(t.type._context),En(t),null;case 17:return wi(t.type)&&cb(),En(t),null;case 19:if(dr(_r),s=t.memoizedState,s===null)return En(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Ep(s,!1);else{if(en!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=gb(e),a!==null){for(t.flags|=128,Ep(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return er(_r,_r.current&1|2),t.child}e=e.sibling}s.tail!==null&&Tr()>zf&&(t.flags|=128,n=!0,Ep(s,!1),t.lanes=4194304)}else{if(!n)if(e=gb(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ep(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!yr)return En(t),null}else 2*Tr()-s.renderingStartTime>zf&&r!==1073741824&&(t.flags|=128,n=!0,Ep(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Tr(),t.sibling=null,r=_r.current,er(_r,n?r&1|2:r&1),t):(En(t),null);case 22:case 23:return AE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ri&1073741824&&(En(t),t.subtreeFlags&6&&(t.flags|=8192)):En(t),null;case 24:return null;case 25:return null}throw Error(ye(156,t.tag))}function GQ(e,t){switch(fE(t),t.tag){case 1:return wi(t.type)&&cb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bf(),dr(bi),dr(zn),wE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bE(t),null;case 13:if(dr(_r),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ye(340));Lf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dr(_r),null;case 4:return Bf(),null;case 10:return gE(t.type._context),null;case 22:case 23:return AE(),null;case 24:return null;default:return null}}var _y=!1,Rn=!1,KQ=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Yd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Cr(e,t,n)}else r.current=null}function IN(e,t,r){try{r()}catch(n){Cr(e,t,n)}}var fM=!1;function YQ(e,t){if(vN=sb,e=GB(),uE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(yN={focusedElem:e,selectionRange:r},sb=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ls(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(_){Cr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return g=fM,fM=!1,g}function wm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&IN(t,r,s)}i=i.next}while(i!==n)}}function Pw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function RN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function W6(e){var t=e.alternate;t!==null&&(e.alternate=null,W6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Aa],delete t[Ym],delete t[wN],delete t[TQ],delete t[AQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function V6(e){return e.tag===5||e.tag===3||e.tag===4}function hM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $N(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=lb));else if(n!==4&&(e=e.child,e!==null))for($N(e,t,r),e=e.sibling;e!==null;)$N(e,t,r),e=e.sibling}function DN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(DN(e,t,r),e=e.sibling;e!==null;)DN(e,t,r),e=e.sibling}var wn=null,Ws=!1;function ll(e,t,r){for(r=r.child;r!==null;)H6(e,t,r),r=r.sibling}function H6(e,t,r){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(_w,r)}catch{}switch(r.tag){case 5:Rn||Yd(r,t);case 6:var n=wn,i=Ws;wn=null,ll(e,t,r),wn=n,Ws=i,wn!==null&&(Ws?(e=wn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wn.removeChild(r.stateNode));break;case 18:wn!==null&&(Ws?(e=wn,r=r.stateNode,e.nodeType===8?Xj(e.parentNode,r):e.nodeType===1&&Xj(e,r),Vm(e)):Xj(wn,r.stateNode));break;case 4:n=wn,i=Ws,wn=r.stateNode.containerInfo,Ws=!0,ll(e,t,r),wn=n,Ws=i;break;case 0:case 11:case 14:case 15:if(!Rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&IN(r,t,a),i=i.next}while(i!==n)}ll(e,t,r);break;case 1:if(!Rn&&(Yd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Cr(r,t,l)}ll(e,t,r);break;case 21:ll(e,t,r);break;case 22:r.mode&1?(Rn=(n=Rn)||r.memoizedState!==null,ll(e,t,r),Rn=n):ll(e,t,r);break;default:ll(e,t,r)}}function pM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new KQ),t.forEach(function(n){var i=iZ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ts(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:wn=l.stateNode,Ws=!1;break e;case 3:wn=l.stateNode.containerInfo,Ws=!0;break e;case 4:wn=l.stateNode.containerInfo,Ws=!0;break e}l=l.return}if(wn===null)throw Error(ye(160));H6(s,a,i),wn=null,Ws=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Cr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)q6(t,e),t=t.sibling}function q6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ts(t,e),_a(e),n&4){try{wm(3,e,e.return),Pw(3,e)}catch(m){Cr(e,e.return,m)}try{wm(5,e,e.return)}catch(m){Cr(e,e.return,m)}}break;case 1:Ts(t,e),_a(e),n&512&&r!==null&&Yd(r,r.return);break;case 5:if(Ts(t,e),_a(e),n&512&&r!==null&&Yd(r,r.return),e.flags&32){var i=e.stateNode;try{Bm(i,"")}catch(m){Cr(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&pB(i,s),oN(l,a);var u=oN(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?xB(i,f):d==="dangerouslySetInnerHTML"?vB(i,f):d==="children"?Bm(i,f):XO(i,d,f,u)}switch(l){case"input":rN(i,s);break;case"textarea":mB(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?uf(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?uf(i,!!s.multiple,s.defaultValue,!0):uf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ym]=s}catch(m){Cr(e,e.return,m)}}break;case 6:if(Ts(t,e),_a(e),n&4){if(e.stateNode===null)throw Error(ye(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Cr(e,e.return,m)}}break;case 3:if(Ts(t,e),_a(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vm(t.containerInfo)}catch(m){Cr(e,e.return,m)}break;case 4:Ts(t,e),_a(e);break;case 13:Ts(t,e),_a(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(PE=Tr())),n&4&&pM(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Rn=(u=Rn)||d,Ts(t,e),Rn=u):Ts(t,e),_a(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Re=e,d=e.child;d!==null;){for(f=Re=d;Re!==null;){switch(h=Re,p=h.child,h.tag){case 0:case 11:case 14:case 15:wm(4,h,h.return);break;case 1:Yd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Cr(n,r,m)}}break;case 5:Yd(h,h.return);break;case 22:if(h.memoizedState!==null){gM(f);continue}}p!==null?(p.return=h,Re=p):gM(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yB("display",a))}catch(m){Cr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Cr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ts(t,e),_a(e),n&4&&pM(e);break;case 21:break;default:Ts(t,e),_a(e)}}function _a(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(V6(r)){var n=r;break e}r=r.return}throw Error(ye(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bm(i,""),n.flags&=-33);var s=hM(e);DN(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=hM(e);$N(e,l,a);break;default:throw Error(ye(161))}}catch(c){Cr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JQ(e,t,r){Re=e,G6(e)}function G6(e,t,r){for(var n=(e.mode&1)!==0;Re!==null;){var i=Re,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||_y;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Rn;l=_y;var u=Rn;if(_y=a,(Rn=c)&&!u)for(Re=i;Re!==null;)a=Re,c=a.child,a.tag===22&&a.memoizedState!==null?vM(i):c!==null?(c.return=a,Re=c):vM(i);for(;s!==null;)Re=s,G6(s),s=s.sibling;Re=i,_y=l,Rn=u}mM(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Re=s):mM(e)}}function mM(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||Pw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ls(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Z2(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Z2(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}Rn||t.flags&512&&RN(t)}catch(h){Cr(t,t.return,h)}}if(t===e){Re=null;break}if(r=t.sibling,r!==null){r.return=t.return,Re=r;break}Re=t.return}}function gM(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Re=r;break}Re=t.return}}function vM(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Pw(4,t)}catch(c){Cr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Cr(t,i,c)}}var s=t.return;try{RN(t)}catch(c){Cr(t,s,c)}break;case 5:var a=t.return;try{RN(t)}catch(c){Cr(t,a,c)}}}catch(c){Cr(t,t.return,c)}if(t===e){Re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Re=l;break}Re=t.return}}var XQ=Math.ceil,xb=Qo.ReactCurrentDispatcher,OE=Qo.ReactCurrentOwner,gs=Qo.ReactCurrentBatchConfig,Et=0,mn=null,Vr=null,Sn=0,Ri=0,Jd=fc(0),en=0,tg=null,Pu=0,Tw=0,EE=0,_m=null,mi=null,PE=0,zf=1/0,po=null,bb=!1,LN=null,Gl=null,jy=!1,Dl=null,wb=0,jm=0,FN=null,Px=-1,Tx=0;function ri(){return Et&6?Tr():Px!==-1?Px:Px=Tr()}function Kl(e){return e.mode&1?Et&2&&Sn!==0?Sn&-Sn:IQ.transition!==null?(Tx===0&&(Tx=TB()),Tx):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:LB(e.type)),e):1}function Zs(e,t,r,n){if(50<jm)throw jm=0,FN=null,Error(ye(185));mv(e,r,n),(!(Et&2)||e!==mn)&&(e===mn&&(!(Et&2)&&(Tw|=r),en===4&&kl(e,Sn)),_i(e,n),r===1&&Et===0&&!(t.mode&1)&&(zf=Tr()+500,Cw&&hc()))}function _i(e,t){var r=e.callbackNode;IX(e,t);var n=ib(e,e===mn?Sn:0);if(n===0)r!==null&&k2(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&k2(r),t===1)e.tag===0?MQ(yM.bind(null,e)):n6(yM.bind(null,e)),EQ(function(){!(Et&6)&&hc()}),r=null;else{switch(AB(n)){case 1:r=rE;break;case 4:r=EB;break;case 16:r=nb;break;case 536870912:r=PB;break;default:r=nb}r=tU(r,K6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function K6(e,t){if(Px=-1,Tx=0,Et&6)throw Error(ye(327));var r=e.callbackNode;if(mf()&&e.callbackNode!==r)return null;var n=ib(e,e===mn?Sn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_b(e,n);else{t=n;var i=Et;Et|=2;var s=J6();(mn!==e||Sn!==t)&&(po=null,zf=Tr()+500,gu(e,t));do try{eZ();break}catch(l){Y6(e,l)}while(!0);mE(),xb.current=s,Et=i,Vr!==null?t=0:(mn=null,Sn=0,t=en)}if(t!==0){if(t===2&&(i=fN(e),i!==0&&(n=i,t=BN(e,i))),t===1)throw r=tg,gu(e,0),kl(e,n),_i(e,Tr()),r;if(t===6)kl(e,n);else{if(i=e.current.alternate,!(n&30)&&!QQ(i)&&(t=_b(e,n),t===2&&(s=fN(e),s!==0&&(n=s,t=BN(e,s))),t===1))throw r=tg,gu(e,0),kl(e,n),_i(e,Tr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ye(345));case 2:Uc(e,mi,po);break;case 3:if(kl(e,n),(n&130023424)===n&&(t=PE+500-Tr(),10<t)){if(ib(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ri(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bN(Uc.bind(null,e,mi,po),t);break}Uc(e,mi,po);break;case 4:if(kl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Qs(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=Tr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*XQ(n/1960))-n,10<n){e.timeoutHandle=bN(Uc.bind(null,e,mi,po),n);break}Uc(e,mi,po);break;case 5:Uc(e,mi,po);break;default:throw Error(ye(329))}}}return _i(e,Tr()),e.callbackNode===r?K6.bind(null,e):null}function BN(e,t){var r=_m;return e.current.memoizedState.isDehydrated&&(gu(e,t).flags|=256),e=_b(e,t),e!==2&&(t=mi,mi=r,t!==null&&UN(t)),e}function UN(e){mi===null?mi=e:mi.push.apply(mi,e)}function QQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!sa(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kl(e,t){for(t&=~EE,t&=~Tw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qs(t),n=1<<r;e[r]=-1,t&=~n}}function yM(e){if(Et&6)throw Error(ye(327));mf();var t=ib(e,0);if(!(t&1))return _i(e,Tr()),null;var r=_b(e,t);if(e.tag!==0&&r===2){var n=fN(e);n!==0&&(t=n,r=BN(e,n))}if(r===1)throw r=tg,gu(e,0),kl(e,t),_i(e,Tr()),r;if(r===6)throw Error(ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Uc(e,mi,po),_i(e,Tr()),null}function TE(e,t){var r=Et;Et|=1;try{return e(t)}finally{Et=r,Et===0&&(zf=Tr()+500,Cw&&hc())}}function Tu(e){Dl!==null&&Dl.tag===0&&!(Et&6)&&mf();var t=Et;Et|=1;var r=gs.transition,n=Ut;try{if(gs.transition=null,Ut=1,e)return e()}finally{Ut=n,gs.transition=r,Et=t,!(Et&6)&&hc()}}function AE(){Ri=Jd.current,dr(Jd)}function gu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,OQ(r)),Vr!==null)for(r=Vr.return;r!==null;){var n=r;switch(fE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&cb();break;case 3:Bf(),dr(bi),dr(zn),wE();break;case 5:bE(n);break;case 4:Bf();break;case 13:dr(_r);break;case 19:dr(_r);break;case 10:gE(n.type._context);break;case 22:case 23:AE()}r=r.return}if(mn=e,Vr=e=Yl(e.current,null),Sn=Ri=t,en=0,tg=null,EE=Tw=Pu=0,mi=_m=null,Zc!==null){for(t=0;t<Zc.length;t++)if(r=Zc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Zc=null}return e}function Y6(e,t){do{var r=Vr;try{if(mE(),Cx.current=yb,vb){for(var n=jr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}vb=!1}if(Eu=0,un=Xr=jr=null,bm=!1,Qm=0,OE.current=null,r===null||r.return===null){en=1,tg=t,Vr=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=Sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=sM(a);if(p!==null){p.flags&=-257,aM(p,a,l,s,t),p.mode&1&&iM(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){iM(s,u,t),ME();break e}c=Error(ye(426))}}else if(yr&&l.mode&1){var v=sM(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),aM(v,a,l,s,t),hE(Uf(c,l));break e}}s=c=Uf(c,l),en!==4&&(en=2),_m===null?_m=[s]:_m.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=A6(s,c,t);Q2(s,b);break e;case 1:l=c;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Gl===null||!Gl.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=M6(s,l,t);Q2(s,_);break e}}s=s.return}while(s!==null)}Q6(r)}catch(N){t=N,Vr===r&&r!==null&&(Vr=r=r.return);continue}break}while(!0)}function J6(){var e=xb.current;return xb.current=yb,e===null?yb:e}function ME(){(en===0||en===3||en===2)&&(en=4),mn===null||!(Pu&268435455)&&!(Tw&268435455)||kl(mn,Sn)}function _b(e,t){var r=Et;Et|=2;var n=J6();(mn!==e||Sn!==t)&&(po=null,gu(e,t));do try{ZQ();break}catch(i){Y6(e,i)}while(!0);if(mE(),Et=r,xb.current=n,Vr!==null)throw Error(ye(261));return mn=null,Sn=0,en}function ZQ(){for(;Vr!==null;)X6(Vr)}function eZ(){for(;Vr!==null&&!NX();)X6(Vr)}function X6(e){var t=eU(e.alternate,e,Ri);e.memoizedProps=e.pendingProps,t===null?Q6(e):Vr=t,OE.current=null}function Q6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=GQ(r,t),r!==null){r.flags&=32767,Vr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{en=6,Vr=null;return}}else if(r=qQ(r,t,Ri),r!==null){Vr=r;return}if(t=t.sibling,t!==null){Vr=t;return}Vr=t=e}while(t!==null);en===0&&(en=5)}function Uc(e,t,r){var n=Ut,i=gs.transition;try{gs.transition=null,Ut=1,tZ(e,t,r,n)}finally{gs.transition=i,Ut=n}return null}function tZ(e,t,r,n){do mf();while(Dl!==null);if(Et&6)throw Error(ye(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ye(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(RX(e,s),e===mn&&(Vr=mn=null,Sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jy||(jy=!0,tU(nb,function(){return mf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=gs.transition,gs.transition=null;var a=Ut;Ut=1;var l=Et;Et|=4,OE.current=null,YQ(e,r),q6(r,e),wQ(yN),sb=!!vN,yN=vN=null,e.current=r,JQ(r),kX(),Et=l,Ut=a,gs.transition=s}else e.current=r;if(jy&&(jy=!1,Dl=e,wb=i),s=e.pendingLanes,s===0&&(Gl=null),EX(r.stateNode),_i(e,Tr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(bb)throw bb=!1,e=LN,LN=null,e;return wb&1&&e.tag!==0&&mf(),s=e.pendingLanes,s&1?e===FN?jm++:(jm=0,FN=e):jm=0,hc(),null}function mf(){if(Dl!==null){var e=AB(wb),t=gs.transition,r=Ut;try{if(gs.transition=null,Ut=16>e?16:e,Dl===null)var n=!1;else{if(e=Dl,Dl=null,wb=0,Et&6)throw Error(ye(331));var i=Et;for(Et|=4,Re=e.current;Re!==null;){var s=Re,a=s.child;if(Re.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Re=u;Re!==null;){var d=Re;switch(d.tag){case 0:case 11:case 15:wm(8,d,s)}var f=d.child;if(f!==null)f.return=d,Re=f;else for(;Re!==null;){d=Re;var h=d.sibling,p=d.return;if(W6(d),d===u){Re=null;break}if(h!==null){h.return=p,Re=h;break}Re=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Re=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Re=a;else e:for(;Re!==null;){if(s=Re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wm(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Re=b;break e}Re=s.return}}var x=e.current;for(Re=x;Re!==null;){a=Re;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Re=w;else e:for(a=x;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pw(9,l)}}catch(N){Cr(l,l.return,N)}if(l===a){Re=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Re=_;break e}Re=l.return}}if(Et=i,hc(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(_w,e)}catch{}n=!0}return n}finally{Ut=r,gs.transition=t}}return!1}function xM(e,t,r){t=Uf(r,t),t=A6(e,t,1),e=ql(e,t,1),t=ri(),e!==null&&(mv(e,1,t),_i(e,t))}function Cr(e,t,r){if(e.tag===3)xM(e,e,r);else for(;t!==null;){if(t.tag===3){xM(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gl===null||!Gl.has(n))){e=Uf(r,e),e=M6(t,e,1),t=ql(t,e,1),e=ri(),t!==null&&(mv(t,1,e),_i(t,e));break}}t=t.return}}function rZ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ri(),e.pingedLanes|=e.suspendedLanes&r,mn===e&&(Sn&r)===r&&(en===4||en===3&&(Sn&130023424)===Sn&&500>Tr()-PE?gu(e,0):EE|=r),_i(e,t)}function Z6(e,t){t===0&&(e.mode&1?(t=hy,hy<<=1,!(hy&130023424)&&(hy=4194304)):t=1);var r=ri();e=Fo(e,t),e!==null&&(mv(e,t,r),_i(e,r))}function nZ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Z6(e,r)}function iZ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ye(314))}n!==null&&n.delete(t),Z6(e,r)}var eU;eU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bi.current)gi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gi=!1,HQ(e,t,r);gi=!!(e.flags&131072)}else gi=!1,yr&&t.flags&1048576&&i6(t,fb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ex(e,t),e=t.pendingProps;var i=Df(t,zn.current);pf(t,r),i=jE(null,t,n,e,i,r);var s=SE();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wi(n)?(s=!0,ub(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yE(t),i.updater=Ew,t.stateNode=i,i._reactInternals=t,CN(t,n,e,r),t=PN(null,t,n,!0,s,r)):(t.tag=0,yr&&s&&dE(t),qn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ex(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=aZ(n),e=Ls(n,e),i){case 0:t=EN(null,t,n,e,r);break e;case 1:t=cM(null,t,n,e,r);break e;case 11:t=oM(null,t,n,e,r);break e;case 14:t=lM(null,t,n,Ls(n.type,e),r);break e}throw Error(ye(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ls(n,i),EN(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ls(n,i),cM(e,t,n,i,r);case 3:e:{if(D6(t),e===null)throw Error(ye(387));n=t.pendingProps,s=t.memoizedState,i=s.element,u6(e,t),mb(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Uf(Error(ye(423)),t),t=uM(e,t,n,r,i);break e}else if(n!==i){i=Uf(Error(ye(424)),t),t=uM(e,t,n,r,i);break e}else for(Vi=Hl(t.stateNode.containerInfo.firstChild),qi=t,yr=!0,Gs=null,r=l6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lf(),n===i){t=Bo(e,t,r);break e}qn(e,t,n,r)}t=t.child}return t;case 5:return d6(t),e===null&&SN(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,xN(n,i)?a=null:s!==null&&xN(n,s)&&(t.flags|=32),$6(e,t),qn(e,t,a,r),t.child;case 6:return e===null&&SN(t),null;case 13:return L6(e,t,r);case 4:return xE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ff(t,null,n,r):qn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ls(n,i),oM(e,t,n,i,r);case 7:return qn(e,t,t.pendingProps,r),t.child;case 8:return qn(e,t,t.pendingProps.children,r),t.child;case 12:return qn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,er(hb,n._currentValue),n._currentValue=a,s!==null)if(sa(s.value,a)){if(s.children===i.children&&!bi.current){t=Bo(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=To(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),NN(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ye(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),NN(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}qn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,pf(t,r),i=bs(i),n=n(i),t.flags|=1,qn(e,t,n,r),t.child;case 14:return n=t.type,i=Ls(n,t.pendingProps),i=Ls(n.type,i),lM(e,t,n,i,r);case 15:return I6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ls(n,i),Ex(e,t),t.tag=1,wi(n)?(e=!0,ub(t)):e=!1,pf(t,r),T6(t,n,i),CN(t,n,i,r),PN(null,t,n,!0,e,r);case 19:return F6(e,t,r);case 22:return R6(e,t,r)}throw Error(ye(156,t.tag))};function tU(e,t){return OB(e,t)}function sZ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(e,t,r,n){return new sZ(e,t,r,n)}function IE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aZ(e){if(typeof e=="function")return IE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ZO)return 11;if(e===eE)return 14}return 2}function Yl(e,t){var r=e.alternate;return r===null?(r=fs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ax(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")IE(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Bd:return vu(r.children,i,s,t);case QO:a=8,i|=8;break;case XS:return e=fs(12,r,t,i|2),e.elementType=XS,e.lanes=s,e;case QS:return e=fs(13,r,t,i),e.elementType=QS,e.lanes=s,e;case ZS:return e=fs(19,r,t,i),e.elementType=ZS,e.lanes=s,e;case dB:return Aw(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cB:a=10;break e;case uB:a=9;break e;case ZO:a=11;break e;case eE:a=14;break e;case xl:a=16,n=null;break e}throw Error(ye(130,e==null?e:typeof e,""))}return t=fs(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function vu(e,t,r,n){return e=fs(7,e,n,t),e.lanes=r,e}function Aw(e,t,r,n){return e=fs(22,e,n,t),e.elementType=dB,e.lanes=r,e.stateNode={isHidden:!1},e}function s1(e,t,r){return e=fs(6,e,null,t),e.lanes=r,e}function a1(e,t,r){return t=fs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oZ(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bj(0),this.expirationTimes=Bj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bj(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function RE(e,t,r,n,i,s,a,l,c){return e=new oZ(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=fs(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yE(s),e}function lZ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rU(e){if(!e)return tc;e=e._reactInternals;e:{if(Zu(e)!==e||e.tag!==1)throw Error(ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ye(171))}if(e.tag===1){var r=e.type;if(wi(r))return r6(e,r,t)}return t}function nU(e,t,r,n,i,s,a,l,c){return e=RE(r,n,!0,e,i,s,a,l,c),e.context=rU(null),r=e.current,n=ri(),i=Kl(r),s=To(n,i),s.callback=t??null,ql(r,s,i),e.current.lanes=i,mv(e,i,n),_i(e,n),e}function Mw(e,t,r,n){var i=t.current,s=ri(),a=Kl(i);return r=rU(r),t.context===null?t.context=r:t.pendingContext=r,t=To(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ql(i,t,a),e!==null&&(Zs(e,i,a,s),kx(e,i,a)),a}function jb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $E(e,t){bM(e,t),(e=e.alternate)&&bM(e,t)}function cZ(){return null}var iU=typeof reportError=="function"?reportError:function(e){console.error(e)};function DE(e){this._internalRoot=e}Iw.prototype.render=DE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ye(409));Mw(e,t,null,null)};Iw.prototype.unmount=DE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tu(function(){Mw(null,e,null,null)}),t[Lo]=null}};function Iw(e){this._internalRoot=e}Iw.prototype.unstable_scheduleHydration=function(e){if(e){var t=RB();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nl.length&&t!==0&&t<Nl[r].priority;r++);Nl.splice(r,0,e),r===0&&DB(e)}};function LE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wM(){}function uZ(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=jb(a);s.call(u)}}var a=nU(t,n,e,0,null,!1,!1,"",wM);return e._reactRootContainer=a,e[Lo]=a.current,Gm(e.nodeType===8?e.parentNode:e),Tu(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=jb(c);l.call(u)}}var c=RE(e,0,!1,null,null,!1,!1,"",wM);return e._reactRootContainer=c,e[Lo]=c.current,Gm(e.nodeType===8?e.parentNode:e),Tu(function(){Mw(t,c,r,n)}),c}function $w(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=jb(a);l.call(c)}}Mw(t,a,e,i)}else a=uZ(r,t,e,i,n);return jb(a)}MB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=am(t.pendingLanes);r!==0&&(nE(t,r|1),_i(t,Tr()),!(Et&6)&&(zf=Tr()+500,hc()))}break;case 13:Tu(function(){var n=Fo(e,1);if(n!==null){var i=ri();Zs(n,e,1,i)}}),$E(e,1)}};iE=function(e){if(e.tag===13){var t=Fo(e,134217728);if(t!==null){var r=ri();Zs(t,e,134217728,r)}$E(e,134217728)}};IB=function(e){if(e.tag===13){var t=Kl(e),r=Fo(e,t);if(r!==null){var n=ri();Zs(r,e,t,n)}$E(e,t)}};RB=function(){return Ut};$B=function(e,t){var r=Ut;try{return Ut=e,t()}finally{Ut=r}};cN=function(e,t,r){switch(t){case"input":if(rN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=kw(n);if(!i)throw Error(ye(90));hB(n),rN(n,i)}}}break;case"textarea":mB(e,r);break;case"select":t=r.value,t!=null&&uf(e,!!r.multiple,t,!1)}};_B=TE;jB=Tu;var dZ={usingClientEntryPoint:!1,Events:[vv,Vd,kw,bB,wB,TE]},Pp={findFiberByHostInstance:Qc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fZ={bundleType:Pp.bundleType,version:Pp.version,rendererPackageName:Pp.rendererPackageName,rendererConfig:Pp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kB(e),e===null?null:e.stateNode},findFiberByHostInstance:Pp.findFiberByHostInstance||cZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sy.isDisabled&&Sy.supportsFiber)try{_w=Sy.inject(fZ),za=Sy}catch{}}Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dZ;Qi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LE(t))throw Error(ye(200));return lZ(e,t,null,r)};Qi.createRoot=function(e,t){if(!LE(e))throw Error(ye(299));var r=!1,n="",i=iU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=RE(e,1,!1,null,null,r,!1,n,i),e[Lo]=t.current,Gm(e.nodeType===8?e.parentNode:e),new DE(t)};Qi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ye(188)):(e=Object.keys(e).join(","),Error(ye(268,e)));return e=kB(t),e=e===null?null:e.stateNode,e};Qi.flushSync=function(e){return Tu(e)};Qi.hydrate=function(e,t,r){if(!Rw(t))throw Error(ye(200));return $w(null,e,t,!0,r)};Qi.hydrateRoot=function(e,t,r){if(!LE(e))throw Error(ye(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=iU;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=nU(t,null,e,1,r??null,i,!1,s,a),e[Lo]=t.current,Gm(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Iw(t)};Qi.render=function(e,t,r){if(!Rw(t))throw Error(ye(200));return $w(null,e,t,!1,r)};Qi.unmountComponentAtNode=function(e){if(!Rw(e))throw Error(ye(40));return e._reactRootContainer?(Tu(function(){$w(null,null,e,!1,function(){e._reactRootContainer=null,e[Lo]=null})}),!0):!1};Qi.unstable_batchedUpdates=TE;Qi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Rw(r))throw Error(ye(200));if(e==null||e._reactInternals===void 0)throw Error(ye(38));return $w(e,t,r,!1,n)};Qi.version="18.3.1-next-f1338f8080-20240426";function sU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sU)}catch(e){console.error(e)}}sU(),sB.exports=Qi;var ea=sB.exports;const gf=kt(ea);var aU,_M=ea;aU=_M.createRoot,_M.hydrateRoot;const hZ=1,pZ=1e6;let o1=0;function mZ(){return o1=(o1+1)%Number.MAX_SAFE_INTEGER,o1.toString()}const l1=new Map,jM=e=>{if(l1.has(e))return;const t=setTimeout(()=>{l1.delete(e),Sm({type:"REMOVE_TOAST",toastId:e})},pZ);l1.set(e,t)},gZ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,hZ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?jM(r):e.toasts.forEach(n=>{jM(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Mx=[];let Ix={toasts:[]};function Sm(e){Ix=gZ(Ix,e),Mx.forEach(t=>{t(Ix)})}function vZ({...e}){const t=mZ(),r=i=>Sm({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Sm({type:"DISMISS_TOAST",toastId:t});return Sm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function FE(){const[e,t]=y.useState(Ix);return y.useEffect(()=>(Mx.push(t),()=>{const r=Mx.indexOf(t);r>-1&&Mx.splice(r,1)}),[e]),{...e,toast:vZ,dismiss:r=>Sm({type:"DISMISS_TOAST",toastId:r})}}function ge(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function SM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Qa(...e){return t=>{let r=!1;const n=e.map(i=>{const s=SM(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():SM(e[i],null)}}}}function rt(...e){return y.useCallback(Qa(...e),e)}function yZ(e,t){const r=y.createContext(t),n=s=>{const{children:a,...l}=s,c=y.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function i(s){const a=y.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function kn(e,t=[]){let r=[];function n(s,a){const l=y.createContext(a),c=r.length;r=[...r,a];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(a=>y.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,xZ(i,...t)]}function xZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function NM(e){const t=bZ(e),r=y.forwardRef((n,i)=>{const{children:s,...a}=n,l=y.Children.toArray(s),c=l.find(_Z);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function bZ(e){const t=y.forwardRef((r,n)=>{const{children:i,...s}=r;if(y.isValidElement(i)){const a=SZ(i),l=jZ(s,i.props);return i.type!==y.Fragment&&(l.ref=n?Qa(n,a):a),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wZ=Symbol("radix.slottable");function _Z(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wZ}function jZ(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function SZ(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Dw(e){const t=e+"CollectionProvider",[r,n]=kn(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:v,children:b}=m,x=T.useRef(null),w=T.useRef(new Map).current;return o.jsx(i,{scope:v,itemMap:w,collectionRef:x,children:b})};a.displayName=t;const l=e+"CollectionSlot",c=NM(l),u=T.forwardRef((m,v)=>{const{scope:b,children:x}=m,w=s(l,b),_=rt(v,w.collectionRef);return o.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=NM(d),p=T.forwardRef((m,v)=>{const{scope:b,children:x,...w}=m,_=T.useRef(null),N=rt(v,_),j=s(d,b);return T.useEffect(()=>(j.itemMap.set(_,{ref:_,...w}),()=>void j.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:N,children:x})});p.displayName=d;function g(m){const v=s(e+"CollectionConsumer",m);return T.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((j,k)=>w.indexOf(j.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},g,n]}function NZ(e){const t=kZ(e),r=y.forwardRef((n,i)=>{const{children:s,...a}=n,l=y.Children.toArray(s),c=l.find(OZ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function kZ(e){const t=y.forwardRef((r,n)=>{const{children:i,...s}=r;if(y.isValidElement(i)){const a=PZ(i),l=EZ(s,i.props);return i.type!==y.Fragment&&(l.ref=n?Qa(n,a):a),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CZ=Symbol("radix.slottable");function OZ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CZ}function EZ(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function PZ(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var TZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=TZ.reduce((e,t)=>{const r=NZ(`Primitive.${t}`),n=y.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function BE(e,t){e&&ea.flushSync(()=>e.dispatchEvent(t))}function Er(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function AZ(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e);y.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var MZ="DismissableLayer",zN="dismissableLayer.update",IZ="dismissableLayer.pointerDownOutside",RZ="dismissableLayer.focusOutside",kM,oU=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ed=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=y.useContext(oU),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),g=rt(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),x=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,N=DZ(k=>{const C=k.target,P=[...u.branches].some(A=>A.contains(C));!_||P||(i==null||i(k),a==null||a(k),k.defaultPrevented||l==null||l())},h),j=LZ(k=>{const C=k.target;[...u.branches].some(A=>A.contains(C))||(s==null||s(k),a==null||a(k),k.defaultPrevented||l==null||l())},h);return AZ(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(kM=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),CM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=kM)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),CM())},[d,u]),y.useEffect(()=>{const k=()=>p({});return document.addEventListener(zN,k),()=>document.removeEventListener(zN,k)},[]),o.jsx(Fe.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,N.onPointerDownCapture)})});ed.displayName=MZ;var $Z="DismissableLayerBranch",lU=y.forwardRef((e,t)=>{const r=y.useContext(oU),n=y.useRef(null),i=rt(t,n);return y.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(Fe.div,{...e,ref:i})});lU.displayName=$Z;function DZ(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){cU(IZ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function LZ(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=y.useRef(!1);return y.useEffect(()=>{const i=s=>{s.target&&!n.current&&cU(RZ,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CM(){const e=new CustomEvent(zN);document.dispatchEvent(e)}function cU(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?BE(i,s):i.dispatchEvent(s)}var FZ=ed,BZ=lU,Rr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},UZ="Portal",zh=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,s]=y.useState(!1);Rr(()=>s(!0),[]);const a=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?gf.createPortal(o.jsx(Fe.div,{...n,ref:t}),a):null});zh.displayName=UZ;function zZ(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var nn=e=>{const{present:t,children:r}=e,n=WZ(t),i=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),s=rt(n.ref,VZ(i));return typeof r=="function"||n.isPresent?y.cloneElement(i,{ref:s}):null};nn.displayName="Presence";function WZ(e){const[t,r]=y.useState(),n=y.useRef(null),i=y.useRef(e),s=y.useRef("none"),a=e?"mounted":"unmounted",[l,c]=zZ(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Ny(n.current);s.current=l==="mounted"?u:"none"},[l]),Rr(()=>{const u=n.current,d=i.current;if(d!==e){const h=s.current,p=Ny(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Rr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Ny(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(s.current=Ny(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ny(e){return(e==null?void 0:e.animationName)||"none"}function VZ(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var HZ=ww[" useInsertionEffect ".trim().toString()]||Rr;function aa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,a]=qZ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=GZ(d)?d(e):d;h!==e&&((f=a.current)==null||f.call(a,h))}else s(d)},[l,e,s,a]);return[c,u]}function qZ({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),i=y.useRef(r),s=y.useRef(t);return HZ(()=>{s.current=t},[t]),y.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function GZ(e){return typeof e=="function"}var uU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KZ="VisuallyHidden",Lw=y.forwardRef((e,t)=>o.jsx(Fe.span,{...e,ref:t,style:{...uU,...e.style}}));Lw.displayName=KZ;var YZ=Lw,UE="ToastProvider",[zE,JZ,XZ]=Dw("Toast"),[dU]=kn("Toast",[XZ]),[QZ,Fw]=dU(UE),fU=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${UE}\`. Expected non-empty \`string\`.`),o.jsx(zE.Provider,{scope:t,children:o.jsx(QZ,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(p=>p+1),[]),onToastRemove:y.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};fU.displayName=UE;var hU="ToastViewport",ZZ=["F8"],WN="toast.viewportPause",VN="toast.viewportResume",pU=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=ZZ,label:i="Notifications ({hotkey})",...s}=e,a=Fw(hU,r),l=JZ(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=rt(t,f,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;y.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,b=f.current;if(g&&v&&b){const x=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(WN);b.dispatchEvent(j),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(VN);b.dispatchEvent(j),a.isClosePausedRef.current=!1}},_=j=>{!v.contains(j.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,a.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const _=w.ref.current,N=[_,...fee(_)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const b=x=>{var N,j,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const C=document.activeElement,P=x.shiftKey;if(x.target===v&&P){(N=u.current)==null||N.focus();return}const M=m({tabbingDirection:P?"backwards":"forwards"}),z=M.findIndex(L=>L===C);c1(M.slice(z+1))?x.preventDefault():P?(j=u.current)==null||j.focus():(k=d.current)==null||k.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,m]),o.jsxs(BZ,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(HN,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});c1(v)}}),o.jsx(zE.Slot,{scope:r,children:o.jsx(Fe.ol,{tabIndex:-1,...s,ref:h})}),g&&o.jsx(HN,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});c1(v)}})]})});pU.displayName=hU;var mU="ToastFocusProxy",HN=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,s=Fw(mU,r);return o.jsx(Lw,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});HN.displayName=mU;var xv="Toast",eee="toast.swipeStart",tee="toast.swipeMove",ree="toast.swipeCancel",nee="toast.swipeEnd",gU=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=e,[l,c]=aa({prop:n,defaultProp:i??!0,onChange:s,caller:xv});return o.jsx(nn,{present:r||l,children:o.jsx(aee,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:Er(e.onPause),onResume:Er(e.onResume),onSwipeStart:ge(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ge(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});gU.displayName=xv;var[iee,see]=dU(xv,{onClose(){}}),aee=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=Fw(xv,r),[v,b]=y.useState(null),x=rt(t,L=>b(L)),w=y.useRef(null),_=y.useRef(null),N=i||m.duration,j=y.useRef(0),k=y.useRef(N),C=y.useRef(0),{onToastAdd:P,onToastRemove:A}=m,I=Er(()=>{var W;(v==null?void 0:v.contains(document.activeElement))&&((W=m.viewport)==null||W.focus()),a()}),M=y.useCallback(L=>{!L||L===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(I,L))},[I]);y.useEffect(()=>{const L=m.viewport;if(L){const W=()=>{M(k.current),u==null||u()},F=()=>{const D=new Date().getTime()-j.current;k.current=k.current-D,window.clearTimeout(C.current),c==null||c()};return L.addEventListener(WN,F),L.addEventListener(VN,W),()=>{L.removeEventListener(WN,F),L.removeEventListener(VN,W)}}},[m.viewport,N,c,u,M]),y.useEffect(()=>{s&&!m.isClosePausedRef.current&&M(N)},[s,N,m.isClosePausedRef,M]),y.useEffect(()=>(P(),()=>A()),[P,A]);const z=y.useMemo(()=>v?jU(v):null,[v]);return m.viewport?o.jsxs(o.Fragment,{children:[z&&o.jsx(oee,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:z}),o.jsx(iee,{scope:r,onClose:I,children:ea.createPortal(o.jsx(zE.ItemSlot,{scope:r,children:o.jsx(FZ,{asChild:!0,onEscapeKeyDown:ge(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||I(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Fe.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ge(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:ge(e.onPointerDown,L=>{L.button===0&&(w.current={x:L.clientX,y:L.clientY})}),onPointerMove:ge(e.onPointerMove,L=>{if(!w.current)return;const W=L.clientX-w.current.x,F=L.clientY-w.current.y,D=!!_.current,R=["left","right"].includes(m.swipeDirection),B=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,K=R?B(0,W):0,ee=R?0:B(0,F),te=L.pointerType==="touch"?10:2,S={x:K,y:ee},O={originalEvent:L,delta:S};D?(_.current=S,ky(tee,f,O,{discrete:!1})):OM(S,m.swipeDirection,te)?(_.current=S,ky(eee,d,O,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(W)>te||Math.abs(F)>te)&&(w.current=null)}),onPointerUp:ge(e.onPointerUp,L=>{const W=_.current,F=L.target;if(F.hasPointerCapture(L.pointerId)&&F.releasePointerCapture(L.pointerId),_.current=null,w.current=null,W){const D=L.currentTarget,R={originalEvent:L,delta:W};OM(W,m.swipeDirection,m.swipeThreshold)?ky(nee,p,R,{discrete:!0}):ky(ree,h,R,{discrete:!0}),D.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),oee=e=>{const{__scopeToast:t,children:r,...n}=e,i=Fw(xv,t),[s,a]=y.useState(!1),[l,c]=y.useState(!1);return uee(()=>a(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(zh,{asChild:!0,children:o.jsx(Lw,{...n,children:s&&o.jsxs(o.Fragment,{children:[i.label," ",r]})})})},lee="ToastTitle",vU=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Fe.div,{...n,ref:t})});vU.displayName=lee;var cee="ToastDescription",yU=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Fe.div,{...n,ref:t})});yU.displayName=cee;var xU="ToastAction",bU=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(_U,{altText:r,asChild:!0,children:o.jsx(WE,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${xU}\`. Expected non-empty \`string\`.`),null)});bU.displayName=xU;var wU="ToastClose",WE=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=see(wU,r);return o.jsx(_U,{asChild:!0,children:o.jsx(Fe.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,i.onClose)})})});WE.displayName=wU;var _U=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return o.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function jU(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),dee(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...jU(n))}}),t}function ky(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?BE(i,s):i.dispatchEvent(s)}var OM=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return t==="left"||t==="right"?s&&n>r:!s&&i>r};function uee(e=()=>{}){const t=Er(e);Rr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function dee(e){return e.nodeType===e.ELEMENT_NODE}function fee(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function c1(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var hee=fU,SU=pU,NU=gU,kU=vU,CU=yU,OU=bU,EU=WE;function PU(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=PU(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=PU(e))&&(n&&(n+=" "),n+=t);return n}const EM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PM=ut,Bw=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return PM(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=EM(d)||EM(f);return i[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...l}[m]):{...s,...l}[m]===v})?[...u,f,h]:u},[]);return PM(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TU=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...l},c)=>y.createElement("svg",{ref:c,...mee,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:TU("lucide",i),...l},[...a.map(([u,d])=>y.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=y.forwardRef(({className:n,...i},s)=>y.createElement(gee,{ref:s,iconNode:t,className:TU(`lucide-${pee(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=xe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=xe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=xe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=xe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=xe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=xe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=xe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=xe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=xe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=xe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=xe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=xe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=xe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=xe("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=xe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=xe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=xe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=xe("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=xe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=xe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=xe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=xe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=xe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=xe("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=xe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=xe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=xe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=xe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=xe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=xe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=xe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=xe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=xe("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=xe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=xe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=xe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=xe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=xe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=xe("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=xe("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),JE="-",qee=e=>{const t=Kee(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(JE);return l[0]===""&&l.length!==1&&l.shift(),BU(l,t)||Gee(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},BU=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?BU(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(JE);return(a=t.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},DM=/^\[(.+)\]$/,Gee=e=>{if(DM.test(e)){const t=DM.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Kee=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Jee(Object.entries(e.classGroups),r).forEach(([s,a])=>{GN(a,n,s,t)}),n},GN=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:LM(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(Yee(i)){GN(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{GN(a,LM(t,s),r,n)})})},LM=(e,t)=>{let r=e;return t.split(JE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Yee=e=>e.isThemeGetter,Jee=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[t+a,l])):s);return[r,i]}):e,Xee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},UU="!",Qee=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,a=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===i&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(UU),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:a}):a},Zee=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ete=e=>({cache:Xee(e.cacheSize),parseClassName:Qee(e),...qee(e)}),tte=/\s+/,rte=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(tte);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Zee(d).join(":"),b=f?v+UU:v,x=b+m;if(s.includes(x))continue;s.push(x);const w=i(m,g);for(let _=0;_<w.length;++_){const N=w[_];s.push(b+N)}l=u+(l.length>0?" "+l:l)}return l};function nte(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zU(t))&&(n&&(n+=" "),n+=r);return n}const zU=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zU(e[n]))&&(r&&(r+=" "),r+=t);return r};function ite(e,...t){let r,n,i,s=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return r=ete(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=rte(c,r);return i(c,d),d}return function(){return s(nte.apply(null,arguments))}}const sr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},WU=/^\[(?:([a-z-]+):)?(.+)\]$/i,ste=/^\d+\/\d+$/,ate=new Set(["px","full","screen"]),ote=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ute=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ao=e=>vf(e)||ate.has(e)||ste.test(e),cl=e=>Vh(e,"length",xte),vf=e=>!!e&&!Number.isNaN(Number(e)),f1=e=>Vh(e,"number",vf),Ap=e=>!!e&&Number.isInteger(Number(e)),fte=e=>e.endsWith("%")&&vf(e.slice(0,-1)),mt=e=>WU.test(e),ul=e=>ote.test(e),hte=new Set(["length","size","percentage"]),pte=e=>Vh(e,hte,VU),mte=e=>Vh(e,"position",VU),gte=new Set(["image","url"]),vte=e=>Vh(e,gte,wte),yte=e=>Vh(e,"",bte),Mp=()=>!0,Vh=(e,t,r)=>{const n=WU.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},xte=e=>lte.test(e)&&!cte.test(e),VU=()=>!1,bte=e=>ute.test(e),wte=e=>dte.test(e),_te=()=>{const e=sr("colors"),t=sr("spacing"),r=sr("blur"),n=sr("brightness"),i=sr("borderColor"),s=sr("borderRadius"),a=sr("borderSpacing"),l=sr("borderWidth"),c=sr("contrast"),u=sr("grayscale"),d=sr("hueRotate"),f=sr("invert"),h=sr("gap"),p=sr("gradientColorStops"),g=sr("gradientColorStopPositions"),m=sr("inset"),v=sr("margin"),b=sr("opacity"),x=sr("padding"),w=sr("saturate"),_=sr("scale"),N=sr("sepia"),j=sr("skew"),k=sr("space"),C=sr("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",mt,t],M=()=>[mt,t],z=()=>["",ao,cl],L=()=>["auto",vf,mt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",mt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[vf,mt];return{cacheSize:500,separator:":",theme:{colors:[Mp],spacing:[ao,cl],blur:["none","",ul,mt],brightness:ee(),borderColor:[e],borderRadius:["none","","full",ul,mt],borderSpacing:M(),borderWidth:z(),contrast:ee(),grayscale:B(),hueRotate:ee(),invert:B(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[fte,cl],inset:I(),margin:I(),opacity:ee(),padding:M(),saturate:ee(),scale:ee(),sepia:B(),skew:ee(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",mt]}],container:["container"],columns:[{columns:[ul]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),mt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ap,mt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Ap,mt]}],"grid-cols":[{"grid-cols":[Mp]}],"col-start-end":[{col:["auto",{span:["full",Ap,mt]},mt]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Mp]}],"row-start-end":[{row:["auto",{span:[Ap,mt]},mt]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mt,t]}],"min-w":[{"min-w":[mt,t,"min","max","fit"]}],"max-w":[{"max-w":[mt,t,"none","full","min","max","fit","prose",{screen:[ul]},ul]}],h:[{h:[mt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ul,cl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",f1]}],"font-family":[{font:[Mp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mt]}],"line-clamp":[{"line-clamp":["none",vf,f1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ao,mt]}],"list-image":[{"list-image":["none",mt]}],"list-style-type":[{list:["none","disc","decimal",mt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ao,cl]}],"underline-offset":[{"underline-offset":["auto",ao,mt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),mte]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vte]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[ao,mt]}],"outline-w":[{outline:[ao,cl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ao,cl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ul,yte]}],"shadow-color":[{shadow:[Mp]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ul,mt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mt]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",mt]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",mt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ap,mt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ao,cl,f1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jte=ite(_te);function _e(...e){return jte(ut(e))}const Ste=hee,HU=y.forwardRef(({className:e,...t},r)=>o.jsx(SU,{ref:r,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));HU.displayName=SU.displayName;const Nte=Bw("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qU=y.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(NU,{ref:n,className:_e(Nte({variant:t}),e),...r}));qU.displayName=NU.displayName;const kte=y.forwardRef(({className:e,...t},r)=>o.jsx(OU,{ref:r,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));kte.displayName=OU.displayName;const GU=y.forwardRef(({className:e,...t},r)=>o.jsx(EU,{ref:r,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Za,{className:"h-4 w-4"})}));GU.displayName=EU.displayName;const KU=y.forwardRef(({className:e,...t},r)=>o.jsx(kU,{ref:r,className:_e("text-sm font-semibold",e),...t}));KU.displayName=kU.displayName;const YU=y.forwardRef(({className:e,...t},r)=>o.jsx(CU,{ref:r,className:_e("text-sm opacity-90",e),...t}));YU.displayName=CU.displayName;function Cte(){const{toasts:e}=FE();return o.jsxs(Ste,{children:[e.map(function({id:t,title:r,description:n,action:i,...s}){return o.jsxs(qU,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(KU,{children:r}),n&&o.jsx(YU,{children:n})]}),i,o.jsx(GU,{})]},t)}),o.jsx(HU,{})]})}var FM=["light","dark"],Ote="(prefers-color-scheme: dark)",Ete=y.createContext(void 0),Pte={setTheme:e=>{},themes:[]},Tte=()=>{var e;return(e=y.useContext(Ete))!=null?e:Pte};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?FM.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,v=!0)=>{let b=a?a[g]:g,x=m?g+"|| ''":`'${b}'`,w="";return i&&v&&!m&&FM.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?m||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Ote}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var Ate=e=>{switch(e){case"success":return Rte;case"info":return Dte;case"warning":return $te;case"error":return Lte;default:return null}},Mte=Array(12).fill(0),Ite=({visible:e,className:t})=>T.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},T.createElement("div",{className:"sonner-spinner"},Mte.map((r,n)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Rte=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$te=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Dte=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Lte=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Fte=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Bte=()=>{let[e,t]=T.useState(document.hidden);return T.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},KN=1,Ute=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:KN++,a=this.toasts.find(c=>c.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...t,id:s,title:n}),{...c,...t,id:s,dismissible:l,title:n}):c):this.addToast({title:n,...i,dismissible:l,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=t instanceof Promise?t:t(),s=n!==void 0,a,l=i.then(async u=>{if(a=["resolve",u],T.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(Wte(u)&&!u.ok){s=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){s=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){s=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;s&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||KN++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},hi=new Ute,zte=(e,t)=>{let r=(t==null?void 0:t.id)||KN++;return hi.addToast({title:e,...t,id:r}),r},Wte=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Vte=zte,Hte=()=>hi.toasts,qte=()=>hi.getActiveToasts(),oe=Object.assign(Vte,{success:hi.success,info:hi.info,warning:hi.warning,error:hi.error,custom:hi.custom,message:hi.message,promise:hi.promise,dismiss:hi.dismiss,loading:hi.loading},{getHistory:Hte,getToasts:qte});function Gte(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Gte(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cy(e){return e.label!==void 0}var Kte=3,Yte="32px",Jte="16px",BM=4e3,Xte=356,Qte=14,Zte=20,ere=200;function As(...e){return e.filter(Boolean).join(" ")}function tre(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var rre=e=>{var t,r,n,i,s,a,l,c,u,d,f;let{invert:h,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:b,heights:x,index:w,toasts:_,expanded:N,removeToast:j,defaultRichColors:k,closeButton:C,style:P,cancelButtonStyle:A,actionButtonStyle:I,className:M="",descriptionClassName:z="",duration:L,position:W,gap:F,loadingIcon:D,expandByDefault:R,classNames:B,icons:K,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:te}=e,[S,O]=T.useState(null),[E,U]=T.useState(null),[$,G]=T.useState(!1),[V,q]=T.useState(!1),[X,Y]=T.useState(!1),[pe,Ne]=T.useState(!1),[Ke,Ve]=T.useState(!1),[He,bt]=T.useState(0),[Ct,wt]=T.useState(0),H=T.useRef(p.duration||L||BM),Q=T.useRef(null),ne=T.useRef(null),Se=w===0,be=w+1<=b,J=p.type,he=p.dismissible!==!1,Ge=p.className||"",nt=p.descriptionClassName||"",Vt=T.useMemo(()=>x.findIndex(at=>at.toastId===p.id)||0,[x,p.id]),rs=T.useMemo(()=>{var at;return(at=p.closeButton)!=null?at:C},[p.closeButton,C]),Ci=T.useMemo(()=>p.duration||L||BM,[p.duration,L]),Cc=T.useRef(0),ns=T.useRef(0),ol=T.useRef(0),ba=T.useRef(null),[Oc,bp]=W.split("-"),Ec=T.useMemo(()=>x.reduce((at,It,Ht)=>Ht>=Vt?at:at+It.height,0),[x,Vt]),ny=Bte(),iy=p.invert||h,hd=J==="loading";ns.current=T.useMemo(()=>Vt*F+Ec,[Vt,Ec]),T.useEffect(()=>{H.current=Ci},[Ci]),T.useEffect(()=>{G(!0)},[]),T.useEffect(()=>{let at=ne.current;if(at){let It=at.getBoundingClientRect().height;return wt(It),v(Ht=>[{toastId:p.id,height:It,position:p.position},...Ht]),()=>v(Ht=>Ht.filter(ui=>ui.toastId!==p.id))}},[v,p.id]),T.useLayoutEffect(()=>{if(!$)return;let at=ne.current,It=at.style.height;at.style.height="auto";let Ht=at.getBoundingClientRect().height;at.style.height=It,wt(Ht),v(ui=>ui.find(di=>di.toastId===p.id)?ui.map(di=>di.toastId===p.id?{...di,height:Ht}:di):[{toastId:p.id,height:Ht,position:p.position},...ui])},[$,p.title,p.description,v,p.id]);let Os=T.useCallback(()=>{q(!0),bt(ns.current),v(at=>at.filter(It=>It.toastId!==p.id)),setTimeout(()=>{j(p)},ere)},[p,j,v,ns]);T.useEffect(()=>{if(p.promise&&J==="loading"||p.duration===1/0||p.type==="loading")return;let at;return N||m||te&&ny?(()=>{if(ol.current<Cc.current){let It=new Date().getTime()-Cc.current;H.current=H.current-It}ol.current=new Date().getTime()})():H.current!==1/0&&(Cc.current=new Date().getTime(),at=setTimeout(()=>{var It;(It=p.onAutoClose)==null||It.call(p,p),Os()},H.current)),()=>clearTimeout(at)},[N,m,p,J,te,ny,Os]),T.useEffect(()=>{p.delete&&Os()},[Os,p.delete]);function sy(){var at,It,Ht;return K!=null&&K.loading?T.createElement("div",{className:As(B==null?void 0:B.loader,(at=p==null?void 0:p.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":J==="loading"},K.loading):D?T.createElement("div",{className:As(B==null?void 0:B.loader,(It=p==null?void 0:p.classNames)==null?void 0:It.loader,"sonner-loader"),"data-visible":J==="loading"},D):T.createElement(Ite,{className:As(B==null?void 0:B.loader,(Ht=p==null?void 0:p.classNames)==null?void 0:Ht.loader),visible:J==="loading"})}return T.createElement("li",{tabIndex:0,ref:ne,className:As(M,Ge,B==null?void 0:B.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[J],(r=p==null?void 0:p.classNames)==null?void 0:r[J]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":$,"data-promise":!!p.promise,"data-swiped":Ke,"data-removed":V,"data-visible":be,"data-y-position":Oc,"data-x-position":bp,"data-index":w,"data-front":Se,"data-swiping":X,"data-dismissible":he,"data-type":J,"data-invert":iy,"data-swipe-out":pe,"data-swipe-direction":E,"data-expanded":!!(N||R&&$),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${V?He:ns.current}px`,"--initial-height":R?"auto":`${Ct}px`,...P,...p.style},onDragEnd:()=>{Y(!1),O(null),ba.current=null},onPointerDown:at=>{hd||!he||(Q.current=new Date,bt(ns.current),at.target.setPointerCapture(at.pointerId),at.target.tagName!=="BUTTON"&&(Y(!0),ba.current={x:at.clientX,y:at.clientY}))},onPointerUp:()=>{var at,It,Ht,ui;if(pe||!he)return;ba.current=null;let di=Number(((at=ne.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Es=Number(((It=ne.current)==null?void 0:It.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),wa=new Date().getTime()-((Ht=Q.current)==null?void 0:Ht.getTime()),fi=S==="x"?di:Es,Ps=Math.abs(fi)/wa;if(Math.abs(fi)>=Zte||Ps>.11){bt(ns.current),(ui=p.onDismiss)==null||ui.call(p,p),U(S==="x"?di>0?"right":"left":Es>0?"down":"up"),Os(),Ne(!0),Ve(!1);return}Y(!1),O(null)},onPointerMove:at=>{var It,Ht,ui,di;if(!ba.current||!he||((It=window.getSelection())==null?void 0:It.toString().length)>0)return;let Es=at.clientY-ba.current.y,wa=at.clientX-ba.current.x,fi=(Ht=e.swipeDirections)!=null?Ht:tre(W);!S&&(Math.abs(wa)>1||Math.abs(Es)>1)&&O(Math.abs(wa)>Math.abs(Es)?"x":"y");let Ps={x:0,y:0};S==="y"?(fi.includes("top")||fi.includes("bottom"))&&(fi.includes("top")&&Es<0||fi.includes("bottom")&&Es>0)&&(Ps.y=Es):S==="x"&&(fi.includes("left")||fi.includes("right"))&&(fi.includes("left")&&wa<0||fi.includes("right")&&wa>0)&&(Ps.x=wa),(Math.abs(Ps.x)>0||Math.abs(Ps.y)>0)&&Ve(!0),(ui=ne.current)==null||ui.style.setProperty("--swipe-amount-x",`${Ps.x}px`),(di=ne.current)==null||di.style.setProperty("--swipe-amount-y",`${Ps.y}px`)}},rs&&!p.jsx?T.createElement("button",{"aria-label":ee,"data-disabled":hd,"data-close-button":!0,onClick:hd||!he?()=>{}:()=>{var at;Os(),(at=p.onDismiss)==null||at.call(p,p)},className:As(B==null?void 0:B.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=K==null?void 0:K.close)!=null?s:Fte):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:T.createElement(T.Fragment,null,J||p.icon||p.promise?T.createElement("div",{"data-icon":"",className:As(B==null?void 0:B.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||sy():null,p.type!=="loading"?p.icon||(K==null?void 0:K[J])||Ate(J):null):null,T.createElement("div",{"data-content":"",className:As(B==null?void 0:B.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},T.createElement("div",{"data-title":"",className:As(B==null?void 0:B.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?T.createElement("div",{"data-description":"",className:As(z,nt,B==null?void 0:B.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&Cy(p.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:at=>{var It,Ht;Cy(p.cancel)&&he&&((Ht=(It=p.cancel).onClick)==null||Ht.call(It,at),Os())},className:As(B==null?void 0:B.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&Cy(p.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:at=>{var It,Ht;Cy(p.action)&&((Ht=(It=p.action).onClick)==null||Ht.call(It,at),!at.defaultPrevented&&Os())},className:As(B==null?void 0:B.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function UM(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function nre(e,t){let r={};return[e,t].forEach((n,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?Jte:Yte;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=l:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var ire=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=Kte,toastOptions:m,dir:v=UM(),gap:b=Qte,loadingIcon:x,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:N}=e,[j,k]=T.useState([]),C=T.useMemo(()=>Array.from(new Set([n].concat(j.filter(te=>te.position).map(te=>te.position)))),[j,n]),[P,A]=T.useState([]),[I,M]=T.useState(!1),[z,L]=T.useState(!1),[W,F]=T.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=T.useRef(null),R=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=T.useRef(null),K=T.useRef(!1),ee=T.useCallback(te=>{k(S=>{var O;return(O=S.find(E=>E.id===te.id))!=null&&O.delete||hi.dismiss(te.id),S.filter(({id:E})=>E!==te.id)})},[]);return T.useEffect(()=>hi.subscribe(te=>{if(te.dismiss){k(S=>S.map(O=>O.id===te.id?{...O,delete:!0}:O));return}setTimeout(()=>{gf.flushSync(()=>{k(S=>{let O=S.findIndex(E=>E.id===te.id);return O!==-1?[...S.slice(0,O),{...S[O],...te},...S.slice(O+1)]:[te,...S]})})})}),[]),T.useEffect(()=>{if(d!=="system"){F(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:S})=>{F(S?"dark":"light")})}catch{te.addListener(({matches:O})=>{try{F(O?"dark":"light")}catch(E){console.error(E)}})}},[d]),T.useEffect(()=>{j.length<=1&&M(!1)},[j]),T.useEffect(()=>{let te=S=>{var O,E;i.every(U=>S[U]||S.code===U)&&(M(!0),(O=D.current)==null||O.focus()),S.code==="Escape"&&(document.activeElement===D.current||(E=D.current)!=null&&E.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[i]),T.useEffect(()=>{if(D.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,K.current=!1)}},[D.current]),T.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((te,S)=>{var O;let[E,U]=te.split("-");return j.length?T.createElement("ol",{key:te,dir:v==="auto"?UM():v,tabIndex:-1,ref:D,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":E,"data-lifted":I&&j.length>1&&!s,"data-x-position":U,style:{"--front-toast-height":`${((O=P[0])==null?void 0:O.height)||0}px`,"--width":`${Xte}px`,"--gap":`${b}px`,...p,...nre(c,u)},onBlur:$=>{K.current&&!$.currentTarget.contains($.relatedTarget)&&(K.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||K.current||(K.current=!0,B.current=$.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{z||M(!1)},onDragEnd:()=>M(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},j.filter($=>!$.position&&S===0||$.position===te).map(($,G)=>{var V,q;return T.createElement(rre,{key:$.id,icons:w,index:G,toast:$,defaultRichColors:f,duration:(V=m==null?void 0:m.duration)!=null?V:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(q=m==null?void 0:m.closeButton)!=null?q:a,interacting:z,position:te,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ee,toasts:j.filter(X=>X.position==$.position),heights:P.filter(X=>X.position==$.position),setHeights:A,expandByDefault:s,gap:b,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const sre=({...e})=>{const{theme:t="system"}=Tte();return o.jsx(ire,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var are=ww[" useId ".trim().toString()]||(()=>{}),ore=0;function ra(e){const[t,r]=y.useState(are());return Rr(()=>{r(n=>n??String(ore++))},[e]),t?`radix-${t}`:""}const lre=["top","right","bottom","left"],nc=Math.min,Fi=Math.max,Cb=Math.round,Oy=Math.floor,Va=e=>({x:e,y:e}),cre={left:"right",right:"left",bottom:"top",top:"bottom"},ure={start:"end",end:"start"};function YN(e,t,r){return Fi(e,nc(t,r))}function zo(e,t){return typeof e=="function"?e(t):e}function Wo(e){return e.split("-")[0]}function Hh(e){return e.split("-")[1]}function XE(e){return e==="x"?"y":"x"}function QE(e){return e==="y"?"height":"width"}const dre=new Set(["top","bottom"]);function Ra(e){return dre.has(Wo(e))?"y":"x"}function ZE(e){return XE(Ra(e))}function fre(e,t,r){r===void 0&&(r=!1);const n=Hh(e),i=ZE(e),s=QE(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Ob(a)),[a,Ob(a)]}function hre(e){const t=Ob(e);return[JN(e),t,JN(t)]}function JN(e){return e.replace(/start|end/g,t=>ure[t])}const zM=["left","right"],WM=["right","left"],pre=["top","bottom"],mre=["bottom","top"];function gre(e,t,r){switch(e){case"top":case"bottom":return r?t?WM:zM:t?zM:WM;case"left":case"right":return t?pre:mre;default:return[]}}function vre(e,t,r,n){const i=Hh(e);let s=gre(Wo(e),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(JN)))),s}function Ob(e){return e.replace(/left|right|bottom|top/g,t=>cre[t])}function yre(e){return{top:0,right:0,bottom:0,left:0,...e}}function JU(e){return typeof e!="number"?yre(e):{top:e,right:e,bottom:e,left:e}}function Eb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function VM(e,t,r){let{reference:n,floating:i}=e;const s=Ra(t),a=ZE(t),l=QE(a),c=Wo(t),u=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Hh(t)){case"start":p[a]-=h*(r&&u?-1:1);break;case"end":p[a]+=h*(r&&u?-1:1);break}return p}async function xre(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=zo(t,e),g=JU(p),v=l[h?f==="floating"?"reference":"floating":f],b=Eb(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Eb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-N.top+g.top)/_.y,bottom:(N.bottom-b.bottom+g.bottom)/_.y,left:(b.left-N.left+g.left)/_.x,right:(N.right-b.right+g.right)/_.x}}const bre=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=VM(u,n,c),h=n,p={},g=0;for(let v=0;v<l.length;v++){var m;const{name:b,fn:x}=l[v],{x:w,y:_,data:N,reset:j}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:{...a,detectOverflow:(m=a.detectOverflow)!=null?m:xre},elements:{reference:e,floating:t}});d=w??d,f=_??f,p={...p,[b]:{...p[b],...N}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:d,y:f}=VM(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}},wre=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=zo(e,t)||{};if(u==null)return{};const f=JU(d),h={x:r,y:n},p=ZE(i),g=QE(p),m=await a.getDimensions(u),v=p==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[p]-h[p]-s.floating[g],N=h[p]-s.reference[p],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let k=j?j[w]:0;(!k||!await(a.isElement==null?void 0:a.isElement(j)))&&(k=l.floating[w]||s.floating[g]);const C=_/2-N/2,P=k/2-m[g]/2-1,A=nc(f[b],P),I=nc(f[x],P),M=A,z=k-m[g]-I,L=k/2-m[g]/2+C,W=YN(M,L,z),F=!c.arrow&&Hh(i)!=null&&L!==W&&s.reference[g]/2-(L<M?A:I)-m[g]/2<0,D=F?L<M?L-M:L-z:0;return{[p]:h[p]+D,data:{[p]:W,centerOffset:L-W-D,...F&&{alignmentOffset:D}},reset:F}}}),_re=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=zo(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=Wo(i),x=Ra(l),w=Wo(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(w||!m?[Ob(l)]:hre(l)),j=g!=="none";!h&&j&&N.push(...vre(l,m,g,_));const k=[l,...N],C=await c.detectOverflow(t,v),P=[];let A=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&P.push(C[b]),f){const L=fre(i,a,_);P.push(C[L[0]],C[L[1]])}if(A=[...A,{placement:i,overflows:P}],!P.every(L=>L<=0)){var I,M;const L=(((I=s.flip)==null?void 0:I.index)||0)+1,W=k[L];if(W&&(!(f==="alignment"?x!==Ra(W):!1)||A.every(R=>Ra(R.placement)===x?R.overflows[0]>0:!0)))return{data:{index:L,overflows:A},reset:{placement:W}};let F=(M=A.filter(D=>D.overflows[0]<=0).sort((D,R)=>D.overflows[1]-R.overflows[1])[0])==null?void 0:M.placement;if(!F)switch(p){case"bestFit":{var z;const D=(z=A.filter(R=>{if(j){const B=Ra(R.placement);return B===x||B==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(B=>B>0).reduce((B,K)=>B+K,0)]).sort((R,B)=>R[1]-B[1])[0])==null?void 0:z[0];D&&(F=D);break}case"initialPlacement":F=l;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function HM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qM(e){return lre.some(t=>e[t]>=0)}const jre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:i="referenceHidden",...s}=zo(e,t);switch(i){case"referenceHidden":{const a=await n.detectOverflow(t,{...s,elementContext:"reference"}),l=HM(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:qM(l)}}}case"escaped":{const a=await n.detectOverflow(t,{...s,altBoundary:!0}),l=HM(a,r.floating);return{data:{escapedOffsets:l,escaped:qM(l)}}}default:return{}}}}},XU=new Set(["left","top"]);async function Sre(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Wo(r),l=Hh(r),c=Ra(r)==="y",u=XU.has(a)?-1:1,d=s&&c?-1:1,f=zo(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Nre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:a,middlewareData:l}=t,c=await Sre(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},kre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i,platform:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x,y:w}=b;return{x,y:w}}},...u}=zo(e,t),d={x:r,y:n},f=await s.detectOverflow(t,u),h=Ra(Wo(i)),p=XE(h);let g=d[p],m=d[h];if(a){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=g+f[b],_=g-f[x];g=YN(w,g,_)}if(l){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+f[b],_=m-f[x];m=YN(w,m,_)}const v=c.fn({...t,[p]:g,[h]:m});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:a,[h]:l}}}}}},Cre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=zo(e,t),d={x:r,y:n},f=Ra(i),h=XE(f);let p=d[h],g=d[f];const m=zo(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",_=s.reference[h]-s.floating[w]+v.mainAxis,N=s.reference[h]+s.reference[w]-v.mainAxis;p<_?p=_:p>N&&(p=N)}if(u){var b,x;const w=h==="y"?"width":"height",_=XU.has(Wo(i)),N=s.reference[f]-s.floating[w]+(_&&((b=a.offset)==null?void 0:b[f])||0)+(_?0:v.crossAxis),j=s.reference[f]+s.reference[w]+(_?0:((x=a.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);g<N?g=N:g>j&&(g=j)}return{[h]:p,[f]:g}}}},Ore=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:a,elements:l}=t,{apply:c=()=>{},...u}=zo(e,t),d=await a.detectOverflow(t,u),f=Wo(i),h=Hh(i),p=Ra(i)==="y",{width:g,height:m}=s.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,w=g-d.left-d.right,_=nc(m-d[v],x),N=nc(g-d[b],w),j=!t.middlewareData.shift;let k=_,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),j&&!h){const A=Fi(d.left,0),I=Fi(d.right,0),M=Fi(d.top,0),z=Fi(d.bottom,0);p?C=g-2*(A!==0||I!==0?A+I:Fi(d.left,d.right)):k=m-2*(M!==0||z!==0?M+z:Fi(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:k});const P=await a.getDimensions(l.floating);return g!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function zw(){return typeof window<"u"}function qh(e){return QU(e)?(e.nodeName||"").toLowerCase():"#document"}function Gi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function eo(e){var t;return(t=(QU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function QU(e){return zw()?e instanceof Node||e instanceof Gi(e).Node:!1}function la(e){return zw()?e instanceof Element||e instanceof Gi(e).Element:!1}function Ya(e){return zw()?e instanceof HTMLElement||e instanceof Gi(e).HTMLElement:!1}function GM(e){return!zw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gi(e).ShadowRoot}const Ere=new Set(["inline","contents"]);function _v(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ca(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Ere.has(i)}const Pre=new Set(["table","td","th"]);function Tre(e){return Pre.has(qh(e))}const Are=[":popover-open",":modal"];function Ww(e){return Are.some(t=>{try{return e.matches(t)}catch{return!1}})}const Mre=["transform","translate","scale","rotate","perspective"],Ire=["transform","translate","scale","rotate","perspective","filter"],Rre=["paint","layout","strict","content"];function eP(e){const t=tP(),r=la(e)?ca(e):e;return Mre.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Ire.some(n=>(r.willChange||"").includes(n))||Rre.some(n=>(r.contain||"").includes(n))}function $re(e){let t=ic(e);for(;Ya(t)&&!qf(t);){if(eP(t))return t;if(Ww(t))return null;t=ic(t)}return null}function tP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Dre=new Set(["html","body","#document"]);function qf(e){return Dre.has(qh(e))}function ca(e){return Gi(e).getComputedStyle(e)}function Vw(e){return la(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ic(e){if(qh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||GM(e)&&e.host||eo(e);return GM(t)?t.host:t}function ZU(e){const t=ic(e);return qf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ya(t)&&_v(t)?t:ZU(t)}function rg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=ZU(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),a=Gi(i);if(s){const l=XN(a);return t.concat(a,a.visualViewport||[],_v(i)?i:[],l&&r?rg(l):[])}return t.concat(i,rg(i,[],r))}function XN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e8(e){const t=ca(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Ya(e),s=i?e.offsetWidth:r,a=i?e.offsetHeight:n,l=Cb(r)!==s||Cb(n)!==a;return l&&(r=s,n=a),{width:r,height:n,$:l}}function rP(e){return la(e)?e:e.contextElement}function yf(e){const t=rP(e);if(!Ya(t))return Va(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=e8(t);let a=(s?Cb(r.width):r.width)/n,l=(s?Cb(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Lre=Va(0);function t8(e){const t=Gi(e);return!tP()||!t.visualViewport?Lre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Fre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Gi(e)?!1:t}function Mu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=rP(e);let a=Va(1);t&&(n?la(n)&&(a=yf(n)):a=yf(e));const l=Fre(s,r,n)?t8(s):Va(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=Gi(s),p=n&&la(n)?Gi(n):n;let g=h,m=XN(g);for(;m&&n&&p!==g;){const v=yf(m),b=m.getBoundingClientRect(),x=ca(m),w=b.left+(m.clientLeft+parseFloat(x.paddingLeft))*v.x,_=b.top+(m.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=Gi(m),m=XN(g)}}return Eb({width:d,height:f,x:c,y:u})}function Hw(e,t){const r=Vw(e).scrollLeft;return t?t.left+r:Mu(eo(e)).left+r}function r8(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Hw(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function Bre(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",a=eo(n),l=t?Ww(t.floating):!1;if(n===a||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Va(1);const d=Va(0),f=Ya(n);if((f||!f&&!s)&&((qh(n)!=="body"||_v(a))&&(c=Vw(n)),Ya(n))){const p=Mu(n);u=yf(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=a&&!f&&!s?r8(a,c):Va(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Ure(e){return Array.from(e.getClientRects())}function zre(e){const t=eo(e),r=Vw(e),n=e.ownerDocument.body,i=Fi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Fi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Hw(e);const l=-r.scrollTop;return ca(n).direction==="rtl"&&(a+=Fi(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:l}}const KM=25;function Wre(e,t){const r=Gi(e),n=eo(e),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=tP();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=Hw(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=KM&&(s-=g)}else u<=KM&&(s+=u);return{width:s,height:a,x:l,y:c}}const Vre=new Set(["absolute","fixed"]);function Hre(e,t){const r=Mu(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=Ya(e)?yf(e):Va(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:a,height:l,x:c,y:u}}function YM(e,t,r){let n;if(t==="viewport")n=Wre(e,r);else if(t==="document")n=zre(eo(e));else if(la(t))n=Hre(t,r);else{const i=t8(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Eb(n)}function n8(e,t){const r=ic(e);return r===t||!la(r)||qf(r)?!1:ca(r).position==="fixed"||n8(r,t)}function qre(e,t){const r=t.get(e);if(r)return r;let n=rg(e,[],!1).filter(l=>la(l)&&qh(l)!=="body"),i=null;const s=ca(e).position==="fixed";let a=s?ic(e):e;for(;la(a)&&!qf(a);){const l=ca(a),c=eP(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&Vre.has(i.position)||_v(a)&&!c&&n8(e,a))?n=n.filter(d=>d!==a):i=l,a=ic(a)}return t.set(e,n),n}function Gre(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[...r==="clippingAncestors"?Ww(t)?[]:qre(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const f=YM(t,d,i);return u.top=Fi(f.top,u.top),u.right=nc(f.right,u.right),u.bottom=nc(f.bottom,u.bottom),u.left=Fi(f.left,u.left),u},YM(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Kre(e){const{width:t,height:r}=e8(e);return{width:t,height:r}}function Yre(e,t,r){const n=Ya(t),i=eo(t),s=r==="fixed",a=Mu(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Va(0);function u(){c.x=Hw(i)}if(n||!n&&!s)if((qh(t)!=="body"||_v(i))&&(l=Vw(t)),n){const p=Mu(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();s&&!n&&i&&u();const d=i&&!n&&!s?r8(i,l):Va(0),f=a.left+l.scrollLeft-c.x-d.x,h=a.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function h1(e){return ca(e).position==="static"}function JM(e,t){if(!Ya(e)||ca(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return eo(e)===r&&(r=r.ownerDocument.body),r}function i8(e,t){const r=Gi(e);if(Ww(e))return r;if(!Ya(e)){let i=ic(e);for(;i&&!qf(i);){if(la(i)&&!h1(i))return i;i=ic(i)}return r}let n=JM(e,t);for(;n&&Tre(n)&&h1(n);)n=JM(n,t);return n&&qf(n)&&h1(n)&&!eP(n)?r:n||$re(e)||r}const Jre=async function(e){const t=this.getOffsetParent||i8,r=this.getDimensions,n=await r(e.floating);return{reference:Yre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xre(e){return ca(e).direction==="rtl"}const Qre={convertOffsetParentRelativeRectToViewportRelativeRect:Bre,getDocumentElement:eo,getClippingRect:Gre,getOffsetParent:i8,getElementRects:Jre,getClientRects:Ure,getDimensions:Kre,getScale:yf,isElement:la,isRTL:Xre};function s8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Zre(e,t){let r=null,n;const i=eo(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=Oy(f),m=Oy(i.clientWidth-(d+h)),v=Oy(i.clientHeight-(f+p)),b=Oy(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:Fi(0,nc(1,c))||1};let _=!0;function N(j){const k=j[0].intersectionRatio;if(k!==c){if(!_)return a();k?a(!1,k):n=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!s8(u,e.getBoundingClientRect())&&a(),_=!1}try{r=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return a(!0),s}function ene(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=rP(e),d=i||s?[...u?rg(u):[],...rg(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const f=u&&l?Zre(u,r):null;let h=-1,p=null;a&&(p=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Mu(e):null;c&&v();function v(){const b=Mu(e);m&&!s8(m,b)&&r(),m=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(x=>{i&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const tne=Nre,rne=kre,nne=_re,ine=Ore,sne=jre,XM=wre,ane=Cre,one=(e,t,r)=>{const n=new Map,i={platform:Qre,...r},s={...i.platform,_c:n};return bre(e,t,{...i,platform:s})};var lne=typeof document<"u",cne=function(){},Lx=lne?y.useLayoutEffect:cne;function Pb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Pb(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Pb(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function a8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function QM(e,t){const r=a8(e);return Math.round(t*r)/r}function p1(e){const t=y.useRef(e);return Lx(()=>{t.current=e}),t}function une(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(n);Pb(h,n)||p(n);const[g,m]=y.useState(null),[v,b]=y.useState(null),x=y.useCallback(R=>{R!==j.current&&(j.current=R,m(R))},[]),w=y.useCallback(R=>{R!==k.current&&(k.current=R,b(R))},[]),_=s||g,N=a||v,j=y.useRef(null),k=y.useRef(null),C=y.useRef(d),P=c!=null,A=p1(c),I=p1(i),M=p1(u),z=y.useCallback(()=>{if(!j.current||!k.current)return;const R={placement:t,strategy:r,middleware:h};I.current&&(R.platform=I.current),one(j.current,k.current,R).then(B=>{const K={...B,isPositioned:M.current!==!1};L.current&&!Pb(C.current,K)&&(C.current=K,ea.flushSync(()=>{f(K)}))})},[h,t,r,I,M]);Lx(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const L=y.useRef(!1);Lx(()=>(L.current=!0,()=>{L.current=!1}),[]),Lx(()=>{if(_&&(j.current=_),N&&(k.current=N),_&&N){if(A.current)return A.current(_,N,z);z()}},[_,N,z,A,P]);const W=y.useMemo(()=>({reference:j,floating:k,setReference:x,setFloating:w}),[x,w]),F=y.useMemo(()=>({reference:_,floating:N}),[_,N]),D=y.useMemo(()=>{const R={position:r,left:0,top:0};if(!F.floating)return R;const B=QM(F.floating,d.x),K=QM(F.floating,d.y);return l?{...R,transform:"translate("+B+"px, "+K+"px)",...a8(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:K}},[r,l,F.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:z,refs:W,elements:F,floatingStyles:D}),[d,z,W,F,D])}const dne=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?XM({element:n.current,padding:i}).fn(r):{}:n?XM({element:n,padding:i}).fn(r):{}}}},fne=(e,t)=>({...tne(e),options:[e,t]}),hne=(e,t)=>({...rne(e),options:[e,t]}),pne=(e,t)=>({...ane(e),options:[e,t]}),mne=(e,t)=>({...nne(e),options:[e,t]}),gne=(e,t)=>({...ine(e),options:[e,t]}),vne=(e,t)=>({...sne(e),options:[e,t]}),yne=(e,t)=>({...dne(e),options:[e,t]});var xne="Arrow",o8=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return o.jsx(Fe.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});o8.displayName=xne;var bne=o8;function qw(e){const[t,r]=y.useState(void 0);return Rr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var nP="Popper",[l8,pc]=kn(nP),[wne,c8]=l8(nP),u8=e=>{const{__scopePopper:t,children:r}=e,[n,i]=y.useState(null);return o.jsx(wne,{scope:t,anchor:n,onAnchorChange:i,children:r})};u8.displayName=nP;var d8="PopperAnchor",f8=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=c8(d8,r),a=y.useRef(null),l=rt(t,a),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:o.jsx(Fe.div,{...i,ref:l})});f8.displayName=d8;var iP="PopperContent",[_ne,jne]=l8(iP),h8=y.forwardRef((e,t)=>{var $,G,V,q,X,Y;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=c8(iP,r),[b,x]=y.useState(null),w=rt(t,pe=>x(pe)),[_,N]=y.useState(null),j=qw(_),k=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,P=n+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],M=I.length>0,z={padding:A,boundary:I.filter(Nne),altBoundary:M},{refs:L,floatingStyles:W,placement:F,isPositioned:D,middlewareData:R}=une({strategy:"fixed",placement:P,whileElementsMounted:(...pe)=>ene(...pe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[fne({mainAxis:i+C,alignmentAxis:a}),c&&hne({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?pne():void 0,...z}),c&&mne({...z}),gne({...z,apply:({elements:pe,rects:Ne,availableWidth:Ke,availableHeight:Ve})=>{const{width:He,height:bt}=Ne.reference,Ct=pe.floating.style;Ct.setProperty("--radix-popper-available-width",`${Ke}px`),Ct.setProperty("--radix-popper-available-height",`${Ve}px`),Ct.setProperty("--radix-popper-anchor-width",`${He}px`),Ct.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),_&&yne({element:_,padding:l}),kne({arrowWidth:k,arrowHeight:C}),h&&vne({strategy:"referenceHidden",...z})]}),[B,K]=g8(F),ee=Er(g);Rr(()=>{D&&(ee==null||ee())},[D,ee]);const te=($=R.arrow)==null?void 0:$.x,S=(G=R.arrow)==null?void 0:G.y,O=((V=R.arrow)==null?void 0:V.centerOffset)!==0,[E,U]=y.useState();return Rr(()=>{b&&U(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:D?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(q=R.transformOrigin)==null?void 0:q.x,(X=R.transformOrigin)==null?void 0:X.y].join(" "),...((Y=R.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(_ne,{scope:r,placedSide:B,onArrowChange:N,arrowX:te,arrowY:S,shouldHideArrow:O,children:o.jsx(Fe.div,{"data-side":B,"data-align":K,...m,ref:w,style:{...m.style,animation:D?void 0:"none"}})})})});h8.displayName=iP;var p8="PopperArrow",Sne={top:"bottom",right:"left",bottom:"top",left:"right"},m8=y.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=jne(p8,n),a=Sne[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(bne,{...i,ref:r,style:{...i.style,display:"block"}})})});m8.displayName=p8;function Nne(e){return e!==null}var kne=e=>({name:"transformOrigin",options:e,fn(t){var v,b,x;const{placement:r,rects:n,middlewareData:i}=t,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=g8(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,p=(((x=i.arrow)==null?void 0:x.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=a?f:`${h}px`,m=`${-c}px`):u==="top"?(g=a?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=a?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=a?f:`${p}px`),{data:{x:g,y:m}}}});function g8(e){const[t,r="center"]=e.split("-");return[t,r]}var sP=u8,jv=f8,Gw=h8,Kw=m8,Cne=Symbol("radix.slottable");function One(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Cne,t}var[Yw]=kn("Tooltip",[pc]),aP=pc(),v8="TooltipProvider",Ene=700,ZM="tooltip.open",[Pne,y8]=Yw(v8),x8=e=>{const{__scopeTooltip:t,delayDuration:r=Ene,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,a=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(Pne,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};x8.displayName=v8;var b8="Tooltip",[lHe,Jw]=Yw(b8),QN="TooltipTrigger",Tne=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Jw(QN,r),s=y8(QN,r),a=aP(r),l=y.useRef(null),c=rt(t,l,i.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(jv,{asChild:!0,...a,children:o.jsx(Fe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:ge(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:ge(e.onBlur,i.onClose),onClick:ge(e.onClick,i.onClose)})})});Tne.displayName=QN;var Ane="TooltipPortal",[cHe,Mne]=Yw(Ane,{forceMount:void 0}),Gf="TooltipContent",w8=y.forwardRef((e,t)=>{const r=Mne(Gf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,a=Jw(Gf,e.__scopeTooltip);return o.jsx(nn,{present:n||a.open,children:a.disableHoverableContent?o.jsx(_8,{side:i,...s,ref:t}):o.jsx(Ine,{side:i,...s,ref:t})})}),Ine=y.forwardRef((e,t)=>{const r=Jw(Gf,e.__scopeTooltip),n=y8(Gf,e.__scopeTooltip),i=y.useRef(null),s=rt(t,i),[a,l]=y.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),p=y.useCallback((g,m)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},x=Fne(b,v.getBoundingClientRect()),w=Bne(b,x),_=Une(m.getBoundingClientRect()),N=Wne([...w,..._]);l(N),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),y.useEffect(()=>{if(a){const g=m=>{const v=m.target,b={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!zne(b,a);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,a,u,h]),o.jsx(_8,{...e,ref:s})}),[Rne,$ne]=Yw(b8,{isInside:!1}),Dne=One("TooltipContent"),_8=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=e,c=Jw(Gf,r),u=aP(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(ZM,d),()=>document.removeEventListener(ZM,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(ed,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Gw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Dne,{children:n}),o.jsx(Rne,{scope:r,isInside:!0,children:o.jsx(YZ,{id:c.contentId,role:"tooltip",children:i||n})})]})})});w8.displayName=Gf;var j8="TooltipArrow",Lne=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=aP(r);return $ne(j8,r).isInside?null:o.jsx(Kw,{...i,...n,ref:t})});Lne.displayName=j8;function Fne(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Bne(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Une(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function zne(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function Wne(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Vne(t)}function Vne(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Hne=x8,S8=w8;const qne=Hne,Gne=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(S8,{ref:n,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Gne.displayName=S8.displayName;var Xw=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kne={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Pl,VO,F5,Yne=(F5=class{constructor(){_t(this,Pl,Kne);_t(this,VO,!1)}setTimeoutProvider(e){ot(this,Pl,e)}setTimeout(e,t){return ae(this,Pl).setTimeout(e,t)}clearTimeout(e){ae(this,Pl).clearTimeout(e)}setInterval(e,t){return ae(this,Pl).setInterval(e,t)}clearInterval(e){ae(this,Pl).clearInterval(e)}},Pl=new WeakMap,VO=new WeakMap,F5),ZN=new Yne;function Jne(e){setTimeout(e,0)}var Qw=typeof window>"u"||"Deno"in globalThis;function Fs(){}function Xne(e,t){return typeof e=="function"?e(t):e}function Qne(e){return typeof e=="number"&&e>=0&&e!==1/0}function Zne(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ek(e,t){return typeof e=="function"?e(t):e}function eie(e,t){return typeof e=="function"?e(t):e}function eI(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:l}=e;if(a){if(n){if(t.queryHash!==oP(a,t.options))return!1}else if(!ig(t.queryKey,a))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function tI(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(ng(t.options.mutationKey)!==ng(s))return!1}else if(!ig(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function oP(e,t){return((t==null?void 0:t.queryKeyHashFn)||ng)(e)}function ng(e){return JSON.stringify(e,(t,r)=>tk(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ig(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ig(e[r],t[r])):!1}var tie=Object.prototype.hasOwnProperty;function N8(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=rI(e)&&rI(t);if(!n&&!(tk(e)&&tk(t)))return t;const s=(n?e:Object.keys(e)).length,a=n?t:Object.keys(t),l=a.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:a[d],h=e[f],p=t[f];if(h===p){c[f]=h,(n?d<s:tie.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const g=N8(h,p,r+1);c[f]=g,g===h&&u++}return s===l&&u===s?e:c}function rI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function tk(e){if(!nI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!nI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nI(e){return Object.prototype.toString.call(e)==="[object Object]"}function rie(e){return new Promise(t=>{ZN.setTimeout(t,e)})}function nie(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?N8(e,t):t}function iie(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function sie(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var lP=Symbol();function k8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function aie(e,t,r){let n=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),e}var uu,Tl,Of,B5,oie=(B5=class extends Xw{constructor(){super();_t(this,uu);_t(this,Tl);_t(this,Of);ot(this,Of,t=>{if(!Qw&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ae(this,Tl)||this.setEventListener(ae(this,Of))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Tl))==null||t.call(this),ot(this,Tl,void 0))}setEventListener(t){var r;ot(this,Of,t),(r=ae(this,Tl))==null||r.call(this),ot(this,Tl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ae(this,uu)!==t&&(ot(this,uu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ae(this,uu)=="boolean"?ae(this,uu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},uu=new WeakMap,Tl=new WeakMap,Of=new WeakMap,B5),C8=new oie;function lie(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var cie=Jne;function uie(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=cie;const s=l=>{t?e.push(l):i(()=>{r(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Kn=uie(),Ef,Al,Pf,U5,die=(U5=class extends Xw{constructor(){super();_t(this,Ef,!0);_t(this,Al);_t(this,Pf);ot(this,Pf,t=>{if(!Qw&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ae(this,Al)||this.setEventListener(ae(this,Pf))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Al))==null||t.call(this),ot(this,Al,void 0))}setEventListener(t){var r;ot(this,Pf,t),(r=ae(this,Al))==null||r.call(this),ot(this,Al,t(this.setOnline.bind(this)))}setOnline(t){ae(this,Ef)!==t&&(ot(this,Ef,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ae(this,Ef)}},Ef=new WeakMap,Al=new WeakMap,Pf=new WeakMap,U5),Tb=new die;function fie(e){return Math.min(1e3*2**e,3e4)}function O8(e){return(e??"online")==="online"?Tb.isOnline():!0}var rk=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function E8(e){let t=!1,r=0,n;const i=lie(),s=()=>i.status!=="pending",a=m=>{var v;if(!s()){const b=new rk(m);h(b),(v=e.onCancel)==null||v.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>C8.isFocused()&&(e.networkMode==="always"||Tb.isOnline())&&e.canRun(),d=()=>O8(e.networkMode)&&e.canRun(),f=m=>{s()||(n==null||n(),i.resolve(m))},h=m=>{s()||(n==null||n(),i.reject(m))},p=()=>new Promise(m=>{var v;n=b=>{(s()||u())&&m(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;n=void 0,s()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(s())return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var j;if(s())return;const x=e.retry??(Qw?0:3),w=e.retryDelay??fie,_=typeof w=="function"?w(r,b):w,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!N){h(b);return}r++,(j=e.onFail)==null||j.call(e,r,b),rie(_).then(()=>u()?void 0:p()).then(()=>{t?h(b):g()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),i)}}var du,z5,P8=(z5=class{constructor(){_t(this,du)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qne(this.gcTime)&&ot(this,du,ZN.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qw?1/0:5*60*1e3))}clearGcTimeout(){ae(this,du)&&(ZN.clearTimeout(ae(this,du)),ot(this,du,void 0))}},du=new WeakMap,z5),fu,Tf,os,hu,an,dv,pu,Us,fo,W5,hie=(W5=class extends P8{constructor(t){super();_t(this,Us);_t(this,fu);_t(this,Tf);_t(this,os);_t(this,hu);_t(this,an);_t(this,dv);_t(this,pu);ot(this,pu,!1),ot(this,dv,t.defaultOptions),this.setOptions(t.options),this.observers=[],ot(this,hu,t.client),ot(this,os,ae(this,hu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ot(this,fu,sI(this.options)),this.state=t.state??ae(this,fu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ae(this,an))==null?void 0:t.promise}setOptions(t){if(this.options={...ae(this,dv),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=sI(this.options);r.data!==void 0&&(this.setState(iI(r.data,r.dataUpdatedAt)),ot(this,fu,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,os).remove(this)}setData(t,r){const n=nie(this.state.data,t,this.options);return Cn(this,Us,fo).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Cn(this,Us,fo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=ae(this,an))==null?void 0:n.promise;return(i=ae(this,an))==null||i.cancel(t),r?r.then(Fs).catch(Fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,fu))}isActive(){return this.observers.some(t=>eie(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ek(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Zne(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,an))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,an))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ae(this,os).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ae(this,an)&&(ae(this,pu)?ae(this,an).cancel({revert:!0}):ae(this,an).cancelRetry()),this.scheduleGc()),ae(this,os).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Cn(this,Us,fo).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,g,m,v,b,x,w;if(this.state.fetchStatus!=="idle"&&((c=ae(this,an))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ae(this,an))return ae(this,an).continueRetry(),ae(this,an).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(N=>N.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(ot(this,pu,!0),n.signal)})},s=()=>{const _=k8(this.options,r),j=(()=>{const k={client:ae(this,hu),queryKey:this.queryKey,meta:this.meta};return i(k),k})();return ot(this,pu,!1),this.options.persister?this.options.persister(_,j,this):_(j)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ae(this,hu),state:this.state,fetchFn:s};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),ot(this,Tf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Cn(this,Us,fo).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ot(this,an,E8({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof rk&&_.revert&&this.setState({...ae(this,Tf),fetchStatus:"idle"}),n.abort()},onFail:(_,N)=>{Cn(this,Us,fo).call(this,{type:"failed",failureCount:_,error:N})},onPause:()=>{Cn(this,Us,fo).call(this,{type:"pause"})},onContinue:()=>{Cn(this,Us,fo).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await ae(this,an).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=ae(this,os).config).onSuccess)==null||p.call(h,_,this),(m=(g=ae(this,os).config).onSettled)==null||m.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof rk){if(_.silent)return ae(this,an).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Cn(this,Us,fo).call(this,{type:"error",error:_}),(b=(v=ae(this,os).config).onError)==null||b.call(v,_,this),(w=(x=ae(this,os).config).onSettled)==null||w.call(x,this.state.data,_,this),_}finally{this.scheduleGc()}}},fu=new WeakMap,Tf=new WeakMap,os=new WeakMap,hu=new WeakMap,an=new WeakMap,dv=new WeakMap,pu=new WeakMap,Us=new WeakSet,fo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pie(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...iI(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ot(this,Tf,t.manual?i:void 0),i;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Kn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ae(this,os).notify({query:this,type:"updated",action:t})})},W5);function pie(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:O8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function iI(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function sI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function aI(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=w=>{aie(w,()=>t.signal,()=>m=!0)},b=k8(t.options,t.fetchOptions),x=async(w,_,N)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:_,direction:N?"backward":"forward",meta:t.options.meta};return v(I),I})(),C=await b(k),{maxPages:P}=t.options,A=N?sie:iie;return{pages:A(w.pages,C,P),pageParams:A(w.pageParams,_,P)}};if(i&&s.length){const w=i==="backward",_=w?mie:oI,N={pages:s,pageParams:a},j=_(n,N);l=await x(N,j,w)}else{const w=e??s.length;do{const _=c===0?a[0]??n.initialPageParam:oI(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function oI(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function mie(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var fv,ka,Pn,mu,Ca,ml,V5,gie=(V5=class extends P8{constructor(t){super();_t(this,Ca);_t(this,fv);_t(this,ka);_t(this,Pn);_t(this,mu);ot(this,fv,t.client),this.mutationId=t.mutationId,ot(this,Pn,t.mutationCache),ot(this,ka,[]),this.state=t.state||vie(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ae(this,ka).includes(t)||(ae(this,ka).push(t),this.clearGcTimeout(),ae(this,Pn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ot(this,ka,ae(this,ka).filter(r=>r!==t)),this.scheduleGc(),ae(this,Pn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ae(this,ka).length||(this.state.status==="pending"?this.scheduleGc():ae(this,Pn).remove(this))}continue(){var t;return((t=ae(this,mu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,c,u,d,f,h,p,g,m,v,b,x,w,_,N,j,k;const r=()=>{Cn(this,Ca,ml).call(this,{type:"continue"})},n={client:ae(this,fv),meta:this.options.meta,mutationKey:this.options.mutationKey};ot(this,mu,E8({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{Cn(this,Ca,ml).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{Cn(this,Ca,ml).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,Pn).canRun(this)}));const i=this.state.status==="pending",s=!ae(this,mu).canStart();try{if(i)r();else{Cn(this,Ca,ml).call(this,{type:"pending",variables:t,isPaused:s}),ae(this,Pn).config.onMutate&&await ae(this,Pn).config.onMutate(t,this,n);const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t,n));P!==this.state.context&&Cn(this,Ca,ml).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const C=await ae(this,mu).start();return await((u=(c=ae(this,Pn).config).onSuccess)==null?void 0:u.call(c,C,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,t,this.state.context,n)),await((p=(h=ae(this,Pn).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this,n)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,C,null,t,this.state.context,n)),Cn(this,Ca,ml).call(this,{type:"success",data:C}),C}catch(C){try{await((b=(v=ae(this,Pn).config).onError)==null?void 0:b.call(v,C,t,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((w=(x=this.options).onError)==null?void 0:w.call(x,C,t,this.state.context,n))}catch(P){Promise.reject(P)}try{await((N=(_=ae(this,Pn).config).onSettled)==null?void 0:N.call(_,void 0,C,this.state.variables,this.state.context,this,n))}catch(P){Promise.reject(P)}try{await((k=(j=this.options).onSettled)==null?void 0:k.call(j,void 0,C,t,this.state.context,n))}catch(P){Promise.reject(P)}throw Cn(this,Ca,ml).call(this,{type:"error",error:C}),C}finally{ae(this,Pn).runNext(this)}}},fv=new WeakMap,ka=new WeakMap,Pn=new WeakMap,mu=new WeakMap,Ca=new WeakSet,ml=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kn.batch(()=>{ae(this,ka).forEach(n=>{n.onMutationUpdate(t)}),ae(this,Pn).notify({mutation:this,type:"updated",action:t})})},V5);function vie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _o,zs,hv,H5,yie=(H5=class extends Xw{constructor(t={}){super();_t(this,_o);_t(this,zs);_t(this,hv);this.config=t,ot(this,_o,new Set),ot(this,zs,new Map),ot(this,hv,0)}build(t,r,n){const i=new gie({client:t,mutationCache:this,mutationId:++oy(this,hv)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){ae(this,_o).add(t);const r=Ey(t);if(typeof r=="string"){const n=ae(this,zs).get(r);n?n.push(t):ae(this,zs).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ae(this,_o).delete(t)){const r=Ey(t);if(typeof r=="string"){const n=ae(this,zs).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&ae(this,zs).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Ey(t);if(typeof r=="string"){const n=ae(this,zs).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Ey(t);if(typeof r=="string"){const i=(n=ae(this,zs).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kn.batch(()=>{ae(this,_o).forEach(t=>{this.notify({type:"removed",mutation:t})}),ae(this,_o).clear(),ae(this,zs).clear()})}getAll(){return Array.from(ae(this,_o))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>tI(r,n))}findAll(t={}){return this.getAll().filter(r=>tI(t,r))}notify(t){Kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Kn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Fs))))}},_o=new WeakMap,zs=new WeakMap,hv=new WeakMap,H5);function Ey(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Oa,q5,xie=(q5=class extends Xw{constructor(t={}){super();_t(this,Oa);this.config=t,ot(this,Oa,new Map)}build(t,r,n){const i=r.queryKey,s=r.queryHash??oP(i,r);let a=this.get(s);return a||(a=new hie({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){ae(this,Oa).has(t.queryHash)||(ae(this,Oa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ae(this,Oa).get(t.queryHash);r&&(t.destroy(),r===t&&ae(this,Oa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ae(this,Oa).get(t)}getAll(){return[...ae(this,Oa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>eI(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>eI(t,n)):r}notify(t){Kn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Kn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oa=new WeakMap,q5),Nr,Ml,Il,Af,Mf,Rl,If,Rf,G5,bie=(G5=class{constructor(e={}){_t(this,Nr);_t(this,Ml);_t(this,Il);_t(this,Af);_t(this,Mf);_t(this,Rl);_t(this,If);_t(this,Rf);ot(this,Nr,e.queryCache||new xie),ot(this,Ml,e.mutationCache||new yie),ot(this,Il,e.defaultOptions||{}),ot(this,Af,new Map),ot(this,Mf,new Map),ot(this,Rl,0)}mount(){oy(this,Rl)._++,ae(this,Rl)===1&&(ot(this,If,C8.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,Nr).onFocus())})),ot(this,Rf,Tb.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,Nr).onOnline())})))}unmount(){var e,t;oy(this,Rl)._--,ae(this,Rl)===0&&((e=ae(this,If))==null||e.call(this),ot(this,If,void 0),(t=ae(this,Rf))==null||t.call(this),ot(this,Rf,void 0))}isFetching(e){return ae(this,Nr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ae(this,Ml).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,Nr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ae(this,Nr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ek(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ae(this,Nr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=ae(this,Nr).get(n.queryHash),s=i==null?void 0:i.state.data,a=Xne(t,s);if(a!==void 0)return ae(this,Nr).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Kn.batch(()=>ae(this,Nr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,Nr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ae(this,Nr);Kn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ae(this,Nr);return Kn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Kn.batch(()=>ae(this,Nr).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Fs).catch(Fs)}invalidateQueries(e,t={}){return Kn.batch(()=>(ae(this,Nr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Kn.batch(()=>ae(this,Nr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Fs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Fs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ae(this,Nr).build(this,t);return r.isStaleByTime(ek(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Fs).catch(Fs)}fetchInfiniteQuery(e){return e.behavior=aI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Fs).catch(Fs)}ensureInfiniteQueryData(e){return e.behavior=aI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Tb.isOnline()?ae(this,Ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,Nr)}getMutationCache(){return ae(this,Ml)}getDefaultOptions(){return ae(this,Il)}setDefaultOptions(e){ot(this,Il,e)}setQueryDefaults(e,t){ae(this,Af).set(ng(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ae(this,Af).values()],r={};return t.forEach(n=>{ig(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ae(this,Mf).set(ng(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ae(this,Mf).values()],r={};return t.forEach(n=>{ig(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ae(this,Il).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ae(this,Il).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ae(this,Nr).clear(),ae(this,Ml).clear()}},Nr=new WeakMap,Ml=new WeakMap,Il=new WeakMap,Af=new WeakMap,Mf=new WeakMap,Rl=new WeakMap,If=new WeakMap,Rf=new WeakMap,G5),wie=y.createContext(void 0),_ie=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(wie.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(this,arguments)}var Ll;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ll||(Ll={}));const lI="popstate";function jie(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:a,hash:l}=n.location;return nk("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ab(i)}return Nie(t,r,null,e)}function Ir(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sie(){return Math.random().toString(36).substr(2,8)}function cI(e,t){return{usr:e.state,key:e.key,idx:t}}function nk(e,t,r,n){return r===void 0&&(r=null),sg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gh(t):t,{state:r,key:t&&t.key||n||Sie()})}function Ab(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Gh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Nie(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,l=Ll.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(sg({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Ll.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:b})}function h(v,b){l=Ll.Push;let x=nk(m.location,v,b);u=d()+1;let w=cI(x,u),_=m.createHref(x);try{a.pushState(w,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(_)}s&&c&&c({action:l,location:m.location,delta:1})}function p(v,b){l=Ll.Replace;let x=nk(m.location,v,b);u=d();let w=cI(x,u),_=m.createHref(x);a.replaceState(w,"",_),s&&c&&c({action:l,location:m.location,delta:0})}function g(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:Ab(v);return x=x.replace(/ $/,"%20"),Ir(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let m={get action(){return l},get location(){return e(i,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(lI,f),c=v,()=>{i.removeEventListener(lI,f),c=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return a.go(v)}};return m}var uI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uI||(uI={}));function kie(e,t,r){return r===void 0&&(r="/"),Cie(e,t,r)}function Cie(e,t,r,n){let i=typeof t=="string"?Gh(t):t,s=uP(i.pathname||"/",r);if(s==null)return null;let a=T8(e);Oie(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Bie(s);l=Die(a[c],u)}return l}function T8(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Ir(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Jl([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Ir(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),T8(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Rie(u,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of A8(s.path))i(s,a,c)}),t}function A8(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=A8(n.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Oie(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$ie(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Eie=/^:[\w-]+$/,Pie=3,Tie=2,Aie=1,Mie=10,Iie=-2,dI=e=>e==="*";function Rie(e,t){let r=e.split("/"),n=r.length;return r.some(dI)&&(n+=Iie),t&&(n+=Tie),r.filter(i=>!dI(i)).reduce((i,s)=>i+(Eie.test(s)?Pie:s===""?Aie:Mie),n)}function $ie(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Die(e,t,r){let{routesMeta:n}=e,i={},s="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=Lie({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Jl([s,f.pathname]),pathnameBase:Hie(Jl([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Jl([s,f.pathnameBase]))}return a}function Lie(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Fie(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function Fie(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),cP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Bie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Uie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zie=e=>Uie.test(e);function Wie(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Gh(e):e,s;if(r)if(zie(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),cP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=fI(r.substring(1),"/"):s=fI(r,t)}else s=t;return{pathname:s,search:qie(n),hash:Gie(i)}}function fI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function m1(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vie(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dP(e,t){let r=Vie(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fP(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Gh(e):(i=sg({},e),Ir(!i.pathname||!i.pathname.includes("?"),m1("?","pathname","search",i)),Ir(!i.pathname||!i.pathname.includes("#"),m1("#","pathname","hash",i)),Ir(!i.search||!i.search.includes("#"),m1("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Wie(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Jl=e=>e.join("/").replace(/\/\/+/g,"/"),Hie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kie(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const M8=["post","put","patch","delete"];new Set(M8);const Yie=["get",...M8];new Set(Yie);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}const hP=y.createContext(null),Jie=y.createContext(null),mc=y.createContext(null),Zw=y.createContext(null),gc=y.createContext({outlet:null,matches:[],isDataRoute:!1}),I8=y.createContext(null);function Xie(e,t){let{relative:r}=t===void 0?{}:t;Kh()||Ir(!1);let{basename:n,navigator:i}=y.useContext(mc),{hash:s,pathname:a,search:l}=$8(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Jl([n,a])),i.createHref({pathname:c,search:l,hash:s})}function Kh(){return y.useContext(Zw)!=null}function to(){return Kh()||Ir(!1),y.useContext(Zw).location}function R8(e){y.useContext(mc).static||y.useLayoutEffect(e)}function Wn(){let{isDataRoute:e}=y.useContext(gc);return e?use():Qie()}function Qie(){Kh()||Ir(!1);let e=y.useContext(hP),{basename:t,future:r,navigator:n}=y.useContext(mc),{matches:i}=y.useContext(gc),{pathname:s}=to(),a=JSON.stringify(dP(i,r.v7_relativeSplatPath)),l=y.useRef(!1);return R8(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=fP(u,JSON.parse(a),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Jl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,s,e])}function $8(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(mc),{matches:i}=y.useContext(gc),{pathname:s}=to(),a=JSON.stringify(dP(i,n.v7_relativeSplatPath));return y.useMemo(()=>fP(e,JSON.parse(a),s,r==="path"),[e,a,s,r])}function Zie(e,t){return ese(e,t)}function ese(e,t,r,n){Kh()||Ir(!1);let{navigator:i}=y.useContext(mc),{matches:s}=y.useContext(gc),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=to(),d;if(t){var f;let v=typeof t=="string"?Gh(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Ir(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=kie(e,{pathname:p}),m=sse(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Jl([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Jl([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&m?y.createElement(Zw.Provider,{value:{location:ag({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ll.Pop}},m):m}function tse(){let e=cse(),t=Kie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,null)}const rse=y.createElement(tse,null);class nse extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(gc.Provider,{value:this.props.routeContext},y.createElement(I8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ise(e){let{routeContext:t,match:r,children:n}=e,i=y.useContext(hP);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(gc.Provider,{value:t},n)}function sse(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ir(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||rse,c&&(u<0&&h===0?(dse("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,h+1)),x=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(ise,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(nse,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var D8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(D8||{}),L8=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(L8||{});function ase(e){let t=y.useContext(hP);return t||Ir(!1),t}function ose(e){let t=y.useContext(Jie);return t||Ir(!1),t}function lse(e){let t=y.useContext(gc);return t||Ir(!1),t}function F8(e){let t=lse(),r=t.matches[t.matches.length-1];return r.route.id||Ir(!1),r.route.id}function cse(){var e;let t=y.useContext(I8),r=ose(),n=F8();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function use(){let{router:e}=ase(D8.UseNavigateStable),t=F8(L8.UseNavigateStable),r=y.useRef(!1);return R8(()=>{r.current=!0}),y.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ag({fromRouteId:t},s)))},[e,t])}const hI={};function dse(e,t,r){hI[e]||(hI[e]=!0)}function fse(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pI(e){let{to:t,replace:r,state:n,relative:i}=e;Kh()||Ir(!1);let{future:s,static:a}=y.useContext(mc),{matches:l}=y.useContext(gc),{pathname:c}=to(),u=Wn(),d=fP(t,dP(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function Ei(e){Ir(!1)}function hse(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Ll.Pop,navigator:s,static:a=!1,future:l}=e;Kh()&&Ir(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:s,static:a,future:ag({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof n=="string"&&(n=Gh(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=y.useMemo(()=>{let v=uP(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:i}},[c,d,f,h,p,g,i]);return m==null?null:y.createElement(mc.Provider,{value:u},y.createElement(Zw.Provider,{children:r,value:m}))}function pse(e){let{children:t,location:r}=e;return Zie(ik(t),r)}new Promise(()=>{});function ik(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let s=[...t,i];if(n.type===y.Fragment){r.push.apply(r,ik(n.props.children,s));return}n.type!==Ei&&Ir(!1),!n.props.index||!n.props.children||Ir(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=ik(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sk.apply(this,arguments)}function mse(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function gse(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vse(e,t){return e.button===0&&(!t||t==="_self")&&!gse(e)}function ak(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function yse(e,t){let r=ak(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const xse=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bse="6";try{window.__reactRouterVersion=bse}catch{}const wse="startTransition",mI=ww[wse];function _se(e){let{basename:t,children:r,future:n,window:i}=e,s=y.useRef();s.current==null&&(s.current=jie({window:i,v5Compat:!0}));let a=s.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&mI?mI(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.useEffect(()=>fse(n),[n]),y.createElement(hse,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const jse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mo=y.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=mse(t,xse),{basename:p}=y.useContext(mc),g,m=!1;if(typeof u=="string"&&Sse.test(u)&&(g=u,jse))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=uP(_.pathname,p);_.origin===w.origin&&N!=null?u=N+_.search+_.hash:m=!0}catch{}let v=Xie(u,{relative:i}),b=Nse(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",sk({},h,{href:g||v,onClick:m||s?n:x,ref:r,target:c}))});var gI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gI||(gI={}));var vI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vI||(vI={}));function Nse(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:l}=t===void 0?{}:t,c=Wn(),u=to(),d=$8(e,{relative:a});return y.useCallback(f=>{if(vse(f,r)){f.preventDefault();let h=n!==void 0?n:Ab(u)===Ab(d);c(e,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,n,i,r,e,s,a,l])}function pP(e){let t=y.useRef(ak(e)),r=y.useRef(!1),n=to(),i=y.useMemo(()=>yse(n.search,r.current?null:t.current),[n.search]),s=Wn(),a=y.useCallback((l,c)=>{const u=ak(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,a]}var Ma=function(){return Ma=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ma.apply(this,arguments)};function Yh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function kse(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Cse(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}const Ose=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class mP extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ese extends mP{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yI extends mP{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xI extends mP{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ok;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ok||(ok={}));class Pse{constructor(t,{headers:r={},customFetch:n,region:i=ok.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Ose(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return kse(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let v=d;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),d?(v=a.signal,d.addEventListener("abort",()=>a.abort())):v=a.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:v}).catch(N=>{throw new Ese(N)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new yI(b);if(!b.ok)throw new xI(b);let w=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof xI||l instanceof yI?l.context:void 0}}finally{s&&clearTimeout(s)}})}}var Tse=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Ase=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,l=null,c=null,u=s.status,d=s.statusText;if(s.ok){var f,h;if(r.method!=="HEAD"){var p;const b=await s.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const m=await s.text();try{a=JSON.parse(m),Array.isArray(a)&&s.status===404&&(l=[],a=null,u=200,d="OK")}catch{s.status===404&&m===""?(u=204,d="No Content"):a={message:m}}if(a&&r.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&r.shouldThrowOnError)throw new Tse(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let l="",c="",u="";const d=s==null?void 0:s.cause;if(d){var f,h,p,g;const b=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",x=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";l=`${(p=s==null?void 0:s.name)!==null&&p!==void 0?p:"FetchError"}: ${s==null?void 0:s.message}`,l+=`

Caused by: ${(g=d==null?void 0:d.name)!==null&&g!==void 0?g:"Error"}: ${b}`,x&&(l+=` (${x})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var m;l=(m=s==null?void 0:s.stack)!==null&&m!==void 0?m:""}const v=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",v>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${v} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",v>this.urlLengthLimit&&(c+=`. Your request URL is ${v} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Mse=class extends Ase{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const bI=new RegExp("[,()]");var Md=class extends Mse{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bI.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&bI.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Ise=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",a),n&&c.append("Prefer",`count=${n}`),new Md({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);s.searchParams.set("columns",c.join(","))}}return new Md({method:i,url:s,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Md({method:a,url:l,headers:c,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Md({method:n,url:i,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Md({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function Rse(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $se(e){var t=Rse(e,"string");return og(t)=="symbol"?t:t+""}function Dse(e,t,r){return(t=$se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Py(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){Dse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Lse=class B8{constructor(t,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const l=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(c,u)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),s),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(f),l(c,u);const p=()=>{clearTimeout(f),d.abort()};return h.addEventListener("abort",p,{once:!0}),l(c,Py(Py({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(f),h.removeEventListener("abort",p)})}return l(c,Py(Py({},u),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ise(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new B8(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new Md({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class Fse{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Bse="2.95.3",Use=`realtime-js/${Bse}`,zse="1.0.0",U8="2.0.0",_I=U8,lk=1e4,Wse=1e3,Vse=100;var wl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wl||(wl={}));var Jr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Jr||(Jr={}));var Vs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Vs||(Vs={}));var ck;(function(e){e.websocket="websocket"})(ck||(ck={}));var Kc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Kc||(Kc={}));class Hse{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var i,s;const a=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,l.length),g.setUint8(m++,a.length),g.setUint8(m++,u.length),g.setUint8(m++,f.length),g.setUint8(m++,r),Array.from(c,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(a,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(m++,b.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,a,l,c]=n;return r({join_ref:i,ref:s,topic:a,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+s));c=c+s;const f=n.decode(t.slice(c,c+a));c=c+a;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return a>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class z8{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Yt||(Yt={}));const jI=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=qse(a,e,t,i),s),{}):{}},qse=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?W8(s,a):uk(a)},W8=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Jse(t,r)}switch(e){case Yt.bool:return Gse(t);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return Kse(t);case Yt.json:case Yt.jsonb:return Yse(t);case Yt.timestamp:return Xse(t);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return uk(t);default:return uk(t)}},uk=e=>e,Gse=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kse=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Yse=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Jse=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>W8(t,l))}return e},Xse=e=>typeof e=="string"?e.replace(" ","T"):e,V8=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class g1{constructor(t,r,n={},i=lk){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var SI;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(SI||(SI={}));class km{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=km.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=km.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=km.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var NI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(NI||(NI={}));var Cm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cm||(Cm={}));var go;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(go||(go={}));class Zd{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new g1(this,Vs.join,this.params,this.timeout),this.rejoinTimer=new z8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vs.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new km(this),this.broadcastEndpointURL=V8(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Jr.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Cm.PRESENCE]&&this.bindings[Cm.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(go.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(go.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(go.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let x=0;x<v;x++){const w=m[x],{filter:{event:_,schema:N,table:j,filter:k}}=w,C=p&&p[x];if(C&&C.event===_&&Zd.isFilterValueEqual(C.schema,N)&&Zd.isFilterValueEqual(C.table,j)&&Zd.isFilterValueEqual(C.filter,k))b.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Jr.errored,t==null||t(go.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(go.SUBSCRIBED);return}}).receive("error",p=>{this.state=Jr.errored,t==null||t(go.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(go.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Jr.joined&&t===Cm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Jr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new g1(this,Vs.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new g1(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Vse){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Vs;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,m,v,b,x,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,N=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(x=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:b,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Jr.closed}_isJoined(){return this.state===Jr.joined}_isJoining(){return this.state===Jr.joining}_isLeaving(){return this.state===Jr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Zd.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vs.close,{},t)}_onError(t){this._on(Vs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jI(t.columns,t.old_record)),r}}const v1=()=>{},Ty={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qse=[1e3,2e3,5e3,1e4],Zse=1e4,eae=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tae{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lk,this.transport=null,this.heartbeatIntervalMs=Ty.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=v1,this.ref=0,this.reconnectTimer=null,this.vsn=_I,this.logger=v1,this.conn=null,this.sendBuffer=[],this.serializer=new Hse,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ck.websocket}`,this.httpEndpoint=V8(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fse.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wl.connecting:return Kc.Connecting;case wl.open:return Kc.Open;case wl.closing:return Kc.Closing;default:return Kc.Closed}}isConnected(){return this.connectionState()===Kc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Zd(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Wse,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ty.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:a}=r,l=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===wl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wl.open||this.conn.readyState===wl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eae],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:Use};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Vs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new z8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ty.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:lk,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Ty.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:v1,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:_I,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>Qse[g-1]||Zse,this.vsn){case zse:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case U8:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var lg=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rae(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function nae(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function iae(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const l=rae(e.baseUrl,n,i),c=await nae(e.auth),u=await t(l,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...c,...a},body:s?JSON.stringify(s):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new lg((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Ay(e){return e.join("")}var sae=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ay(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ay(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ay(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ay(e.namespace)}`}),!0}catch(t){if(t instanceof lg&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof lg&&r.status===409)return;throw r}}};function md(e){return e.join("")}var aae=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${md(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof lg&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof lg&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},oae=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=iae({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new sae(this.client,t),this.tableOps=new aae(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},e_=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function t_(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var My=class extends e_{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},H8=class extends e_{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const lae=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cae=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dk=e=>{if(Array.isArray(e))return e.map(r=>dk(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=dk(n)}),t},uae=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function dae(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fae(e){var t=dae(e,"string");return cg(t)=="symbol"?t:t+""}function hae(e,t,r){return(t=fae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){hae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const CI=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},pae=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new My(CI(a),s,l,n))}).catch(()=>{if(n==="vectors"){const a=s+"";t(new My(i.statusText||`HTTP ${s} error`,s,a,n))}else{const a=s+"";t(new My(i.statusText||`HTTP ${s} error`,s,a,n))}});else{const a=s+"";t(new My(i.statusText||`HTTP ${s} error`,s,a,n))}}else t(new H8(CI(e),e,n))},mae=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Qe(Qe({},i),r):(cae(n)?(i.headers=Qe({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Qe(Qe({},i),r))};async function Ip(e,t,r,n,i,s,a){return new Promise((l,c)=>{e(r,mae(t,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>pae(u,c,n,a))})}function q8(e="storage"){return{get:async(t,r,n,i)=>Ip(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,s)=>Ip(t,"POST",r,i,s,n,e),put:async(t,r,n,i,s)=>Ip(t,"PUT",r,i,s,n,e),head:async(t,r,n,i)=>Ip(t,"HEAD",r,Qe(Qe({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,s)=>Ip(t,"DELETE",r,i,s,n,e)}}const gae=q8("storage"),{get:ug,post:Bs,put:fk,head:vae,remove:gP}=gae,Ui=q8("vectors");var Jh=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=lae(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(t_(r))return{data:null,error:r};throw r}}},yae=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(t_(t))return{data:null,error:t};throw t}}};let G8;G8=Symbol.toStringTag;var xae=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[G8]="BlobDownloadBuilder",this.promise=null}asStream(){return new yae(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(t_(t))return{data:null,error:t};throw t}}};const bae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wae=class extends Jh{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let s;const a=Qe(Qe({},OI),n);let l=Qe(Qe({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",i.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),c&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=Qe(Qe({},l),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),f=await(e=="PUT"?fk:Bs)(i.fetch,`${i.url}/object/${d}`,s,Qe({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const s=i._removeEmptyFolders(e),a=i._getFinalPath(s),l=new URL(i.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",t),i.handleOperation(async()=>{let c;const u=Qe({upsert:OI.upsert},n),d=Qe(Qe({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:s,fullPath:(await fk(i.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=Qe({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await Bs(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+s.url),l=a.searchParams.get("token");if(!l)throw new e_("No token returned by API");return{signedUrl:a.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Bs(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Bs(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),s=await Bs(n.fetch,`${n.url}/object/sign/${i}`,Qe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await Bs(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(a=>Qe(Qe({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>ug(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0},r);return new xae(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>dk(await ug(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await vae(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(t_(n)&&n instanceof H8){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await gP(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=Qe(Qe(Qe({},bae),t),{},{prefix:e||""});return await Bs(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Qe({},e);return await Bs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const _ae="2.95.3",Sv={"X-Client-Info":`storage-js/${_ae}`};var jae=class extends Jh{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=Qe(Qe({},Sv),t);super(s,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ug(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ug(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Bs(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await fk(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Bs(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await gP(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Sae=class extends Jh{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Qe(Qe({},Sv),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Bs(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ug(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await gP(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!uae(e))throw new e_("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new oae({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},Nae=class extends Jh{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Qe(Qe({},Sv),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Ui.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Ui.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},kae=class extends Jh{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Qe(Qe({},Sv),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Cae=class extends Jh{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Qe(Qe({},Sv),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ui.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Oae=class extends Cae{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Eae(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Eae=class extends Nae{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Pae(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Pae=class extends kae{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Tae=class extends jae{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new wae(this.url,this.headers,e,this.fetch)}get vectors(){return new Oae(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sae(this.url+"/iceberg",this.headers,this.fetch)}};const K8="2.95.3",Id=30*1e3,hk=3,y1=hk*Id,Aae="http://localhost:9999",Mae="supabase.auth.token",Iae={"X-Client-Info":`gotrue-js/${K8}`},pk="X-Supabase-Api-Version",Y8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$ae=10*60*1e3;class dg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Dae extends dg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Lae(e){return Ue(e)&&e.name==="AuthApiError"}class Yc extends dg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class el extends dg{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Pi extends el{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function x1(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class gd extends el{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Iy extends el{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ry extends el{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fae(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class EI extends el{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bae extends el{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class mk extends el{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function b1(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class PI extends el{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gk extends el{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),TI=` 	
\r=`.split(""),Uae=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<TI.length;t+=1)e[TI[t].charCodeAt(0)]=-2;for(let t=0;t<Mb.length;t+=1)e[Mb[t].charCodeAt(0)]=t;return e})();function AI(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mb[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mb[n]),t.queuedBits-=6}}function J8(e,t,r){const n=Uae[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function MI(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Vae(a,n,r)};for(let a=0;a<e.length;a+=1)J8(e.charCodeAt(a),i,s);return t.join("")}function zae(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wae(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}zae(n,t)}}function Vae(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xf(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)J8(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Hae(e){const t=[];return Wae(e,r=>t.push(r)),new Uint8Array(t)}function tu(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>AI(i,r,n)),AI(null,r,n),t.join("")}function qae(e){return Math.round(Date.now()/1e3)+e}function Gae(){return Symbol("auth-callback")}const xn=()=>typeof window<"u"&&typeof document<"u",Tc={tested:!1,writable:!1},X8=()=>{if(!xn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tc.tested)return Tc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Tc.tested=!0,Tc.writable=!0}catch{Tc.tested=!0,Tc.writable=!1}return Tc.writable};function Kae(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Q8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Yae=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ac=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vn=async(e,t)=>{await e.removeItem(t)};class r_{constructor(){this.promise=new r_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}r_.promiseConstructor=Promise;function $y(e){const t=e.split(".");if(t.length!==3)throw new gk("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Rae.test(t[n]))throw new gk("JWT not in base64url format");return{header:JSON.parse(MI(t[0])),payload:JSON.parse(MI(t[1])),signature:xf(t[2]),raw:{header:t[0],payload:t[1]}}}async function Jae(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Xae(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function Qae(e){return("0"+e.toString(16)).substr(-2)}function Zae(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Qae).join("")}async function eoe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function toe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await eoe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vd(e,t,r=!1){const n=Zae();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Rd(e,`${t}-code-verifier`,i);const s=await toe(n);return[s,n===s?"plain":"s256"]}const roe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function noe(e){const t=e.headers.get(pk);if(!t||!t.match(roe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ioe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function soe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aoe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yd(e){if(!aoe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function w1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ooe(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function II(e){return JSON.parse(JSON.stringify(e))}const zc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),loe=[502,503,504];async function RI(e){var t;if(!Yae(e))throw new mk(zc(e),0);if(loe.includes(e.status))throw new mk(zc(e),e.status);let r;try{r=await e.json()}catch(s){throw new Yc(zc(s),s)}let n;const i=noe(e);if(i&&i.getTime()>=Y8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new PI(zc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new PI(zc(r),e.status,r.weak_password.reasons);throw new Dae(zc(r),e.status||500,n)}const coe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Je(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[pk]||(s[pk]=Y8["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await uoe(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function uoe(e,t,r,n,i,s){const a=coe(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new mk(zc(c),0)}if(l.ok||await RI(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await RI(c)}}function Rs(e){var t;let r=null;hoe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qae(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $I(e){const t=Rs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function doe(e){return{data:e,error:null}}function foe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=Yh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function DI(e){return e}function hoe(e){return e.access_token&&e.refresh_token&&e.expires_in}const _1=["global","local","others"];class poe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Q8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=_1[0]){if(_1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_1.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cl})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Yh(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:foe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cl})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:DI});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){yd(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cl})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){yd(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cl})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){yd(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cl})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){yd(t.userId);try{const{data:r,error:n}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){yd(t.userId),yd(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:DI});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ue(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function LI(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const xd={debug:!!(globalThis&&X8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Z8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class moe extends Z8{}async function goe(e,t,r){xd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){xd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{xd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw xd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new moe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function voe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ez(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function yoe(e){return parseInt(e,16)}function xoe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function boe(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=ez(e.address),g=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${v}
${b}`}class zr extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Ib extends zr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function woe({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new zr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new zr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new zr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new zr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new zr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new zr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new zr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(tz(a)){if(s.rp.id!==a)return new zr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new zr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new zr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function _oe({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new zr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tz(n)){if(r.rpId!==n)return new zr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new zr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class joe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Soe=new joe;function Noe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Yh(e,["challenge","user","excludeCredentials"]),s=xf(t).buffer,a=Object.assign(Object.assign({},r),{id:xf(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:xf(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function koe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Yh(e,["challenge","allowCredentials"]),i=xf(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:xf(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function Coe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:tu(new Uint8Array(e.response.attestationObject)),clientDataJSON:tu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ooe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:tu(new Uint8Array(i.authenticatorData)),clientDataJSON:tu(new Uint8Array(i.clientDataJSON)),signature:tu(new Uint8Array(i.signature)),userHandle:i.userHandle?tu(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tz(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function FI(){var e,t;return!!(xn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Eoe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ib("Browser returned unexpected credential type",t)}:{data:null,error:new Ib("Empty credential response",t)}}catch(t){return{data:null,error:woe({error:t,options:e})}}}async function Poe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ib("Browser returned unexpected credential type",t)}:{data:null,error:new Ib("Empty credential response",t)}}catch(t){return{data:null,error:_oe({error:t,options:e})}}}const Toe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Aoe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Rb(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(t(a)){const l=n[s];t(l)?n[s]=Rb(l,a):n[s]=Rb(a)}else n[s]=a}return n}function Moe(e,t){return Rb(Toe,e,t||{})}function Ioe(e,t){return Rb(Aoe,e,t||{})}class Roe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){var a;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=i??Soe.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,g=((a=p==null?void 0:p.user_metadata)===null||a===void 0?void 0:a.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=Moe(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:h}=await Eoe({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=Ioe(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:h}=await Poe(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Ue(l)?{data:null,error:l}:{data:null,error:new Yc("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new dg("rpId is required for WebAuthn authentication")};try{if(!FI())return{data:null,error:new Yc("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new Yc("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new dg("rpId is required for WebAuthn registration")};try{if(!FI())return{data:null,error:new Yc("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Ue(a)?{data:null,error:a}:{data:null,error:new Yc("Unexpected error in register",a)}}}}voe();const $oe={url:Aae,storageKey:Mae,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Iae,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function BI(e,t,r){return await r()}const bd={};class fg{get jwks(){var t,r;return(r=(t=bd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){bd[this.storageKey]=Object.assign(Object.assign({},bd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=bd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bd[this.storageKey]=Object.assign(Object.assign({},bd[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},$oe),t);if(this.storageKey=s.storageKey,this.instanceID=(r=fg.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fg.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&xn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new poe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Q8(s.fetch),this.lock=s.lock||BI,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&xn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=goe:this.lock=BI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Roe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:X8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=LI(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=LI(this.memoryStorage)),xn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${K8}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(xn()&&(r=Kae(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),xn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Fae(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new Yc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Rs}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await vd(this.storage,this.storageKey)),s=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:Rs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rs})}else throw new Iy("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return await vn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(await vn(this.storage,`${this.storageKey}-code-verifier`),Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$I})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$I})}else throw new Iy("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new gd;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,a,l,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:b,options:x}=t;let w;if(xn())if(typeof v=="object")w=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=ez(N[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const P=await w.request({method:"eth_chainId"});k=yoe(P)}const C={domain:_.host,address:j,statement:b,uri:_.href,version:"1",chainId:k,nonce:(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=boe(C),g=await w.request({method:"personal_sign",params:[xoe(p),j]})}try{const{data:m,error:v}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Rs});if(v)throw v;if(!m||!m.session||!m.user){const b=new gd;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(Ue(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,i,s,a,l,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let _;if(xn())if(typeof b=="object")_=b;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=j}}try{const{data:v,error:b}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:tu(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Rs});if(b)throw b;if(!v||!v.session||!v.user){const x=new gd;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Ue(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Ac(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Bae;const{data:s,error:a}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Rs});if(await vn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const l=new gd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await vn(this.storage,`${this.storageKey}-code-verifier`),Ue(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Rs}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new gd;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vd(this.storage,this.storageKey));const{error:f}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Iy("You must provide either an email or phone number.")}catch(l){if(await vn(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Rs});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await vd(this.storage,this.storageKey));const u=await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:doe});return!((s=u.data)===null||s===void 0)&&s.url&&xn()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await vn(this.storage,`${this.storageKey}-code-verifier`),Ue(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pi;const{error:i}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Iy("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ac(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<y1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Ac(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=w1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=ooe(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cl}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pi}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Cl})})}catch(r){if(Ue(r))return x1(r)&&(await this._removeSession(),await vn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Pi;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await vd(this.storage,this.storageKey));const{data:u,error:d}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Cl});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await vn(this.storage,`${this.storageKey}-code-verifier`),Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=$y(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!xn())throw new Ry("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ry(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new EI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ry("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new EI("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new Ry("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Id&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:v}=await this._getUser(s);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ac(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!x1(s))return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Lae(l)&&(l.status===404||l.status===401||l.status===403)||x1(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await vn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Gae(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await vd(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await vn(this.storage,`${this.storageKey}-code-verifier`),Ue(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return xn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,f=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rs}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new gd}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await vn(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Xae(async i=>(i>0&&await Jae(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Rs})),(i,s)=>{const a=200*Math.pow(2,i);return s&&b1(s)&&Date.now()+a-n<Id})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),xn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ac(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ac(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Rd(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:w1()}else if(i&&!i.user&&!i.user){const a=await Ac(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await vn(this.storage,this.storageKey+"-user"),await Rd(this.storage,this.storageKey,i)):i.user=w1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<y1;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${y1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),b1(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new r_;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Pi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Ue(s)){const a={data:null,error:s};return b1(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await vn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Rd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=II(i);await Rd(this.storage,this.storageKey,s)}else{const i=II(r);await Rd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await vn(this.storage,this.storageKey),await vn(this.storage,this.storageKey+"-code-verifier"),await vn(this.storage,this.storageKey+"-user"),this.userStorage&&await vn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Id);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Id);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Id}ms, refresh threshold is ${hk} ticks`),i<=hk&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Z8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await vd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Coe(t.webauthn.credential_response):Ooe(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Noe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:koe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,s;if(t)try{const{payload:p}=$y(t);let g=null;p.aal&&(g=p.aal);let m=g;const{data:{user:v},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((n=(r=v==null?void 0:v.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(m="aal2");const w=p.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:w},error:null}}catch(p){if(Ue(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=$y(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Je(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pi})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Pi});const a=await Je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&xn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Pi});const a=await Je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&xn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Pi})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pi})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+$ae>i)return n;const{data:s,error:a}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=$y(n);r!=null&&r.allowExpired||ioe(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=soe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Hae(`${l}.${c}`)))throw new gk("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}fg.nextInstanceID={};const Doe=fg,Loe="2.95.3";let lm="";typeof Deno<"u"?lm="deno":typeof document<"u"?lm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lm="react-native":lm="node";const Foe={"X-Client-Info":`supabase-js-${lm}/${Loe}`},Boe={headers:Foe},Uoe={schema:"public"},zoe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Woe={};function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}function Voe(e,t){if(hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hoe(e){var t=Voe(e,"string");return hg(t)=="symbol"?t:t+""}function qoe(e,t,r){return(t=Hoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){qoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Goe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Koe=()=>Headers,Yoe=(e,t,r)=>{const n=Goe(r),i=Koe();return async(s,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,kr(kr({},a),{},{headers:u}))}};function Joe(e){return e.endsWith("/")?e:e+"/"}function Xoe(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:kr(kr({},c),i),auth:kr(kr({},u),s),realtime:kr(kr({},d),a),storage:{},global:kr(kr(kr({},f),l),{},{headers:kr(kr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Qoe(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Joe(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Zoe=class extends Doe{constructor(e){super(e)}},ele=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=Qoe(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,l={db:Uoe,realtime:Woe,auth:kr(kr({},zoe),{},{storageKey:a}),global:Boe},c=Xoe(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Yoe(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(kr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Lse(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new Tae(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Pse(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zoe({url:this.authUrl.href,headers:kr(kr({},h),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tae(this.realtimeUrl.href,kr(kr({},e),{},{params:kr(kr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tle=(e,t,r)=>new ele(e,t,r);function rle(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}rle()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nle="https://ihyzfrfzazrbrufzcunm.supabase.co",ile="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImloeXpmcmZ6YXpyYnJ1ZnpjdW5tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDQyNTQsImV4cCI6MjA4MjU4MDI1NH0.2DAOh3w-iye0TzrzXte1GZ1h8X-xfQQ4vOR8YWFow_o",Ie=tle(nle,ile,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Vo=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ie},Symbol.toStringTag,{value:"Module"})),rz=y.createContext(void 0),Lr=()=>{const e=y.useContext(rz);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},sle=({children:e})=>{const[t,r]=y.useState(null),[n,i]=y.useState(null),[s,a]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!0),[f,h]=y.useState(!1),p=async x=>{console.log("[AuthContext] Fetching user data for:",x);try{const{data:w,error:_}=await Ie.from("profiles").select("id, first_name, last_name, phone, avatar_url, id_number, date_of_birth").eq("id",x).single();_&&console.error("[AuthContext] Profile fetch error:",_),w&&(console.log("[AuthContext] Profile data:",w),console.log("[AuthContext] id_number value:",w.id_number),a(w));const{data:N,error:j}=await Ie.from("user_roles").select("role").eq("user_id",x).single();if(j&&console.error("[AuthContext] Role fetch error:",j),N)if(console.log("[AuthContext] Role:",N.role),c(N.role),N.role==="patient"){const k=!!(w!=null&&w.id_number);console.log("[AuthContext] Is patient onboarded:",k),h(k)}else console.log("[AuthContext] Non-patient role, marking as onboarded"),h(!0)}catch(w){console.error("[AuthContext] Error fetching user data:",w)}},g=async()=>{console.log("[AuthContext] Refreshing profile..."),t&&(await p(t.id),console.log("[AuthContext] Profile refreshed, onboardingComplete:",f))};y.useEffect(()=>{const{data:{subscription:x}}=Ie.auth.onAuthStateChange((w,_)=>{console.log("[AuthContext] Auth state changed:",w),i(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?setTimeout(()=>{p(_.user.id)},0):(a(null),c(null),h(!1)),w==="SIGNED_OUT"&&(a(null),c(null),h(!1))});return Ie.auth.getSession().then(({data:{session:w}})=>{i(w),r((w==null?void 0:w.user)??null),w!=null&&w.user&&p(w.user.id),d(!1)}),()=>x.unsubscribe()},[]);const m=async(x,w,_)=>{const N=`${window.location.origin}/`,{error:j}=await Ie.auth.signUp({email:x,password:w,options:{emailRedirectTo:N,data:{first_name:_.first_name,last_name:_.last_name,role:_.role||"patient",hpcsa_number:_.hpcsa_number,id_number:_.id_number}}});return{error:j}},v=async(x,w)=>{const{error:_}=await Ie.auth.signInWithPassword({email:x,password:w});return{error:_}},b=async()=>{await Ie.auth.signOut(),r(null),i(null),a(null),c(null),h(!1)};return o.jsx(rz.Provider,{value:{user:t,session:n,profile:s,role:l,isLoading:u,onboardingComplete:f,signUp:m,signIn:v,signOut:b,refreshProfile:g},children:e})},oo=({children:e,allowedRoles:t})=>{const{user:r,role:n,isLoading:i}=Lr(),s=to();if(i)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!r)return o.jsx(pI,{to:"/auth",state:{from:s},replace:!0});if(t&&n&&!t.includes(n)){const a={patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"};return o.jsx(pI,{to:a[n],replace:!0})}return o.jsx(o.Fragment,{children:e})};var ale=Symbol.for("react.lazy"),$b=ww[" use ".trim().toString()];function ole(e){return typeof e=="object"&&e!==null&&"then"in e}function nz(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===ale&&"_payload"in e&&ole(e._payload)}function Nv(e){const t=lle(e),r=y.forwardRef((n,i)=>{let{children:s,...a}=n;nz(s)&&typeof $b=="function"&&(s=$b(s._payload));const l=y.Children.toArray(s),c=l.find(ule);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var iz=Nv("Slot");function lle(e){const t=y.forwardRef((r,n)=>{let{children:i,...s}=r;if(nz(i)&&typeof $b=="function"&&(i=$b(i._payload)),y.isValidElement(i)){const a=fle(i),l=dle(s,i.props);return i.type!==y.Fragment&&(l.ref=n?Qa(n,a):a),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cle=Symbol("radix.slottable");function ule(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cle}function dle(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function fle(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const pg=Bw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-md hover:shadow-lg",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] font-semibold",heroOutline:"border-2 border-primary-foreground/30 bg-primary-foreground/10 text-primary-foreground backdrop-blur-sm hover:bg-primary-foreground/20 font-semibold",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md",coral:"gradient-coral text-secondary-foreground shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const a=n?iz:"button";return o.jsx(a,{className:_e(pg({variant:t,size:r,className:e})),ref:s,...i})});Z.displayName="Button";const hle=()=>{const[e,t]=y.useState(!1),{user:r,profile:n,role:i,signOut:s}=Lr(),a=Wn(),l=[{label:"How It Works",href:"#how-it-works"},{label:"Services",href:"#services"},{label:"For Clinicians",href:"#clinicians"},{label:"Contact",href:"#contact"}],c=async()=>{await s(),a("/")},u=d=>({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin"})[d];return o.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-md border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[o.jsx(mo,{to:"/",className:"flex items-center gap-2",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-10 sm:h-12 w-auto"})}),o.jsx("nav",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:l.map(d=>o.jsx("a",{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.label))}),o.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[o.jsxs(Z,{variant:"ghost",size:"sm",className:"gap-2",children:[o.jsx(Si,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"0800 QUADCARE"})]}),r?o.jsxs(o.Fragment,{children:[o.jsx(mo,{to:i?u(i):"/patient",children:o.jsxs(Z,{variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(Dr,{className:"w-4 h-4"}),(n==null?void 0:n.first_name)||"Dashboard"]})}),o.jsx(Z,{variant:"ghost",size:"sm",onClick:c,children:o.jsx(rc,{className:"w-4 h-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(mo,{to:"/auth",children:o.jsx(Z,{variant:"outline",size:"sm",children:"Sign In"})}),o.jsx(mo,{to:"/auth",children:o.jsx(Z,{variant:"default",size:"sm",children:"Book Consultation"})})]})]}),o.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 hover:bg-accent rounded-lg transition-colors","aria-label":"Toggle menu",children:e?o.jsx(Za,{className:"w-5 h-5 sm:w-6 sm:h-6"}):o.jsx(bv,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e&&o.jsx("div",{className:"lg:hidden py-4 border-t border-border animate-fade-in max-h-[calc(100vh-4rem)] overflow-y-auto",children:o.jsxs("nav",{className:"flex flex-col gap-1",children:[l.map(d=>o.jsx("a",{href:d.href,className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors",onClick:()=>t(!1),children:d.label},d.label)),o.jsxs("a",{href:"tel:0800QUADCARE",className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors flex items-center gap-2",onClick:()=>t(!1),children:[o.jsx(Si,{className:"w-4 h-4"}),"0800 QUADCARE"]}),o.jsx("div",{className:"flex flex-col gap-2 mt-4 px-4 pt-4 border-t border-border",children:r?o.jsxs(o.Fragment,{children:[o.jsx(mo,{to:i?u(i):"/patient",onClick:()=>t(!1),children:o.jsxs(Z,{variant:"outline",className:"w-full gap-2 justify-start",children:[o.jsx(kee,{className:"w-4 h-4"}),"My Dashboard"]})}),o.jsxs(Z,{variant:"ghost",className:"w-full justify-start",onClick:c,children:[o.jsx(rc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(mo,{to:"/auth",onClick:()=>t(!1),children:o.jsx(Z,{variant:"outline",className:"w-full",children:"Sign In"})}),o.jsx(mo,{to:"/auth",onClick:()=>t(!1),children:o.jsx(Z,{variant:"default",className:"w-full",children:"Book Consultation"})})]})})]})})]})})},ple="/assets/hero-medical-D5FvmeGo.jpg",mle=()=>{const e=["HPCSA Compliant Consultations","POPIA Protected Data","Medical Aid Integration"];return o.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 sm:pt-20 lg:pt-0 overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/20"}),o.jsx("div",{className:"absolute top-1/4 right-0 w-[300px] sm:w-[600px] h-[300px] sm:h-[600px] bg-primary/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-[200px] sm:w-[400px] h-[200px] sm:h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10 py-8 sm:py-12 lg:py-0",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[o.jsxs("div",{className:"space-y-5 sm:space-y-8 animate-slide-up",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-accent rounded-full",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-accent-foreground",children:"Serving 12 Quadcare Clinics Across South Africa"})]}),o.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight",children:["Healthcare at Your"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Fingertips"})]}),o.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground max-w-xl leading-relaxed",children:"Experience seamless telehealth consultations with qualified South African doctors. From booking to prescription  all digitally compliant and medically integrated."}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4",children:e.map(t=>o.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[o.jsx(Hr,{className:"w-4 h-4 text-success shrink-0"}),o.jsx("span",{children:t})]},t))}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-2 sm:pt-4",children:[o.jsx(mo,{to:"/auth",className:"w-full sm:w-auto",children:o.jsxs(Z,{variant:"hero",size:"xl",className:"group w-full sm:w-auto",children:[o.jsx(Dt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"Book Consultation"}),o.jsx(ta,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})}),o.jsxs(Z,{variant:"outline",size:"xl",className:"w-full sm:w-auto",children:[o.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"How It Works"})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 pt-2 sm:pt-4 text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wv,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),o.jsx("span",{children:"HPCSA Registered"})]}),o.jsx("div",{className:"hidden sm:block h-4 w-px bg-border"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(t=>o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-accent border-2 border-card flex items-center justify-center text-[10px] sm:text-xs font-medium text-accent-foreground",children:t===4?"5K+":""},t))}),o.jsx("span",{children:"Active Patients"})]})]})]}),o.jsxs("div",{className:"relative animate-fade-in order-first lg:order-last",style:{animationDelay:"0.2s"},children:[o.jsxs("div",{className:"relative rounded-2xl sm:rounded-3xl overflow-hidden shadow-xl sm:shadow-2xl",children:[o.jsx("img",{src:ple,alt:"Quadcare Telehealth Platform",className:"w-full h-auto object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]}),o.jsx("div",{className:"hidden sm:block absolute -left-4 lg:-left-8 top-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-success/20 flex items-center justify-center",children:o.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-success"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Live Now"}),o.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"Dr. Mokoena"})]})]})}),o.jsx("div",{className:"absolute -right-2 sm:-right-4 lg:-right-8 bottom-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",style:{animationDelay:"1s"},children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:o.jsx(Dt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Next Available"}),o.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"10:30 AM Today"})]})]})})]})]})})]})},gle=()=>{const e=[{icon:Dt,title:"Smart Booking",description:"Self-service appointment scheduling with intelligent symptom assessment and urgency triaging.",color:"bg-primary/10 text-primary"},{icon:vs,title:"Symptom Checker",description:"AI-powered preliminary assessment to route patients to the right level of care.",color:"bg-info/10 text-info"},{icon:Ln,title:"Clinical Workflow",description:"Seamless nurse triage to doctor escalation with complete patient handoff documentation.",color:"bg-secondary/10 text-secondary"},{icon:hr,title:"HD Video Consults",description:"Secure, high-quality video consultations with screen sharing and file transfer.",color:"bg-success/10 text-success"},{icon:Mr,title:"E-Prescriptions",description:"Digital prescriptions with ICD-10 coding, sent directly to pharmacies via HealthBridge.",color:"bg-warning/10 text-warning"},{icon:RU,title:"Medical Aid Billing",description:"Real-time benefit verification and automatic claim submission to medical schemes.",color:"bg-primary/10 text-primary"},{icon:_ee,title:"Clinical Notes",description:"Structured SOAP notes with ICD-10 coding and automatic EHR synchronization.",color:"bg-info/10 text-info"},{icon:wv,title:"POPIA Compliant",description:"Full data protection with encrypted storage, audit trails, and patient consent management.",color:"bg-success/10 text-success"},{icon:Qd,title:"Analytics Dashboard",description:"Clinical quality metrics, utilization reports, and billing analytics for practice management.",color:"bg-secondary/10 text-secondary"}];return o.jsx("section",{id:"services",className:"py-24 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Complete Telehealth Ecosystem"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["Everything You Need for"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Digital Healthcare"})]}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"From patient self-service to clinical documentation, our platform handles the entire consultation lifecycle."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>o.jsxs("div",{className:"group bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20",style:{animationDelay:`${r*.1}s`},children:[o.jsx("div",{className:`w-14 h-14 rounded-xl ${t.color} flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:o.jsx(t.icon,{className:"w-7 h-7"})}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]},t.title))})]})})},vle=()=>{const e=[{number:"01",icon:Dr,title:"Patient Registration",description:"Quick signup with ID verification, medical history, and medical aid details capture.",color:"bg-primary"},{number:"02",icon:IU,title:"Symptom Assessment",description:"AI-guided symptom checker determines urgency and appropriate care pathway.",color:"bg-info"},{number:"03",icon:vs,title:"Nurse Triage",description:"Qualified nurse reviews case, gathers vitals, and prepares patient for consultation.",color:"bg-secondary"},{number:"04",icon:hr,title:"Doctor Consultation",description:"HD video call with board-certified physician, complete with screen sharing.",color:"bg-success"},{number:"05",icon:$U,title:"Documentation",description:"Structured clinical notes, ICD-10 codes, and e-prescriptions generated automatically.",color:"bg-warning"},{number:"06",icon:RU,title:"Billing & Follow-up",description:"Automatic medical aid claim or payment processing with follow-up scheduling.",color:"bg-primary"}];return o.jsx("section",{id:"how-it-works",className:"py-24 bg-background",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Seamless Patient Journey"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["How"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Quadcare Telehealth"})," ","Works"]}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"A fully digitized workflow from first contact to follow-up care, designed for South African healthcare compliance."})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden lg:block absolute top-24 left-[8.33%] right-[8.33%] h-0.5 bg-gradient-to-r from-primary via-success to-primary"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 h-full",children:[o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl ${t.color} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:o.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),o.jsx("span",{className:"text-5xl font-bold text-muted/30 group-hover:text-primary/20 transition-colors",children:t.number})]}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]}),r<e.length-1&&o.jsx("div",{className:"lg:hidden flex justify-center py-4",children:o.jsx(ta,{className:"w-6 h-6 text-primary rotate-90"})})]},t.number))})]})]})})},yle=()=>{const e=[{icon:Sb,value:"12",label:"Quadcare Clinics",sublabel:"Gauteng & Limpopo"},{icon:Ln,value:"5,000+",label:"Active Patients",sublabel:"And growing"},{icon:nr,value:"<15min",label:"Avg Wait Time",sublabel:"For consultations"},{icon:KE,value:"4.8",label:"Patient Rating",sublabel:"Out of 5 stars"}];return o.jsx("section",{className:"py-16 gradient-hero",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>o.jsxs("div",{className:"text-center group",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm mb-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),o.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-2",children:t.value}),o.jsx("div",{className:"text-primary-foreground/90 font-medium",children:t.label}),o.jsx("div",{className:"text-primary-foreground/60 text-sm",children:t.sublabel})]},t.label))})})})},xle=()=>{const e=[{icon:Tee,title:"Unified Dashboard",description:"All patient queues, schedules, and clinical tools in one interface."},{icon:nr,title:"Smart Scheduling",description:"AI-optimized appointment slots based on consultation type and duration."},{icon:Mr,title:"Auto Documentation",description:"Structured notes with ICD-10 suggestions and HPCSA compliant templates."},{icon:hr,title:"HD Consultations",description:"Crystal clear video with screen sharing, annotations, and recordings."},{icon:Qd,title:"Performance Analytics",description:"Track consultation metrics, patient outcomes, and earnings in real-time."},{icon:wv,title:"Medico-Legal Protection",description:"Full audit trails, consent management, and compliant documentation."}],t=["Reduced admin time by 60%","Automatic HealthBridge sync","Mobile-friendly interface","Multi-clinic support"];return o.jsx("section",{id:"clinicians",className:"py-24 bg-muted/30",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"For Healthcare Providers"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:["Empower Your"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Clinical Practice"})]}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Purpose-built for South African healthcare professionals. Streamline your telehealth workflow while maintaining full HPCSA compliance and clinical quality standards."}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(r=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"w-5 h-5 text-success flex-shrink-0"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:r})]},r))}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsxs(Z,{variant:"hero",size:"lg",className:"group",children:["Join as Provider",o.jsx(ta,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(Z,{variant:"outline",size:"lg",children:"View Demo"})]})]}),o.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:e.map((r,n)=>o.jsxs("div",{className:"bg-card rounded-xl p-5 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20 group",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(r.icon,{className:"w-6 h-6 text-primary"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:r.title}),o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})})})},ble=()=>o.jsxs("section",{className:"py-24 bg-background relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs("div",{className:"gradient-primary rounded-3xl p-12 md:p-16 shadow-2xl",children:[o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-6",children:"Ready to Transform Your Healthcare Experience?"}),o.jsx("p",{className:"text-lg md:text-xl text-primary-foreground/80 mb-10 max-w-2xl mx-auto",children:"Join thousands of patients across Gauteng and Limpopo who've already made the switch to convenient, compliant telehealth."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Z,{variant:"heroOutline",size:"xl",className:"group",children:[o.jsx(Dt,{className:"w-5 h-5"}),"Book Your First Consultation",o.jsx(ta,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(Z,{variant:"ghost",size:"xl",className:"text-primary-foreground hover:bg-primary-foreground/10",children:[o.jsx(Si,{className:"w-5 h-5"}),"0800 QUADCARE"]})]}),o.jsx("p",{className:"text-primary-foreground/60 text-sm mt-8",children:"No registration fees  Medical aid accepted  Available 7 days a week"})]})})})]}),wle=()=>{const e={patients:[{label:"Book Consultation",href:"#"},{label:"Symptom Checker",href:"#"},{label:"Find a Doctor",href:"#"},{label:"Pricing",href:"#"},{label:"FAQs",href:"#"}],providers:[{label:"Join as Doctor",href:"#"},{label:"Nurse Portal",href:"#"},{label:"Clinical Guidelines",href:"#"},{label:"Training Resources",href:"#"}],company:[{label:"About Quadcare",href:"#"},{label:"Our Clinics",href:"#"},{label:"Careers",href:"#"},{label:"Contact Us",href:"#"}],legal:[{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"},{label:"POPIA Compliance",href:"#"},{label:"Cookie Policy",href:"#"}]},t=[{icon:See,href:"#",label:"Facebook"},{icon:zee,href:"#",label:"Twitter"},{icon:Aee,href:"#",label:"LinkedIn"},{icon:Pee,href:"#",label:"Instagram"}];return o.jsx("footer",{id:"contact",className:"bg-foreground text-primary-foreground pt-16 pb-8",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 pb-12 border-b border-primary-foreground/10",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(mo,{to:"/",className:"flex items-center gap-2 mb-6",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-12 w-auto brightness-0 invert"})}),o.jsx("p",{className:"text-primary-foreground/60 text-sm mb-6 max-w-xs",children:"Digitizing healthcare for South Africa. Compliant, convenient, connected."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("a",{href:"tel:0800423227",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[o.jsx(Si,{className:"w-4 h-4"}),"0800 QUADCARE (0800 782 322)"]}),o.jsxs("a",{href:"mailto:support@quadcare.co.za",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[o.jsx(Ia,{className:"w-4 h-4"}),"support@quadcare.co.za"]}),o.jsxs("div",{className:"flex items-start gap-3 text-sm text-primary-foreground/60",children:[o.jsx(DU,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),o.jsxs("span",{children:["Quadcare Head Office",o.jsx("br",{}),"Johannesburg, Gauteng"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Patients"}),o.jsx("ul",{className:"space-y-3",children:e.patients.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Providers"}),o.jsx("ul",{className:"space-y-3",children:e.providers.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Company"}),o.jsx("ul",{className:"space-y-3",children:e.company.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Legal"}),o.jsx("ul",{className:"space-y-3",children:e.legal.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]})]}),o.jsxs("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-sm text-primary-foreground/40",children:" 2026 Quadcare Telehealth. All rights reserved."}),o.jsx("div",{className:"flex items-center gap-4",children:t.map(r=>o.jsx("a",{href:r.href,"aria-label":r.label,className:"w-10 h-10 rounded-lg bg-primary-foreground/5 hover:bg-primary-foreground/10 flex items-center justify-center transition-colors",children:o.jsx(r.icon,{className:"w-5 h-5 text-primary-foreground/60"})},r.label))})]})]})})},_le=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(hle,{}),o.jsxs("main",{children:[o.jsx(mle,{}),o.jsx(gle,{}),o.jsx(vle,{}),o.jsx(yle,{}),o.jsx(xle,{}),o.jsx(ble,{})]}),o.jsx(wle,{})]});var kv=e=>e.type==="checkbox",ru=e=>e instanceof Date,pi=e=>e==null;const sz=e=>typeof e=="object";var qr=e=>!pi(e)&&!Array.isArray(e)&&sz(e)&&!ru(e),az=e=>qr(e)&&e.target?kv(e.target)?e.target.checked:e.target.value:e,jle=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,oz=(e,t)=>e.has(jle(t)),Sle=e=>{const t=e.constructor&&e.constructor.prototype;return qr(t)&&t.hasOwnProperty("isPrototypeOf")},vP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(vP&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(qr(e)&&Sle(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=Fr(e[i]));return n}var n_=e=>/^\w*$/.test(e),gr=e=>e===void 0,yP=e=>Array.isArray(e)?e.filter(Boolean):[],xP=e=>yP(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,t,r)=>{if(!t||!qr(e))return r;const n=(n_(t)?[t]:xP(t)).reduce((i,s)=>pi(i)?i:i[s],e);return gr(n)||n===e?gr(e[t])?r:e[t]:n},Di=e=>typeof e=="boolean",Yn=e=>typeof e=="function",Lt=(e,t,r)=>{let n=-1;const i=n_(t)?[t]:xP(t),s=i.length,a=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==a){const u=e[l];c=qr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Db={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ks={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},lo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bP=T.createContext(null);bP.displayName="HookFormControlContext";const wP=()=>T.useContext(bP);var lz=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const a=s;return t._proxyFormState[a]!==Ks.all&&(t._proxyFormState[a]=!n||Ks.all),r&&(r[a]=!0),e[a]}});return i};const _P=typeof window<"u"?T.useLayoutEffect:T.useEffect;function Nle(e){const t=wP(),{control:r=t,disabled:n,name:i,exact:s}=e||{},[a,l]=T.useState(r._formState),c=T.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return _P(()=>r._subscribe({name:i,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[i,n,s]),T.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),T.useMemo(()=>lz(a,r,c.current,!1),[a,r])}var zi=e=>typeof e=="string",vk=(e,t,r,n,i)=>zi(e)?(n&&t.watch.add(e),ke(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),ke(r,s))):(n&&(t.watchAll=!0),r),yk=e=>pi(e)||!sz(e);function Ys(e,t,r=new WeakSet){if(yk(e)||yk(t))return Object.is(e,t);if(ru(e)&&ru(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const a=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=t[s];if(ru(a)&&ru(l)||qr(a)&&qr(l)||Array.isArray(a)&&Array.isArray(l)?!Ys(a,l,r):!Object.is(a,l))return!1}}return!0}function kle(e){const t=wP(),{control:r=t,name:n,defaultValue:i,disabled:s,exact:a,compute:l}=e||{},c=T.useRef(i),u=T.useRef(l),d=T.useRef(void 0),f=T.useRef(r),h=T.useRef(n);u.current=l;const[p,g]=T.useState(()=>{const _=r._getWatch(n,c.current);return u.current?u.current(_):_}),m=T.useCallback(_=>{const N=vk(n,r._names,_||r._formValues,!1,c.current);return u.current?u.current(N):N},[r._formValues,r._names,n]),v=T.useCallback(_=>{if(!s){const N=vk(n,r._names,_||r._formValues,!1,c.current);if(u.current){const j=u.current(N);Ys(j,d.current)||(g(j),d.current=j)}else g(N)}},[r._formValues,r._names,s,n]);_P(()=>((f.current!==r||!Ys(h.current,n))&&(f.current=r,h.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:_=>{v(_.values)}})),[r,a,n,v]),T.useEffect(()=>r._removeUnmounted());const b=f.current!==r,x=h.current,w=T.useMemo(()=>{if(s)return null;const _=!b&&!Ys(x,n);return b||_?m():null},[s,b,n,x,m]);return w!==null?w:p}function Cle(e){const t=wP(),{name:r,disabled:n,control:i=t,shouldUnregister:s,defaultValue:a,exact:l=!0}=e,c=oz(i._names.array,r),u=T.useMemo(()=>ke(i._formValues,r,ke(i._defaultValues,r,a)),[i,r,a]),d=kle({control:i,name:r,defaultValue:u,exact:l}),f=Nle({control:i,name:r,exact:l}),h=T.useRef(e),p=T.useRef(void 0),g=T.useRef(i.register(r,{...e.rules,value:d,...Di(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=T.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!ke(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ke(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ke(f.validatingFields,r)},error:{enumerable:!0,get:()=>ke(f.errors,r)}}),[f,r]),v=T.useCallback(_=>g.current.onChange({target:{value:az(_),name:r},type:Db.CHANGE}),[r]),b=T.useCallback(()=>g.current.onBlur({target:{value:ke(i._formValues,r),name:r},type:Db.BLUR}),[r,i._formValues]),x=T.useCallback(_=>{const N=ke(i._fields,r);N&&N._f&&_&&(N._f.ref={focus:()=>Yn(_.focus)&&_.focus(),select:()=>Yn(_.select)&&_.select(),setCustomValidity:j=>Yn(_.setCustomValidity)&&_.setCustomValidity(j),reportValidity:()=>Yn(_.reportValidity)&&_.reportValidity()})},[i._fields,r]),w=T.useMemo(()=>({name:r,value:d,...Di(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:v,onBlur:b,ref:x}),[r,n,f.disabled,v,b,x,d]);return T.useEffect(()=>{const _=i._options.shouldUnregister||s,N=p.current;N&&N!==r&&!c&&i.unregister(N),i.register(r,{...h.current.rules,...Di(h.current.disabled)?{disabled:h.current.disabled}:{}});const j=(k,C)=>{const P=ke(i._fields,k);P&&P._f&&(P._f.mount=C)};if(j(r,!0),_){const k=Fr(ke(i._options.defaultValues,r,h.current.defaultValue));Lt(i._defaultValues,r,k),gr(ke(i._formValues,r))&&Lt(i._formValues,r,k)}return!c&&i.register(r),p.current=r,()=>{(c?_&&!i._state.action:_)?i.unregister(r):j(r,!1)}},[r,i,c,s]),T.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),T.useMemo(()=>({field:w,formState:f,fieldState:m}),[w,f,m])}const Ole=e=>e.render(Cle(e)),jP=T.createContext(null);jP.displayName="HookFormContext";const Ele=()=>T.useContext(jP),Ple=e=>{const{children:t,watch:r,getValues:n,getFieldState:i,setError:s,clearErrors:a,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:g,register:m,setFocus:v,subscribe:b}=e;return T.createElement(jP.Provider,{value:T.useMemo(()=>({watch:r,getValues:n,getFieldState:i,setError:s,clearErrors:a,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:g,register:m,setFocus:v,subscribe:b}),[a,g,u,i,n,h,m,f,d,s,v,l,b,c,p,r])},T.createElement(bP.Provider,{value:g},t))};var cz=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Om=e=>Array.isArray(e)?e:[e],zI=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}};function uz(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],s=t[n];if(i&&qr(i)&&s){const a=uz(i,s);qr(a)&&(r[n]=a)}else e[n]&&(r[n]=s)}return r}var Hn=e=>qr(e)&&!Object.keys(e).length,SP=e=>e.type==="file",Lb=e=>{if(!vP)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},dz=e=>e.type==="select-multiple",NP=e=>e.type==="radio",Tle=e=>NP(e)||kv(e),j1=e=>Lb(e)&&e.isConnected;function Ale(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=gr(e)?n++:e[t[n++]];return e}function Mle(e){for(const t in e)if(e.hasOwnProperty(t)&&!gr(e[t]))return!1;return!0}function Br(e,t){const r=Array.isArray(t)?t:n_(t)?[t]:xP(t),n=r.length===1?e:Ale(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(qr(n)&&Hn(n)||Array.isArray(n)&&Mle(n))&&Br(e,r.slice(0,-1)),e}var Ile=e=>{for(const t in e)if(Yn(e[t]))return!0;return!1};function fz(e){return Array.isArray(e)||qr(e)&&!Ile(e)}function xk(e,t={}){for(const r in e){const n=e[r];fz(n)?(t[r]=Array.isArray(n)?[]:{},xk(n,t[r])):gr(n)||(t[r]=!0)}return t}function $d(e,t,r){r||(r=xk(t));for(const n in e){const i=e[n];if(fz(i))gr(t)||yk(r[n])?r[n]=xk(i,Array.isArray(i)?[]:{}):$d(i,pi(t)?{}:t[n],r[n]);else{const s=t[n];r[n]=!Ys(i,s)}}return r}const WI={value:!1,isValid:!1},VI={value:!0,isValid:!0};var hz=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!gr(e[0].attributes.value)?gr(e[0].value)||e[0].value===""?VI:{value:e[0].value,isValid:!0}:VI:WI}return WI},pz=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>gr(e)?e:t?e===""?NaN:e&&+e:r&&zi(e)?new Date(e):n?n(e):e;const HI={isValid:!1,value:null};var mz=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,HI):HI;function qI(e){const t=e.ref;return SP(t)?t.files:NP(t)?mz(e.refs).value:dz(t)?[...t.selectedOptions].map(({value:r})=>r):kv(t)?hz(e.refs).value:pz(gr(t.value)?e.ref.value:t.value,e)}var Rle=(e,t,r,n)=>{const i={};for(const s of e){const a=ke(t,s);a&&Lt(i,s,a._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Fb=e=>e instanceof RegExp,Rp=e=>gr(e)?e:Fb(e)?e.source:qr(e)?Fb(e.value)?e.value.source:e.value:e,GI=e=>({isOnSubmit:!e||e===Ks.onSubmit,isOnBlur:e===Ks.onBlur,isOnChange:e===Ks.onChange,isOnAll:e===Ks.all,isOnTouch:e===Ks.onTouched});const KI="AsyncFunction";var $le=e=>!!e&&!!e.validate&&!!(Yn(e.validate)&&e.validate.constructor.name===KI||qr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===KI)),Dle=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),YI=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Em=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=ke(e,i);if(s){const{_f:a,...l}=s;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Em(l,t))break}else if(qr(l)&&Em(l,t))break}}};function JI(e,t,r){const n=ke(e,r);if(n||n_(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=ke(t,s),l=ke(e,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:r}}var Lle=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Hn(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(a=>t[a]===(!n||Ks.all))},Fle=(e,t,r)=>!e||!t||e===t||Om(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Ble=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Ule=(e,t)=>!yP(ke(e,t)).length&&Br(e,t),zle=(e,t,r)=>{const n=Om(ke(e,r));return Lt(n,"root",t[r]),Lt(e,r,n),e};function XI(e,t,r="validate"){if(zi(e)||Array.isArray(e)&&e.every(zi)||Di(e)&&!e)return{type:r,message:zi(e)?e:"",ref:t}}var wd=e=>qr(e)&&!Fb(e)?e:{value:e,message:""},QI=async(e,t,r,n,i,s)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:b}=e._f,x=ke(r,m);if(!b||t.has(m))return{};const w=l?l[0]:a,_=M=>{i&&w.reportValidity&&(w.setCustomValidity(Di(M)?"":M||""),w.reportValidity())},N={},j=NP(a),k=kv(a),C=j||k,P=(v||SP(a))&&gr(a.value)&&gr(x)||Lb(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,A=cz.bind(null,m,n,N),I=(M,z,L,W=lo.maxLength,F=lo.minLength)=>{const D=M?z:L;N[m]={type:M?W:F,message:D,ref:a,...A(M?W:F,D)}};if(s?!Array.isArray(x)||!x.length:c&&(!C&&(P||pi(x))||Di(x)&&!x||k&&!hz(l).isValid||j&&!mz(l).isValid)){const{value:M,message:z}=zi(c)?{value:!!c,message:c}:wd(c);if(M&&(N[m]={type:lo.required,message:z,ref:w,...A(lo.required,z)},!n))return _(z),N}if(!P&&(!pi(f)||!pi(h))){let M,z;const L=wd(h),W=wd(f);if(!pi(x)&&!isNaN(x)){const F=a.valueAsNumber||x&&+x;pi(L.value)||(M=F>L.value),pi(W.value)||(z=F<W.value)}else{const F=a.valueAsDate||new Date(x),D=K=>new Date(new Date().toDateString()+" "+K),R=a.type=="time",B=a.type=="week";zi(L.value)&&x&&(M=R?D(x)>D(L.value):B?x>L.value:F>new Date(L.value)),zi(W.value)&&x&&(z=R?D(x)<D(W.value):B?x<W.value:F<new Date(W.value))}if((M||z)&&(I(!!M,L.message,W.message,lo.max,lo.min),!n))return _(N[m].message),N}if((u||d)&&!P&&(zi(x)||s&&Array.isArray(x))){const M=wd(u),z=wd(d),L=!pi(M.value)&&x.length>+M.value,W=!pi(z.value)&&x.length<+z.value;if((L||W)&&(I(L,M.message,z.message),!n))return _(N[m].message),N}if(p&&!P&&zi(x)){const{value:M,message:z}=wd(p);if(Fb(M)&&!x.match(M)&&(N[m]={type:lo.pattern,message:z,ref:a,...A(lo.pattern,z)},!n))return _(z),N}if(g){if(Yn(g)){const M=await g(x,r),z=XI(M,w);if(z&&(N[m]={...z,...A(lo.validate,z.message)},!n))return _(z.message),N}else if(qr(g)){let M={};for(const z in g){if(!Hn(M)&&!n)break;const L=XI(await g[z](x,r),w,z);L&&(M={...L,...A(z,L.message)},_(L.message),n&&(N[m]=M))}if(!Hn(M)&&(N[m]={ref:w,...M},!n))return N}}return _(!0),N};const Wle={mode:Ks.onSubmit,reValidateMode:Ks.onChange,shouldFocusError:!0};function Vle(e={}){let t={...Wle,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=qr(t.defaultValues)||qr(t.values)?Fr(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Fr(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:zI(),state:zI()},g=t.criteriaMode===Ks.all,m=H=>Q=>{clearTimeout(u),u=setTimeout(H,Q)},v=async H=>{if(!a.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||H)){let Q;t.resolver?(Q=Hn((await C()).errors),b()):Q=await A(n,!0),Q!==r.isValid&&p.state.next({isValid:Q})}},b=(H,Q)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((H||Array.from(l.mount)).forEach(ne=>{ne&&(Q?Lt(r.validatingFields,ne,Q):Br(r.validatingFields,ne))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Hn(r.validatingFields)}))},x=(H,Q=[],ne,Se,be=!0,J=!0)=>{if(Se&&ne&&!t.disabled){if(a.action=!0,J&&Array.isArray(ke(n,H))){const he=ne(ke(n,H),Se.argA,Se.argB);be&&Lt(n,H,he)}if(J&&Array.isArray(ke(r.errors,H))){const he=ne(ke(r.errors,H),Se.argA,Se.argB);be&&Lt(r.errors,H,he),Ule(r.errors,H)}if((f.touchedFields||h.touchedFields)&&J&&Array.isArray(ke(r.touchedFields,H))){const he=ne(ke(r.touchedFields,H),Se.argA,Se.argB);be&&Lt(r.touchedFields,H,he)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=$d(i,s)),p.state.next({name:H,isDirty:M(H,Q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Lt(s,H,Q)},w=(H,Q)=>{Lt(r.errors,H,Q),p.state.next({errors:r.errors})},_=H=>{r.errors=H,p.state.next({errors:r.errors,isValid:!1})},N=(H,Q,ne,Se)=>{const be=ke(n,H);if(be){const J=ke(s,H,gr(ne)?ke(i,H):ne);gr(J)||Se&&Se.defaultChecked||Q?Lt(s,H,Q?J:qI(be._f)):W(H,J),a.mount&&!a.action&&v()}},j=(H,Q,ne,Se,be)=>{let J=!1,he=!1;const Ge={name:H};if(!t.disabled){if(!ne||Se){(f.isDirty||h.isDirty)&&(he=r.isDirty,r.isDirty=Ge.isDirty=M(),J=he!==Ge.isDirty);const nt=Ys(ke(i,H),Q);he=!!ke(r.dirtyFields,H),nt?Br(r.dirtyFields,H):Lt(r.dirtyFields,H,!0),Ge.dirtyFields=r.dirtyFields,J=J||(f.dirtyFields||h.dirtyFields)&&he!==!nt}if(ne){const nt=ke(r.touchedFields,H);nt||(Lt(r.touchedFields,H,ne),Ge.touchedFields=r.touchedFields,J=J||(f.touchedFields||h.touchedFields)&&nt!==ne)}J&&be&&p.state.next(Ge)}return J?Ge:{}},k=(H,Q,ne,Se)=>{const be=ke(r.errors,H),J=(f.isValid||h.isValid)&&Di(Q)&&r.isValid!==Q;if(t.delayError&&ne?(c=m(()=>w(H,ne)),c(t.delayError)):(clearTimeout(u),c=null,ne?Lt(r.errors,H,ne):Br(r.errors,H)),(ne?!Ys(be,ne):be)||!Hn(Se)||J){const he={...Se,...J&&Di(Q)?{isValid:Q}:{},errors:r.errors,name:H};r={...r,...he},p.state.next(he)}},C=async H=>(b(H,!0),await t.resolver(s,t.context,Rle(H||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),P=async H=>{const{errors:Q}=await C(H);if(b(H),H)for(const ne of H){const Se=ke(Q,ne);Se?Lt(r.errors,ne,Se):Br(r.errors,ne)}else r.errors=Q;return Q},A=async(H,Q,ne={valid:!0})=>{for(const Se in H){const be=H[Se];if(be){const{_f:J,...he}=be;if(J){const Ge=l.array.has(J.name),nt=be._f&&$le(be._f);nt&&f.validatingFields&&b([J.name],!0);const Vt=await QI(be,l.disabled,s,g,t.shouldUseNativeValidation&&!Q,Ge);if(nt&&f.validatingFields&&b([J.name]),Vt[J.name]&&(ne.valid=!1,Q||e.shouldUseNativeValidation))break;!Q&&(ke(Vt,J.name)?Ge?zle(r.errors,Vt,J.name):Lt(r.errors,J.name,Vt[J.name]):Br(r.errors,J.name))}!Hn(he)&&await A(he,Q,ne)}}return ne.valid},I=()=>{for(const H of l.unMount){const Q=ke(n,H);Q&&(Q._f.refs?Q._f.refs.every(ne=>!j1(ne)):!j1(Q._f.ref))&&G(H)}l.unMount=new Set},M=(H,Q)=>!t.disabled&&(H&&Q&&Lt(s,H,Q),!Ys(ee(),i)),z=(H,Q,ne)=>vk(H,l,{...a.mount?s:gr(Q)?i:zi(H)?{[H]:Q}:Q},ne,Q),L=H=>yP(ke(a.mount?s:i,H,t.shouldUnregister?ke(i,H,[]):[])),W=(H,Q,ne={})=>{const Se=ke(n,H);let be=Q;if(Se){const J=Se._f;J&&(!J.disabled&&Lt(s,H,pz(Q,J)),be=Lb(J.ref)&&pi(Q)?"":Q,dz(J.ref)?[...J.ref.options].forEach(he=>he.selected=be.includes(he.value)):J.refs?kv(J.ref)?J.refs.forEach(he=>{(!he.defaultChecked||!he.disabled)&&(Array.isArray(be)?he.checked=!!be.find(Ge=>Ge===he.value):he.checked=be===he.value||!!be)}):J.refs.forEach(he=>he.checked=he.value===be):SP(J.ref)?J.ref.value="":(J.ref.value=be,J.ref.type||p.state.next({name:H,values:Fr(s)})))}(ne.shouldDirty||ne.shouldTouch)&&j(H,be,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&K(H)},F=(H,Q,ne)=>{for(const Se in Q){if(!Q.hasOwnProperty(Se))return;const be=Q[Se],J=H+"."+Se,he=ke(n,J);(l.array.has(H)||qr(be)||he&&!he._f)&&!ru(be)?F(J,be,ne):W(J,be,ne)}},D=(H,Q,ne={})=>{const Se=ke(n,H),be=l.array.has(H),J=Fr(Q);Lt(s,H,J),be?(p.array.next({name:H,values:Fr(s)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&ne.shouldDirty&&p.state.next({name:H,dirtyFields:$d(i,s),isDirty:M(H,J)})):Se&&!Se._f&&!pi(J)?F(H,J,ne):W(H,J,ne),YI(H,l)?p.state.next({...r,name:H,values:Fr(s)}):p.state.next({name:a.mount?H:void 0,values:Fr(s)})},R=async H=>{a.mount=!0;const Q=H.target;let ne=Q.name,Se=!0;const be=ke(n,ne),J=nt=>{Se=Number.isNaN(nt)||ru(nt)&&isNaN(nt.getTime())||Ys(nt,ke(s,ne,nt))},he=GI(t.mode),Ge=GI(t.reValidateMode);if(be){let nt,Vt;const rs=Q.type?qI(be._f):az(H),Ci=H.type===Db.BLUR||H.type===Db.FOCUS_OUT,Cc=!Dle(be._f)&&!t.resolver&&!ke(r.errors,ne)&&!be._f.deps||Ble(Ci,ke(r.touchedFields,ne),r.isSubmitted,Ge,he),ns=YI(ne,l,Ci);Lt(s,ne,rs),Ci?(!Q||!Q.readOnly)&&(be._f.onBlur&&be._f.onBlur(H),c&&c(0)):be._f.onChange&&be._f.onChange(H);const ol=j(ne,rs,Ci),ba=!Hn(ol)||ns;if(!Ci&&p.state.next({name:ne,type:H.type,values:Fr(s)}),Cc)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Ci&&v():Ci||v()),ba&&p.state.next({name:ne,...ns?{}:ol});if(!Ci&&ns&&p.state.next({...r}),t.resolver){const{errors:Oc}=await C([ne]);if(b([ne]),J(rs),Se){const bp=JI(r.errors,n,ne),Ec=JI(Oc,n,bp.name||ne);nt=Ec.error,ne=Ec.name,Vt=Hn(Oc)}}else b([ne],!0),nt=(await QI(be,l.disabled,s,g,t.shouldUseNativeValidation))[ne],b([ne]),J(rs),Se&&(nt?Vt=!1:(f.isValid||h.isValid)&&(Vt=await A(n,!0)));Se&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&K(be._f.deps),k(ne,Vt,nt,ol))}},B=(H,Q)=>{if(ke(r.errors,Q)&&H.focus)return H.focus(),1},K=async(H,Q={})=>{let ne,Se;const be=Om(H);if(t.resolver){const J=await P(gr(H)?H:be);ne=Hn(J),Se=H?!be.some(he=>ke(J,he)):ne}else H?(Se=(await Promise.all(be.map(async J=>{const he=ke(n,J);return await A(he&&he._f?{[J]:he}:he)}))).every(Boolean),!(!Se&&!r.isValid)&&v()):Se=ne=await A(n);return p.state.next({...!zi(H)||(f.isValid||h.isValid)&&ne!==r.isValid?{}:{name:H},...t.resolver||!H?{isValid:ne}:{},errors:r.errors}),Q.shouldFocus&&!Se&&Em(n,B,H?be:l.mount),Se},ee=(H,Q)=>{let ne={...a.mount?s:i};return Q&&(ne=uz(Q.dirtyFields?r.dirtyFields:r.touchedFields,ne)),gr(H)?ne:zi(H)?ke(ne,H):H.map(Se=>ke(ne,Se))},te=(H,Q)=>({invalid:!!ke((Q||r).errors,H),isDirty:!!ke((Q||r).dirtyFields,H),error:ke((Q||r).errors,H),isValidating:!!ke(r.validatingFields,H),isTouched:!!ke((Q||r).touchedFields,H)}),S=H=>{H&&Om(H).forEach(Q=>Br(r.errors,Q)),p.state.next({errors:H?r.errors:{}})},O=(H,Q,ne)=>{const Se=(ke(n,H,{_f:{}})._f||{}).ref,be=ke(r.errors,H)||{},{ref:J,message:he,type:Ge,...nt}=be;Lt(r.errors,H,{...nt,...Q,ref:Se}),p.state.next({name:H,errors:r.errors,isValid:!1}),ne&&ne.shouldFocus&&Se&&Se.focus&&Se.focus()},E=(H,Q)=>Yn(H)?p.state.subscribe({next:ne=>"values"in ne&&H(z(void 0,Q),ne)}):z(H,Q,!0),U=H=>p.state.subscribe({next:Q=>{Fle(H.name,Q.name,H.exact)&&Lle(Q,H.formState||f,bt,H.reRenderRoot)&&H.callback({values:{...s},...r,...Q,defaultValues:i})}}).unsubscribe,$=H=>(a.mount=!0,h={...h,...H.formState},U({...H,formState:{...d,...H.formState}})),G=(H,Q={})=>{for(const ne of H?Om(H):l.mount)l.mount.delete(ne),l.array.delete(ne),Q.keepValue||(Br(n,ne),Br(s,ne)),!Q.keepError&&Br(r.errors,ne),!Q.keepDirty&&Br(r.dirtyFields,ne),!Q.keepTouched&&Br(r.touchedFields,ne),!Q.keepIsValidating&&Br(r.validatingFields,ne),!t.shouldUnregister&&!Q.keepDefaultValue&&Br(i,ne);p.state.next({values:Fr(s)}),p.state.next({...r,...Q.keepDirty?{isDirty:M()}:{}}),!Q.keepIsValid&&v()},V=({disabled:H,name:Q})=>{if(Di(H)&&a.mount||H||l.disabled.has(Q)){const be=l.disabled.has(Q)!==!!H;H?l.disabled.add(Q):l.disabled.delete(Q),be&&a.mount&&!a.action&&v()}},q=(H,Q={})=>{let ne=ke(n,H);const Se=Di(Q.disabled)||Di(t.disabled);return Lt(n,H,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:H}},name:H,mount:!0,...Q}}),l.mount.add(H),ne?V({disabled:Di(Q.disabled)?Q.disabled:t.disabled,name:H}):N(H,!0,Q.value),{...Se?{disabled:Q.disabled||t.disabled}:{},...t.progressive?{required:!!Q.required,min:Rp(Q.min),max:Rp(Q.max),minLength:Rp(Q.minLength),maxLength:Rp(Q.maxLength),pattern:Rp(Q.pattern)}:{},name:H,onChange:R,onBlur:R,ref:be=>{if(be){q(H,Q),ne=ke(n,H);const J=gr(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,he=Tle(J),Ge=ne._f.refs||[];if(he?Ge.find(nt=>nt===J):J===ne._f.ref)return;Lt(n,H,{_f:{...ne._f,...he?{refs:[...Ge.filter(j1),J,...Array.isArray(ke(i,H))?[{}]:[]],ref:{type:J.type,name:H}}:{ref:J}}}),N(H,!1,void 0,J)}else ne=ke(n,H,{}),ne._f&&(ne._f.mount=!1),(t.shouldUnregister||Q.shouldUnregister)&&!(oz(l.array,H)&&a.action)&&l.unMount.add(H)}}},X=()=>t.shouldFocusError&&Em(n,B,l.mount),Y=H=>{Di(H)&&(p.state.next({disabled:H}),Em(n,(Q,ne)=>{const Se=ke(n,ne);Se&&(Q.disabled=Se._f.disabled||H,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(be=>{be.disabled=Se._f.disabled||H}))},0,!1))},pe=(H,Q)=>async ne=>{let Se;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let be=Fr(s);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:J,values:he}=await C();b(),r.errors=J,be=Fr(he)}else await A(n);if(l.disabled.size)for(const J of l.disabled)Br(be,J);if(Br(r.errors,"root"),Hn(r.errors)){p.state.next({errors:{}});try{await H(be,ne)}catch(J){Se=J}}else Q&&await Q({...r.errors},ne),X(),setTimeout(X);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hn(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},Ne=(H,Q={})=>{ke(n,H)&&(gr(Q.defaultValue)?D(H,Fr(ke(i,H))):(D(H,Q.defaultValue),Lt(i,H,Fr(Q.defaultValue))),Q.keepTouched||Br(r.touchedFields,H),Q.keepDirty||(Br(r.dirtyFields,H),r.isDirty=Q.defaultValue?M(H,Fr(ke(i,H))):M()),Q.keepError||(Br(r.errors,H),f.isValid&&v()),p.state.next({...r}))},Ke=(H,Q={})=>{const ne=H?Fr(H):i,Se=Fr(ne),be=Hn(H),J=be?i:Se;if(Q.keepDefaultValues||(i=ne),!Q.keepValues){if(Q.keepDirtyValues){const he=new Set([...l.mount,...Object.keys($d(i,s))]);for(const Ge of Array.from(he)){const nt=ke(r.dirtyFields,Ge),Vt=ke(s,Ge),rs=ke(J,Ge);nt&&!gr(Vt)?Lt(J,Ge,Vt):!nt&&!gr(rs)&&D(Ge,rs)}}else{if(vP&&gr(H))for(const he of l.mount){const Ge=ke(n,he);if(Ge&&Ge._f){const nt=Array.isArray(Ge._f.refs)?Ge._f.refs[0]:Ge._f.ref;if(Lb(nt)){const Vt=nt.closest("form");if(Vt){Vt.reset();break}}}}if(Q.keepFieldsRef)for(const he of l.mount)D(he,ke(J,he));else n={}}s=t.shouldUnregister?Q.keepDefaultValues?Fr(i):{}:Fr(J),p.array.next({values:{...J}}),p.state.next({values:{...J}})}l={mount:Q.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues||!t.shouldUnregister&&!Hn(J),a.watch=!!t.shouldUnregister,a.keepIsValid=!!Q.keepIsValid,a.action=!1,Q.keepErrors||(r.errors={}),p.state.next({submitCount:Q.keepSubmitCount?r.submitCount:0,isDirty:be?!1:Q.keepDirty?r.isDirty:!!(Q.keepDefaultValues&&!Ys(H,i)),isSubmitted:Q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:be?{}:Q.keepDirtyValues?Q.keepDefaultValues&&s?$d(i,s):r.dirtyFields:Q.keepDefaultValues&&H?$d(i,H):Q.keepDirty?r.dirtyFields:{},touchedFields:Q.keepTouched?r.touchedFields:{},errors:Q.keepErrors?r.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ve=(H,Q)=>Ke(Yn(H)?H(s):H,{...t.resetOptions,...Q}),He=(H,Q={})=>{const ne=ke(n,H),Se=ne&&ne._f;if(Se){const be=Se.refs?Se.refs[0]:Se.ref;be.focus&&setTimeout(()=>{be.focus(),Q.shouldSelect&&Yn(be.select)&&be.select()})}},bt=H=>{r={...r,...H}},wt={control:{register:q,unregister:G,getFieldState:te,handleSubmit:pe,setError:O,_subscribe:U,_runSchema:C,_updateIsValidating:b,_focusError:X,_getWatch:z,_getDirty:M,_setValid:v,_setFieldArray:x,_setDisabledField:V,_setErrors:_,_getFieldArray:L,_reset:Ke,_resetDefaultValues:()=>Yn(t.defaultValues)&&t.defaultValues().then(H=>{Ve(H,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Y,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(H){a=H},get _defaultValues(){return i},get _names(){return l},set _names(H){l=H},get _formState(){return r},get _options(){return t},set _options(H){t={...t,...H}}},subscribe:$,trigger:K,register:q,handleSubmit:pe,watch:E,setValue:D,getValues:ee,reset:Ve,resetField:Ne,clearErrors:S,unregister:G,setError:O,setFocus:He,getFieldState:te};return{...wt,formControl:wt}}function ef(e={}){const t=T.useRef(void 0),r=T.useRef(void 0),[n,i]=T.useState({isDirty:!1,isValidating:!1,isLoading:Yn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Yn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Yn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...l}=Vle(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,_P(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,a},[s]),T.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),T.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),T.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),T.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),T.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),T.useEffect(()=>{var a;e.values&&!Ys(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=e.values,i(l=>({...l}))):s._resetDefaultValues()},[s,e.values]),T.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=T.useMemo(()=>lz(n,s),[s,n]),t.current}const ZI=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ke(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},gz=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?ZI(n.ref,r,e):n.refs&&n.refs.forEach(i=>ZI(i,r,e))}},Hle=(e,t)=>{t.shouldUseNativeValidation&&gz(e,t);const r={};for(const n in e){const i=ke(t.fields,n),s=Object.assign(e[n]||{},{ref:i&&i.ref});if(qle(t.names||Object.keys(e),n)){const a=Object.assign({},ke(r,n));Lt(a,"root",s),Lt(r,n,a)}else Lt(r,n,s)}return r},qle=(e,t)=>e.some(r=>r.startsWith(t+"."));var Gle=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[a].types,u=c&&c[n.code];r[a]=cz(a,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},tf=function(e,t,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&gz({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:Hle(Gle(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},At;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of s)a[l]=i[l];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(const a of i)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(At||(At={}));var eR;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(eR||(eR={}));const Le=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_l=e=>{switch(typeof e){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return Number.isNaN(e)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(e)?Le.array:e===null?Le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Le.promise:typeof Map<"u"&&e instanceof Map?Le.map:typeof Set<"u"&&e instanceof Set?Le.set:typeof Date<"u"&&e instanceof Date?Le.date:Le.object;default:return Le.unknown}},je=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ho extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof Ho))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ho.create=e=>new Ho(e);const bk=(e,t)=>{let r;switch(e.code){case je.invalid_type:e.received===Le.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case je.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,At.jsonStringifyReplacer)}`;break;case je.unrecognized_keys:r=`Unrecognized key(s) in object: ${At.joinValues(e.keys,", ")}`;break;case je.invalid_union:r="Invalid input";break;case je.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${At.joinValues(e.options)}`;break;case je.invalid_enum_value:r=`Invalid enum value. Expected ${At.joinValues(e.options)}, received '${e.received}'`;break;case je.invalid_arguments:r="Invalid function arguments";break;case je.invalid_return_type:r="Invalid function return type";break;case je.invalid_date:r="Invalid date";break;case je.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:At.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case je.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case je.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case je.custom:r="Invalid input";break;case je.invalid_intersection_types:r="Intersection results could not be merged";break;case je.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case je.not_finite:r="Number must be finite";break;default:r=t.defaultError,At.assertNever(e)}return{message:r}};let Kle=bk;function Yle(){return Kle}const Jle=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:t,defaultError:l}).message;return{...i,path:s,message:l}};function Pe(e,t){const r=Yle(),n=Jle({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===bk?void 0:bk].filter(i=>!!i)});e.common.issues.push(n)}class Xi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return ft;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return Xi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return ft;s.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:t.value,value:n}}}const ft=Object.freeze({status:"aborted"}),cm=e=>({status:"dirty",value:e}),Ss=e=>({status:"valid",value:e}),tR=e=>e.status==="aborted",rR=e=>e.status==="dirty",Kf=e=>e.status==="valid",Bb=e=>typeof Promise<"u"&&e instanceof Promise;var Be;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Be||(Be={}));class sc{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nR=(e,t)=>{if(Kf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ho(e.common.issues);return this._error=r,this._error}}};function vt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(a,l)=>{const{message:c}=e;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class Tt{get description(){return this._def.description}_getType(t){return _l(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:_l(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Xi,ctx:{common:t.parent.common,data:t.data,parsedType:_l(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Bb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_l(t)},i=this._parseSync({data:t,path:n.path,parent:n});return nR(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_l(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return Kf(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>Kf(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_l(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(Bb(i)?i:Promise.resolve(i));return nR(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=t(i),l=()=>s.addIssue({code:je.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Jf({schema:this,typeName:ht.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Xl.create(this,this._def)}nullable(){return Xf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ha.create(this)}promise(){return Wb.create(this,this._def)}or(t){return Ub.create([this,t],this._def)}and(t){return zb.create(this,t,this._def)}transform(t){return new Jf({...vt(this._def),schema:this,typeName:ht.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new jk({...vt(this._def),innerType:this,defaultValue:r,typeName:ht.ZodDefault})}brand(){return new xce({typeName:ht.ZodBranded,type:this,...vt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Sk({...vt(this._def),innerType:this,catchValue:r,typeName:ht.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return kP.create(this,t)}readonly(){return Nk.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xle=/^c[^\s-]{8,}$/i,Qle=/^[0-9a-z]+$/,Zle=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ece=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tce=/^[a-z0-9_-]{21}$/i,rce=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nce=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ice=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,sce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let S1;const ace=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oce=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,lce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cce=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,uce=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dce=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vz="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fce=new RegExp(`^${vz}$`);function yz(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function hce(e){return new RegExp(`^${yz(e)}$`)}function pce(e){let t=`${vz}T${yz(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function mce(e,t){return!!((t==="v4"||!t)&&ace.test(e)||(t==="v6"||!t)&&lce.test(e))}function gce(e,t){if(!rce.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function vce(e,t){return!!((t==="v4"||!t)&&oce.test(e)||(t==="v6"||!t)&&cce.test(e))}class Fl extends Tt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Le.string){const s=this._getOrReturnCtx(t);return Pe(s,{code:je.invalid_type,expected:Le.string,received:s.parsedType}),ft}const n=new Xi;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=t.data.length>s.value,l=t.data.length<s.value;(a||l)&&(i=this._getOrReturnCtx(t,i),a?Pe(i,{code:je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Pe(i,{code:je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")ice.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"email",code:je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")S1||(S1=new RegExp(sce,"u")),S1.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"emoji",code:je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")ece.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"uuid",code:je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")tce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"nanoid",code:je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Xle.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"cuid",code:je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Qle.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"cuid2",code:je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Zle.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"ulid",code:je.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Pe(i,{validation:"url",code:je.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"regex",code:je.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?pce(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?fce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?hce(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?nce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"duration",code:je.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?mce(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"ip",code:je.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?gce(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"jwt",code:je.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?vce(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"cidr",code:je.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?uce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"base64",code:je.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?dce.test(t.data)||(i=this._getOrReturnCtx(t,i),Pe(i,{validation:"base64url",code:je.invalid_string,message:s.message}),n.dirty()):At.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:je.invalid_string,...Be.errToObj(n)})}_addCheck(t){return new Fl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Be.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Be.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Be.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Be.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Be.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Be.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Be.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Be.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Be.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Be.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Be.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Be.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Be.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Be.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Be.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Be.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Be.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Be.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Be.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Be.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Be.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Be.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Be.errToObj(r)})}nonempty(t){return this.min(1,Be.errToObj(t))}trim(){return new Fl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Fl.create=e=>new Fl({checks:[],typeName:ht.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...vt(e)});function yce(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return s%a/10**i}class mg extends Tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Le.number){const s=this._getOrReturnCtx(t);return Pe(s,{code:je.invalid_type,expected:Le.number,received:s.parsedType}),ft}let n;const i=new Xi;for(const s of this._def.checks)s.kind==="int"?At.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:je.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:je.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:je.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?yce(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:je.not_finite,message:s.message}),i.dirty()):At.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Be.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Be.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Be.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Be.toString(r))}setLimit(t,r,n,i){return new mg({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Be.toString(i)}]})}_addCheck(t){return new mg({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Be.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Be.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Be.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&At.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}mg.create=e=>new mg({checks:[],typeName:ht.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...vt(e)});class gg extends Tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Le.bigint)return this._getInvalidInput(t);let n;const i=new Xi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:je.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:je.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:je.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):At.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:je.invalid_type,expected:Le.bigint,received:r.parsedType}),ft}gte(t,r){return this.setLimit("min",t,!0,Be.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Be.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Be.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Be.toString(r))}setLimit(t,r,n,i){return new gg({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Be.toString(i)}]})}_addCheck(t){return new gg({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Be.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gg.create=e=>new gg({checks:[],typeName:ht.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...vt(e)});class wk extends Tt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Le.boolean){const n=this._getOrReturnCtx(t);return Pe(n,{code:je.invalid_type,expected:Le.boolean,received:n.parsedType}),ft}return Ss(t.data)}}wk.create=e=>new wk({typeName:ht.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...vt(e)});class vg extends Tt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Le.date){const s=this._getOrReturnCtx(t);return Pe(s,{code:je.invalid_type,expected:Le.date,received:s.parsedType}),ft}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Pe(s,{code:je.invalid_date}),ft}const n=new Xi;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),Pe(i,{code:je.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):At.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vg({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Be.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Be.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}vg.create=e=>new vg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ht.ZodDate,...vt(e)});class iR extends Tt{_parse(t){if(this._getType(t)!==Le.symbol){const n=this._getOrReturnCtx(t);return Pe(n,{code:je.invalid_type,expected:Le.symbol,received:n.parsedType}),ft}return Ss(t.data)}}iR.create=e=>new iR({typeName:ht.ZodSymbol,...vt(e)});class sR extends Tt{_parse(t){if(this._getType(t)!==Le.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:je.invalid_type,expected:Le.undefined,received:n.parsedType}),ft}return Ss(t.data)}}sR.create=e=>new sR({typeName:ht.ZodUndefined,...vt(e)});class aR extends Tt{_parse(t){if(this._getType(t)!==Le.null){const n=this._getOrReturnCtx(t);return Pe(n,{code:je.invalid_type,expected:Le.null,received:n.parsedType}),ft}return Ss(t.data)}}aR.create=e=>new aR({typeName:ht.ZodNull,...vt(e)});class oR extends Tt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ss(t.data)}}oR.create=e=>new oR({typeName:ht.ZodAny,...vt(e)});class lR extends Tt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ss(t.data)}}lR.create=e=>new lR({typeName:ht.ZodUnknown,...vt(e)});class ac extends Tt{_parse(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:je.invalid_type,expected:Le.never,received:r.parsedType}),ft}}ac.create=e=>new ac({typeName:ht.ZodNever,...vt(e)});class cR extends Tt{_parse(t){if(this._getType(t)!==Le.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:je.invalid_type,expected:Le.void,received:n.parsedType}),ft}return Ss(t.data)}}cR.create=e=>new cR({typeName:ht.ZodVoid,...vt(e)});class Ha extends Tt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Le.array)return Pe(r,{code:je.invalid_type,expected:Le.array,received:r.parsedType}),ft;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(a||l)&&(Pe(r,{code:a?je.too_big:je.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Pe(r,{code:je.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Pe(r,{code:je.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>i.type._parseAsync(new sc(r,a,r.path,l)))).then(a=>Xi.mergeArray(n,a));const s=[...r.data].map((a,l)=>i.type._parseSync(new sc(r,a,r.path,l)));return Xi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Ha({...this._def,minLength:{value:t,message:Be.toString(r)}})}max(t,r){return new Ha({...this._def,maxLength:{value:t,message:Be.toString(r)}})}length(t,r){return new Ha({...this._def,exactLength:{value:t,message:Be.toString(r)}})}nonempty(t){return this.min(1,t)}}Ha.create=(e,t)=>new Ha({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ht.ZodArray,...vt(t)});function Dd(e){if(e instanceof Wr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Xl.create(Dd(n))}return new Wr({...e._def,shape:()=>t})}else return e instanceof Ha?new Ha({...e._def,type:Dd(e.element)}):e instanceof Xl?Xl.create(Dd(e.unwrap())):e instanceof Xf?Xf.create(Dd(e.unwrap())):e instanceof Iu?Iu.create(e.items.map(t=>Dd(t))):e}class Wr extends Tt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=At.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Le.object){const u=this._getOrReturnCtx(t);return Pe(u,{code:je.invalid_type,expected:Le.object,received:u.parsedType}),ft}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof ac&&this._def.unknownKeys==="strip"))for(const u in i.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new sc(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ac){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(Pe(i,{code:je.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new sc(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Xi.mergeObjectSync(n,u)):Xi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Be.errToObj,new Wr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Be.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Wr({...this._def,unknownKeys:"strip"})}passthrough(){return new Wr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Wr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Wr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ht.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Wr({...this._def,catchall:t})}pick(t){const r={};for(const n of At.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Wr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of At.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Wr({...this._def,shape:()=>r})}deepPartial(){return Dd(this)}partial(t){const r={};for(const n of At.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new Wr({...this._def,shape:()=>r})}required(t){const r={};for(const n of At.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Xl;)s=s._def.innerType;r[n]=s}return new Wr({...this._def,shape:()=>r})}keyof(){return xz(At.objectKeys(this.shape))}}Wr.create=(e,t)=>new Wr({shape:()=>e,unknownKeys:"strip",catchall:ac.create(),typeName:ht.ZodObject,...vt(t)});Wr.strictCreate=(e,t)=>new Wr({shape:()=>e,unknownKeys:"strict",catchall:ac.create(),typeName:ht.ZodObject,...vt(t)});Wr.lazycreate=(e,t)=>new Wr({shape:e,unknownKeys:"strip",catchall:ac.create(),typeName:ht.ZodObject,...vt(t)});class Ub extends Tt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=s.map(l=>new Ho(l.ctx.common.issues));return Pe(r,{code:je.invalid_union,unionErrors:a}),ft}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=a.map(c=>new Ho(c));return Pe(r,{code:je.invalid_union,unionErrors:l}),ft}}get options(){return this._def.options}}Ub.create=(e,t)=>new Ub({options:e,typeName:ht.ZodUnion,...vt(t)});function _k(e,t){const r=_l(e),n=_l(t);if(e===t)return{valid:!0,data:e};if(r===Le.object&&n===Le.object){const i=At.objectKeys(t),s=At.objectKeys(e).filter(l=>i.indexOf(l)!==-1),a={...e,...t};for(const l of s){const c=_k(e[l],t[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===Le.array&&n===Le.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const a=e[s],l=t[s],c=_k(a,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Le.date&&n===Le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class zb extends Tt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,a)=>{if(tR(s)||tR(a))return ft;const l=_k(s.value,a.value);return l.valid?((rR(s)||rR(a))&&r.dirty(),{status:r.value,value:l.data}):(Pe(n,{code:je.invalid_intersection_types}),ft)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}zb.create=(e,t,r)=>new zb({left:e,right:t,typeName:ht.ZodIntersection,...vt(r)});class Iu extends Tt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.array)return Pe(n,{code:je.invalid_type,expected:Le.array,received:n.parsedType}),ft;if(n.data.length<this._def.items.length)return Pe(n,{code:je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ft;!this._def.rest&&n.data.length>this._def.items.length&&(Pe(n,{code:je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new sc(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>Xi.mergeArray(r,a)):Xi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Iu({...this._def,rest:t})}}Iu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Iu({items:e,typeName:ht.ZodTuple,rest:null,...vt(t)})};class uR extends Tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.map)return Pe(n,{code:je.invalid_type,expected:Le.map,received:n.parsedType}),ft;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new sc(n,l,n.path,[u,"key"])),value:s._parse(new sc(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ft;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ft;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}uR.create=(e,t,r)=>new uR({valueType:t,keyType:e,typeName:ht.ZodMap,...vt(r)});class yg extends Tt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.set)return Pe(n,{code:je.invalid_type,expected:Le.set,received:n.parsedType}),ft;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Pe(n,{code:je.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Pe(n,{code:je.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ft;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new sc(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(t,r){return new yg({...this._def,minSize:{value:t,message:Be.toString(r)}})}max(t,r){return new yg({...this._def,maxSize:{value:t,message:Be.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}yg.create=(e,t)=>new yg({valueType:e,minSize:null,maxSize:null,typeName:ht.ZodSet,...vt(t)});class dR extends Tt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}dR.create=(e,t)=>new dR({getter:e,typeName:ht.ZodLazy,...vt(t)});class fR extends Tt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Pe(r,{received:r.data,code:je.invalid_literal,expected:this._def.value}),ft}return{status:"valid",value:t.data}}get value(){return this._def.value}}fR.create=(e,t)=>new fR({value:e,typeName:ht.ZodLiteral,...vt(t)});function xz(e,t){return new Yf({values:e,typeName:ht.ZodEnum,...vt(t)})}class Yf extends Tt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{expected:At.joinValues(n),received:r.parsedType,code:je.invalid_type}),ft}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{received:r.data,code:je.invalid_enum_value,options:n}),ft}return Ss(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Yf.create(t,{...this._def,...r})}exclude(t,r=this._def){return Yf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Yf.create=xz;class hR extends Tt{_parse(t){const r=At.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Le.string&&n.parsedType!==Le.number){const i=At.objectValues(r);return Pe(n,{expected:At.joinValues(i),received:n.parsedType,code:je.invalid_type}),ft}if(this._cache||(this._cache=new Set(At.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=At.objectValues(r);return Pe(n,{received:n.data,code:je.invalid_enum_value,options:i}),ft}return Ss(t.data)}get enum(){return this._def.values}}hR.create=(e,t)=>new hR({values:e,typeName:ht.ZodNativeEnum,...vt(t)});class Wb extends Tt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Le.promise&&r.common.async===!1)return Pe(r,{code:je.invalid_type,expected:Le.promise,received:r.parsedType}),ft;const n=r.parsedType===Le.promise?r.data:Promise.resolve(r.data);return Ss(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Wb.create=(e,t)=>new Wb({type:e,typeName:ht.ZodPromise,...vt(t)});class Jf extends Tt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:a=>{Pe(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return ft;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ft:c.status==="dirty"||r.value==="dirty"?cm(c.value):c});{if(r.value==="aborted")return ft;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?ft:l.status==="dirty"||r.value==="dirty"?cm(l.value):l}}if(i.type==="refinement"){const a=l=>{const c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ft:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ft:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Kf(a))return ft;const l=i.transform(a.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Kf(a)?Promise.resolve(i.transform(a.value,s)).then(l=>({status:r.value,value:l})):ft);At.assertNever(i)}}Jf.create=(e,t,r)=>new Jf({schema:e,typeName:ht.ZodEffects,effect:t,...vt(r)});Jf.createWithPreprocess=(e,t,r)=>new Jf({schema:t,effect:{type:"preprocess",transform:e},typeName:ht.ZodEffects,...vt(r)});class Xl extends Tt{_parse(t){return this._getType(t)===Le.undefined?Ss(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xl.create=(e,t)=>new Xl({innerType:e,typeName:ht.ZodOptional,...vt(t)});class Xf extends Tt{_parse(t){return this._getType(t)===Le.null?Ss(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Xf.create=(e,t)=>new Xf({innerType:e,typeName:ht.ZodNullable,...vt(t)});class jk extends Tt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}jk.create=(e,t)=>new jk({innerType:e,typeName:ht.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...vt(t)});class Sk extends Tt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Bb(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ho(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ho(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Sk.create=(e,t)=>new Sk({innerType:e,typeName:ht.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...vt(t)});class pR extends Tt{_parse(t){if(this._getType(t)!==Le.nan){const n=this._getOrReturnCtx(t);return Pe(n,{code:je.invalid_type,expected:Le.nan,received:n.parsedType}),ft}return{status:"valid",value:t.data}}}pR.create=e=>new pR({typeName:ht.ZodNaN,...vt(e)});class xce extends Tt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class kP extends Tt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ft:s.status==="dirty"?(r.dirty(),cm(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ft:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new kP({in:t,out:r,typeName:ht.ZodPipeline})}}class Nk extends Tt{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Kf(i)&&(i.value=Object.freeze(i.value)),i);return Bb(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Nk.create=(e,t)=>new Nk({innerType:e,typeName:ht.ZodReadonly,...vt(t)});var ht;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ht||(ht={}));const vr=Fl.create,bce=wk.create,wce=vg.create;ac.create;Ha.create;const Xh=Wr.create;Ub.create;zb.create;Iu.create;const _ce=Yf.create;Wb.create;Xl.create;Xf.create;const st=y.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));st.displayName="Input";var jce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sce=jce.reduce((e,t)=>{const r=Nv(`Primitive.${t}`),n=y.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Nce="Label",bz=y.forwardRef((e,t)=>o.jsx(Sce.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bz.displayName=Nce;var wz=bz;const kce=Bw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=y.forwardRef(({className:e,...t},r)=>o.jsx(wz,{ref:r,className:_e(kce(),e),...t}));fe.displayName=wz.displayName;const le=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));le.displayName="Card";const me=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const we=y.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));we.displayName="CardTitle";const Oe=y.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));Oe.displayName="CardDescription";const de=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("p-6 pt-0",e),...t}));de.displayName="CardContent";const Cce=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:_e("flex items-center p-6 pt-0",e),...t}));Cce.displayName="CardFooter";function kk(e,[t,r]){return Math.min(r,Math.max(t,e))}var Oce=y.createContext(void 0);function Qh(e){const t=y.useContext(Oce);return e||t||"ltr"}var N1=0;function i_(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mR()),document.body.insertAdjacentElement("beforeend",e[1]??mR()),N1++,()=>{N1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),N1--}},[])}function mR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var k1="focusScope.autoFocusOnMount",C1="focusScope.autoFocusOnUnmount",gR={bubbles:!1,cancelable:!0},Ece="FocusScope",Cv=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[l,c]=y.useState(null),u=Er(i),d=Er(s),f=y.useRef(null),h=rt(t,m=>c(m)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:gl(f.current,{select:!0})},v=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||gl(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&gl(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,p.paused]),y.useEffect(()=>{if(l){yR.add(p);const m=document.activeElement;if(!l.contains(m)){const b=new CustomEvent(k1,gR);l.addEventListener(k1,u),l.dispatchEvent(b),b.defaultPrevented||(Pce(Rce(_z(l)),{select:!0}),document.activeElement===m&&gl(l))}return()=>{l.removeEventListener(k1,u),setTimeout(()=>{const b=new CustomEvent(C1,gR);l.addEventListener(C1,d),l.dispatchEvent(b),b.defaultPrevented||gl(m??document.body,{select:!0}),l.removeEventListener(C1,d),yR.remove(p)},0)}}},[l,u,d,p]);const g=y.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(v&&b){const x=m.currentTarget,[w,_]=Tce(x);w&&_?!m.shiftKey&&b===_?(m.preventDefault(),r&&gl(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&gl(_,{select:!0})):b===x&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(Fe.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});Cv.displayName=Ece;function Pce(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(gl(n,{select:t}),document.activeElement!==r)return}function Tce(e){const t=_z(e),r=vR(t,e),n=vR(t.reverse(),e);return[r,n]}function _z(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function vR(e,t){for(const r of e)if(!Ace(r,{upTo:t}))return r}function Ace(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Mce(e){return e instanceof HTMLInputElement&&"select"in e}function gl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Mce(e)&&t&&e.select()}}var yR=Ice();function Ice(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=xR(e,t),e.unshift(t)},remove(t){var r;e=xR(e,t),(r=e[0])==null||r.resume()}}}function xR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Rce(e){return e.filter(t=>t.tagName!=="A")}function $ce(e){const t=Dce(e),r=y.forwardRef((n,i)=>{const{children:s,...a}=n,l=y.Children.toArray(s),c=l.find(Fce);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function Dce(e){const t=y.forwardRef((r,n)=>{const{children:i,...s}=r;if(y.isValidElement(i)){const a=Uce(i),l=Bce(s,i.props);return i.type!==y.Fragment&&(l.ref=n?Qa(n,a):a),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lce=Symbol("radix.slottable");function Fce(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lce}function Bce(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Uce(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function s_(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_d=new WeakMap,Dy=new WeakMap,Ly={},O1=0,jz=function(e){return e&&(e.host||jz(e.parentNode))},Wce=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=jz(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Vce=function(e,t,r,n){var i=Wce(t,Array.isArray(e)?e:[e]);Ly[r]||(Ly[r]=new WeakMap);var s=Ly[r],a=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(_d.get(h)||0)+1,v=(s.get(h)||0)+1;_d.set(h,m),s.set(h,v),a.push(h),m===1&&g&&Dy.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),O1++,function(){a.forEach(function(f){var h=_d.get(f)-1,p=s.get(f)-1;_d.set(f,h),s.set(f,p),h||(Dy.has(f)||f.removeAttribute(n),Dy.delete(f)),p||f.removeAttribute(r)}),O1--,O1||(_d=new WeakMap,_d=new WeakMap,Dy=new WeakMap,Ly={})}},a_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=zce(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Vce(n,i,r,"aria-hidden")):function(){return null}},Fx="right-scroll-bar-position",Bx="width-before-scroll-bar",Hce="with-scroll-bars-hidden",qce="--removed-body-scroll-bar-size";function E1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Gce(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var Kce=typeof window<"u"?y.useLayoutEffect:y.useEffect,bR=new WeakMap;function Yce(e,t){var r=Gce(null,function(n){return e.forEach(function(i){return E1(i,n)})});return Kce(function(){var n=bR.get(r);if(n){var i=new Set(n),s=new Set(e),a=r.current;i.forEach(function(l){s.has(l)||E1(l,null)}),s.forEach(function(l){i.has(l)||E1(l,a)})}bR.set(r,e)},[e]),r}function Jce(e){return e}function Xce(e,t){t===void 0&&(t=Jce);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var a=t(s,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(s),a=r}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return i}function Qce(e){e===void 0&&(e={});var t=Xce(null);return t.options=Ma({async:!0,ssr:!1},e),t}var Sz=function(e){var t=e.sideCar,r=Yh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Ma({},r))};Sz.isSideCarExport=!0;function Zce(e,t){return e.useMedium(t),Sz}var Nz=Qce(),P1=function(){},o_=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:P1,onWheelCapture:P1,onTouchMoveCapture:P1}),i=n[0],s=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,w=e.gapMode,_=Yh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,j=Yce([r,t]),k=Ma(Ma({},_),i);return y.createElement(y.Fragment,null,d&&y.createElement(N,{sideCar:Nz,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:w}),a?y.cloneElement(y.Children.only(l),Ma(Ma({},k),{ref:j})):y.createElement(x,Ma({},k,{className:c,ref:j}),l))});o_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};o_.classNames={fullWidth:Bx,zeroRight:Fx};var eue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tue(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eue();return t&&e.setAttribute("nonce",t),e}function rue(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nue(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iue=function(){var e=0,t=null;return{add:function(r){e==0&&(t=tue())&&(rue(t,r),nue(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sue=function(){var e=iue();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kz=function(){var e=sue(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},aue={left:0,top:0,right:0,gap:0},T1=function(e){return parseInt(e||"",10)||0},oue=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[T1(r),T1(n),T1(i)]},lue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aue;var t=oue(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},cue=kz(),bf="data-scroll-locked",uue=function(e,t,r,n){var i=e.left,s=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Hce,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(bf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fx,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Bx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fx," .").concat(Fx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Bx," .").concat(Bx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(bf,`] {
    `).concat(qce,": ").concat(l,`px;
  }
`)},wR=function(){var e=parseInt(document.body.getAttribute(bf)||"0",10);return isFinite(e)?e:0},due=function(){y.useEffect(function(){return document.body.setAttribute(bf,(wR()+1).toString()),function(){var e=wR()-1;e<=0?document.body.removeAttribute(bf):document.body.setAttribute(bf,e.toString())}},[])},fue=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;due();var s=y.useMemo(function(){return lue(i)},[i]);return y.createElement(cue,{styles:uue(s,!t,i,r?"":"!important")})},Ck=!1;if(typeof window<"u")try{var Fy=Object.defineProperty({},"passive",{get:function(){return Ck=!0,!0}});window.addEventListener("test",Fy,Fy),window.removeEventListener("test",Fy,Fy)}catch{Ck=!1}var jd=Ck?{passive:!1}:!1,hue=function(e){return e.tagName==="TEXTAREA"},Cz=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!hue(e)&&r[t]==="visible")},pue=function(e){return Cz(e,"overflowY")},mue=function(e){return Cz(e,"overflowX")},_R=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Oz(e,n);if(i){var s=Ez(e,n),a=s[1],l=s[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},gue=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},vue=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Oz=function(e,t){return e==="v"?pue(t):mue(t)},Ez=function(e,t){return e==="v"?gue(t):vue(t)},yue=function(e,t){return e==="h"&&t==="rtl"?-1:1},xue=function(e,t,r,n,i){var s=yue(e,window.getComputedStyle(t).direction),a=s*n,l=r.target,c=t.contains(l),u=!1,d=a>0,f=0,h=0;do{if(!l)break;var p=Ez(e,l),g=p[0],m=p[1],v=p[2],b=m-v-s*g;(g||b)&&Oz(e,l)&&(f+=b,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},By=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jR=function(e){return[e.deltaX,e.deltaY]},SR=function(e){return e&&"current"in e?e.current:e},bue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},wue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_ue=0,Sd=[];function jue(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),i=y.useState(_ue++)[0],s=y.useState(kz)[0],a=y.useRef(e);y.useEffect(function(){a.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Cse([e.lockRef.current],(e.shards||[]).map(SR),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var b=By(m),x=r.current,w="deltaX"in m?m.deltaX:x[0]-b[0],_="deltaY"in m?m.deltaY:x[1]-b[1],N,j=m.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&j.type==="range")return!1;var C=window.getSelection(),P=C&&C.anchorNode,A=P?P===j||P.contains(j):!1;if(A)return!1;var I=_R(k,j);if(!I)return!0;if(I?N=k:(N=k==="v"?"h":"v",I=_R(k,j)),!I)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=N),!N)return!0;var M=n.current||N;return xue(M,v,m,M==="h"?w:_)},[]),c=y.useCallback(function(m){var v=m;if(!(!Sd.length||Sd[Sd.length-1]!==s)){var b="deltaY"in v?jR(v):By(v),x=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&bue(N.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(a.current.shards||[]).map(SR).filter(Boolean).filter(function(N){return N.contains(v.target)}),_=w.length>0?l(v,w[0]):!a.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(m,v,b,x){var w={name:m,delta:v,target:b,should:x,shadowParent:Sue(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=y.useCallback(function(m){r.current=By(m),n.current=void 0},[]),f=y.useCallback(function(m){u(m.type,jR(m),m.target,l(m,e.lockRef.current))},[]),h=y.useCallback(function(m){u(m.type,By(m),m.target,l(m,e.lockRef.current))},[]);y.useEffect(function(){return Sd.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,jd),document.addEventListener("touchmove",c,jd),document.addEventListener("touchstart",d,jd),function(){Sd=Sd.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,jd),document.removeEventListener("touchmove",c,jd),document.removeEventListener("touchstart",d,jd)}},[]);var p=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(s,{styles:wue(i)}):null,p?y.createElement(fue,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Sue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Nue=Zce(Nz,jue);var Ov=y.forwardRef(function(e,t){return y.createElement(o_,Ma({},e,{ref:t,sideCar:Nue}))});Ov.classNames=o_.classNames;var kue=[" ","Enter","ArrowUp","ArrowDown"],Cue=[" ","Enter"],Ru="Select",[l_,c_,Oue]=Dw(Ru),[Zh]=kn(Ru,[Oue,pc]),u_=pc(),[Eue,vc]=Zh(Ru),[Pue,Tue]=Zh(Ru),Pz=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=u_(t),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,N]=y.useState(!1),j=Qh(u),[k,C]=aa({prop:n,defaultProp:i??!1,onChange:s,caller:Ru}),[P,A]=aa({prop:a,defaultProp:l,onChange:c,caller:Ru}),I=y.useRef(null),M=v?g||!!v.closest("form"):!0,[z,L]=y.useState(new Set),W=Array.from(z).map(F=>F.props.value).join(";");return o.jsx(sP,{...m,children:o.jsxs(Eue,{required:p,scope:t,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:ra(),value:P,onValueChange:A,open:k,onOpenChange:C,dir:j,triggerPointerDownPosRef:I,disabled:h,children:[o.jsx(l_.Provider,{scope:t,children:o.jsx(Pue,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(F=>{L(D=>new Set(D).add(F))},[]),onNativeOptionRemove:y.useCallback(F=>{L(D=>{const R=new Set(D);return R.delete(F),R})},[]),children:r})}),M?o.jsxs(eW,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:F=>A(F.target.value),disabled:h,form:g,children:[P===void 0?o.jsx("option",{value:""}):null,Array.from(z)]},W):null]})})};Pz.displayName=Ru;var Tz="SelectTrigger",Az=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=u_(r),a=vc(Tz,r),l=a.disabled||n,c=rt(t,a.onTriggerChange),u=c_(r),d=y.useRef("touch"),[f,h,p]=rW(m=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===a.value),x=nW(v,m,b);x!==void 0&&a.onValueChange(x.value)}),g=m=>{l||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(jv,{asChild:!0,...s,children:o.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":tW(a.value)?"":void 0,...i,ref:c,onClick:ge(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:ge(i.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:ge(i.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&kue.includes(m.key)&&(g(),m.preventDefault())})})})});Az.displayName=Tz;var Mz="SelectValue",Iz=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...l}=e,c=vc(Mz,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=rt(t,c.onValueNodeChange);return Rr(()=>{u(d)},[u,d]),o.jsx(Fe.span,{...l,ref:f,style:{pointerEvents:"none"},children:tW(c.value)?o.jsx(o.Fragment,{children:a}):s})});Iz.displayName=Mz;var Aue="SelectIcon",Rz=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return o.jsx(Fe.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});Rz.displayName=Aue;var Mue="SelectPortal",$z=e=>o.jsx(zh,{asChild:!0,...e});$z.displayName=Mue;var $u="SelectContent",Dz=y.forwardRef((e,t)=>{const r=vc($u,e.__scopeSelect),[n,i]=y.useState();if(Rr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?ea.createPortal(o.jsx(Lz,{scope:e.__scopeSelect,children:o.jsx(l_.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(Fz,{...e,ref:t})});Dz.displayName=$u;var $s=10,[Lz,yc]=Zh($u),Iue="SelectContentImpl",Rue=$ce("SelectContent.RemoveScroll"),Fz=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...b}=e,x=vc($u,r),[w,_]=y.useState(null),[N,j]=y.useState(null),k=rt(t,$=>_($)),[C,P]=y.useState(null),[A,I]=y.useState(null),M=c_(r),[z,L]=y.useState(!1),W=y.useRef(!1);y.useEffect(()=>{if(w)return a_(w)},[w]),i_();const F=y.useCallback($=>{const[G,...V]=M().map(Y=>Y.ref.current),[q]=V.slice(-1),X=document.activeElement;for(const Y of $)if(Y===X||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===G&&N&&(N.scrollTop=0),Y===q&&N&&(N.scrollTop=N.scrollHeight),Y==null||Y.focus(),document.activeElement!==X))return},[M,N]),D=y.useCallback(()=>F([C,w]),[F,C,w]);y.useEffect(()=>{z&&D()},[z,D]);const{onOpenChange:R,triggerPointerDownPosRef:B}=x;y.useEffect(()=>{if(w){let $={x:0,y:0};const G=q=>{var X,Y;$={x:Math.abs(Math.round(q.pageX)-(((X=B.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(q.pageY)-(((Y=B.current)==null?void 0:Y.y)??0))}},V=q=>{$.x<=10&&$.y<=10?q.preventDefault():w.contains(q.target)||R(!1),document.removeEventListener("pointermove",G),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",V,{capture:!0})}}},[w,R,B]),y.useEffect(()=>{const $=()=>R(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[R]);const[K,ee]=rW($=>{const G=M().filter(X=>!X.disabled),V=G.find(X=>X.ref.current===document.activeElement),q=nW(G,$,V);q&&setTimeout(()=>q.ref.current.focus())}),te=y.useCallback(($,G,V)=>{const q=!W.current&&!V;(x.value!==void 0&&x.value===G||q)&&(P($),q&&(W.current=!0))},[x.value]),S=y.useCallback(()=>w==null?void 0:w.focus(),[w]),O=y.useCallback(($,G,V)=>{const q=!W.current&&!V;(x.value!==void 0&&x.value===G||q)&&I($)},[x.value]),E=n==="popper"?Ok:Bz,U=E===Ok?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(Lz,{scope:r,content:w,viewport:N,onViewportChange:j,itemRefCallback:te,selectedItem:C,onItemLeave:S,itemTextRefCallback:O,focusSelectedItem:D,selectedItemText:A,position:n,isPositioned:z,searchRef:K,children:o.jsx(Ov,{as:Rue,allowPinchZoom:!0,children:o.jsx(Cv,{asChild:!0,trapped:x.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:ge(i,$=>{var G;(G=x.trigger)==null||G.focus({preventScroll:!0}),$.preventDefault()}),children:o.jsx(ed,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(E,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:$=>$.preventDefault(),...b,...U,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ge(b.onKeyDown,$=>{const G=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!G&&$.key.length===1&&ee($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let q=M().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes($.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const X=$.target,Y=q.indexOf(X);q=q.slice(Y+1)}setTimeout(()=>F(q)),$.preventDefault()}})})})})})})});Fz.displayName=Iue;var $ue="SelectItemAlignedPosition",Bz=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=vc($u,r),a=yc($u,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=rt(t,k=>d(k)),h=c_(r),p=y.useRef(!1),g=y.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=a,w=y.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&v&&b){const k=s.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(s.dir!=="rtl"){const X=A.left-C.left,Y=P.left-X,pe=k.left-Y,Ne=k.width+pe,Ke=Math.max(Ne,C.width),Ve=window.innerWidth-$s,He=kk(Y,[$s,Math.max($s,Ve-Ke)]);l.style.minWidth=Ne+"px",l.style.left=He+"px"}else{const X=C.right-A.right,Y=window.innerWidth-P.right-X,pe=window.innerWidth-k.right-Y,Ne=k.width+pe,Ke=Math.max(Ne,C.width),Ve=window.innerWidth-$s,He=kk(Y,[$s,Math.max($s,Ve-Ke)]);l.style.minWidth=Ne+"px",l.style.right=He+"px"}const I=h(),M=window.innerHeight-$s*2,z=m.scrollHeight,L=window.getComputedStyle(u),W=parseInt(L.borderTopWidth,10),F=parseInt(L.paddingTop,10),D=parseInt(L.borderBottomWidth,10),R=parseInt(L.paddingBottom,10),B=W+F+z+R+D,K=Math.min(v.offsetHeight*5,B),ee=window.getComputedStyle(m),te=parseInt(ee.paddingTop,10),S=parseInt(ee.paddingBottom,10),O=k.top+k.height/2-$s,E=M-O,U=v.offsetHeight/2,$=v.offsetTop+U,G=W+F+$,V=B-G;if(G<=O){const X=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-m.offsetTop-m.offsetHeight,pe=Math.max(E,U+(X?S:0)+Y+D),Ne=G+pe;l.style.height=Ne+"px"}else{const X=I.length>0&&v===I[0].ref.current;l.style.top="0px";const pe=Math.max(O,W+m.offsetTop+(X?te:0)+U)+V;l.style.height=pe+"px",m.scrollTop=G-O+m.offsetTop}l.style.margin=`${$s}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,u,m,v,b,s.dir,n]);Rr(()=>w(),[w]);const[_,N]=y.useState();Rr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=y.useCallback(k=>{k&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return o.jsx(Lue,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Fe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Bz.displayName=$ue;var Due="SelectPopperPosition",Ok=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=$s,...s}=e,a=u_(r);return o.jsx(Gw,{...a,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ok.displayName=Due;var[Lue,CP]=Zh($u,{}),Ek="SelectViewport",Uz=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=yc(Ek,r),a=CP(Ek,r),l=rt(t,s.onViewportChange),c=y.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(l_.Slot,{scope:r,children:o.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ge(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-$s*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(m,v);if(b<g){const x=b+p,w=Math.min(g,x),_=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Uz.displayName=Ek;var zz="SelectGroup",[Fue,Bue]=Zh(zz),Uue=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=ra();return o.jsx(Fue,{scope:r,id:i,children:o.jsx(Fe.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Uue.displayName=zz;var Wz="SelectLabel",Vz=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Bue(Wz,r);return o.jsx(Fe.div,{id:i.id,...n,ref:t})});Vz.displayName=Wz;var Vb="SelectItem",[zue,Hz]=Zh(Vb),qz=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=e,l=vc(Vb,r),c=yc(Vb,r),u=l.value===n,[d,f]=y.useState(s??""),[h,p]=y.useState(!1),g=rt(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,i)}),m=ra(),v=y.useRef("touch"),b=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(zue,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:y.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(l_.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:o.jsx(Fe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:ge(a.onFocus,()=>p(!0)),onBlur:ge(a.onBlur,()=>p(!1)),onClick:ge(a.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:ge(a.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:ge(a.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:ge(a.onPointerMove,x=>{var w;v.current=x.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(a.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ge(a.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(Cue.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});qz.displayName=Vb;var um="SelectItemText",Gz=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,a=vc(um,r),l=yc(um,r),c=Hz(um,r),u=Tue(um,r),[d,f]=y.useState(null),h=rt(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=y.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Rr(()=>(m(g),()=>v(g)),[m,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(Fe.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ea.createPortal(s.children,a.valueNode):null]})});Gz.displayName=um;var Kz="SelectItemIndicator",Yz=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Hz(Kz,r).isSelected?o.jsx(Fe.span,{"aria-hidden":!0,...n,ref:t}):null});Yz.displayName=Kz;var Pk="SelectScrollUpButton",Jz=y.forwardRef((e,t)=>{const r=yc(Pk,e.__scopeSelect),n=CP(Pk,e.__scopeSelect),[i,s]=y.useState(!1),a=rt(t,n.onScrollButtonChange);return Rr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(Qz,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Jz.displayName=Pk;var Tk="SelectScrollDownButton",Xz=y.forwardRef((e,t)=>{const r=yc(Tk,e.__scopeSelect),n=CP(Tk,e.__scopeSelect),[i,s]=y.useState(!1),a=rt(t,n.onScrollButtonChange);return Rr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?o.jsx(Qz,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Xz.displayName=Tk;var Qz=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=yc("SelectScrollButton",r),a=y.useRef(null),l=c_(r),c=y.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Rr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Fe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ge(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:ge(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:ge(i.onPointerLeave,()=>{c()})})}),Wue="SelectSeparator",Zz=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Fe.div,{"aria-hidden":!0,...n,ref:t})});Zz.displayName=Wue;var Ak="SelectArrow",Vue=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=u_(r),s=vc(Ak,r),a=yc(Ak,r);return s.open&&a.position==="popper"?o.jsx(Kw,{...i,...n,ref:t}):null});Vue.displayName=Ak;var Hue="SelectBubbleInput",eW=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=y.useRef(null),s=rt(n,i),a=s_(t);return y.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[a,t]),o.jsx(Fe.select,{...r,style:{...uU,...r.style},ref:s,defaultValue:t})});eW.displayName=Hue;function tW(e){return e===""||e===void 0}function rW(e){const t=Er(e),r=y.useRef(""),n=y.useRef(0),i=y.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function nW(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=que(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function que(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Gue=Pz,iW=Az,Kue=Iz,Yue=Rz,Jue=$z,sW=Dz,Xue=Uz,aW=Vz,oW=qz,Que=Gz,Zue=Yz,lW=Jz,cW=Xz,uW=Zz;const xr=Gue,br=Kue,cr=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(iW,{ref:n,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(Yue,{asChild:!0,children:o.jsx(AU,{className:"h-4 w-4 opacity-50"})})]}));cr.displayName=iW.displayName;const dW=y.forwardRef(({className:e,...t},r)=>o.jsx(lW,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(xee,{className:"h-4 w-4"})}));dW.displayName=lW.displayName;const fW=y.forwardRef(({className:e,...t},r)=>o.jsx(cW,{ref:r,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(AU,{className:"h-4 w-4"})}));fW.displayName=cW.displayName;const ur=y.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>o.jsx(Jue,{children:o.jsxs(sW,{ref:i,className:_e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(dW,{}),o.jsx(Xue,{className:_e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(fW,{})]})}));ur.displayName=sW.displayName;const ede=y.forwardRef(({className:e,...t},r)=>o.jsx(aW,{ref:r,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ede.displayName=aW.displayName;const qe=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(oW,{ref:n,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Zue,{children:o.jsx(Uw,{className:"h-4 w-4"})})}),o.jsx(Que,{children:t})]}));qe.displayName=oW.displayName;const tde=y.forwardRef(({className:e,...t},r)=>o.jsx(uW,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));tde.displayName=uW.displayName;const rde="modulepreload",nde=function(e){return"/"+e},NR={},qo=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=nde(c),c in NR)return;NR[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":rde,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Ao="";class Ux extends Error{constructor(r,n){super(r);h2(this,"status");this.name="APIError",this.status=n}}const wf=async()=>{const{supabase:e}=await qo(async()=>{const{supabase:i}=await Promise.resolve().then(()=>Vo);return{supabase:i}},void 0),{data:{session:t},error:r}=await e.auth.getSession();if(r)return console.error("[API] Error getting session:",r),null;if(!t)return console.warn("[API] No active session found"),null;const n=t.expires_at;if(n&&n*1e3<Date.now()){console.warn("[API] Session token expired, attempting refresh...");const{data:i,error:s}=await e.auth.refreshSession();return s||!i.session?(console.error("[API] Failed to refresh session:",s),null):i.session.access_token}return t.access_token};async function Me(e,t={}){const r=await wf(),n={"Content-Type":"application/json",...t.headers||{}};r?n.Authorization=`Bearer ${r}`:console.warn("[API] No auth token available for request to:",e);const i=await fetch(`${Ao}${e}`,{...t,headers:n});if(!i.ok){const s=await i.json().catch(()=>({}));throw console.error(`[API] Request failed: ${i.status}`,e,s),new Ux(s.detail||s.message||"API request failed",i.status)}return i.json()}const ide={list:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.limit&&t.set("limit",e.limit.toString());const r=t.toString()?`?${t}`:"";return Me(`/api/prescriptions${r}`)},get:e=>Me(`/api/prescriptions/${e}`),create:e=>Me("/api/prescriptions",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>Me(`/api/prescriptions/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Me(`/api/prescriptions/${e}/cancel`,{method:"POST"}),getPDF:e=>Me(`/api/prescriptions/${e}/pdf`),generatePDF:e=>Me("/api/prescriptions/generate-pdf",{method:"POST",body:JSON.stringify(e)})},hW={requestPasswordReset:e=>Me("/api/auth/password/reset-request",{method:"POST",body:JSON.stringify({email:e})}),confirmPasswordReset:(e,t)=>Me("/api/auth/password/reset-confirm",{method:"POST",body:JSON.stringify({token:e,new_password:t})}),verifyToken:e=>Me(`/api/auth/verify-token?token=${e}`),checkAccount:e=>fetch(`${Ao}/api/auth/check-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json()),sendSetupLink:e=>fetch(`${Ao}/api/auth/send-setup-link`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json())},on={createConversation:e=>Me("/api/chat/conversations",{method:"POST",body:JSON.stringify({initial_message:e})}),getConversations:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.assigned_to_me&&t.set("assigned_to_me","true"),e!=null&&e.unassigned_only&&t.set("unassigned_only","true");const r=t.toString()?`?${t}`:"";return Me(`/api/chat/conversations${r}`)},getUnassignedConversations:()=>Me("/api/chat/conversations/unassigned"),getMyChats:()=>Me("/api/chat/conversations/my-chats"),getConversation:e=>Me(`/api/chat/conversations/${e}`),claimConversation:e=>Me(`/api/chat/conversations/${e}/claim`,{method:"POST"}),reassignConversation:(e,t)=>Me(`/api/chat/conversations/${e}/reassign`,{method:"POST",body:JSON.stringify({receptionist_id:t})}),updateConversationStatus:(e,t)=>Me(`/api/chat/conversations/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),updatePatientType:(e,t)=>Me(`/api/chat/conversations/${e}/patient-type`,{method:"PATCH",body:JSON.stringify({patient_type:t})}),getMessages:(e,t=100)=>Me(`/api/chat/conversations/${e}/messages?limit=${t}`),sendMessage:(e,t,r="text",n,i)=>Me(`/api/chat/conversations/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,message_type:r,file_url:n,file_name:i})}),markAsRead:e=>Me(`/api/chat/conversations/${e}/read`,{method:"POST"}),getStats:()=>Me("/api/chat/stats")},wo={getFeeSchedule:()=>Me("/api/bookings/fee-schedule"),getAvailableClinicians:()=>Me("/api/bookings/clinicians/available"),create:e=>Me("/api/bookings",{method:"POST",body:JSON.stringify(e)}),list:e=>{const t=new URLSearchParams;e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.clinician_id&&t.set("clinician_id",e.clinician_id),e!=null&&e.status&&t.set("status",e.status);const r=t.toString()?`?${t}`:"";return Me(`/api/bookings/${r}`)},get:e=>Me(`/api/bookings/${e}`),update:(e,t)=>Me(`/api/bookings/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Me(`/api/bookings/${e}`,{method:"DELETE"}),getMyInvoices:e=>{const t=e?`?status=${e}`:"";return Me(`/api/bookings/invoices/my-invoices${t}`)},getInvoice:e=>Me(`/api/bookings/invoices/${e}`),getInvoicePDF:async e=>{const{data:{session:t}}=await supabase.auth.getSession(),r={};t!=null&&t.access_token&&(r.Authorization=`Bearer ${t.access_token}`);const n=await fetch(`${Ao}/api/bookings/invoices/${e}/pdf`,{headers:r});if(!n.ok)throw new Error("Failed to download PDF");return n.blob()},downloadInvoicePDF:async(e,t)=>{try{const r=await wo.getInvoicePDF(e),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=t||`invoice_${e.slice(0,8)}.pdf`,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(n),document.body.removeChild(i)}catch(r){throw console.error("Failed to download invoice PDF:",r),r}},updateInvoiceStatus:(e,t,r)=>Me(`/api/bookings/invoices/${e}/status?status=${t}${r?`&payment_reference=${r}`:""}`,{method:"PATCH"})},kR={createRoom:e=>Me("/api/video/room",{method:"POST",body:JSON.stringify({appointment_id:e})}),createToken:(e,t,r=!1)=>Me("/api/video/token",{method:"POST",body:JSON.stringify({room_name:e,user_name:t,is_owner:r})}),getRoom:e=>Me(`/api/video/room/${e}`),checkHealth:()=>Me("/api/video/health")},dl={getSummary:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Me(`/api/admin/analytics/summary?${n}`)},getPeakTimes:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Me(`/api/admin/analytics/peak-times?${n}`)},getCancellationStats:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Me(`/api/admin/analytics/cancellation-reasons?${n}`)},getConversionFunnel:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Me(`/api/admin/analytics/conversion-funnel?${n}`)},getNoShowRates:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Me(`/api/admin/analytics/no-show-rates?${n}`)},getReceptionistWorkload:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Me(`/api/admin/analytics/receptionist-workload?${n}`)},getTimestampTrends:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Me(`/api/admin/analytics/timestamp-trends?${n}`)},exportCSV:async(e="month",t,r)=>{const n=await wf(),i=new URLSearchParams({period:e});t&&i.set("start_date",t),r&&i.set("end_date",r);const s=await fetch(`${Ao}/api/admin/analytics/export/csv?${i}`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error("Failed to export CSV");const a=await s.blob(),l=window.URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download=`quadcare_analytics_${e}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}},$p={preview:async(e,t)=>{const r=await wf(),n=new FormData;n.append("file",e),t&&n.append("password",t);const i=await fetch(`${Ao}/api/admin/bulk-import/preview`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n});if(!i.ok){const s=await i.json().catch(()=>({}));throw new Ux(s.detail||"Preview failed",i.status)}return i.json()},importStudents:async(e,t,r,n)=>{const i=await wf(),s=new FormData;s.append("file",e),t&&s.append("password",t),r&&s.append("corporate_client",r),n&&s.append("client_type",n);const a=await fetch(`${Ao}/api/admin/bulk-import/students`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:s});if(!a.ok){const l=await a.json().catch(()=>({}));throw new Ux(l.detail||"Import failed",a.status)}return a.json()},startImport:async(e,t,r,n)=>{const i=await wf(),s=new FormData;s.append("file",e),t&&s.append("password",t),r&&s.append("corporate_client",r),n&&s.append("client_type",n);const a=await fetch(`${Ao}/api/admin/bulk-import/start`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:s});if(!a.ok){const l=await a.json().catch(()=>({}));throw new Ux(l.detail||"Failed to start import",a.status)}return a.json()},getJobStatus:e=>Me(`/api/admin/bulk-import/jobs/${e}`),cancelJob:e=>Me(`/api/admin/bulk-import/jobs/${e}/cancel`,{method:"POST"}),listJobs:()=>Me("/api/admin/bulk-import/jobs"),getTemplate:()=>Me("/api/admin/bulk-import/template"),getCorporateClients:()=>Me("/api/admin/bulk-import/corporate-clients"),createCorporateClient:e=>Me("/api/admin/bulk-import/corporate-clients",{method:"POST",body:JSON.stringify(e)}),getAnalyticsByClient:()=>Me("/api/admin/bulk-import/analytics/by-client")},Uy={preview:e=>{const t=e?`?corporate_client_id=${e}`:"";return Me(`/api/admin/welcome-emails/preview${t}`)},send:e=>Me("/api/admin/welcome-emails/send",{method:"POST",body:JSON.stringify(e)}),getJobStatus:e=>Me(`/api/admin/welcome-emails/jobs/${e}`),listJobs:()=>Me("/api/admin/welcome-emails/jobs"),sendTest:()=>Me("/api/admin/welcome-emails/test",{method:"POST"})},Ev={upload:e=>Me("/api/profile-photo/upload",{method:"POST",body:JSON.stringify({image_data:e})}),getUrl:e=>Me(`/api/profile-photo/url/${e}`),delete:()=>Me("/api/profile-photo/",{method:"DELETE"})},pW={submit:e=>Me("/api/ratings/",{method:"POST",body:JSON.stringify(e)}),check:e=>Me(`/api/ratings/check/${e}`),getMyRatings:()=>Me("/api/ratings/my-ratings"),getStats:()=>Me("/api/ratings/admin/stats"),getRecentFeedback:(e=20)=>Me(`/api/ratings/admin/recent?limit=${e}`)},A1={transcribe:async(e,t)=>{const r=new FormData;r.append("audio",e,"recording.webm"),r.append("appointment_id",t);const n=await wf(),i=await fetch(`${Ao}/api/ai-clinical-notes/transcribe`,{method:"POST",headers:n?{Authorization:`Bearer ${n}`}:{},body:r});if(!i.ok){const s=await i.json().catch(()=>({}));throw new Error(s.detail||"Transcription failed")}return i.json()},generateSoap:(e,t)=>Me("/api/ai-clinical-notes/generate-soap",{method:"POST",body:JSON.stringify({appointment_id:e,transcript:t})}),save:e=>Me("/api/ai-clinical-notes/save",{method:"POST",body:JSON.stringify(e)}),getNotes:e=>Me(`/api/ai-clinical-notes/notes/${e}`)},sde=({onBack:e})=>{const[t,r]=y.useState(""),[n,i]=y.useState(!1),[s,a]=y.useState(!1),l=async c=>{if(c.preventDefault(),!t){oe.error("Please enter your email address");return}i(!0);try{await hW.requestPasswordReset(t),a(!0),oe.success("Password reset link sent!")}catch{a(!0)}finally{i(!1)}};return s?o.jsx(le,{className:"w-full max-w-md mx-auto",children:o.jsxs(de,{className:"pt-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(Hr,{className:"w-8 h-8 text-success"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),o.jsxs("p",{className:"text-muted-foreground mb-6",children:["If an account exists with ",o.jsx("strong",{children:t}),", you will receive a password reset link shortly."]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Please check your spam folder if you don't see the email within a few minutes."}),o.jsxs(Z,{onClick:e,variant:"outline",className:"w-full",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})}):o.jsxs(le,{className:"w-full max-w-md mx-auto",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary flex items-center justify-center mx-auto mb-4",children:o.jsx(Ia,{className:"w-6 h-6 text-primary-foreground"})}),o.jsx(we,{children:"Reset Password"}),o.jsx(Oe,{children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsx(de,{children:o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"email",children:"Email Address"}),o.jsx(st,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:c=>r(c.target.value),required:!0,disabled:n})]}),o.jsx(Z,{type:"submit",className:"w-full",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})}),o.jsxs(Z,{type:"button",variant:"ghost",className:"w-full",onClick:e,disabled:n,children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})})]})},ade=Xh({email:vr().email("Please enter a valid email address")}),ode=Xh({password:vr().min(6,"Password must be at least 6 characters")}),lde=Xh({password:vr().min(8,"Password must be at least 8 characters"),confirm_password:vr()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}),cde=Xh({first_name:vr().min(1,"First name is required").max(50,"First name too long"),last_name:vr().min(1,"Last name is required").max(50,"Last name too long"),email:vr().email("Please enter a valid email address"),password:vr().min(8,"Password must be at least 8 characters"),confirm_password:vr(),role:_ce(["patient","nurse","doctor","receptionist"]),hpcsa_number:vr().optional()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}).refine(e=>!((e.role==="nurse"||e.role==="doctor")&&!e.hpcsa_number),{message:"HPCSA number is required for healthcare professionals",path:["hpcsa_number"]}),ude=()=>{var z,L;const[e,t]=y.useState("email"),[r,n]=y.useState(""),[i,s]=y.useState(null),[a,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState("patient"),{signIn:h,signUp:p,user:g,role:m}=Lr(),v=Wn(),b=to(),{toast:x}=FE();(L=(z=b.state)==null?void 0:z.from)!=null&&L.pathname,y.useEffect(()=>{g&&m&&v({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"}[m],{replace:!0})},[g,m,v]);const w=ef({resolver:tf(ade),defaultValues:{email:""}}),_=ef({resolver:tf(ode),defaultValues:{password:""}}),N=ef({resolver:tf(lde),defaultValues:{password:"",confirm_password:""}}),j=ef({resolver:tf(cde),defaultValues:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",role:"patient",hpcsa_number:""}}),k=async W=>{u(!0);const F=W.email.toLowerCase().trim();n(F);try{const D=await hW.checkAccount(F);D!=null&&D.data?(s(D.data),D.data.exists?D.data.needs_password_setup?t("set-password"):t("password"):(x({title:"No account found",description:"Let's create your account!"}),j.setValue("email",F),t("signup"))):(j.setValue("email",F),t("signup"))}catch(D){console.error("Account check failed:",D),t("password")}u(!1)},C=async W=>{u(!0);const{error:F}=await h(r,W.password);F&&x({variant:"destructive",title:"Login failed",description:F.message==="Invalid login credentials"?"Invalid password. Please try again.":F.message}),u(!1)},P=async W=>{u(!0);try{const{error:F}=await Ie.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/auth?type=recovery`});if(F)throw F;x({title:"Check your email!",description:"We've sent you a link to set your password. Click it to complete setup."}),t("email"),s(null),w.reset()}catch(F){console.error("Set password failed:",F),x({variant:"destructive",title:"Failed to send password setup email",description:F.message||"Please try again."})}u(!1)},A=async W=>{u(!0);const{error:F}=await p(W.email,W.password,{first_name:W.first_name,last_name:W.last_name,role:W.role,hpcsa_number:W.hpcsa_number});F?F.message.includes("already registered")?(x({variant:"destructive",title:"Account exists",description:"An account with this email already exists. Please sign in."}),t("email")):x({variant:"destructive",title:"Signup failed",description:F.message}):x({title:"Account created!",description:"Welcome to Quadcare Telehealth. Redirecting..."}),u(!1)},I=W=>{f(W),j.setValue("role",W)},M=()=>{t("email"),s(null),_.reset(),N.reset()};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 px-4 py-12",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-16 w-auto",onError:W=>{W.currentTarget.style.display="none"}})}),e==="password-reset"?o.jsx(sde,{onBack:()=>t("email")}):e==="set-password"&&i?o.jsxs(le,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-4 rounded-full bg-green-100 dark:bg-green-900/30",children:o.jsx(Vee,{className:"w-10 h-10 text-green-600"})})}),o.jsxs(we,{className:"text-2xl",children:["Welcome",i.first_name?`, ${i.first_name}`:"","!"]}),o.jsx(Oe,{className:"mt-2",children:"Set a password to activate your account."})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx(Sb,{className:"w-4 h-4 text-green-600"}),o.jsxs("span",{children:["Pre-registered by ",o.jsx("strong",{children:"Campus Africa"})]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-sm flex items-center gap-2",children:[o.jsx(Ia,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:r})]}),o.jsxs("form",{onSubmit:N.handleSubmit(P),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"new-password",children:"Create Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{id:"new-password",type:a?"text":"password",placeholder:"At least 8 characters",className:"pl-10 pr-10",...N.register("password")}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?o.jsx(u1,{className:"w-4 h-4"}):o.jsx(Rx,{className:"w-4 h-4"})})]}),N.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.password.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"confirm-new-password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{id:"confirm-new-password",type:"password",placeholder:"Confirm your password",className:"pl-10",...N.register("confirm_password")})]}),N.formState.errors.confirm_password&&o.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.confirm_password.message})]}),o.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending setup email..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Set Password & Activate"]})})]}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"We'll send you an email with a secure link to set your password."}),o.jsx("button",{type:"button",onClick:M,className:"w-full text-sm text-muted-foreground hover:text-foreground",children:" Use a different email"})]})]}):e==="password"?o.jsxs(le,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(we,{className:"text-2xl",children:"Welcome back!"}),o.jsx(Oe,{children:"Enter your password to continue"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-sm flex items-center gap-2",children:[o.jsx(Ia,{className:"w-4 h-4 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:r}),o.jsx("button",{type:"button",onClick:M,className:"ml-auto text-primary text-xs hover:underline",children:"Change"})]}),o.jsxs("form",{onSubmit:_.handleSubmit(C),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{id:"password",type:a?"text":"password",placeholder:"",className:"pl-10 pr-10",autoFocus:!0,..._.register("password")}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?o.jsx(u1,{className:"w-4 h-4"}):o.jsx(Rx,{className:"w-4 h-4"})})]}),_.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.password.message})]}),o.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]}),o.jsx("button",{type:"button",onClick:()=>t("password-reset"),className:"w-full text-sm text-primary hover:underline",children:"Forgot your password?"})]})]}):e==="signup"?o.jsxs(le,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(we,{className:"text-2xl",children:"Create your account"}),o.jsx(Oe,{children:"Join Quadcare Telehealth for quality healthcare"})]}),o.jsxs(de,{children:[o.jsxs("form",{onSubmit:j.handleSubmit(A),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"first_name",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{id:"first_name",placeholder:"John",className:"pl-10",...j.register("first_name")})]}),j.formState.errors.first_name&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.first_name.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"last_name",children:"Last Name"}),o.jsx(st,{id:"last_name",placeholder:"Doe",...j.register("last_name")}),j.formState.errors.last_name&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.last_name.message})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"signup-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{id:"signup-email",type:"email",className:"pl-10 bg-muted/50",readOnly:!0,...j.register("email")})]}),j.formState.errors.email&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.email.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"role",children:"I am a"}),o.jsxs(xr,{value:d,onValueChange:I,children:[o.jsx(cr,{children:o.jsx(br,{placeholder:"Select your role"})}),o.jsxs(ur,{children:[o.jsx(qe,{value:"patient",children:"Patient"}),o.jsx(qe,{value:"receptionist",children:"Receptionist"}),o.jsx(qe,{value:"nurse",children:"Nurse"}),o.jsx(qe,{value:"doctor",children:"Doctor"})]})]})]}),(d==="nurse"||d==="doctor")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"hpcsa_number",children:"HPCSA Registration Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(wv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{id:"hpcsa_number",placeholder:"MP 0123456",className:"pl-10",...j.register("hpcsa_number")})]}),j.formState.errors.hpcsa_number&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.hpcsa_number.message}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for healthcare professionals per HPCSA guidelines"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{id:"signup-password",type:a?"text":"password",placeholder:"At least 8 characters",className:"pl-10 pr-10",...j.register("password")}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:a?o.jsx(u1,{className:"w-4 h-4"}):o.jsx(Rx,{className:"w-4 h-4"})})]}),j.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.password.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"confirm_password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{id:"confirm_password",type:"password",placeholder:"",className:"pl-10",...j.register("confirm_password")})]}),j.formState.errors.confirm_password&&o.jsx("p",{className:"text-sm text-destructive",children:j.formState.errors.confirm_password.message})]}),o.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating account..."]}):"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("button",{type:"button",onClick:M,className:"text-sm text-muted-foreground hover:text-foreground",children:" Back to login"})})]})]}):o.jsxs(le,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(we,{className:"text-2xl",children:"Sign in to Quadcare"}),o.jsx(Oe,{children:"Enter your email to continue"})]}),o.jsxs(de,{children:[o.jsxs("form",{onSubmit:w.handleSubmit(k),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"email",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10",autoFocus:!0,...w.register("email")})]}),w.formState.errors.email&&o.jsx("p",{className:"text-sm text-destructive",children:w.formState.errors.email.message})]}),o.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking..."]}):o.jsxs(o.Fragment,{children:["Continue",o.jsx(ta,{className:"w-4 h-4 ml-2"})]})})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"New to Quadcare?"})})]}),o.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"Enter your email above. If you don't have an account, we'll help you create one."})]}),o.jsx("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:o.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[o.jsx("strong",{children:"Campus Africa students:"})," Your account is pre-registered.",o.jsx("br",{}),"Just enter your email to get started!"]})})]})]}),o.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["By continuing, you agree to our Terms of Service and Privacy Policy.",o.jsx("br",{}),"Your data is protected under POPIA regulations."]})]})})},mW=y.createContext(void 0),gW=()=>{const e=y.useContext(mW);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},vW=({children:e})=>{const{user:t,session:r}=Lr(),[n,i]=y.useState([]),[s,a]=y.useState(null),[l,c]=y.useState([]),[u,d]=y.useState(!1),[f,h]=y.useState(null),p=y.useRef(null);y.useEffect(()=>{p.current=s},[s]);const g=n.reduce((C,P)=>C+(P.unread_count||0),0),m=y.useCallback(async()=>{if(t){d(!0),h(null);try{const C=await on.getConversations();i(C||[])}catch(C){console.error("Error loading conversations:",C),h(C.message||"Failed to load conversations")}finally{d(!1)}}},[t]),v=y.useCallback(async()=>{try{return await on.getUnassignedConversations()||[]}catch(C){return console.error("Error loading unassigned conversations:",C),[]}},[]),b=y.useCallback(async()=>{try{return await on.getMyChats()||[]}catch(C){return console.error("Error loading my chats:",C),[]}},[]),x=y.useCallback(async C=>{d(!0),h(null);try{const P=await on.getConversation(C);console.log("[ChatContext] Selected conversation with names:",{id:P.id,patient_name:P.patient_name,receptionist_name:P.receptionist_name}),a(P);const A=await on.getMessages(C);c(A||[]),await on.markAsRead(C),i(I=>I.map(M=>M.id===C?{...P,unread_count:0}:M))}catch(P){console.error("Error loading conversation:",P),h(P.message||"Failed to load conversation")}finally{d(!1)}},[]),w=y.useCallback(async C=>{d(!0),h(null);try{const P=await on.createConversation(C);i(I=>I.some(M=>M.id===P.id)?I:[P,...I]),a(P);const A=await on.getMessages(P.id);return c(A||[]),P}catch(P){throw console.error("Error creating conversation:",P),h(P.message||"Failed to create conversation"),P}finally{d(!1)}},[]),_=y.useCallback(async(C,P="text",A,I)=>{if(!s)throw new Error("No conversation selected");try{const M=await on.sendMessage(s.id,C,P,A,I);c(z=>z.some(L=>L.id===M.id)?z:[...z,M]),i(z=>z.map(L=>L.id===s.id?{...L,last_message:C,last_message_at:new Date().toISOString()}:L))}catch(M){throw console.error("Error sending message:",M),M}},[s]),N=y.useCallback(async C=>{try{await on.claimConversation(C),await x(C),await m()}catch(P){throw console.error("Error claiming conversation:",P),P}},[x,m]),j=y.useCallback(async(C,P)=>{try{await on.updateConversationStatus(C,P),i(A=>A.map(I=>I.id===C?{...I,status:P}:I)),(s==null?void 0:s.id)===C&&a(A=>A?{...A,status:P}:null)}catch(A){throw console.error("Error updating status:",A),A}},[s]),k=y.useCallback(async()=>{if(s)try{await on.markAsRead(s.id),i(C=>C.map(P=>P.id===s.id?{...P,unread_count:0}:P))}catch(C){console.error("Error marking as read:",C)}},[s]);return y.useEffect(()=>{if(!t||!r)return;const C=Ie.channel("chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},A=>{var z;const I=A.new;console.log("[ChatContext] Realtime message received:",{id:I.id,sender_name:I.sender_name,sender_role:I.sender_role,content:(z=I.content)==null?void 0:z.substring(0,50)});const M=p.current;if(M&&I.conversation_id===M.id&&I.sender_id!==t.id){let L={...I};(!L.sender_name||L.sender_name===null)&&(L.sender_role==="patient"?L.sender_name=M.patient_name||"Patient":L.sender_role==="system"?L.sender_name="System":L.sender_name=M.receptionist_name||"Staff",console.log("[ChatContext] Enriched message sender_name to:",L.sender_name)),c(W=>W.some(F=>F.id===I.id)?W:[...W,L])}i(L=>L.map(W=>{var F;return W.id===I.conversation_id?{...W,last_message:(F=I.content)==null?void 0:F.substring(0,100),last_message_at:I.created_at,unread_count:W.id===(M==null?void 0:M.id)?0:(W.unread_count||0)+1}:W}))}).subscribe(),P=Ie.channel("chat_conversations_changes").on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},A=>{const I=A.new,M=p.current;console.log("[ChatContext] Realtime conversation update:",A.eventType,{id:I.id,status:I.status,has_patient_name:!!I.patient_name,has_receptionist_name:!!I.receptionist_name}),A.eventType==="INSERT"?(i(z=>z.some(L=>L.id===I.id)?z:[{...I,patient_name:"Loading...",receptionist_name:null},...z]),setTimeout(async()=>{try{const z=await on.getConversation(I.id);console.log("[ChatContext] Fetched enriched new conversation:",z.patient_name),i(L=>L.map(W=>W.id===z.id?z:W))}catch(z){console.error("[ChatContext] Failed to fetch enriched conversation:",z)}},500)):A.eventType==="UPDATE"&&(i(z=>z.map(L=>L.id===I.id?{...L,...I,patient_name:L.patient_name,receptionist_name:L.receptionist_name}:L)),(M==null?void 0:M.id)===I.id&&a(z=>z?{...z,...I,patient_name:z.patient_name,receptionist_name:z.receptionist_name}:null))}).subscribe();return()=>{Ie.removeChannel(C),Ie.removeChannel(P)}},[t,r]),y.useEffect(()=>{t&&m()},[t,m]),o.jsx(mW.Provider,{value:{conversations:n,currentConversation:s,messages:l,isLoading:u,error:f,unreadCount:g,loadConversations:m,loadUnassignedConversations:v,loadMyChats:b,selectConversation:x,createConversation:w,sendMessage:_,claimConversation:N,updateConversationStatus:j,markAsRead:k},children:e})},dde=Bw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...r}){return o.jsx("div",{className:_e(dde({variant:t}),e),...r})}var M1="rovingFocusGroup.onEntryFocus",fde={bubbles:!1,cancelable:!0},Pv="RovingFocusGroup",[Mk,yW,hde]=Dw(Pv),[pde,ep]=kn(Pv,[hde]),[mde,gde]=pde(Pv),xW=y.forwardRef((e,t)=>o.jsx(Mk.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Mk.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(vde,{...e,ref:t})})}));xW.displayName=Pv;var vde=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),p=rt(t,h),g=Qh(s),[m,v]=aa({prop:a,defaultProp:l??null,onChange:c,caller:Pv}),[b,x]=y.useState(!1),w=Er(u),_=yW(r),N=y.useRef(!1),[j,k]=y.useState(0);return y.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(M1,w),()=>C.removeEventListener(M1,w)},[w]),o.jsx(mde,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:m,onItemFocus:y.useCallback(C=>v(C),[v]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:y.useCallback(()=>k(C=>C-1),[]),children:o.jsx(Fe.div,{tabIndex:b||j===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{N.current=!0}),onFocus:ge(e.onFocus,C=>{const P=!N.current;if(C.target===C.currentTarget&&P&&!b){const A=new CustomEvent(M1,fde);if(C.currentTarget.dispatchEvent(A),!A.defaultPrevented){const I=_().filter(F=>F.focusable),M=I.find(F=>F.active),z=I.find(F=>F.id===m),W=[M,z,...I].filter(Boolean).map(F=>F.ref.current);_W(W,d)}}N.current=!1}),onBlur:ge(e.onBlur,()=>x(!1))})})}),bW="RovingFocusGroupItem",wW=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:a,...l}=e,c=ra(),u=s||c,d=gde(bW,r),f=d.currentTabStopId===u,h=yW(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return y.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),o.jsx(Mk.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:o.jsx(Fe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ge(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:ge(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ge(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=bde(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?wde(w,_+1):w.slice(_+1)}setTimeout(()=>_W(w))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:m!=null}):a})})});wW.displayName=bW;var yde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xde(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bde(e,t,r){const n=xde(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return yde[n]}function _W(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function wde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var OP=xW,EP=wW,d_="Tabs",[_de]=kn(d_,[ep]),jW=ep(),[jde,PP]=_de(d_),SW=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Qh(l),[f,h]=aa({prop:n,onChange:i,defaultProp:s??"",caller:d_});return o.jsx(jde,{scope:r,baseId:ra(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:o.jsx(Fe.div,{dir:d,"data-orientation":a,...u,ref:t})})});SW.displayName=d_;var NW="TabsList",kW=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=PP(NW,r),a=jW(r);return o.jsx(OP,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(Fe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});kW.displayName=NW;var CW="TabsTrigger",OW=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,a=PP(CW,r),l=jW(r),c=TW(a.baseId,n),u=AW(a.baseId,n),d=n===a.value;return o.jsx(EP,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(Fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:ge(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(n):f.preventDefault()}),onKeyDown:ge(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(n)}),onFocus:ge(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(n)})})})});OW.displayName=CW;var EW="TabsContent",PW=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=e,l=PP(EW,r),c=TW(l.baseId,n),u=AW(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(nn,{present:i||d,children:({present:h})=>o.jsx(Fe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});PW.displayName=EW;function TW(e,t){return`${e}-trigger-${t}`}function AW(e,t){return`${e}-content-${t}`}var Sde=SW,MW=kW,IW=OW,RW=PW;const tl=Sde,ro=y.forwardRef(({className:e,...t},r)=>o.jsx(MW,{ref:r,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ro.displayName=MW.displayName;const Bt=y.forwardRef(({className:e,...t},r)=>o.jsx(IW,{ref:r,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Bt.displayName=IW.displayName;const fr=y.forwardRef(({className:e,...t},r)=>o.jsx(RW,{ref:r,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fr.displayName=RW.displayName;function Nde(e){const t=kde(e),r=y.forwardRef((n,i)=>{const{children:s,...a}=n,l=y.Children.toArray(s),c=l.find(Ode);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function kde(e){const t=y.forwardRef((r,n)=>{const{children:i,...s}=r;if(y.isValidElement(i)){const a=Pde(i),l=Ede(s,i.props);return i.type!==y.Fragment&&(l.ref=n?Qa(n,a):a),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cde=Symbol("radix.slottable");function Ode(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cde}function Ede(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Pde(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var f_="Dialog",[$W,DW]=kn(f_),[Tde,ma]=$W(f_),LW=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=aa({prop:n,defaultProp:i??!1,onChange:s,caller:f_});return o.jsx(Tde,{scope:t,triggerRef:l,contentRef:c,contentId:ra(),titleId:ra(),descriptionId:ra(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};LW.displayName=f_;var FW="DialogTrigger",BW=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ma(FW,r),s=rt(t,i.triggerRef);return o.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":MP(i.open),...n,ref:s,onClick:ge(e.onClick,i.onOpenToggle)})});BW.displayName=FW;var TP="DialogPortal",[Ade,UW]=$W(TP,{forceMount:void 0}),zW=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=ma(TP,t);return o.jsx(Ade,{scope:t,forceMount:r,children:y.Children.map(n,a=>o.jsx(nn,{present:r||s.open,children:o.jsx(zh,{asChild:!0,container:i,children:a})}))})};zW.displayName=TP;var Hb="DialogOverlay",WW=y.forwardRef((e,t)=>{const r=UW(Hb,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=ma(Hb,e.__scopeDialog);return s.modal?o.jsx(nn,{present:n||s.open,children:o.jsx(Ide,{...i,ref:t})}):null});WW.displayName=Hb;var Mde=Nde("DialogOverlay.RemoveScroll"),Ide=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ma(Hb,r);return o.jsx(Ov,{as:Mde,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(Fe.div,{"data-state":MP(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Du="DialogContent",VW=y.forwardRef((e,t)=>{const r=UW(Du,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=ma(Du,e.__scopeDialog);return o.jsx(nn,{present:n||s.open,children:s.modal?o.jsx(Rde,{...i,ref:t}):o.jsx($de,{...i,ref:t})})});VW.displayName=Du;var Rde=y.forwardRef((e,t)=>{const r=ma(Du,e.__scopeDialog),n=y.useRef(null),i=rt(t,r.contentRef,n);return y.useEffect(()=>{const s=n.current;if(s)return a_(s)},[]),o.jsx(HW,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,s=>s.preventDefault())})}),$de=y.forwardRef((e,t)=>{const r=ma(Du,e.__scopeDialog),n=y.useRef(!1),i=y.useRef(!1);return o.jsx(HW,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),HW=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,l=ma(Du,r),c=y.useRef(null),u=rt(t,c);return i_(),o.jsxs(o.Fragment,{children:[o.jsx(Cv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(ed,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":MP(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Lde,{titleId:l.titleId}),o.jsx(Bde,{contentRef:c,descriptionId:l.descriptionId})]})]})}),AP="DialogTitle",qW=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ma(AP,r);return o.jsx(Fe.h2,{id:i.titleId,...n,ref:t})});qW.displayName=AP;var GW="DialogDescription",KW=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ma(GW,r);return o.jsx(Fe.p,{id:i.descriptionId,...n,ref:t})});KW.displayName=GW;var YW="DialogClose",JW=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=ma(YW,r);return o.jsx(Fe.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,()=>i.onOpenChange(!1))})});JW.displayName=YW;function MP(e){return e?"open":"closed"}var XW="DialogTitleWarning",[Dde,QW]=yZ(XW,{contentName:Du,titleName:AP,docsSlug:"dialog"}),Lde=({titleId:e})=>{const t=QW(XW),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Fde="DialogDescriptionWarning",Bde=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QW(Fde).contentName}}.`;return y.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ZW=LW,eV=BW,tV=zW,IP=WW,RP=VW,$P=qW,DP=KW,LP=JW;const ni=ZW,qb=eV,Ude=tV,rV=y.forwardRef(({className:e,...t},r)=>o.jsx(IP,{ref:r,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));rV.displayName=IP.displayName;const Un=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Ude,{children:[o.jsx(rV,{}),o.jsxs(RP,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(LP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(Za,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Un.displayName=RP.displayName;const ii=({className:e,...t})=>o.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ii.displayName="DialogHeader";const bu=({className:e,...t})=>o.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bu.displayName="DialogFooter";const si=y.forwardRef(({className:e,...t},r)=>o.jsx($P,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));si.displayName=$P.displayName;const Go=y.forwardRef(({className:e,...t},r)=>o.jsx(DP,{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));Go.displayName=DP.displayName;function tt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ni(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function dn(e,t){const r=tt(e);return isNaN(t)?Ni(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ua(e,t){const r=tt(e);if(isNaN(t))return Ni(e,NaN);if(!t)return r;const n=r.getDate(),i=Ni(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const FP=6048e5,zde=864e5,nV=6e4,iV=36e5,zy=43200,CR=1440;let Wde={};function td(){return Wde}function da(e,t){var l,c,u,d;const r=td(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=tt(e),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Lu(e){return da(e,{weekStartsOn:1})}function sV(e){const t=tt(e),r=t.getFullYear(),n=Ni(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Lu(n),s=Ni(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Lu(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Ja(e){const t=tt(e);return t.setHours(0,0,0,0),t}function Qf(e){const t=tt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function $a(e,t){const r=Ja(e),n=Ja(t),i=+r-Qf(r),s=+n-Qf(n);return Math.round((i-s)/zde)}function Vde(e){const t=sV(e),r=Ni(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Lu(r)}function xg(e,t){const r=t*7;return dn(e,r)}function Hde(e,t){return ua(e,t*12)}function qde(e){let t;return e.forEach(function(r){const n=tt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Gde(e){let t;return e.forEach(r=>{const n=tt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function zx(e,t){const r=tt(e),n=tt(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function BP(e){return Ni(e,Date.now())}function Fn(e,t){const r=Ja(e),n=Ja(t);return+r==+n}function UP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Kde(e){if(!UP(e)&&typeof e!="number")return!1;const t=tt(e);return!isNaN(Number(t))}function Zf(e,t){const r=tt(e),n=tt(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Yde(e,t,r){const n=da(e,r),i=da(t,r),s=+n-Qf(n),a=+i-Qf(i);return Math.round((s-a)/FP)}function Jde(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Xde(e,t){return+tt(e)-+tt(t)}function zP(e){const t=tt(e);return t.setHours(23,59,59,999),t}function h_(e){const t=tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qde(e){const t=tt(e);return+zP(t)==+h_(t)}function Zde(e,t){const r=tt(e),n=tt(t),i=zx(r,n),s=Math.abs(Zf(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=zx(r,n)===-i;Qde(tt(e))&&s===1&&zx(e,n)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function efe(e,t,r){const n=Xde(e,t)/1e3;return Jde(r==null?void 0:r.roundingMethod)(n)}function ji(e){const t=tt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function aV(e){const t=tt(e),r=Ni(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function p_(e,t){var l,c,u,d;const r=td(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=tt(e),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function oV(e){return p_(e,{weekStartsOn:1})}const tfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rfe=(e,t,r)=>{let n;const i=tfe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function I1(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const nfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ife={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},afe={date:I1({formats:nfe,defaultWidth:"full"}),time:I1({formats:ife,defaultWidth:"full"}),dateTime:I1({formats:sfe,defaultWidth:"full"})},ofe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lfe=(e,t,r,n)=>ofe[e];function Dp(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const cfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ufe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ffe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mfe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},gfe={ordinalNumber:mfe,era:Dp({values:cfe,defaultWidth:"wide"}),quarter:Dp({values:ufe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Dp({values:dfe,defaultWidth:"wide"}),day:Dp({values:ffe,defaultWidth:"wide"}),dayPeriod:Dp({values:hfe,defaultWidth:"wide",formattingValues:pfe,defaultFormattingWidth:"wide"})};function Lp(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yfe(l,f=>f.test(a)):vfe(l,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function vfe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function yfe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function xfe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const bfe=/^(\d+)(th|st|nd|rd)?/i,wfe=/\d+/i,_fe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jfe={any:[/^b/i,/^(a|c)/i]},Sfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nfe={any:[/1/i,/2/i,/3/i,/4/i]},kfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ofe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Efe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Afe={ordinalNumber:xfe({matchPattern:bfe,parsePattern:wfe,valueCallback:e=>parseInt(e,10)}),era:Lp({matchPatterns:_fe,defaultMatchWidth:"wide",parsePatterns:jfe,defaultParseWidth:"any"}),quarter:Lp({matchPatterns:Sfe,defaultMatchWidth:"wide",parsePatterns:Nfe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Lp({matchPatterns:kfe,defaultMatchWidth:"wide",parsePatterns:Cfe,defaultParseWidth:"any"}),day:Lp({matchPatterns:Ofe,defaultMatchWidth:"wide",parsePatterns:Efe,defaultParseWidth:"any"}),dayPeriod:Lp({matchPatterns:Pfe,defaultMatchWidth:"any",parsePatterns:Tfe,defaultParseWidth:"any"})},WP={code:"en-US",formatDistance:rfe,formatLong:afe,formatRelative:lfe,localize:gfe,match:Afe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mfe(e){const t=tt(e);return $a(t,aV(t))+1}function lV(e){const t=tt(e),r=+Lu(t)-+Vde(t);return Math.round(r/FP)+1}function cV(e,t){var d,f,h,p;const r=tt(e),n=r.getFullYear(),i=td(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=Ni(e,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const l=da(a,t),c=Ni(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=da(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ife(e,t){var l,c,u,d;const r=td(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=cV(e,t),s=Ni(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),da(s,t)}function uV(e,t){const r=tt(e),n=+da(r,t)-+Ife(r,t);return Math.round(n/FP)+1}function Ft(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const fl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ft(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ft(r+1,2)},d(e,t){return Ft(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ft(e.getHours()%12||12,t.length)},H(e,t){return Ft(e.getHours(),t.length)},m(e,t){return Ft(e.getMinutes(),t.length)},s(e,t){return Ft(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ft(i,t.length)}},Nd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return fl.y(e,t)},Y:function(e,t,r,n){const i=cV(e,n),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return Ft(a,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Ft(s,t.length)},R:function(e,t){const r=sV(e);return Ft(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ft(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ft(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ft(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return fl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ft(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=uV(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):Ft(i,t.length)},I:function(e,t,r){const n=lV(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ft(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):fl.d(e,t)},D:function(e,t,r){const n=Mfe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ft(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Ft(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Ft(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Ft(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=Nd.noon:n===0?i=Nd.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=Nd.evening:n>=12?i=Nd.afternoon:n>=4?i=Nd.morning:i=Nd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):fl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ft(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ft(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):fl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):fl.s(e,t)},S:function(e,t){return fl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return PR(n);case"XXXX":case"XX":return Wc(n);case"XXXXX":case"XXX":default:return Wc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return PR(n);case"xxxx":case"xx":return Wc(n);case"xxxxx":case"xxx":default:return Wc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ER(n,":");case"OOOO":default:return"GMT"+Wc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ER(n,":");case"zzzz":default:return"GMT"+Wc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ft(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ft(n,t.length)}};function ER(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+Ft(s,2)}function PR(e,t){return e%60===0?(e>0?"-":"+")+Ft(Math.abs(e)/60,2):Wc(e,t)}function Wc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Ft(Math.trunc(n/60),2),s=Ft(n%60,2);return r+i+t+s}const TR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dV=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Rfe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return TR(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",TR(n,t)).replace("{{time}}",dV(i,t))},$fe={p:dV,P:Rfe},Dfe=/^D+$/,Lfe=/^Y+$/,Ffe=["D","DD","YY","YYYY"];function Bfe(e){return Dfe.test(e)}function Ufe(e){return Lfe.test(e)}function zfe(e,t,r){const n=Wfe(e,t,r);if(console.warn(n),Ffe.includes(e))throw new RangeError(n)}function Wfe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qfe=/^'([^]*?)'?$/,Gfe=/''/g,Kfe=/[a-zA-Z]/;function Pt(e,t,r){var d,f,h,p,g,m,v,b;const n=td(),i=(r==null?void 0:r.locale)??n.locale??WP,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=tt(e);if(!Kde(l))throw new RangeError("Invalid time value");let c=t.match(Hfe).map(x=>{const w=x[0];if(w==="p"||w==="P"){const _=$fe[w];return _(x,i.formatLong)}return x}).join("").match(Vfe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:Yfe(x)};if(OR[w])return{isToken:!0,value:x};if(w.match(Kfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Ufe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Bfe(w))&&zfe(w,t,String(e));const _=OR[w[0]];return _(l,w,i.localize,u)}).join("")}function Yfe(e){const t=e.match(qfe);return t?t[1].replace(Gfe,"'"):e}function Jfe(e,t,r){const n=td(),i=(r==null?void 0:r.locale)??n.locale??WP,s=2520,a=zx(e,t);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let c,u;a>0?(c=tt(t),u=tt(e)):(c=tt(e),u=tt(t));const d=efe(u,c),f=(Qf(u)-Qf(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):h===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<CR){const g=Math.round(h/60);return i.formatDistance("aboutXHours",g,l)}else{if(h<s)return i.formatDistance("xDays",1,l);if(h<zy){const g=Math.round(h/CR);return i.formatDistance("xDays",g,l)}else if(h<zy*2)return p=Math.round(h/zy),i.formatDistance("aboutXMonths",p,l)}if(p=Zde(u,c),p<12){const g=Math.round(h/zy);return i.formatDistance("xMonths",g,l)}else{const g=p%12,m=Math.trunc(p/12);return g<3?i.formatDistance("aboutXYears",m,l):g<9?i.formatDistance("overXYears",m,l):i.formatDistance("almostXYears",m+1,l)}}function AR(e,t){return Jfe(e,BP(e),t)}function Xfe(e){const t=tt(e),r=t.getFullYear(),n=t.getMonth(),i=Ni(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Qfe(){return Object.assign({},td())}function Zfe(e){return Math.trunc(+tt(e)/1e3)}function ehe(e){const t=tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function the(e,t){return Yde(ehe(e),ji(e),t)+1}function Ik(e,t){const r=tt(e),n=tt(t);return r.getTime()>n.getTime()}function Gb(e,t){const r=tt(e),n=tt(t);return+r<+n}function VP(e,t){const r=tt(e),n=tt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function rhe(e,t){const r=tt(e),n=tt(t);return r.getFullYear()===n.getFullYear()}function nhe(e){return Fn(e,BP(e))}function ihe(e){return Fn(e,dn(BP(e),1))}function R1(e,t){return dn(e,-t)}function HP(e,t){const n=lhe(e);let i;if(n.date){const c=che(n.date,2);i=uhe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,l;if(n.time&&(a=dhe(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(l=fhe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+a+l)}const Wy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},she=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ahe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ohe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lhe(e){const t={},r=e.split(Wy.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Wy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Wy.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Wy.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function che(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function uhe(e,t){if(t===null)return new Date(NaN);const r=e.match(she);if(!r)return new Date(NaN);const n=!!r[4],i=Fp(r[1]),s=Fp(r[2])-1,a=Fp(r[3]),l=Fp(r[4]),c=Fp(r[5])-1;if(n)return vhe(t,l,c)?hhe(t,l,c):new Date(NaN);{const u=new Date(0);return!mhe(t,s,a)||!ghe(t,i)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(i,a)),u)}}function Fp(e){return e?parseInt(e):1}function dhe(e){const t=e.match(ahe);if(!t)return NaN;const r=$1(t[1]),n=$1(t[2]),i=$1(t[3]);return yhe(r,n,i)?r*iV+n*nV+i*1e3:NaN}function $1(e){return e&&parseFloat(e.replace(",","."))||0}function fhe(e){if(e==="Z")return 0;const t=e.match(ohe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return xhe(n,i)?r*(n*iV+i*nV):NaN}function hhe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,s=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const phe=[31,null,31,30,31,30,31,31,30,31,30,31];function fV(e){return e%400===0||e%4===0&&e%100!==0}function mhe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(phe[t]||(fV(e)?29:28))}function ghe(e,t){return t>=1&&t<=(fV(e)?366:365)}function vhe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function yhe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function xhe(e,t){return t>=0&&t<=59}function D1(e,t){const r=tt(e),n=r.getFullYear(),i=r.getDate(),s=Ni(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const a=Xfe(s);return r.setMonth(t,Math.min(i,a)),r}function hV(e,t){const r=tt(e);return r.setHours(t),r}function pV(e,t){const r=tt(e);return r.setMinutes(t),r}function MR(e,t){const r=tt(e);return isNaN(+r)?Ni(e,NaN):(r.setFullYear(t),r)}function IR(e,t,r){const n=Qfe(),i=_he(e,r.timeZone,r.locale??n.locale);return"formatToParts"in i?bhe(i,t):whe(i,t)}function bhe(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function whe(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function _he(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function jhe(e,t){const r=Ohe(t);return"formatToParts"in r?Nhe(r,e):khe(r,e)}const She={year:0,month:1,day:2,hour:3,minute:4,second:5};function Nhe(e,t){try{const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const s=She[r[i].type];s!==void 0&&(n[s]=parseInt(r[i].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function khe(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const L1={},RR=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Che=RR==="06/25/2014, 00:00:00"||RR==="06/25/2014 00:00:00";function Ohe(e){return L1[e]||(L1[e]=Che?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),L1[e]}function mV(e,t,r,n,i,s,a){const l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(n,i,s,a),l}const $R=36e5,Ehe=6e4,F1={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function qP(e,t,r){if(!e)return 0;let n=F1.timezoneZ.exec(e);if(n)return 0;let i,s;if(n=F1.timezoneHH.exec(e),n)return i=parseInt(n[1],10),DR(i)?-(i*$R):NaN;if(n=F1.timezoneHHMM.exec(e),n){i=parseInt(n[2],10);const a=parseInt(n[3],10);return DR(i,a)?(s=Math.abs(i)*$R+a*Ehe,n[1]==="+"?-s:s):NaN}if(Ahe(e)){t=new Date(t||Date.now());const a=r?t:Phe(t),l=Rk(a,e);return-(r?l:The(t,l,e))}return NaN}function Phe(e){return mV(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Rk(e,t){const r=jhe(e,t),n=mV(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let i=e.getTime();const s=i%1e3;return i-=s>=0?s:1e3+s,n-i}function The(e,t,r){let i=e.getTime()-t;const s=Rk(new Date(i),r);if(t===s)return t;i-=s-t;const a=Rk(new Date(i),r);return s===a?s:Math.max(s,a)}function DR(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const LR={};function Ahe(e){if(LR[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),LR[e]=!0,!0}catch{return!1}}const Mhe=60*1e3,Ihe={X:function(e,t,r){const n=B1(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return FR(n);case"XXXX":case"XX":return Ld(n);case"XXXXX":case"XXX":default:return Ld(n,":")}},x:function(e,t,r){const n=B1(r.timeZone,e);switch(t){case"x":return FR(n);case"xxxx":case"xx":return Ld(n);case"xxxxx":case"xxx":default:return Ld(n,":")}},O:function(e,t,r){const n=B1(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+Rhe(n,":");case"OOOO":default:return"GMT"+Ld(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return IR("short",e,r);case"zzzz":default:return IR("long",e,r)}}};function B1(e,t){const r=e?qP(e,t,!0)/Mhe:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function Kb(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function Ld(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Kb(Math.floor(n/60),2),s=Kb(Math.floor(n%60),2);return r+i+t+s}function FR(e,t){return e%60===0?(e>0?"-":"+")+Kb(Math.abs(e)/60,2):Ld(e,t)}function Rhe(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+Kb(s,2)}function BR(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const $he=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,U1=36e5,UR=6e4,Dhe=2,Jn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:$he};function gV(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?Dhe:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=Lhe(e),{year:i,restDateString:s}=Fhe(n.date,r),a=Bhe(s,i);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){const l=a.getTime();let c=0,u;if(n.time&&(c=Uhe(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||t.timeZone){if(u=qP(n.timeZone||t.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=BR(new Date(l+c)),u=BR(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function Lhe(e){const t={};let r=Jn.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Jn.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const i=Jn.timeZone.exec(n);i?(t.time=n.replace(i[1],""),t.timeZone=i[1].trim()):t.time=n}return t}function Fhe(e,t){if(e){const r=Jn.YYY[t],n=Jn.YYYYY[t];let i=Jn.YYYY.exec(e)||n.exec(e);if(i){const s=i[1];return{year:parseInt(s,10),restDateString:e.slice(s.length)}}if(i=Jn.YY.exec(e)||r.exec(e),i){const s=i[1];return{year:parseInt(s,10)*100,restDateString:e.slice(s.length)}}}return{year:null}}function Bhe(e,t){if(t===null)return null;let r,n,i;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let s=Jn.MM.exec(e);if(s)return r=new Date(0),n=parseInt(s[1],10)-1,WR(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(s=Jn.DDD.exec(e),s){r=new Date(0);const a=parseInt(s[1],10);return Vhe(t,a)?(r.setUTCFullYear(t,0,a),r):new Date(NaN)}if(s=Jn.MMDD.exec(e),s){r=new Date(0),n=parseInt(s[1],10)-1;const a=parseInt(s[2],10);return WR(t,n,a)?(r.setUTCFullYear(t,n,a),r):new Date(NaN)}if(s=Jn.Www.exec(e),s)return i=parseInt(s[1],10)-1,VR(i)?zR(t,i):new Date(NaN);if(s=Jn.WwwD.exec(e),s){i=parseInt(s[1],10)-1;const a=parseInt(s[2],10)-1;return VR(i,a)?zR(t,i,a):new Date(NaN)}return null}function Uhe(e){let t,r,n=Jn.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),z1(t)?t%24*U1:NaN;if(n=Jn.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),z1(t,r)?t%24*U1+r*UR:NaN;if(n=Jn.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const i=parseFloat(n[3].replace(",","."));return z1(t,r,i)?t%24*U1+r*UR+i*1e3:NaN}return null}function zR(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,s=t*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const zhe=[31,28,31,30,31,30,31,31,30,31,30,31],Whe=[31,29,31,30,31,30,31,31,30,31,30,31];function vV(e){return e%400===0||e%4===0&&e%100!==0}function WR(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=vV(e);if(n&&r>Whe[t]||!n&&r>zhe[t])return!1}return!0}function Vhe(e,t){if(t<1)return!1;const r=vV(e);return!(r&&t>366||!r&&t>365)}function VR(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function z1(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const Hhe=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function qhe(e,t,r={}){t=String(t);const n=t.match(Hhe);if(n){const i=gV(r.originalDate||e,r);t=n.reduce(function(s,a){if(a[0]==="'")return s;const l=s.indexOf(a),c=s[l-1]==="'",u=s.replace(a,"'"+Ihe[a[0]](i,a,r)+"'");return c?u.substring(0,l-1)+u.substring(l+1):u},t)}return Pt(e,t,r)}function Ghe(e,t,r){e=gV(e,r);const n=qP(t,e,!0),i=new Date(e.getTime()-n),s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}function Khe(e,t,r,n){return n={...n,timeZone:t,originalDate:e},qhe(Ghe(e,t,{timeZone:n.timeZone}),r,n)}const Yhe="Africa/Johannesburg",bg="SAST",vi=(e,t)=>{const r=typeof e=="string"?HP(e):e;return Khe(r,Yhe,t)},Jhe=e=>vi(e,"MMM d, yyyy"),Yb=e=>vi(e,"EEEE, MMMM d, yyyy");function tr({className:e,...t}){return o.jsx("div",{className:_e("animate-pulse rounded-md bg-muted",e),...t})}const kd={active:{label:"Active",variant:"default",icon:$r},cancelled:{label:"Cancelled",variant:"destructive",icon:oa},expired:{label:"Expired",variant:"secondary",icon:Zo},completed:{label:"Completed",variant:"secondary",icon:$r}},Xhe=()=>{const{user:e}=Lr(),[t,r]=y.useState([]),[n,i]=y.useState(!0),[s,a]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!1),f=m=>{c(m),d(!0)},h=async(m,v,b)=>{b==null||b.stopPropagation(),a(m);try{const x=await ide.getPDF(m);if(x.success&&x.pdf_base64){const w=atob(x.pdf_base64),_=new Array(w.length);for(let P=0;P<w.length;P++)_[P]=w.charCodeAt(P);const N=new Uint8Array(_),j=new Blob([N],{type:"application/pdf"}),k=window.URL.createObjectURL(j),C=document.createElement("a");C.href=k,C.download=`prescription_${v.replace(/\s+/g,"_")}_${m.slice(0,8)}.pdf`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(k),oe.success("Prescription downloaded successfully")}else throw new Error(x.error||"Failed to generate PDF")}catch(x){console.error("Error downloading prescription:",x),oe.error(x.message||"Failed to download prescription")}finally{a(null)}};y.useEffect(()=>{(async()=>{if(e)try{const{data:v,error:b}=await Ie.from("prescriptions").select("*").eq("patient_id",e.id).order("prescribed_at",{ascending:!1});if(b)throw b;if(v&&v.length>0){const x=[...new Set(v.map(j=>j.clinician_id))],{data:w}=await Ie.from("profiles").select("id, first_name, last_name").in("id",x),_=new Map((w==null?void 0:w.map(j=>[j.id,`Dr. ${j.first_name} ${j.last_name}`]))||[]),N=v.map(j=>({id:j.id,medication_name:j.medication_name,dosage:j.dosage,frequency:j.frequency,duration:j.duration,quantity:j.quantity,refills:j.refills,instructions:j.instructions,status:j.status,prescribed_at:j.prescribed_at,clinician_name:_.get(j.clinician_id)||"Unknown"}));r(N)}}catch(v){console.error("Error fetching prescriptions:",v)}finally{i(!1)}})()},[e]);const p=t.filter(m=>m.status==="active"),g=t.filter(m=>m.status!=="active");return n?o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsx(tr,{className:"h-6 w-40"}),o.jsx(tr,{className:"h-4 w-60"})]}),o.jsx(de,{className:"space-y-4",children:[1,2].map(m=>o.jsx(tr,{className:"h-24 w-full"},m))})]}):o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Zr,{className:"w-5 h-5 text-primary"}),"My Prescriptions"]}),o.jsxs(Oe,{children:[t.length," prescription(s)  ",p.length," active"]})]}),o.jsx(de,{children:t.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Zr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No prescriptions yet"})]}):o.jsxs("div",{className:"space-y-4",children:[p.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Active Prescriptions"}),o.jsx("div",{className:"space-y-3",children:p.map(m=>{const v=kd[m.status]||kd.active,b=v.icon;return o.jsxs("div",{className:"p-4 rounded-lg border border-primary/30 bg-primary/5 cursor-pointer hover:border-primary hover:shadow-md transition-all",onClick:()=>f(m),children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Zr,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold",children:m.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.dosage,"  ",m.frequency]})]})]}),o.jsxs(Ce,{variant:v.variant,className:"flex items-center gap-1",children:[o.jsx(b,{className:"w-3 h-3"}),v.label]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mt-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),o.jsx("p",{className:"font-medium",children:m.duration})]}),m.quantity&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Quantity:"}),o.jsx("p",{className:"font-medium",children:m.quantity})]}),m.refills>0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Refills:"}),o.jsx("p",{className:"font-medium",children:m.refills})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Prescribed:"}),o.jsx("p",{className:"font-medium",children:Pt(new Date(m.prescribed_at),"MMM d, yyyy")})]})]}),m.instructions&&o.jsxs("div",{className:"mt-3 p-2 bg-muted/50 rounded text-sm",children:[o.jsx("span",{className:"font-medium",children:"Instructions:"})," ",m.instructions]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 mt-3 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dr,{className:"w-4 h-4"}),m.clinician_name]}),o.jsxs(Z,{variant:"outline",size:"sm",onClick:x=>h(m.id,m.medication_name,x),disabled:s===m.id,children:[s===m.id?o.jsx(et,{className:"w-4 h-4 mr-1 animate-spin"}):o.jsx(yu,{className:"w-4 h-4 mr-1"}),"PDF"]})]})]},m.id)})})]}),g.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Past Prescriptions"}),o.jsx("div",{className:"space-y-3",children:g.map(m=>{const v=kd[m.status]||kd.completed,b=v.icon;return o.jsx("div",{className:"p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>f(m),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-muted",children:o.jsx(Zr,{className:"w-5 h-5 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:m.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.dosage,"  ",m.frequency,"  ",m.duration]})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs(Ce,{variant:v.variant,className:"flex items-center gap-1",children:[o.jsx(b,{className:"w-3 h-3"}),v.label]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:vi(m.prescribed_at,"MMM d, yyyy")})]}),o.jsx(Z,{variant:"outline",size:"sm",onClick:x=>h(m.id,m.medication_name,x),disabled:s===m.id,children:s===m.id?o.jsx(et,{className:"w-4 h-4 animate-spin"}):o.jsx(yu,{className:"w-4 h-4"})})]})]})},m.id)})})]})]})}),o.jsx(ni,{open:u,onOpenChange:d,children:o.jsxs(Un,{className:"sm:max-w-md",children:[o.jsxs(ii,{children:[o.jsxs(si,{className:"flex items-center gap-2",children:[o.jsx(Zr,{className:"w-5 h-5 text-primary"}),"Prescription Details"]}),o.jsx(Go,{children:l&&vi(l.prescribed_at,"MMMM d, yyyy 'at' h:mm a")})]}),l&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx("h3",{className:"font-semibold text-lg",children:l.medication_name}),o.jsx("p",{className:"text-muted-foreground",children:l.dosage})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Frequency"}),o.jsx("p",{className:"font-medium",children:l.frequency})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),o.jsx("p",{className:"font-medium",children:l.duration})]}),l.quantity&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),o.jsx("p",{className:"font-medium",children:l.quantity})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Refills"}),o.jsx("p",{className:"font-medium",children:l.refills})]})]}),l.instructions&&o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Instructions"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:l.instructions})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground pt-2 border-t",children:[o.jsx(Dr,{className:"w-4 h-4"}),o.jsxs("span",{children:["Prescribed by ",l.clinician_name]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[(()=>{const m=kd[l.status]||kd.active,v=m.icon;return o.jsxs(Ce,{variant:m.variant,className:"flex items-center gap-1",children:[o.jsx(v,{className:"w-3 h-3"}),m.label]})})(),o.jsxs(Z,{variant:"outline",size:"sm",onClick:m=>h(l.id,l.medication_name,m),disabled:s===l.id,children:[s===l.id?o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(yu,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})]})})]})},Zt=y.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Zt.displayName="Textarea";const HR={new:{label:"New",color:"bg-blue-500",icon:o.jsx(Au,{className:"w-3 h-3"})},active:{label:"Active",color:"bg-green-500",icon:o.jsx(nr,{className:"w-3 h-3"})},booking_pending:{label:"Pending",color:"bg-yellow-500",icon:o.jsx(nr,{className:"w-3 h-3"})},booked:{label:"Booked",color:"bg-purple-500",icon:o.jsx(Dt,{className:"w-3 h-3"})},consultation_complete:{label:"Complete",color:"bg-gray-500",icon:o.jsx($r,{className:"w-3 h-3"})},closed:{label:"Closed",color:"bg-gray-400",icon:o.jsx($r,{className:"w-3 h-3"})}},$k=({conversations:e,selectedId:t,onSelect:r,showPatientName:n=!1})=>e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[o.jsx(Au,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No conversations yet"})]}):o.jsx("div",{className:"divide-y divide-border",children:e.map(i=>{const s=HR[i.status]||HR.new,a=t===i.id;return o.jsx("div",{onClick:()=>r(i),className:_e("p-4 cursor-pointer transition-colors hover:bg-accent",a&&"bg-accent border-l-4 border-l-primary"),children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n?o.jsx("span",{className:"font-medium text-sm truncate",children:i.patient_name||"Unknown Patient"}):o.jsx("span",{className:"font-medium text-sm truncate",children:i.receptionist_name||"Waiting for receptionist..."}),o.jsxs(Ce,{variant:"secondary",className:_e("text-xs text-white",s.color),children:[s.icon,o.jsx("span",{className:"ml-1",children:s.label})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.last_message||"No messages yet"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[o.jsx(nr,{className:"w-3 h-3"}),o.jsx("span",{children:i.last_message_at?AR(new Date(i.last_message_at),{addSuffix:!0}):AR(new Date(i.created_at),{addSuffix:!0})})]})]}),i.unread_count>0&&o.jsx(Ce,{variant:"destructive",className:"rounded-full px-2",children:i.unread_count})]})},i.id)})}),yV=({messages:e,currentUserId:t})=>{const r=y.useRef(null);if(y.useEffect(()=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})},[e]),e.length===0)return o.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:o.jsx("p",{children:"No messages yet. Start the conversation!"})});const n=i=>{switch(i.message_type){case"image":return o.jsxs("div",{className:"space-y-2",children:[i.file_url&&o.jsx("img",{src:i.file_url,alt:i.file_name||"Image",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(i.file_url,"_blank")}),i.content&&o.jsx("p",{children:i.content})]});case"file":return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-5 h-5"}),o.jsx("a",{href:i.file_url,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:i.file_name||"Download file"})]});case"system":return o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(vee,{className:"w-4 h-4"}),o.jsx("span",{children:i.content})]});case"booking_confirmation":return o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium mb-1",children:[o.jsx(Dt,{className:"w-4 h-4"}),o.jsx("span",{children:"Booking Confirmed"})]}),o.jsx("p",{className:"text-sm",children:i.content})]});default:return o.jsx("p",{className:"whitespace-pre-wrap",children:i.content})}};return o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((i,s)=>{const a=i.sender_id===t,l=i.message_type==="system"||i.sender_role==="system",c=s===0||Pt(new Date(i.created_at),"yyyy-MM-dd")!==Pt(new Date(e[s-1].created_at),"yyyy-MM-dd");return o.jsxs(T.Fragment,{children:[c&&o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-3 py-1 rounded-full",children:Pt(new Date(i.created_at),"MMMM d, yyyy")})}),l?o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 px-4 py-2 rounded-full",children:n(i)})}):o.jsxs("div",{className:_e("flex gap-3",a?"flex-row-reverse":"flex-row"),children:[o.jsx("div",{className:_e("w-8 h-8 rounded-full flex items-center justify-center shrink-0",a?"bg-primary text-primary-foreground":"bg-muted"),children:o.jsx(Dr,{className:"w-4 h-4"})}),o.jsxs("div",{className:_e("max-w-[70%] space-y-1",a?"items-end":"items-start"),children:[o.jsxs("div",{className:_e("flex items-center gap-2 text-xs text-muted-foreground",a?"flex-row-reverse":"flex-row"),children:[o.jsx("span",{className:"font-medium",children:a?"You":i.sender_name||i.sender_role}),o.jsx("span",{children:Pt(new Date(i.created_at),"HH:mm")})]}),o.jsx("div",{className:_e("rounded-2xl px-4 py-2",a?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted rounded-tl-sm"),children:n(i)})]})]})]},i.id)}),o.jsx("div",{ref:r})]})},xV=({onSend:e,disabled:t=!1,placeholder:r="Type your message..."})=>{const[n,i]=y.useState(""),[s,a]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(null),f=y.useRef(null),h=async()=>{if(!(!n.trim()&&!l||s)){a(!0);try{if(l){const v=n.trim()?`${n.trim()}
 ${l.name}`:` ${l.name}`;await e(v,"text")}else await e(n.trim(),"text");i(""),c(null),d(null)}catch(v){console.error("Error sending message:",v)}finally{a(!1)}}},p=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),h())},g=v=>{var x;const b=(x=v.target.files)==null?void 0:x[0];if(b)if(c(b),b.type.startsWith("image/")){const w=new FileReader;w.onloadend=()=>{d(w.result)},w.readAsDataURL(b)}else d(null)},m=()=>{c(null),d(null),f.current&&(f.current.value="")};return o.jsxs("div",{className:"border-t border-border p-4 bg-card",children:[l&&o.jsxs("div",{className:"mb-3 p-2 bg-muted rounded-lg flex items-center gap-3",children:[u?o.jsx("img",{src:u,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-background rounded flex items-center justify-center",children:o.jsx(Dee,{className:"w-6 h-6 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:l.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l.size/1024).toFixed(1)," KB"]})]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:m,children:o.jsx(Za,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsx("input",{ref:f,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:g,className:"hidden"}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>{var v;return(v=f.current)==null?void 0:v.click()},disabled:t||s,className:"shrink-0",children:o.jsx(Oee,{className:"w-5 h-5"})}),o.jsx(Zt,{value:n,onChange:v=>i(v.target.value),onKeyDown:p,placeholder:r,disabled:t||s,className:"min-h-[44px] max-h-32 resize-none",rows:1}),o.jsx(Z,{onClick:h,disabled:t||s||!n.trim()&&!l,size:"icon",className:"shrink-0",children:s?o.jsx(et,{className:"w-5 h-5 animate-spin"}):o.jsx(FU,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})},Qhe=({onStartBooking:e})=>{const{user:t}=Lr(),{conversations:r,currentConversation:n,messages:i,isLoading:s,loadConversations:a,selectConversation:l,createConversation:c,sendMessage:u}=gW(),[d,f]=y.useState(!1),[h,p]=y.useState(""),[g,m]=y.useState(!1),[v,b]=y.useState("list");y.useEffect(()=>{a()},[a]);const x=async()=>{if(!(!h.trim()||g)){m(!0);try{await c(h.trim()),p(""),f(!1),b("chat")}catch(j){console.error("Error creating conversation:",j)}finally{m(!1)}}},w=async j=>{await l(j.id),b("chat")},_=()=>{b("list")},N=typeof window<"u"&&window.innerWidth<768;return d?o.jsxs(le,{className:"h-full",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>f(!1),children:o.jsx(rn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx(we,{children:"Start a New Conversation"}),o.jsx(Oe,{children:"Tell us how we can help you today"})]})]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsx(Zt,{value:h,onChange:j=>p(j.target.value),placeholder:"Hi, I'd like to book a consultation for...",className:"min-h-[150px]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Z,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(Z,{onClick:x,disabled:!h.trim()||g,children:g?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Au,{className:"w-4 h-4 mr-2"}),"Start Chat"]})})]})]})]}):o.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[o.jsxs(le,{className:`md:w-80 shrink-0 ${v==="chat"&&N?"hidden":""}`,children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(we,{className:"text-lg",children:"Messages"}),o.jsxs(Z,{size:"sm",onClick:()=>f(!0),"data-tour":"new-chat-button",children:[o.jsx(Hf,{className:"w-4 h-4 mr-1"}),"New"]})]})}),o.jsx(de,{className:"p-0 overflow-y-auto max-h-[500px]",children:s&&r.length===0?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx(et,{className:"w-6 h-6 animate-spin"})}):o.jsx($k,{conversations:r,selectedId:n==null?void 0:n.id,onSelect:w,showPatientName:!1})})]}),o.jsx(le,{className:`flex-1 flex flex-col min-h-[500px] ${v==="list"&&N?"hidden":""}`,children:n?o.jsxs(o.Fragment,{children:[o.jsx(me,{className:"pb-2 border-b",children:o.jsxs("div",{className:"flex items-center gap-2",children:[N&&o.jsx(Z,{variant:"ghost",size:"icon",onClick:_,children:o.jsx(rn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(we,{className:"text-lg",children:n.receptionist_name||"Waiting for receptionist"}),o.jsxs(Oe,{children:["Status: ",n.status.replace("_"," ")]})]})]})}),o.jsx(yV,{messages:i,currentUserId:t==null?void 0:t.id}),o.jsx(xV,{onSend:u,disabled:n.status==="closed",placeholder:n.status==="closed"?"This conversation is closed":"Type your message..."})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[o.jsx(Au,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Welcome to Chat"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Start a conversation to book a consultation or ask questions"}),o.jsxs(Z,{onClick:()=>f(!0),"data-tour":"new-chat-button",children:[o.jsx(Hf,{className:"w-4 h-4 mr-2"}),"Start New Conversation"]})]})})]})},bV=({onCapture:e,onSkip:t,existingPhoto:r,required:n=!0,title:i="Take a Selfie",description:s="This photo will be used to verify your identity during consultations."})=>{const a=y.useRef(null),l=y.useRef(null),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=y.useState(r||null),[p,g]=y.useState(null),[m,v]=y.useState(!1),[b,x]=y.useState("user"),w=y.useCallback(async()=>{v(!0),g(null);try{c.current&&c.current.getTracks().forEach(I=>I.stop());const P={video:{facingMode:b,width:{ideal:640},height:{ideal:480}},audio:!1},A=await navigator.mediaDevices.getUserMedia(P);c.current=A,a.current&&(a.current.srcObject=A,await a.current.play(),d(!0))}catch(P){console.error("Camera error:",P),P.name==="NotAllowedError"?g("Camera access denied. Please allow camera access in your browser settings."):P.name==="NotFoundError"?g("No camera found. Please connect a camera and try again."):g("Failed to access camera. Please try again.")}finally{v(!1)}},[b]),_=y.useCallback(()=>{c.current&&(c.current.getTracks().forEach(P=>P.stop()),c.current=null),a.current&&(a.current.srcObject=null),d(!1)},[]),N=y.useCallback(()=>{if(!a.current||!l.current)return;const P=a.current,A=l.current,I=A.getContext("2d");if(!I)return;A.width=P.videoWidth,A.height=P.videoHeight,I.translate(A.width,0),I.scale(-1,1),I.drawImage(P,0,0,A.width,A.height);const M=A.toDataURL("image/jpeg",.8);h(M),_()},[_]),j=y.useCallback(()=>{h(null),w()},[w]),k=y.useCallback(()=>{f&&e(f)},[f,e]),C=y.useCallback(()=>{x(P=>P==="user"?"environment":"user")},[]);return y.useEffect(()=>{u&&w()},[b]),y.useEffect(()=>()=>{_()},[_]),o.jsx(le,{className:"w-full max-w-md mx-auto",children:o.jsxs(de,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center justify-center gap-2",children:[o.jsx(Nm,{className:"w-5 h-5"}),i]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s})]}),o.jsxs("div",{className:"relative aspect-[4/3] bg-muted rounded-lg overflow-hidden",children:[p&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4 text-center",children:[o.jsx(Zo,{className:"w-10 h-10 text-destructive mb-2"}),o.jsx("p",{className:"text-sm text-destructive",children:p}),o.jsx(Z,{variant:"outline",size:"sm",onClick:w,className:"mt-4",children:"Try Again"})]}),m&&!p&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(et,{className:"w-8 h-8 animate-spin text-primary"})}),f&&!u&&o.jsx("img",{src:f,alt:"Captured selfie",className:"w-full h-full object-cover"}),o.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-full object-cover ${u?"block":"hidden"}`,style:{transform:"scaleX(-1)"}}),o.jsx("canvas",{ref:l,className:"hidden"}),!u&&!f&&!p&&!m&&o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-24 h-24 rounded-full bg-muted-foreground/10 flex items-center justify-center mb-4",children:o.jsx(Nm,{className:"w-12 h-12 text-muted-foreground"})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Click below to start camera"})]}),u&&o.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-4",children:[o.jsx(Z,{variant:"outline",size:"icon",onClick:C,className:"bg-background/80 backdrop-blur-sm",title:"Switch camera",children:o.jsx(MM,{className:"w-4 h-4"})}),o.jsx(Z,{size:"lg",onClick:N,className:"rounded-full w-16 h-16 bg-white border-4 border-primary hover:bg-gray-100",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary"})}),o.jsx(Z,{variant:"outline",size:"icon",onClick:_,className:"bg-background/80 backdrop-blur-sm",title:"Cancel",children:o.jsx(Za,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex gap-3",children:[!u&&!f&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{onClick:w,className:"flex-1",disabled:m,children:[m?o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Nm,{className:"w-4 h-4 mr-2"}),"Open Camera"]}),!n&&t&&o.jsx(Z,{variant:"outline",onClick:t,children:"Skip for Now"})]}),f&&!u&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{variant:"outline",onClick:j,className:"flex-1",children:[o.jsx(MM,{className:"w-4 h-4 mr-2"}),"Retake"]}),o.jsxs(Z,{onClick:k,className:"flex-1",children:[o.jsx(Uw,{className:"w-4 h-4 mr-2"}),"Use This Photo"]})]})]}),n&&o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:" A clear photo of your face is required for identity verification"})]})})},Zhe=({isOpen:e,onComplete:t,userName:r="there"})=>{const[n,i]=y.useState(!1),s=async a=>{i(!0);try{const l=await Ev.upload(a);l!=null&&l.success?(oe.success("Profile photo saved! Thank you for verifying your identity."),t()):oe.error("Failed to save photo. Please try again.")}catch(l){console.error("Photo upload error:",l),oe.error(l.message||"Failed to upload photo")}finally{i(!1)}};return o.jsx(ni,{open:e,onOpenChange:()=>{},children:o.jsxs(Un,{className:"sm:max-w-lg",onInteractOutside:a=>a.preventDefault(),children:[o.jsxs(ii,{children:[o.jsxs(si,{className:"text-xl",children:["Welcome, ",r,"! "]}),o.jsx(Go,{children:"Before you continue, please take a quick selfie. This helps us verify your identity during consultations and protects your healthcare benefits."})]}),n?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(et,{className:"w-8 h-8 animate-spin text-primary mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Saving your photo..."})]}):o.jsx(bV,{onCapture:s,required:!0,title:"Verification Photo",description:"Take a clear photo of your face. This will be shown to healthcare providers during your consultations."}),o.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Your photo is stored securely and only visible to Quadcare healthcare staff."})]})})};function wV(e){return t=>typeof t===e}var epe=wV("function"),tpe=e=>e===null,qR=e=>Object.prototype.toString.call(e).slice(8,-1)==="RegExp",GR=e=>!rpe(e)&&!tpe(e)&&(epe(e)||typeof e=="object"),rpe=wV("undefined");function npe(e,t){const{length:r}=e;if(r!==t.length)return!1;for(let n=r;n--!==0;)if(!Qn(e[n],t[n]))return!1;return!0}function ipe(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e.buffer),n=new DataView(t.buffer);let i=e.byteLength;for(;i--;)if(r.getUint8(i)!==n.getUint8(i))return!1;return!0}function spe(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;for(const r of e.entries())if(!Qn(r[1],t.get(r[0])))return!1;return!0}function ape(e,t){if(e.size!==t.size)return!1;for(const r of e.entries())if(!t.has(r[0]))return!1;return!0}function Qn(e,t){if(e===t)return!0;if(e&&GR(e)&&t&&GR(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return npe(e,t);if(e instanceof Map&&t instanceof Map)return spe(e,t);if(e instanceof Set&&t instanceof Set)return ape(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return ipe(e,t);if(qR(e)&&qR(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=r.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[i]))return!1;for(let i=r.length;i--!==0;){const s=r[i];if(!(s==="_owner"&&e.$$typeof)&&!Qn(e[s],t[s]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}var ope=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],lpe=["bigint","boolean","null","number","string","symbol","undefined"];function m_(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(cpe(t))return t}function ga(e){return t=>m_(t)===e}function cpe(e){return ope.includes(e)}function tp(e){return t=>typeof t===e}function upe(e){return lpe.includes(e)}var dpe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function Te(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Te.array(e))return"Array";if(Te.plainFunction(e))return"Function";const t=m_(e);return t||"Object"}Te.array=Array.isArray;Te.arrayOf=(e,t)=>!Te.array(e)&&!Te.function(t)?!1:e.every(r=>t(r));Te.asyncGeneratorFunction=e=>m_(e)==="AsyncGeneratorFunction";Te.asyncFunction=ga("AsyncFunction");Te.bigint=tp("bigint");Te.boolean=e=>e===!0||e===!1;Te.date=ga("Date");Te.defined=e=>!Te.undefined(e);Te.domElement=e=>Te.object(e)&&!Te.plainObject(e)&&e.nodeType===1&&Te.string(e.nodeName)&&dpe.every(t=>t in e);Te.empty=e=>Te.string(e)&&e.length===0||Te.array(e)&&e.length===0||Te.object(e)&&!Te.map(e)&&!Te.set(e)&&Object.keys(e).length===0||Te.set(e)&&e.size===0||Te.map(e)&&e.size===0;Te.error=ga("Error");Te.function=tp("function");Te.generator=e=>Te.iterable(e)&&Te.function(e.next)&&Te.function(e.throw);Te.generatorFunction=ga("GeneratorFunction");Te.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;Te.iterable=e=>!Te.nullOrUndefined(e)&&Te.function(e[Symbol.iterator]);Te.map=ga("Map");Te.nan=e=>Number.isNaN(e);Te.null=e=>e===null;Te.nullOrUndefined=e=>Te.null(e)||Te.undefined(e);Te.number=e=>tp("number")(e)&&!Te.nan(e);Te.numericString=e=>Te.string(e)&&e.length>0&&!Number.isNaN(Number(e));Te.object=e=>!Te.nullOrUndefined(e)&&(Te.function(e)||typeof e=="object");Te.oneOf=(e,t)=>Te.array(e)?e.indexOf(t)>-1:!1;Te.plainFunction=ga("Function");Te.plainObject=e=>{if(m_(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};Te.primitive=e=>Te.null(e)||upe(typeof e);Te.promise=ga("Promise");Te.propertyOf=(e,t,r)=>{if(!Te.object(e)||!t)return!1;const n=e[t];return Te.function(r)?r(n):Te.defined(n)};Te.regexp=ga("RegExp");Te.set=ga("Set");Te.string=tp("string");Te.symbol=tp("symbol");Te.undefined=tp("undefined");Te.weakMap=ga("WeakMap");Te.weakSet=ga("WeakSet");var pn=Te,fpe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],hpe=["bigint","boolean","null","number","string","symbol","undefined"];function g_(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if(ppe(t))return t}function va(e){return t=>g_(t)===e}function ppe(e){return fpe.includes(e)}function rp(e){return t=>typeof t===e}function mpe(e){return hpe.includes(e)}var gpe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function Ae(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Ae.array(e))return"Array";if(Ae.plainFunction(e))return"Function";const t=g_(e);return t||"Object"}Ae.array=Array.isArray;Ae.arrayOf=(e,t)=>!Ae.array(e)&&!Ae.function(t)?!1:e.every(r=>t(r));Ae.asyncGeneratorFunction=e=>g_(e)==="AsyncGeneratorFunction";Ae.asyncFunction=va("AsyncFunction");Ae.bigint=rp("bigint");Ae.boolean=e=>e===!0||e===!1;Ae.date=va("Date");Ae.defined=e=>!Ae.undefined(e);Ae.domElement=e=>Ae.object(e)&&!Ae.plainObject(e)&&e.nodeType===1&&Ae.string(e.nodeName)&&gpe.every(t=>t in e);Ae.empty=e=>Ae.string(e)&&e.length===0||Ae.array(e)&&e.length===0||Ae.object(e)&&!Ae.map(e)&&!Ae.set(e)&&Object.keys(e).length===0||Ae.set(e)&&e.size===0||Ae.map(e)&&e.size===0;Ae.error=va("Error");Ae.function=rp("function");Ae.generator=e=>Ae.iterable(e)&&Ae.function(e.next)&&Ae.function(e.throw);Ae.generatorFunction=va("GeneratorFunction");Ae.instanceOf=(e,t)=>!e||!t?!1:Object.getPrototypeOf(e)===t.prototype;Ae.iterable=e=>!Ae.nullOrUndefined(e)&&Ae.function(e[Symbol.iterator]);Ae.map=va("Map");Ae.nan=e=>Number.isNaN(e);Ae.null=e=>e===null;Ae.nullOrUndefined=e=>Ae.null(e)||Ae.undefined(e);Ae.number=e=>rp("number")(e)&&!Ae.nan(e);Ae.numericString=e=>Ae.string(e)&&e.length>0&&!Number.isNaN(Number(e));Ae.object=e=>!Ae.nullOrUndefined(e)&&(Ae.function(e)||typeof e=="object");Ae.oneOf=(e,t)=>Ae.array(e)?e.indexOf(t)>-1:!1;Ae.plainFunction=va("Function");Ae.plainObject=e=>{if(g_(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};Ae.primitive=e=>Ae.null(e)||mpe(typeof e);Ae.promise=va("Promise");Ae.propertyOf=(e,t,r)=>{if(!Ae.object(e)||!t)return!1;const n=e[t];return Ae.function(r)?r(n):Ae.defined(n)};Ae.regexp=va("RegExp");Ae.set=va("Set");Ae.string=rp("string");Ae.symbol=rp("symbol");Ae.undefined=rp("undefined");Ae.weakMap=va("WeakMap");Ae.weakSet=va("WeakSet");var lt=Ae;function vpe(...e){return e.every(t=>lt.string(t)||lt.array(t)||lt.plainObject(t))}function ype(e,t,r){return _V(e,t)?[e,t].every(lt.array)?!e.some(QR(r))&&t.some(QR(r)):[e,t].every(lt.plainObject)?!Object.entries(e).some(XR(r))&&Object.entries(t).some(XR(r)):t===r:!1}function KR(e,t,r){const{actual:n,key:i,previous:s,type:a}=r,l=Da(e,i),c=Da(t,i);let u=[l,c].every(lt.number)&&(a==="increased"?l<c:l>c);return lt.undefined(n)||(u=u&&c===n),lt.undefined(s)||(u=u&&l===s),u}function YR(e,t,r){const{key:n,type:i,value:s}=r,a=Da(e,n),l=Da(t,n),c=i==="added"?a:l,u=i==="added"?l:a;if(!lt.nullOrUndefined(s)){if(lt.defined(c)){if(lt.array(c)||lt.plainObject(c))return ype(c,u,s)}else return Qn(u,s);return!1}return[a,l].every(lt.array)?!u.every(GP(c)):[a,l].every(lt.plainObject)?xpe(Object.keys(c),Object.keys(u)):![a,l].every(d=>lt.primitive(d)&&lt.defined(d))&&(i==="added"?!lt.defined(a)&&lt.defined(l):lt.defined(a)&&!lt.defined(l))}function JR(e,t,{key:r}={}){let n=Da(e,r),i=Da(t,r);if(!_V(n,i))throw new TypeError("Inputs have different types");if(!vpe(n,i))throw new TypeError("Inputs don't have length");return[n,i].every(lt.plainObject)&&(n=Object.keys(n),i=Object.keys(i)),[n,i]}function XR(e){return([t,r])=>lt.array(e)?Qn(e,r)||e.some(n=>Qn(n,r)||lt.array(r)&&GP(r)(n)):lt.plainObject(e)&&e[t]?!!e[t]&&Qn(e[t],r):Qn(e,r)}function xpe(e,t){return t.some(r=>!e.includes(r))}function QR(e){return t=>lt.array(e)?e.some(r=>Qn(r,t)||lt.array(t)&&GP(t)(r)):Qn(e,t)}function Bp(e,t){return lt.array(e)?e.some(r=>Qn(r,t)):Qn(e,t)}function GP(e){return t=>e.some(r=>Qn(r,t))}function _V(...e){return e.every(lt.array)||e.every(lt.number)||e.every(lt.plainObject)||e.every(lt.string)}function Da(e,t){return lt.plainObject(e)||lt.array(e)?lt.string(t)?t.split(".").reduce((n,i)=>n&&n[i],e):lt.number(t)?e[t]:e:e}function Jb(e,t){if([e,t].some(lt.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(d=>lt.plainObject(d)||lt.array(d)))throw new Error("Expected plain objects or array");return{added:(d,f)=>{try{return YR(e,t,{key:d,type:"added",value:f})}catch{return!1}},changed:(d,f,h)=>{try{const p=Da(e,d),g=Da(t,d),m=lt.defined(f),v=lt.defined(h);if(m||v){const b=v?Bp(h,p):!Bp(f,p),x=Bp(f,g);return b&&x}return[p,g].every(lt.array)||[p,g].every(lt.plainObject)?!Qn(p,g):p!==g}catch{return!1}},changedFrom:(d,f,h)=>{if(!lt.defined(d))return!1;try{const p=Da(e,d),g=Da(t,d),m=lt.defined(h);return Bp(f,p)&&(m?Bp(h,g):!m)}catch{return!1}},decreased:(d,f,h)=>{if(!lt.defined(d))return!1;try{return KR(e,t,{key:d,actual:f,previous:h,type:"decreased"})}catch{return!1}},emptied:d=>{try{const[f,h]=JR(e,t,{key:d});return!!f.length&&!h.length}catch{return!1}},filled:d=>{try{const[f,h]=JR(e,t,{key:d});return!f.length&&!!h.length}catch{return!1}},increased:(d,f,h)=>{if(!lt.defined(d))return!1;try{return KR(e,t,{key:d,actual:f,previous:h,type:"increased"})}catch{return!1}},removed:(d,f)=>{try{return YR(e,t,{key:d,type:"removed",value:f})}catch{return!1}}}}var bpe=new Error("Element already at target scroll position"),wpe=new Error("Scroll cancelled"),_pe=Math.min,ZR=Date.now,jpe={left:e$("scrollLeft"),top:e$("scrollTop")};function e$(e){return function(r,n,i,s){i=i||{},typeof i=="function"&&(s=i,i={}),typeof s!="function"&&(s=Npe);var a=ZR(),l=r[e],c=i.ease||Spe,u=isNaN(i.duration)?350:+i.duration,d=!1;return l===n?s(bpe,r[e]):requestAnimationFrame(h),f;function f(){d=!0}function h(p){if(d)return s(wpe,r[e]);var g=ZR(),m=_pe(1,(g-a)/u),v=c(m);r[e]=v*(n-l)+l,m<1?requestAnimationFrame(h):requestAnimationFrame(function(){s(null,r[e])})}}}function Spe(e){return .5*(1-Math.cos(Math.PI*e))}function Npe(){}const kpe=kt(jpe);var jV={exports:{}};(function(e){(function(t,r){e.exports?e.exports=r():t.Scrollparent=r()})(nm,function(){function t(n){var i=getComputedStyle(n,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function r(n){if(n instanceof HTMLElement||n instanceof SVGElement){for(var i=n.parentNode;i.parentNode;){if(t(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return r})})(jV);var Cpe=jV.exports;const SV=kt(Cpe);var Ope=function(e){return Object.prototype.hasOwnProperty.call(e,"props")},Epe=function(e,t){return e+wg(t)},wg=function(e){return e===null||typeof e=="boolean"||typeof e>"u"?"":typeof e=="number"?e.toString():typeof e=="string"?e:Array.isArray(e)?e.reduce(Epe,""):Ope(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?wg(e.props.children):""};wg.default=wg;var Ppe=wg;const t$=kt(Ppe);var Tpe=function(t){return Ape(t)&&!Mpe(t)};function Ape(e){return!!e&&typeof e=="object"}function Mpe(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||$pe(e)}var Ipe=typeof Symbol=="function"&&Symbol.for,Rpe=Ipe?Symbol.for("react.element"):60103;function $pe(e){return e.$$typeof===Rpe}function Dpe(e){return Array.isArray(e)?[]:{}}function _g(e,t){return t.clone!==!1&&t.isMergeableObject(e)?eh(Dpe(e),e,t):e}function Lpe(e,t,r){return e.concat(t).map(function(n){return _g(n,r)})}function Fpe(e,t){if(!t.customMerge)return eh;var r=t.customMerge(e);return typeof r=="function"?r:eh}function Bpe(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function r$(e){return Object.keys(e).concat(Bpe(e))}function NV(e,t){try{return t in e}catch{return!1}}function Upe(e,t){return NV(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function zpe(e,t,r){var n={};return r.isMergeableObject(e)&&r$(e).forEach(function(i){n[i]=_g(e[i],r)}),r$(t).forEach(function(i){Upe(e,i)||(NV(e,i)&&r.isMergeableObject(t[i])?n[i]=Fpe(i,r)(e[i],t[i],r):n[i]=_g(t[i],r))}),n}function eh(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Lpe,r.isMergeableObject=r.isMergeableObject||Tpe,r.cloneUnlessOtherwiseSpecified=_g;var n=Array.isArray(t),i=Array.isArray(e),s=n===i;return s?n?r.arrayMerge(e,t,r):zpe(e,t,r):_g(t,r)}eh.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,i){return eh(n,i,r)},{})};var Wpe=eh,Vpe=Wpe;const Xs=kt(Vpe);var kV={exports:{}},Hpe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qpe=Hpe,Gpe=qpe;function CV(){}function OV(){}OV.resetWarningCache=CV;var Kpe=function(){function e(n,i,s,a,l,c){if(c!==Gpe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:OV,resetWarningCache:CV};return r.PropTypes=r,r};kV.exports=Kpe();var Ype=kV.exports;const ce=kt(Ype);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Tv=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",Jpe=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Tv&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function Xpe(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function Qpe(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},Jpe))}}var Zpe=Tv&&window.Promise,eme=Zpe?Xpe:Qpe;function EV(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function rd(e,t){if(e.nodeType!==1)return[];var r=e.ownerDocument.defaultView,n=r.getComputedStyle(e,null);return t?n[t]:n}function KP(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function Av(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=rd(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(r+i+n)?e:Av(KP(e))}function PV(e){return e&&e.referenceNode?e.referenceNode:e}var n$=Tv&&!!(window.MSInputMethodContext&&document.documentMode),i$=Tv&&/MSIE 10/.test(navigator.userAgent);function np(e){return e===11?n$:e===10?i$:n$||i$}function th(e){if(!e)return document.documentElement;for(var t=np(10)?document.body:null,r=e.offsetParent||null;r===t&&e.nextElementSibling;)r=(e=e.nextElementSibling).offsetParent;var n=r&&r.nodeName;return!n||n==="BODY"||n==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(r.nodeName)!==-1&&rd(r,"position")==="static"?th(r):r}function tme(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||th(e.firstElementChild)===e}function Dk(e){return e.parentNode!==null?Dk(e.parentNode):e}function Xb(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=r?e:t,i=r?t:e,s=document.createRange();s.setStart(n,0),s.setEnd(i,0);var a=s.commonAncestorContainer;if(e!==a&&t!==a||n.contains(i))return tme(a)?a:th(a);var l=Dk(e);return l.host?Xb(l.host,t):Xb(e,Dk(t).host)}function rh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",r=t==="top"?"scrollTop":"scrollLeft",n=e.nodeName;if(n==="BODY"||n==="HTML"){var i=e.ownerDocument.documentElement,s=e.ownerDocument.scrollingElement||i;return s[r]}return e[r]}function rme(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=rh(t,"top"),i=rh(t,"left"),s=r?-1:1;return e.top+=n*s,e.bottom+=n*s,e.left+=i*s,e.right+=i*s,e}function s$(e,t){var r=t==="x"?"Left":"Top",n=r==="Left"?"Right":"Bottom";return parseFloat(e["border"+r+"Width"])+parseFloat(e["border"+n+"Width"])}function a$(e,t,r,n){return Math.max(t["offset"+e],t["scroll"+e],r["client"+e],r["offset"+e],r["scroll"+e],np(10)?parseInt(r["offset"+e])+parseInt(n["margin"+(e==="Height"?"Top":"Left")])+parseInt(n["margin"+(e==="Height"?"Bottom":"Right")]):0)}function TV(e){var t=e.body,r=e.documentElement,n=np(10)&&getComputedStyle(r);return{height:a$("Height",t,r,n),width:a$("Width",t,r,n)}}var nme=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ime=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),nh=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function oc(e){return hs({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Lk(e){var t={};try{if(np(10)){t=e.getBoundingClientRect();var r=rh(e,"top"),n=rh(e,"left");t.top+=r,t.left+=n,t.bottom+=r,t.right+=n}else t=e.getBoundingClientRect()}catch{}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s=e.nodeName==="HTML"?TV(e.ownerDocument):{},a=s.width||e.clientWidth||i.width,l=s.height||e.clientHeight||i.height,c=e.offsetWidth-a,u=e.offsetHeight-l;if(c||u){var d=rd(e);c-=s$(d,"x"),u-=s$(d,"y"),i.width-=c,i.height-=u}return oc(i)}function YP(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=np(10),i=t.nodeName==="HTML",s=Lk(e),a=Lk(t),l=Av(e),c=rd(t),u=parseFloat(c.borderTopWidth),d=parseFloat(c.borderLeftWidth);r&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=oc({top:s.top-a.top-u,left:s.left-a.left-d,width:s.width,height:s.height});if(f.marginTop=0,f.marginLeft=0,!n&&i){var h=parseFloat(c.marginTop),p=parseFloat(c.marginLeft);f.top-=u-h,f.bottom-=u-h,f.left-=d-p,f.right-=d-p,f.marginTop=h,f.marginLeft=p}return(n&&!r?t.contains(l):t===l&&l.nodeName!=="BODY")&&(f=rme(f,t)),f}function sme(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.ownerDocument.documentElement,n=YP(e,r),i=Math.max(r.clientWidth,window.innerWidth||0),s=Math.max(r.clientHeight,window.innerHeight||0),a=t?0:rh(r),l=t?0:rh(r,"left"),c={top:a-n.top+n.marginTop,left:l-n.left+n.marginLeft,width:i,height:s};return oc(c)}function AV(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(rd(e,"position")==="fixed")return!0;var r=KP(e);return r?AV(r):!1}function MV(e){if(!e||!e.parentElement||np())return document.documentElement;for(var t=e.parentElement;t&&rd(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function JP(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s={top:0,left:0},a=i?MV(e):Xb(e,PV(t));if(n==="viewport")s=sme(a,i);else{var l=void 0;n==="scrollParent"?(l=Av(KP(t)),l.nodeName==="BODY"&&(l=e.ownerDocument.documentElement)):n==="window"?l=e.ownerDocument.documentElement:l=n;var c=YP(l,a,i);if(l.nodeName==="HTML"&&!AV(a)){var u=TV(e.ownerDocument),d=u.height,f=u.width;s.top+=c.top-c.marginTop,s.bottom=d+c.top,s.left+=c.left-c.marginLeft,s.right=f+c.left}else s=c}r=r||0;var h=typeof r=="number";return s.left+=h?r:r.left||0,s.top+=h?r:r.top||0,s.right-=h?r:r.right||0,s.bottom-=h?r:r.bottom||0,s}function ame(e){var t=e.width,r=e.height;return t*r}function IV(e,t,r,n,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var a=JP(r,n,s,i),l={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(l).map(function(h){return hs({key:h},l[h],{area:ame(l[h])})}).sort(function(h,p){return p.area-h.area}),u=c.filter(function(h){var p=h.width,g=h.height;return p>=r.clientWidth&&g>=r.clientHeight}),d=u.length>0?u[0].key:c[0].key,f=e.split("-")[1];return d+(f?"-"+f:"")}function RV(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=n?MV(t):Xb(t,PV(r));return YP(r,i,n)}function $V(e){var t=e.ownerDocument.defaultView,r=t.getComputedStyle(e),n=parseFloat(r.marginTop||0)+parseFloat(r.marginBottom||0),i=parseFloat(r.marginLeft||0)+parseFloat(r.marginRight||0),s={width:e.offsetWidth+i,height:e.offsetHeight+n};return s}function Qb(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(r){return t[r]})}function DV(e,t,r){r=r.split("-")[0];var n=$V(e),i={width:n.width,height:n.height},s=["right","left"].indexOf(r)!==-1,a=s?"top":"left",l=s?"left":"top",c=s?"height":"width",u=s?"width":"height";return i[a]=t[a]+t[c]/2-n[c]/2,r===l?i[l]=t[l]-n[u]:i[l]=t[Qb(l)],i}function Mv(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function ome(e,t,r){if(Array.prototype.findIndex)return e.findIndex(function(i){return i[t]===r});var n=Mv(e,function(i){return i[t]===r});return e.indexOf(n)}function LV(e,t,r){var n=r===void 0?e:e.slice(0,ome(e,"name",r));return n.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&EV(s)&&(t.offsets.popper=oc(t.offsets.popper),t.offsets.reference=oc(t.offsets.reference),t=s(t,i))}),t}function lme(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=RV(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=IV(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=DV(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=LV(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function FV(e,t){return e.some(function(r){var n=r.name,i=r.enabled;return i&&n===t})}function XP(e){for(var t=[!1,"ms","Webkit","Moz","O"],r=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],s=i?""+i+r:e;if(typeof document.body.style[s]<"u")return s}return null}function cme(){return this.state.isDestroyed=!0,FV(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[XP("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function BV(e){var t=e.ownerDocument;return t?t.defaultView:window}function UV(e,t,r,n){var i=e.nodeName==="BODY",s=i?e.ownerDocument.defaultView:e;s.addEventListener(t,r,{passive:!0}),i||UV(Av(s.parentNode),t,r,n),n.push(s)}function ume(e,t,r,n){r.updateBound=n,BV(e).addEventListener("resize",r.updateBound,{passive:!0});var i=Av(e);return UV(i,"scroll",r.updateBound,r.scrollParents),r.scrollElement=i,r.eventsEnabled=!0,r}function dme(){this.state.eventsEnabled||(this.state=ume(this.reference,this.options,this.state,this.scheduleUpdate))}function fme(e,t){return BV(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(r){r.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function hme(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=fme(this.reference,this.state))}function QP(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function Fk(e,t){Object.keys(t).forEach(function(r){var n="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&QP(t[r])&&(n="px"),e.style[r]=t[r]+n})}function pme(e,t){Object.keys(t).forEach(function(r){var n=t[r];n!==!1?e.setAttribute(r,t[r]):e.removeAttribute(r)})}function mme(e){return Fk(e.instance.popper,e.styles),pme(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Fk(e.arrowElement,e.arrowStyles),e}function gme(e,t,r,n,i){var s=RV(i,t,e,r.positionFixed),a=IV(r.placement,s,t,e,r.modifiers.flip.boundariesElement,r.modifiers.flip.padding);return t.setAttribute("x-placement",a),Fk(t,{position:r.positionFixed?"fixed":"absolute"}),r}function vme(e,t){var r=e.offsets,n=r.popper,i=r.reference,s=Math.round,a=Math.floor,l=function(b){return b},c=s(i.width),u=s(n.width),d=["left","right"].indexOf(e.placement)!==-1,f=e.placement.indexOf("-")!==-1,h=c%2===u%2,p=c%2===1&&u%2===1,g=t?d||f||h?s:a:l,m=t?s:l;return{left:g(p&&!f&&t?n.left-1:n.left),top:m(n.top),bottom:m(n.bottom),right:g(n.right)}}var yme=Tv&&/Firefox/i.test(navigator.userAgent);function xme(e,t){var r=t.x,n=t.y,i=e.offsets.popper,s=Mv(e.instance.modifiers,function(w){return w.name==="applyStyle"}).gpuAcceleration;s!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=s!==void 0?s:t.gpuAcceleration,l=th(e.instance.popper),c=Lk(l),u={position:i.position},d=vme(e,window.devicePixelRatio<2||!yme),f=r==="bottom"?"top":"bottom",h=n==="right"?"left":"right",p=XP("transform"),g=void 0,m=void 0;if(f==="bottom"?l.nodeName==="HTML"?m=-l.clientHeight+d.bottom:m=-c.height+d.bottom:m=d.top,h==="right"?l.nodeName==="HTML"?g=-l.clientWidth+d.right:g=-c.width+d.right:g=d.left,a&&p)u[p]="translate3d("+g+"px, "+m+"px, 0)",u[f]=0,u[h]=0,u.willChange="transform";else{var v=f==="bottom"?-1:1,b=h==="right"?-1:1;u[f]=m*v,u[h]=g*b,u.willChange=f+", "+h}var x={"x-placement":e.placement};return e.attributes=hs({},x,e.attributes),e.styles=hs({},u,e.styles),e.arrowStyles=hs({},e.offsets.arrow,e.arrowStyles),e}function zV(e,t,r){var n=Mv(e,function(l){var c=l.name;return c===t}),i=!!n&&e.some(function(l){return l.name===r&&l.enabled&&l.order<n.order});if(!i){var s="`"+t+"`",a="`"+r+"`";console.warn(a+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}function bme(e,t){var r;if(!zV(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if(typeof n=="string"){if(n=e.instance.popper.querySelector(n),!n)return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],s=e.offsets,a=s.popper,l=s.reference,c=["left","right"].indexOf(i)!==-1,u=c?"height":"width",d=c?"Top":"Left",f=d.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",g=$V(n)[u];l[p]-g<a[f]&&(e.offsets.popper[f]-=a[f]-(l[p]-g)),l[f]+g>a[p]&&(e.offsets.popper[f]+=l[f]+g-a[p]),e.offsets.popper=oc(e.offsets.popper);var m=l[f]+l[u]/2-g/2,v=rd(e.instance.popper),b=parseFloat(v["margin"+d]),x=parseFloat(v["border"+d+"Width"]),w=m-e.offsets.popper[f]-b-x;return w=Math.max(Math.min(a[u]-g,w),0),e.arrowElement=n,e.offsets.arrow=(r={},nh(r,f,Math.round(w)),nh(r,h,""),r),e}function wme(e){return e==="end"?"start":e==="start"?"end":e}var WV=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],W1=WV.slice(3);function o$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=W1.indexOf(e),n=W1.slice(r+1).concat(W1.slice(0,r));return t?n.reverse():n}var V1={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function _me(e,t){if(FV(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var r=JP(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split("-")[0],i=Qb(n),s=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case V1.FLIP:a=[n,i];break;case V1.CLOCKWISE:a=o$(n);break;case V1.COUNTERCLOCKWISE:a=o$(n,!0);break;default:a=t.behavior}return a.forEach(function(l,c){if(n!==l||a.length===c+1)return e;n=e.placement.split("-")[0],i=Qb(n);var u=e.offsets.popper,d=e.offsets.reference,f=Math.floor,h=n==="left"&&f(u.right)>f(d.left)||n==="right"&&f(u.left)<f(d.right)||n==="top"&&f(u.bottom)>f(d.top)||n==="bottom"&&f(u.top)<f(d.bottom),p=f(u.left)<f(r.left),g=f(u.right)>f(r.right),m=f(u.top)<f(r.top),v=f(u.bottom)>f(r.bottom),b=n==="left"&&p||n==="right"&&g||n==="top"&&m||n==="bottom"&&v,x=["top","bottom"].indexOf(n)!==-1,w=!!t.flipVariations&&(x&&s==="start"&&p||x&&s==="end"&&g||!x&&s==="start"&&m||!x&&s==="end"&&v),_=!!t.flipVariationsByContent&&(x&&s==="start"&&g||x&&s==="end"&&p||!x&&s==="start"&&v||!x&&s==="end"&&m),N=w||_;(h||b||N)&&(e.flipped=!0,(h||b)&&(n=a[c+1]),N&&(s=wme(s)),e.placement=n+(s?"-"+s:""),e.offsets.popper=hs({},e.offsets.popper,DV(e.instance.popper,e.offsets.reference,e.placement)),e=LV(e.instance.modifiers,e,"flip"))}),e}function jme(e){var t=e.offsets,r=t.popper,n=t.reference,i=e.placement.split("-")[0],s=Math.floor,a=["top","bottom"].indexOf(i)!==-1,l=a?"right":"bottom",c=a?"left":"top",u=a?"width":"height";return r[l]<s(n[c])&&(e.offsets.popper[c]=s(n[c])-r[u]),r[c]>s(n[l])&&(e.offsets.popper[c]=s(n[l])),e}function Sme(e,t,r,n){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],a=i[2];if(!s)return e;if(a.indexOf("%")===0){var l=void 0;switch(a){case"%p":l=r;break;case"%":case"%r":default:l=n}var c=oc(l);return c[t]/100*s}else if(a==="vh"||a==="vw"){var u=void 0;return a==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*s}else return s}function Nme(e,t,r,n){var i=[0,0],s=["right","left"].indexOf(n)!==-1,a=e.split(/(\+|\-)/).map(function(d){return d.trim()}),l=a.indexOf(Mv(a,function(d){return d.search(/,|\s/)!==-1}));a[l]&&a[l].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=l!==-1?[a.slice(0,l).concat([a[l].split(c)[0]]),[a[l].split(c)[1]].concat(a.slice(l+1))]:[a];return u=u.map(function(d,f){var h=(f===1?!s:s)?"height":"width",p=!1;return d.reduce(function(g,m){return g[g.length-1]===""&&["+","-"].indexOf(m)!==-1?(g[g.length-1]=m,p=!0,g):p?(g[g.length-1]+=m,p=!1,g):g.concat(m)},[]).map(function(g){return Sme(g,h,t,r)})}),u.forEach(function(d,f){d.forEach(function(h,p){QP(h)&&(i[f]+=h*(d[p-1]==="-"?-1:1))})}),i}function kme(e,t){var r=t.offset,n=e.placement,i=e.offsets,s=i.popper,a=i.reference,l=n.split("-")[0],c=void 0;return QP(+r)?c=[+r,0]:c=Nme(r,s,a,l),l==="left"?(s.top+=c[0],s.left-=c[1]):l==="right"?(s.top+=c[0],s.left+=c[1]):l==="top"?(s.left+=c[0],s.top-=c[1]):l==="bottom"&&(s.left+=c[0],s.top+=c[1]),e.popper=s,e}function Cme(e,t){var r=t.boundariesElement||th(e.instance.popper);e.instance.reference===r&&(r=th(r));var n=XP("transform"),i=e.instance.popper.style,s=i.top,a=i.left,l=i[n];i.top="",i.left="",i[n]="";var c=JP(e.instance.popper,e.instance.reference,t.padding,r,e.positionFixed);i.top=s,i.left=a,i[n]=l,t.boundaries=c;var u=t.priority,d=e.offsets.popper,f={primary:function(p){var g=d[p];return d[p]<c[p]&&!t.escapeWithReference&&(g=Math.max(d[p],c[p])),nh({},p,g)},secondary:function(p){var g=p==="right"?"left":"top",m=d[g];return d[p]>c[p]&&!t.escapeWithReference&&(m=Math.min(d[g],c[p]-(p==="right"?d.width:d.height))),nh({},g,m)}};return u.forEach(function(h){var p=["left","top"].indexOf(h)!==-1?"primary":"secondary";d=hs({},d,f[p](h))}),e.offsets.popper=d,e}function Ome(e){var t=e.placement,r=t.split("-")[0],n=t.split("-")[1];if(n){var i=e.offsets,s=i.reference,a=i.popper,l=["bottom","top"].indexOf(r)!==-1,c=l?"left":"top",u=l?"width":"height",d={start:nh({},c,s[c]),end:nh({},c,s[c]+s[u]-a[u])};e.offsets.popper=hs({},a,d[n])}return e}function Eme(e){if(!zV(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,r=Mv(e.instance.modifiers,function(n){return n.name==="preventOverflow"}).boundaries;if(t.bottom<r.top||t.left>r.right||t.top>r.bottom||t.right<r.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function Pme(e){var t=e.placement,r=t.split("-")[0],n=e.offsets,i=n.popper,s=n.reference,a=["left","right"].indexOf(r)!==-1,l=["top","left"].indexOf(r)===-1;return i[a?"left":"top"]=s[r]-(l?i[a?"width":"height"]:0),e.placement=Qb(t),e.offsets.popper=oc(i),e}var Tme={shift:{order:100,enabled:!0,fn:Ome},offset:{order:200,enabled:!0,fn:kme,offset:0},preventOverflow:{order:300,enabled:!0,fn:Cme,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:jme},arrow:{order:500,enabled:!0,fn:bme,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:_me,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Pme},hide:{order:800,enabled:!0,fn:Eme},computeStyle:{order:850,enabled:!0,fn:xme,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:mme,onLoad:gme,gpuAcceleration:void 0}},Ame={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Tme},jg=function(){function e(t,r){var n=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};nme(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=eme(this.update.bind(this)),this.options=hs({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(hs({},e.Defaults.modifiers,i.modifiers)).forEach(function(a){n.options.modifiers[a]=hs({},e.Defaults.modifiers[a]||{},i.modifiers?i.modifiers[a]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(a){return hs({name:a},n.options.modifiers[a])}).sort(function(a,l){return a.order-l.order}),this.modifiers.forEach(function(a){a.enabled&&EV(a.onLoad)&&a.onLoad(n.reference,n.popper,n.options,a,n.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return ime(e,[{key:"update",value:function(){return lme.call(this)}},{key:"destroy",value:function(){return cme.call(this)}},{key:"enableEventListeners",value:function(){return dme.call(this)}},{key:"disableEventListeners",value:function(){return hme.call(this)}}]),e}();jg.Utils=(typeof window<"u"?window:global).PopperUtils;jg.placements=WV;jg.Defaults=Ame;var Mme=["innerHTML","ownerDocument","style","attributes","nodeValue"],Ime=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],Rme=["bigint","boolean","null","number","string","symbol","undefined"];function v_(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t))return"HTMLElement";if($me(t))return t}function ya(e){return function(t){return v_(t)===e}}function $me(e){return Ime.includes(e)}function ip(e){return function(t){return typeof t===e}}function Dme(e){return Rme.includes(e)}function ie(e){if(e===null)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(ie.array(e))return"Array";if(ie.plainFunction(e))return"Function";var t=v_(e);return t||"Object"}ie.array=Array.isArray;ie.arrayOf=function(e,t){return!ie.array(e)&&!ie.function(t)?!1:e.every(function(r){return t(r)})};ie.asyncGeneratorFunction=function(e){return v_(e)==="AsyncGeneratorFunction"};ie.asyncFunction=ya("AsyncFunction");ie.bigint=ip("bigint");ie.boolean=function(e){return e===!0||e===!1};ie.date=ya("Date");ie.defined=function(e){return!ie.undefined(e)};ie.domElement=function(e){return ie.object(e)&&!ie.plainObject(e)&&e.nodeType===1&&ie.string(e.nodeName)&&Mme.every(function(t){return t in e})};ie.empty=function(e){return ie.string(e)&&e.length===0||ie.array(e)&&e.length===0||ie.object(e)&&!ie.map(e)&&!ie.set(e)&&Object.keys(e).length===0||ie.set(e)&&e.size===0||ie.map(e)&&e.size===0};ie.error=ya("Error");ie.function=ip("function");ie.generator=function(e){return ie.iterable(e)&&ie.function(e.next)&&ie.function(e.throw)};ie.generatorFunction=ya("GeneratorFunction");ie.instanceOf=function(e,t){return!e||!t?!1:Object.getPrototypeOf(e)===t.prototype};ie.iterable=function(e){return!ie.nullOrUndefined(e)&&ie.function(e[Symbol.iterator])};ie.map=ya("Map");ie.nan=function(e){return Number.isNaN(e)};ie.null=function(e){return e===null};ie.nullOrUndefined=function(e){return ie.null(e)||ie.undefined(e)};ie.number=function(e){return ip("number")(e)&&!ie.nan(e)};ie.numericString=function(e){return ie.string(e)&&e.length>0&&!Number.isNaN(Number(e))};ie.object=function(e){return!ie.nullOrUndefined(e)&&(ie.function(e)||typeof e=="object")};ie.oneOf=function(e,t){return ie.array(e)?e.indexOf(t)>-1:!1};ie.plainFunction=ya("Function");ie.plainObject=function(e){if(v_(e)!=="Object")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};ie.primitive=function(e){return ie.null(e)||Dme(typeof e)};ie.promise=ya("Promise");ie.propertyOf=function(e,t,r){if(!ie.object(e)||!t)return!1;var n=e[t];return ie.function(r)?r(n):ie.defined(n)};ie.regexp=ya("RegExp");ie.set=ya("Set");ie.string=ip("string");ie.symbol=ip("symbol");ie.undefined=ip("undefined");ie.weakMap=ya("WeakMap");ie.weakSet=ya("WeakSet");function VV(e){return function(t){return typeof t===e}}var Lme=VV("function"),Fme=function(e){return e===null},l$=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},c$=function(e){return!Bme(e)&&!Fme(e)&&(Lme(e)||typeof e=="object")},Bme=VV("undefined"),Bk=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ume(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=r;n--!==0;)if(!yi(e[n],t[n]))return!1;return!0}function zme(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=new DataView(e.buffer),n=new DataView(t.buffer),i=e.byteLength;i--;)if(r.getUint8(i)!==n.getUint8(i))return!1;return!0}function Wme(e,t){var r,n,i,s;if(e.size!==t.size)return!1;try{for(var a=Bk(e.entries()),l=a.next();!l.done;l=a.next()){var c=l.value;if(!t.has(c[0]))return!1}}catch(f){r={error:f}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}try{for(var u=Bk(e.entries()),d=u.next();!d.done;d=u.next()){var c=d.value;if(!yi(c[1],t.get(c[0])))return!1}}catch(f){i={error:f}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return!0}function Vme(e,t){var r,n;if(e.size!==t.size)return!1;try{for(var i=Bk(e.entries()),s=i.next();!s.done;s=i.next()){var a=s.value;if(!t.has(a[0]))return!1}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!0}function yi(e,t){if(e===t)return!0;if(e&&c$(e)&&t&&c$(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return Ume(e,t);if(e instanceof Map&&t instanceof Map)return Wme(e,t);if(e instanceof Set&&t instanceof Set)return Vme(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return zme(e,t);if(l$(e)&&l$(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=r.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,r[i]))return!1;for(var i=r.length;i--!==0;){var s=r[i];if(!(s==="_owner"&&e.$$typeof)&&!yi(e[s],t[s]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(t)?!0:e===t}function Hme(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(r){return ie.string(r)||ie.array(r)||ie.plainObject(r)})}function qme(e,t,r){return HV(e,t)?[e,t].every(ie.array)?!e.some(p$(r))&&t.some(p$(r)):[e,t].every(ie.plainObject)?!Object.entries(e).some(h$(r))&&Object.entries(t).some(h$(r)):t===r:!1}function u$(e,t,r){var n=r.actual,i=r.key,s=r.previous,a=r.type,l=La(e,i),c=La(t,i),u=[l,c].every(ie.number)&&(a==="increased"?l<c:l>c);return ie.undefined(n)||(u=u&&c===n),ie.undefined(s)||(u=u&&l===s),u}function d$(e,t,r){var n=r.key,i=r.type,s=r.value,a=La(e,n),l=La(t,n),c=i==="added"?a:l,u=i==="added"?l:a;if(!ie.nullOrUndefined(s)){if(ie.defined(c)){if(ie.array(c)||ie.plainObject(c))return qme(c,u,s)}else return yi(u,s);return!1}return[a,l].every(ie.array)?!u.every(ZP(c)):[a,l].every(ie.plainObject)?Gme(Object.keys(c),Object.keys(u)):![a,l].every(function(d){return ie.primitive(d)&&ie.defined(d)})&&(i==="added"?!ie.defined(a)&&ie.defined(l):ie.defined(a)&&!ie.defined(l))}function f$(e,t,r){var n=r===void 0?{}:r,i=n.key,s=La(e,i),a=La(t,i);if(!HV(s,a))throw new TypeError("Inputs have different types");if(!Hme(s,a))throw new TypeError("Inputs don't have length");return[s,a].every(ie.plainObject)&&(s=Object.keys(s),a=Object.keys(a)),[s,a]}function h$(e){return function(t){var r=t[0],n=t[1];return ie.array(e)?yi(e,n)||e.some(function(i){return yi(i,n)||ie.array(n)&&ZP(n)(i)}):ie.plainObject(e)&&e[r]?!!e[r]&&yi(e[r],n):yi(e,n)}}function Gme(e,t){return t.some(function(r){return!e.includes(r)})}function p$(e){return function(t){return ie.array(e)?e.some(function(r){return yi(r,t)||ie.array(t)&&ZP(t)(r)}):yi(e,t)}}function Up(e,t){return ie.array(e)?e.some(function(r){return yi(r,t)}):yi(e,t)}function ZP(e){return function(t){return e.some(function(r){return yi(r,t)})}}function HV(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(ie.array)||e.every(ie.number)||e.every(ie.plainObject)||e.every(ie.string)}function La(e,t){if(ie.plainObject(e)||ie.array(e)){if(ie.string(t)){var r=t.split(".");return r.reduce(function(n,i){return n&&n[i]},e)}return ie.number(t)?e[t]:e}return e}function Kme(e,t){if([e,t].some(ie.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(f){return ie.plainObject(f)||ie.array(f)}))throw new Error("Expected plain objects or array");var r=function(f,h){try{return d$(e,t,{key:f,type:"added",value:h})}catch{return!1}},n=function(f,h,p){try{var g=La(e,f),m=La(t,f),v=ie.defined(h),b=ie.defined(p);if(v||b){var x=b?Up(p,g):!Up(h,g),w=Up(h,m);return x&&w}return[g,m].every(ie.array)||[g,m].every(ie.plainObject)?!yi(g,m):g!==m}catch{return!1}},i=function(f,h,p){if(!ie.defined(f))return!1;try{var g=La(e,f),m=La(t,f),v=ie.defined(p);return Up(h,g)&&(v?Up(p,m):!v)}catch{return!1}},s=function(f,h){return ie.defined(f)?n(f,h):!1},a=function(f,h,p){if(!ie.defined(f))return!1;try{return u$(e,t,{key:f,actual:h,previous:p,type:"decreased"})}catch{return!1}},l=function(f){try{var h=f$(e,t,{key:f}),p=h[0],g=h[1];return!!p.length&&!g.length}catch{return!1}},c=function(f){try{var h=f$(e,t,{key:f}),p=h[0],g=h[1];return!p.length&&!!g.length}catch{return!1}},u=function(f,h,p){if(!ie.defined(f))return!1;try{return u$(e,t,{key:f,actual:h,previous:p,type:"increased"})}catch{return!1}},d=function(f,h){try{return d$(e,t,{key:f,type:"removed",value:h})}catch{return!1}};return{added:r,changed:n,changedFrom:i,changedTo:s,decreased:a,emptied:l,filled:c,increased:u,removed:d}}function m$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(r),!0).forEach(function(n){An(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GV(n.key),n)}}function Rv(e,t,r){return t&&Yme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function An(e,t,r){return t=GV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $v(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uk(e,t)}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function Uk(e,t){return Uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uk(e,t)}function Jme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xme(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qV(e,t){if(e==null)return{};var r=Xme(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ho(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qme(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ho(e)}function Dv(e){var t=Jme();return function(){var n=Zb(e),i;if(t){var s=Zb(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return Qme(this,i)}}function Zme(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GV(e){var t=Zme(e,"string");return typeof t=="symbol"?t:String(t)}var ege={flip:{padding:20},preventOverflow:{padding:10}},tge="The typeValidator argument must be a function with the signature function(props, propName, componentName).",rge="The error message is optional, but must be a string if provided.";function nge(e,t,r,n){return typeof e=="boolean"?e:typeof e=="function"?e(t,r,n):e?!!e:!1}function ige(e,t){return Object.hasOwnProperty.call(e,t)}function sge(e,t,r,n){return new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(r,"`."))}function age(e,t){if(typeof e!="function")throw new TypeError(tge);if(t&&typeof t!="string")throw new TypeError(rge)}function g$(e,t,r){return age(e,r),function(n,i,s){for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];return nge(t,n,i,s)?ige(n,i)?e.apply(void 0,[n,i,s].concat(l)):sge(n,i,s):e.apply(void 0,[n,i,s].concat(l))}}var Nt={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},zp=gf.createPortal!==void 0;function Ea(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function H1(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Vy(e){var t=e.title,r=e.data,n=e.warn,i=n===void 0?!1:n,s=e.debug,a=s===void 0?!1:s,l=i?console.warn||console.error:console.log;a&&t&&r&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(r)?r.forEach(function(c){ie.plainObject(c)&&c.key?l.apply(console,[c.key,c.value]):l.apply(console,[c])}):l.apply(console,[r]),console.groupEnd())}function oge(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.addEventListener(t,r,n)}function lge(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e.removeEventListener(t,r,n)}function cge(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(a){r(a),lge(e,t,i)},oge(e,t,i,n)}function v$(){}var KV=function(e){$v(r,e);var t=Dv(r);function r(){return Iv(this,r),t.apply(this,arguments)}return Rv(r,[{key:"componentDidMount",value:function(){Ea()&&(this.node||this.appendNode(),zp||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Ea()&&(zp||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Ea()||!this.node||(zp||gf.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,s=i.id,a=i.zIndex;this.node||(this.node=document.createElement("div"),s&&(this.node.id=s),a&&(this.node.style.zIndex=a),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Ea())return null;var i=this.props,s=i.children,a=i.setRef;if(this.node||this.appendNode(),zp)return gf.createPortal(s,this.node);var l=gf.unstable_renderSubtreeIntoContainer(this,s.length>1?T.createElement("div",null,s):s[0],this.node);return a(l),null}},{key:"renderReact16",value:function(){var i=this.props,s=i.hasChildren,a=i.placement,l=i.target;return s?this.renderPortal():l||a==="center"?this.renderPortal():null}},{key:"render",value:function(){return zp?this.renderReact16():null}}]),r}(T.Component);An(KV,"propTypes",{children:ce.oneOfType([ce.element,ce.array]),hasChildren:ce.bool,id:ce.oneOfType([ce.string,ce.number]),placement:ce.string,setRef:ce.func.isRequired,target:ce.oneOfType([ce.object,ce.string]),zIndex:ce.number});var YV=function(e){$v(r,e);var t=Dv(r);function r(){return Iv(this,r),t.apply(this,arguments)}return Rv(r,[{key:"parentStyle",get:function(){var i=this.props,s=i.placement,a=i.styles,l=a.arrow.length,c={pointerEvents:"none",position:"absolute",width:"100%"};return s.startsWith("top")?(c.bottom=0,c.left=0,c.right=0,c.height=l):s.startsWith("bottom")?(c.left=0,c.right=0,c.top=0,c.height=l):s.startsWith("left")?(c.right=0,c.top=0,c.bottom=0):s.startsWith("right")&&(c.left=0,c.top=0),c}},{key:"render",value:function(){var i=this.props,s=i.placement,a=i.setArrowRef,l=i.styles,c=l.arrow,u=c.color,d=c.display,f=c.length,h=c.margin,p=c.position,g=c.spread,m={display:d,position:p},v,b=g,x=f;return s.startsWith("top")?(v="0,0 ".concat(b/2,",").concat(x," ").concat(b,",0"),m.bottom=0,m.marginLeft=h,m.marginRight=h):s.startsWith("bottom")?(v="".concat(b,",").concat(x," ").concat(b/2,",0 0,").concat(x),m.top=0,m.marginLeft=h,m.marginRight=h):s.startsWith("left")?(x=g,b=f,v="0,0 ".concat(b,",").concat(x/2," 0,").concat(x),m.right=0,m.marginTop=h,m.marginBottom=h):s.startsWith("right")&&(x=g,b=f,v="".concat(b,",").concat(x," ").concat(b,",0 0,").concat(x/2),m.left=0,m.marginTop=h,m.marginBottom=h),T.createElement("div",{className:"__floater__arrow",style:this.parentStyle},T.createElement("span",{ref:a,style:m},T.createElement("svg",{width:b,height:x,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},T.createElement("polygon",{points:v,fill:u}))))}}]),r}(T.Component);An(YV,"propTypes",{placement:ce.string.isRequired,setArrowRef:ce.func.isRequired,styles:ce.object.isRequired});var uge=["color","height","width"];function JV(e){var t=e.handleClick,r=e.styles,n=r.color,i=r.height,s=r.width,a=qV(r,uge);return T.createElement("button",{"aria-label":"close",onClick:t,style:a,type:"button"},T.createElement("svg",{width:"".concat(s,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},T.createElement("g",null,T.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}JV.propTypes={handleClick:ce.func.isRequired,styles:ce.object.isRequired};function XV(e){var t=e.content,r=e.footer,n=e.handleClick,i=e.open,s=e.positionWrapper,a=e.showCloseButton,l=e.title,c=e.styles,u={content:T.isValidElement(t)?t:T.createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(u.title=T.isValidElement(l)?l:T.createElement("div",{className:"__floater__title",style:c.title},l)),r&&(u.footer=T.isValidElement(r)?r:T.createElement("div",{className:"__floater__footer",style:c.footer},r)),(a||s)&&!ie.boolean(i)&&(u.close=T.createElement(JV,{styles:c.close,handleClick:n})),T.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)}XV.propTypes={content:ce.node.isRequired,footer:ce.node,handleClick:ce.func.isRequired,open:ce.bool,positionWrapper:ce.bool.isRequired,showCloseButton:ce.bool.isRequired,styles:ce.object.isRequired,title:ce.node};var QV=function(e){$v(r,e);var t=Dv(r);function r(){return Iv(this,r),t.apply(this,arguments)}return Rv(r,[{key:"style",get:function(){var i=this.props,s=i.disableAnimation,a=i.component,l=i.placement,c=i.hideArrow,u=i.status,d=i.styles,f=d.arrow.length,h=d.floater,p=d.floaterCentered,g=d.floaterClosing,m=d.floaterOpening,v=d.floaterWithAnimation,b=d.floaterWithComponent,x={};return c||(l.startsWith("top")?x.padding="0 0 ".concat(f,"px"):l.startsWith("bottom")?x.padding="".concat(f,"px 0 0"):l.startsWith("left")?x.padding="0 ".concat(f,"px 0 0"):l.startsWith("right")&&(x.padding="0 0 0 ".concat(f,"px"))),[Nt.OPENING,Nt.OPEN].indexOf(u)!==-1&&(x=mr(mr({},x),m)),u===Nt.CLOSING&&(x=mr(mr({},x),g)),u===Nt.OPEN&&!s&&(x=mr(mr({},x),v)),l==="center"&&(x=mr(mr({},x),p)),a&&(x=mr(mr({},x),b)),mr(mr({},h),x)}},{key:"render",value:function(){var i=this.props,s=i.component,a=i.handleClick,l=i.hideArrow,c=i.setFloaterRef,u=i.status,d={},f=["__floater"];return s?T.isValidElement(s)?d.content=T.cloneElement(s,{closeFn:a}):d.content=s({closeFn:a}):d.content=T.createElement(XV,this.props),u===Nt.OPEN&&f.push("__floater__open"),l||(d.arrow=T.createElement(YV,this.props)),T.createElement("div",{ref:c,className:f.join(" "),style:this.style},T.createElement("div",{className:"__floater__body"},d.content,d.arrow))}}]),r}(T.Component);An(QV,"propTypes",{component:ce.oneOfType([ce.func,ce.element]),content:ce.node,disableAnimation:ce.bool.isRequired,footer:ce.node,handleClick:ce.func.isRequired,hideArrow:ce.bool.isRequired,open:ce.bool,placement:ce.string.isRequired,positionWrapper:ce.bool.isRequired,setArrowRef:ce.func.isRequired,setFloaterRef:ce.func.isRequired,showCloseButton:ce.bool,status:ce.string.isRequired,styles:ce.object.isRequired,title:ce.node});var ZV=function(e){$v(r,e);var t=Dv(r);function r(){return Iv(this,r),t.apply(this,arguments)}return Rv(r,[{key:"render",value:function(){var i=this.props,s=i.children,a=i.handleClick,l=i.handleMouseEnter,c=i.handleMouseLeave,u=i.setChildRef,d=i.setWrapperRef,f=i.style,h=i.styles,p;if(s)if(T.Children.count(s)===1)if(!T.isValidElement(s))p=T.createElement("span",null,s);else{var g=ie.function(s.type)?"innerRef":"ref";p=T.cloneElement(T.Children.only(s),An({},g,u))}else p=s;return p?T.createElement("span",{ref:d,style:mr(mr({},h),f),onClick:a,onMouseEnter:l,onMouseLeave:c},p):null}}]),r}(T.Component);An(ZV,"propTypes",{children:ce.node,handleClick:ce.func.isRequired,handleMouseEnter:ce.func.isRequired,handleMouseLeave:ce.func.isRequired,setChildRef:ce.func.isRequired,setWrapperRef:ce.func.isRequired,style:ce.object,styles:ce.object.isRequired});var dge={zIndex:100};function fge(e){var t=Xs(dge,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}var hge=["arrow","flip","offset"],pge=["position","top","right","bottom","left"],eT=function(e){$v(r,e);var t=Dv(r);function r(n){var i;return Iv(this,r),i=t.call(this,n),An(ho(i),"setArrowRef",function(s){i.arrowRef=s}),An(ho(i),"setChildRef",function(s){i.childRef=s}),An(ho(i),"setFloaterRef",function(s){i.floaterRef=s}),An(ho(i),"setWrapperRef",function(s){i.wrapperRef=s}),An(ho(i),"handleTransitionEnd",function(){var s=i.state.status,a=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:s===Nt.OPENING?Nt.OPEN:Nt.IDLE},function(){var l=i.state.status;a(l===Nt.OPEN?"open":"close",i.props)})}),An(ho(i),"handleClick",function(){var s=i.props,a=s.event,l=s.open;if(!ie.boolean(l)){var c=i.state,u=c.positionWrapper,d=c.status;(i.event==="click"||i.event==="hover"&&u)&&(Vy({title:"click",data:[{event:a,status:d===Nt.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),An(ho(i),"handleMouseEnter",function(){var s=i.props,a=s.event,l=s.open;if(!(ie.boolean(l)||H1())){var c=i.state.status;i.event==="hover"&&c===Nt.IDLE&&(Vy({title:"mouseEnter",data:[{key:"originalEvent",value:a}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),An(ho(i),"handleMouseLeave",function(){var s=i.props,a=s.event,l=s.eventDelay,c=s.open;if(!(ie.boolean(c)||H1())){var u=i.state,d=u.status,f=u.positionWrapper;i.event==="hover"&&(Vy({title:"mouseLeave",data:[{key:"originalEvent",value:a}],debug:i.debug}),l?[Nt.OPENING,Nt.OPEN].indexOf(d)!==-1&&!f&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},l*1e3)):i.toggle(Nt.IDLE))}}),i.state={currentPlacement:n.placement,needsUpdate:!1,positionWrapper:n.wrapperOptions.position&&!!n.target,status:Nt.INIT,statusWrapper:Nt.INIT},i._isMounted=!1,i.hasMounted=!1,Ea()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return Rv(r,[{key:"componentDidMount",value:function(){if(Ea()){var i=this.state.positionWrapper,s=this.props,a=s.children,l=s.open,c=s.target;this._isMounted=!0,Vy({title:"init",data:{hasChildren:!!a,hasTarget:!!c,isControlled:ie.boolean(l),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!a&&c&&ie.boolean(l)}}},{key:"componentDidUpdate",value:function(i,s){if(Ea()){var a=this.props,l=a.autoOpen,c=a.open,u=a.target,d=a.wrapperOptions,f=Kme(s,this.state),h=f.changedFrom,p=f.changed;if(i.open!==c){var g;ie.boolean(c)&&(g=c?Nt.OPENING:Nt.CLOSING),this.toggle(g)}(i.wrapperOptions.position!==d.position||i.target!==u)&&this.changeWrapperPosition(this.props),p("status",Nt.IDLE)&&c?this.toggle(Nt.OPEN):h("status",Nt.INIT,Nt.IDLE)&&l&&this.toggle(Nt.OPEN),this.popper&&p("status",Nt.OPENING)&&this.popper.instance.update(),this.floaterRef&&(p("status",Nt.OPENING)||p("status",Nt.CLOSING))&&cge(this.floaterRef,"transitionend",this.handleTransitionEnd),p("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Ea()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,a=this.state.positionWrapper,l=this.props,c=l.disableFlip,u=l.getPopper,d=l.hideArrow,f=l.offset,h=l.placement,p=l.wrapperOptions,g=h==="top"||h==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(h==="center")this.setState({status:Nt.IDLE});else if(s&&this.floaterRef){var m=this.options,v=m.arrow,b=m.flip,x=m.offset,w=qV(m,hge);new jg(s,this.floaterRef,{placement:h,modifiers:mr({arrow:mr({enabled:!d,element:this.arrowRef},v),flip:mr({enabled:!c,behavior:g},b),offset:mr({offset:"0, ".concat(f,"px")},x)},w),onCreate:function(j){var k;if(i.popper=j,!((k=i.floaterRef)!==null&&k!==void 0&&k.isConnected)){i.setState({needsUpdate:!0});return}u(j,"floater"),i._isMounted&&i.setState({currentPlacement:j.placement,status:Nt.IDLE}),h!==j.placement&&setTimeout(function(){j.instance.update()},1)},onUpdate:function(j){i.popper=j;var k=i.state.currentPlacement;i._isMounted&&j.placement!==k&&i.setState({currentPlacement:j.placement})}})}if(a){var _=ie.undefined(p.offset)?0:p.offset;new jg(this.target,this.wrapperRef,{placement:p.placement||h,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(_,"px")},flip:{enabled:!1}},onCreate:function(j){i.wrapperPopper=j,i._isMounted&&i.setState({statusWrapper:Nt.IDLE}),u(j,"wrapper"),h!==j.placement&&setTimeout(function(){j.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var s;(s=i.floaterRef)!==null&&s!==void 0&&s.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var s=i.target,a=i.wrapperOptions;this.setState({positionWrapper:a.position&&!!s})}},{key:"toggle",value:function(i){var s=this.state.status,a=s===Nt.OPEN?Nt.CLOSING:Nt.OPENING;ie.undefined(i)||(a=i),this.setState({status:a})}},{key:"debug",get:function(){var i=this.props.debug;return i||Ea()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,s=i.disableHoverToClick,a=i.event;return a==="hover"&&H1()&&!s?"click":a}},{key:"options",get:function(){var i=this.props.options;return Xs(ege,i||{})}},{key:"styles",get:function(){var i=this,s=this.state,a=s.status,l=s.positionWrapper,c=s.statusWrapper,u=this.props.styles,d=Xs(fge(u),u);if(l){var f;[Nt.IDLE].indexOf(a)===-1||[Nt.IDLE].indexOf(c)===-1?f=d.wrapperPosition:f=this.wrapperPopper.styles,d.wrapper=mr(mr({},d.wrapper),f)}if(this.target){var h=window.getComputedStyle(this.target);this.wrapperStyles?d.wrapper=mr(mr({},d.wrapper),this.wrapperStyles):["relative","static"].indexOf(h.position)===-1&&(this.wrapperStyles={},l||(pge.forEach(function(p){i.wrapperStyles[p]=h[p]}),d.wrapper=mr(mr({},d.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return d}},{key:"target",get:function(){if(!Ea())return null;var i=this.props.target;return i?ie.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,s=i.currentPlacement,a=i.positionWrapper,l=i.status,c=this.props,u=c.children,d=c.component,f=c.content,h=c.disableAnimation,p=c.footer,g=c.hideArrow,m=c.id,v=c.open,b=c.showCloseButton,x=c.style,w=c.target,_=c.title,N=T.createElement(ZV,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:x,styles:this.styles.wrapper},u),j={};return a?j.wrapperInPortal=N:j.wrapperAsChildren=N,T.createElement("span",null,T.createElement(KV,{hasChildren:!!u,id:m,placement:s,setRef:this.setFloaterRef,target:w,zIndex:this.styles.options.zIndex},T.createElement(QV,{component:d,content:f,disableAnimation:h,footer:p,handleClick:this.handleClick,hideArrow:g||s==="center",open:v,placement:s,positionWrapper:a,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:b,status:l,styles:this.styles,title:_}),j.wrapperInPortal),j.wrapperAsChildren)}}]),r}(T.Component);An(eT,"propTypes",{autoOpen:ce.bool,callback:ce.func,children:ce.node,component:g$(ce.oneOfType([ce.func,ce.element]),function(e){return!e.content}),content:g$(ce.node,function(e){return!e.component}),debug:ce.bool,disableAnimation:ce.bool,disableFlip:ce.bool,disableHoverToClick:ce.bool,event:ce.oneOf(["hover","click"]),eventDelay:ce.number,footer:ce.node,getPopper:ce.func,hideArrow:ce.bool,id:ce.oneOfType([ce.string,ce.number]),offset:ce.number,open:ce.bool,options:ce.object,placement:ce.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:ce.bool,style:ce.object,styles:ce.object,target:ce.oneOfType([ce.object,ce.string]),title:ce.node,wrapperOptions:ce.shape({offset:ce.number,placement:ce.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:ce.bool})});An(eT,"defaultProps",{autoOpen:!1,callback:v$,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:v$,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var mge=Object.defineProperty,gge=(e,t,r)=>t in e?mge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,De=(e,t,r)=>gge(e,typeof t!="symbol"?t+"":t,r),Rt={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Bi={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},pt={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},gt={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Ol(){var e;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement))}function e9(e){return e?e.getBoundingClientRect():null}function vge(e=!1){const{body:t,documentElement:r}=document;if(!t||!r)return 0;if(e){const n=[t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight].sort((s,a)=>s-a),i=Math.floor(n.length/2);return n.length%2===0?(n[i-1]+n[i])/2:n[i]}return Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}function No(e){if(typeof e=="string")try{return document.querySelector(e)}catch{return null}return e}function yge(e){return!e||e.nodeType!==1?null:getComputedStyle(e)}function Sg(e,t,r){if(!e)return nu();const n=SV(e);if(n){if(n.isSameNode(nu()))return r?document:nu();if(!(n.scrollHeight>n.offsetHeight)&&!t)return n.style.overflow="initial",nu()}return n}function y_(e,t){if(!e)return!1;const r=Sg(e,t);return r?!r.isSameNode(nu()):!1}function xge(e){return e.offsetParent!==document.body}function ih(e,t="fixed"){if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:r}=e,n=yge(e);return r==="BODY"||r==="HTML"?!1:n&&n.position===t?!0:e.parentNode?ih(e.parentNode,t):!1}function bge(e){var t;if(!e)return!1;let r=e;for(;r&&r!==document.body;){if(r instanceof HTMLElement){const{display:n,visibility:i}=getComputedStyle(r);if(n==="none"||i==="hidden")return!1}r=(t=r.parentElement)!=null?t:null}return!0}function wge(e,t,r){var n,i,s;const a=e9(e),l=Sg(e,r),c=y_(e,r),u=ih(e);let d=0,f=(n=a==null?void 0:a.top)!=null?n:0;if(c&&u){const h=(i=e==null?void 0:e.offsetTop)!=null?i:0,p=(s=l==null?void 0:l.scrollTop)!=null?s:0;f=h-p}else l instanceof HTMLElement&&(d=l.scrollTop,!c&&!ih(e)&&(f+=d),l.isSameNode(nu())||(f+=nu().scrollTop));return Math.floor(f-t)}function _ge(e,t,r){var n;if(!e)return 0;const{offsetTop:i=0,scrollTop:s=0}=(n=SV(e))!=null?n:{};let a=e.getBoundingClientRect().top+s;i&&(y_(e,r)||xge(e))&&(a-=i);const l=Math.floor(a-t);return l<0?0:l}function nu(){var e;return(e=document.scrollingElement)!=null?e:document.documentElement}function jge(e,t){const{duration:r,element:n}=t;return new Promise((i,s)=>{const{scrollTop:a}=n,l=e>a?e-a:a-e;kpe.top(n,e,{duration:l<100?50:r},c=>c&&c.message!=="Element already at target scroll position"?s(c):i())})}var Wp=ea.createPortal!==void 0;function t9(e=navigator.userAgent){let t=e;return typeof window>"u"?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":window.opera||e.includes(" OPR/")?t="opera":typeof window.InstallTrigger<"u"?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function Wx(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function Pa(e,t={}){const{defaultValue:r,step:n,steps:i}=t;let s=t$(e);if(s)(s.includes("{step}")||s.includes("{steps}"))&&n&&i&&(s=s.replace("{step}",n.toString()).replace("{steps}",i.toString()));else if(y.isValidElement(e)&&!Object.values(e.props).length&&Wx(e.type)==="function"){const a=e.type({});s=Pa(a,t)}else s=t$(r);return s}function Sge(e,t){return!pn.plainObject(e)||!pn.array(t)?!1:Object.keys(e).every(r=>t.includes(r))}function Nge(e){const t=/^#?([\da-f])([\da-f])([\da-f])$/i,r=e.replace(t,(i,s,a,l)=>s+s+a+a+l+l),n=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(r);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function y$(e){return e.disableBeacon||e.placement==="center"}function x$(){return!["chrome","safari","firefox","opera"].includes(t9())}function Fu({data:e,debug:t=!1,title:r,warn:n=!1}){const i=n?console.warn||console.error:console.log;t&&(r&&e?(console.groupCollapsed(`%creact-joyride: ${r}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach(s=>{pn.plainObject(s)&&s.key?i.apply(console,[s.key,s.value]):i.apply(console,[s])}):i.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function kge(e){return Object.keys(e)}function r9(e,...t){if(!pn.plainObject(e))throw new TypeError("Expected an object");const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&(t.includes(n)||(r[n]=e[n]));return r}function Cge(e,...t){if(!pn.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const r={};for(const n in e)({}).hasOwnProperty.call(e,n)&&t.includes(n)&&(r[n]=e[n]);return r}function zk(e,t,r){const n=s=>s.replace("{step}",String(t)).replace("{steps}",String(r));if(Wx(e)==="string")return n(e);if(!y.isValidElement(e))return e;const{children:i}=e.props;if(Wx(i)==="string"&&i.includes("{step}"))return y.cloneElement(e,{children:n(i)});if(Array.isArray(i))return y.cloneElement(e,{children:i.map(s=>typeof s=="string"?n(s):zk(s,t,r))});if(Wx(e.type)==="function"&&!Object.values(e.props).length){const s=e.type({});return zk(s,t,r)}return e}function Oge(e){const{isFirstStep:t,lifecycle:r,previousLifecycle:n,scrollToFirstStep:i,step:s,target:a}=e;return!s.disableScrolling&&(!t||i||r===pt.TOOLTIP)&&s.placement!=="center"&&(!s.isFixed||!ih(a))&&n!==r&&[pt.BEACON,pt.TOOLTIP].includes(r)}var Ege={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},n9={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},Pge={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:n9,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},Tge={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},Age={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Vp={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},b$={borderRadius:4,position:"absolute"};function Mge(e,t){var r,n,i,s,a;const{floaterProps:l,styles:c}=e,u=Xs((r=t.floaterProps)!=null?r:{},l??{}),d=Xs(c??{},(n=t.styles)!=null?n:{}),f=Xs(Age,d.options||{}),h=t.placement==="center"||t.disableBeacon;let{width:p}=f;window.innerWidth>480&&(p=380),"width"in f&&(p=typeof f.width=="number"&&window.innerWidth<f.width?window.innerWidth-30:f.width);const g={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:f.zIndex},m={beacon:{...Vp,display:h?"none":"inline-block",height:f.beaconSize,position:"relative",width:f.beaconSize,zIndex:f.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:f.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${Nge(f.primaryColor).join(",")}, 0.2)`,border:`2px solid ${f.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:f.backgroundColor,borderRadius:5,boxSizing:"border-box",color:f.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:p},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Vp,backgroundColor:f.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Vp,color:f.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Vp,color:f.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Vp,color:f.textColor,fontSize:14},overlay:{...g,backgroundColor:f.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...g},overlayLegacyCenter:{...g,backgroundColor:f.overlayColor},spotlight:{...b$,backgroundColor:"gray"},spotlightLegacy:{...b$,boxShadow:`0 0 0 9999px ${f.overlayColor}, ${f.spotlightShadow}`},floaterStyles:{arrow:{color:(a=(s=(i=u==null?void 0:u.styles)==null?void 0:i.arrow)==null?void 0:s.color)!=null?a:f.arrowColor},options:{zIndex:f.zIndex+100}},options:f};return Xs(m,d)}function Ige(e){return Cge(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function Cd(e,t){var r,n,i,s,a,l;const c=t??{},u=Xs.all([Pge,Ige(e),c],{isMergeableObject:pn.plainObject}),d=Mge(e,u),f=y_(No(u.target),u.disableScrollParentFix),h=Xs.all([Ege,(r=e.floaterProps)!=null?r:{},(n=u.floaterProps)!=null?n:{}]);return h.offset=u.offset,h.styles=Xs((i=h.styles)!=null?i:{},d.floaterStyles),h.offset+=(a=(s=e.spotlightPadding)!=null?s:u.spotlightPadding)!=null?a:0,u.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=u.placementBeacon),f&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),{...u,locale:Xs.all([n9,(l=e.locale)!=null?l:{},u.locale||{}]),floaterProps:h,styles:r9(d,"floaterStyles")}}function i9(e,t=!1){return pn.plainObject(e)?e.target?!0:(Fu({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(Fu({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function w$(e,t=!1){return pn.array(e)?e.every(r=>i9(r,t)):(Fu({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var s9={action:"init",controlled:!1,index:0,lifecycle:pt.INIT,origin:null,size:0,status:gt.IDLE},_$=kge(r9(s9,"controlled","size")),Rge=class{constructor(e){De(this,"beaconPopper"),De(this,"tooltipPopper"),De(this,"data",new Map),De(this,"listener"),De(this,"store",new Map),De(this,"addListener",i=>{this.listener=i}),De(this,"setSteps",i=>{const{size:s,status:a}=this.getState(),l={size:i.length,status:a};this.data.set("steps",i),a===gt.WAITING&&!s&&i.length&&(l.status=gt.RUNNING),this.setState(l)}),De(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),De(this,"setPopper",(i,s)=>{i==="beacon"?this.beaconPopper=s:this.tooltipPopper=s}),De(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),De(this,"close",(i=null)=>{const{index:s,status:a}=this.getState();a===gt.RUNNING&&this.setState({...this.getNextState({action:Rt.CLOSE,index:s+1,origin:i})})}),De(this,"go",i=>{const{controlled:s,status:a}=this.getState();if(s||a!==gt.RUNNING)return;const l=this.getSteps()[i];this.setState({...this.getNextState({action:Rt.GO,index:i}),status:l?a:gt.FINISHED})}),De(this,"info",()=>this.getState()),De(this,"next",()=>{const{index:i,status:s}=this.getState();s===gt.RUNNING&&this.setState(this.getNextState({action:Rt.NEXT,index:i+1}))}),De(this,"open",()=>{const{status:i}=this.getState();i===gt.RUNNING&&this.setState({...this.getNextState({action:Rt.UPDATE,lifecycle:pt.TOOLTIP})})}),De(this,"prev",()=>{const{index:i,status:s}=this.getState();s===gt.RUNNING&&this.setState({...this.getNextState({action:Rt.PREV,index:i-1})})}),De(this,"reset",(i=!1)=>{const{controlled:s}=this.getState();s||this.setState({...this.getNextState({action:Rt.RESET,index:0}),status:i?gt.RUNNING:gt.READY})}),De(this,"skip",()=>{const{status:i}=this.getState();i===gt.RUNNING&&this.setState({action:Rt.SKIP,lifecycle:pt.INIT,status:gt.SKIPPED})}),De(this,"start",i=>{const{index:s,size:a}=this.getState();this.setState({...this.getNextState({action:Rt.START,index:pn.number(i)?i:s},!0),status:a?gt.RUNNING:gt.WAITING})}),De(this,"stop",(i=!1)=>{const{index:s,status:a}=this.getState();[gt.FINISHED,gt.SKIPPED].includes(a)||this.setState({...this.getNextState({action:Rt.STOP,index:s+(i?1:0)}),status:gt.PAUSED})}),De(this,"update",i=>{var s,a;if(!Sge(i,_$))throw new Error(`State is not valid. Valid keys: ${_$.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(s=i.action)!=null?s:Rt.UPDATE,origin:(a=i.origin)!=null?a:null},!0)})});const{continuous:t=!1,stepIndex:r,steps:n=[]}=e??{};this.setState({action:Rt.INIT,controlled:pn.number(r),continuous:t,index:pn.number(r)?r:0,lifecycle:pt.INIT,origin:null,status:n.length?gt.READY:gt.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(n)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...s9}}getNextState(e,t=!1){var r,n,i,s,a;const{action:l,controlled:c,index:u,size:d,status:f}=this.getState(),h=pn.number(e.index)?e.index:u,p=c&&!t?u:Math.min(Math.max(h,0),d);return{action:(r=e.action)!=null?r:l,controlled:c,index:p,lifecycle:(n=e.lifecycle)!=null?n:pt.INIT,origin:(i=e.origin)!=null?i:null,size:(s=e.size)!=null?s:d,status:p===d?gt.FINISHED:(a=e.status)!=null?a:f}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){const t=JSON.stringify(e),r=JSON.stringify(this.getState());return t!==r}setState(e,t=!1){const r=this.getState(),{action:n,index:i,lifecycle:s,origin:a=null,size:l,status:c}={...r,...e};this.store.set("action",n),this.store.set("index",i),this.store.set("lifecycle",s),this.store.set("origin",a),this.store.set("size",l),this.store.set("status",c),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function $ge(e){return new Rge(e)}function Dge({styles:e}){return y.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})}var Lge=Dge,Fge=class extends y.Component{constructor(){super(...arguments),De(this,"isActive",!1),De(this,"resizeTimeout"),De(this,"scrollTimeout"),De(this,"scrollParent"),De(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),De(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:r}=this.props,n=[pt.INIT,pt.BEACON,pt.COMPLETE,pt.ERROR];return t||(e?n.includes(r):r!==pt.TOOLTIP)}),De(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:r,left:n,position:i,top:s,width:a}=this.spotlightStyles,l=i==="fixed"?e.clientY:e.pageY,c=i==="fixed"?e.clientX:e.pageX,u=l>=s&&l<=s+r,f=c>=n&&c<=n+a&&u;f!==t&&this.updateState({mouseOverSpotlight:f})}),De(this,"handleScroll",()=>{const{target:e}=this.props,t=No(e);if(this.scrollParent!==document){const{isScrolling:r}=this.state;r||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else ih(t,"sticky")&&this.updateState({})}),De(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:r=!1,target:n}=this.props,i=No(n);this.scrollParent=Sg(i??document.body,r,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:r,lifecycle:n,spotlightClicks:i,target:s}=this.props,{changed:a}=Jb(e,this.props);if(a("target")||a("disableScrollParentFix")){const l=No(s);this.scrollParent=Sg(l??document.body,r,!0)}a("lifecycle",pt.TOOLTIP)&&((t=this.scrollParent)==null||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:l}=this.state;l||this.updateState({showSpotlight:!0})},100)),(a("spotlightClicks")||a("disableOverlay")||a("lifecycle"))&&(i&&n===pt.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):n!==pt.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(e=this.scrollParent)==null||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:r,styles:n}=this.props;let i=n.overlay;return x$()&&(i=r==="center"?n.overlayLegacyCenter:n.overlayLegacy),{cursor:t?"default":"pointer",height:vge(),pointerEvents:e?"none":"auto",...i}}get spotlightStyles(){var e,t,r;const{showSpotlight:n}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:s,spotlightPadding:a=0,styles:l,target:c}=this.props,u=No(c),d=e9(u),f=ih(u),h=wge(u,a,i);return{...x$()?l.spotlightLegacy:l.spotlight,height:Math.round(((e=d==null?void 0:d.height)!=null?e:0)+a*2),left:Math.round(((t=d==null?void 0:d.left)!=null?t:0)-a),opacity:n?1:0,pointerEvents:s?"none":"auto",position:f?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round(((r=d==null?void 0:d.width)!=null?r:0)+a*2)}}updateState(e){this.isActive&&this.setState(t=>({...t,...e}))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:r}=this.props,{hideSpotlight:n,overlayStyles:i,spotlightStyles:s}=this;if(n())return null;let a=r!=="center"&&e&&y.createElement(Lge,{styles:s});if(t9()==="safari"){const{mixBlendMode:l,zIndex:c,...u}=i;a=y.createElement("div",{style:{...u}},a),delete i.backgroundColor}return y.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:i},a)}},Bge=class extends y.Component{constructor(){super(...arguments),De(this,"node",null)}componentDidMount(){const{id:e}=this.props;Ol()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),Wp||this.renderReact15())}componentDidUpdate(){Ol()&&(Wp||this.renderReact15())}componentWillUnmount(){!Ol()||!this.node||(Wp||ea.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Ol())return;const{children:e}=this.props;this.node&&ea.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!Ol()||!Wp)return null;const{children:e}=this.props;return this.node?ea.createPortal(e,this.node):null}render(){return Wp?this.renderReact16():null}},Uge=class{constructor(e,t){if(De(this,"element"),De(this,"options"),De(this,"canBeTabbed",r=>{const{tabIndex:n}=r;return n===null||n<0?!1:this.canHaveFocus(r)}),De(this,"canHaveFocus",r=>{const n=/input|select|textarea|button|object/,i=r.nodeName.toLowerCase();return(n.test(i)&&!r.getAttribute("disabled")||i==="a"&&!!r.getAttribute("href"))&&this.isVisible(r)}),De(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),De(this,"handleKeyDown",r=>{const{code:n="Tab"}=this.options;r.code===n&&this.interceptTab(r)}),De(this,"interceptTab",r=>{r.preventDefault();const n=this.findValidTabElements(),{shiftKey:i}=r;if(!n.length)return;let s=document.activeElement?n.indexOf(document.activeElement):0;s===-1||!i&&s+1===n.length?s=0:i&&s===0?s=n.length-1:s+=i?-1:1,n[s].focus()}),De(this,"isHidden",r=>{const n=r.offsetWidth<=0&&r.offsetHeight<=0,i=window.getComputedStyle(r);return n&&!r.innerHTML?!0:n&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),De(this,"isVisible",r=>{let n=r;for(;n;)if(n instanceof HTMLElement){if(n===document.body)break;if(this.isHidden(n))return!1;n=n.parentNode}return!0}),De(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),De(this,"checkFocus",r=>{document.activeElement!==r&&(r.focus(),window.requestAnimationFrame(()=>this.checkFocus(r)))}),De(this,"setFocus",()=>{const{selector:r}=this.options;if(!r)return;const n=this.element.querySelector(r);n&&window.requestAnimationFrame(()=>this.checkFocus(n))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},zge=class extends y.Component{constructor(e){if(super(e),De(this,"beacon",null),De(this,"setBeaconRef",i=>{this.beacon=i}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.id="joyride-beacon-animation",e.nonce&&r.setAttribute("nonce",e.nonce),r.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),t.appendChild(r)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{pn.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");e!=null&&e.parentNode&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:r,isLastStep:n,locale:i,onClickOrHover:s,size:a,step:l,styles:c}=this.props,u=Pa(i.open),d={"aria-label":u,onClick:s,onMouseEnter:s,ref:this.setBeaconRef,title:u};let f;if(e){const h=e;f=y.createElement(h,{continuous:t,index:r,isLastStep:n,size:a,step:l,...d})}else f=y.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...d},y.createElement("span",{style:c.beaconInner}),y.createElement("span",{style:c.beaconOuter}));return f}};function Wge({styles:e,...t}){const{color:r,height:n,width:i,...s}=e;return T.createElement("button",{style:s,type:"button",...t},T.createElement("svg",{height:typeof n=="number"?`${n}px`:n,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},T.createElement("g",null,T.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}var Vge=Wge;function Hge(e){const{backProps:t,closeProps:r,index:n,isLastStep:i,primaryProps:s,skipProps:a,step:l,tooltipProps:c}=e,{content:u,hideBackButton:d,hideCloseButton:f,hideFooter:h,showSkipButton:p,styles:g,title:m}=l,v={};return v.primary=y.createElement("button",{"data-test-id":"button-primary",style:g.buttonNext,type:"button",...s}),p&&!i&&(v.skip=y.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:g.buttonSkip,type:"button",...a})),!d&&n>0&&(v.back=y.createElement("button",{"data-test-id":"button-back",style:g.buttonBack,type:"button",...t})),v.close=!f&&y.createElement(Vge,{"data-test-id":"button-close",styles:g.buttonClose,...r}),y.createElement("div",{key:"JoyrideTooltip","aria-label":Pa(m??u),className:"react-joyride__tooltip",style:g.tooltip,...c},y.createElement("div",{style:g.tooltipContainer},m&&y.createElement("h1",{"aria-label":Pa(m),style:g.tooltipTitle},m),y.createElement("div",{style:g.tooltipContent},u)),!h&&y.createElement("div",{style:g.tooltipFooter},y.createElement("div",{style:g.tooltipFooterSpacer},v.skip),v.back,v.primary),v.close)}var qge=Hge,Gge=class extends y.Component{constructor(){super(...arguments),De(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),De(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),De(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:r}=this.props;if(!t){r.close("button_primary");return}r.next()}),De(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),De(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:r,setTooltipRef:n,size:i,step:s}=this.props,{back:a,close:l,last:c,next:u,nextLabelWithProgress:d,skip:f}=s.locale,h=Pa(a),p=Pa(l),g=Pa(c),m=Pa(u),v=Pa(f);let b=l,x=p;if(e){if(b=u,x=m,s.showProgress&&!r){const w=Pa(d,{step:t+1,steps:i});b=zk(d,t+1,i),x=w}r&&(b=c,x=g)}return{backProps:{"aria-label":h,children:a,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":p,children:l,"data-action":"close",onClick:this.handleClickClose,role:"button",title:p},primaryProps:{"aria-label":x,children:b,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:x},skipProps:{"aria-label":v,children:f,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:v},tooltipProps:{"aria-modal":!0,ref:n,role:"alertdialog"}}})}render(){const{continuous:e,index:t,isLastStep:r,setTooltipRef:n,size:i,step:s}=this.props,{beaconComponent:a,tooltipComponent:l,...c}=s;let u;if(l){const d={...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:i,step:c,setTooltipRef:n},f=l;u=y.createElement(f,{...d})}else u=y.createElement(qge,{...this.getElementsProps(),continuous:e,index:t,isLastStep:r,size:i,step:s});return u}},Kge=class extends y.Component{constructor(){super(...arguments),De(this,"scope",null),De(this,"tooltip",null),De(this,"handleClickHoverBeacon",e=>{const{step:t,store:r}=this.props;e.type==="mouseenter"&&t.event!=="hover"||r.update({lifecycle:pt.TOOLTIP})}),De(this,"setTooltipRef",e=>{this.tooltip=e}),De(this,"setPopper",(e,t)=>{var r;const{action:n,lifecycle:i,step:s,store:a}=this.props;t==="wrapper"?a.setPopper("beacon",e):a.setPopper("tooltip",e),a.getPopper("beacon")&&(a.getPopper("tooltip")||s.placement==="center")&&i===pt.INIT&&a.update({action:n,lifecycle:pt.READY}),(r=s.floaterProps)!=null&&r.getPopper&&s.floaterProps.getPopper(e,t)}),De(this,"renderTooltip",e=>{const{continuous:t,helpers:r,index:n,size:i,step:s}=this.props;return y.createElement(Gge,{continuous:t,helpers:r,index:n,isLastStep:n+1===i,setTooltipRef:this.setTooltipRef,size:i,step:s,...e})})}componentDidMount(){const{debug:e,index:t}=this.props;Fu({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:r,callback:n,continuous:i,controlled:s,debug:a,helpers:l,index:c,lifecycle:u,shouldScroll:d,status:f,step:h,store:p}=this.props,{changed:g,changedFrom:m}=Jb(e,this.props),v=l.info(),b=i&&r!==Rt.CLOSE&&(c>0||r===Rt.PREV),x=g("action")||g("index")||g("lifecycle")||g("status"),w=m("lifecycle",[pt.TOOLTIP,pt.INIT],pt.INIT),_=g("action",[Rt.NEXT,Rt.PREV,Rt.SKIP,Rt.CLOSE]),N=s&&c===e.index;if(_&&(w||N)&&n({...v,index:e.index,lifecycle:pt.COMPLETE,step:e.step,type:Bi.STEP_AFTER}),h.placement==="center"&&f===gt.RUNNING&&g("index")&&r!==Rt.START&&u===pt.INIT&&p.update({lifecycle:pt.READY}),x){const j=No(h.target),k=!!j;k&&bge(j)?(m("status",gt.READY,gt.RUNNING)||m("lifecycle",pt.INIT,pt.READY))&&n({...v,step:h,type:Bi.STEP_BEFORE}):(console.warn(k?"Target not visible":"Target not mounted",h),n({...v,type:Bi.TARGET_NOT_FOUND,step:h}),s||p.update({index:c+(r===Rt.PREV?-1:1)}))}m("lifecycle",pt.INIT,pt.READY)&&p.update({lifecycle:y$(h)||b?pt.TOOLTIP:pt.BEACON}),g("index")&&Fu({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:a}),g("lifecycle",pt.BEACON)&&n({...v,step:h,type:Bi.BEACON}),g("lifecycle",pt.TOOLTIP)&&(n({...v,step:h,type:Bi.TOOLTIP}),d&&this.tooltip&&(this.scope=new Uge(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),m("lifecycle",[pt.TOOLTIP,pt.INIT],pt.INIT)&&((t=this.scope)==null||t.removeScope(),p.cleanupPoppers())}componentWillUnmount(){var e;(e=this.scope)==null||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return y$(t)||e===pt.TOOLTIP}render(){const{continuous:e,debug:t,index:r,nonce:n,shouldScroll:i,size:s,step:a}=this.props,l=No(a.target);return!i9(a)||!pn.domElement(l)?null:y.createElement("div",{key:`JoyrideStep-${r}`,className:"react-joyride__step"},y.createElement(eT,{...a.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${r}`,open:this.open,placement:a.placement,target:a.target},y.createElement(zge,{beaconComponent:a.beaconComponent,continuous:e,index:r,isLastStep:r+1===s,locale:a.locale,nonce:n,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:s,step:a,styles:a.styles})))}},a9=class extends y.Component{constructor(e){super(e),De(this,"helpers"),De(this,"store"),De(this,"callback",a=>{const{callback:l}=this.props;pn.function(l)&&l(a)}),De(this,"handleKeyboard",a=>{const{index:l,lifecycle:c}=this.state,{steps:u}=this.props,d=u[l];c===pt.TOOLTIP&&a.code==="Escape"&&d&&!d.disableCloseOnEsc&&this.store.close("keyboard")}),De(this,"handleClickOverlay",()=>{const{index:a}=this.state,{steps:l}=this.props;Cd(this.props,l[a]).disableOverlayClose||this.helpers.close("overlay")}),De(this,"syncState",a=>{this.setState(a)});const{debug:t,getHelpers:r,run:n=!0,stepIndex:i}=e;this.store=$ge({...e,controlled:n&&pn.number(i)}),this.helpers=this.store.getHelpers();const{addListener:s}=this.store;Fu({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),s(this.syncState),r&&r(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Ol())return;const{debug:e,disableCloseOnEsc:t,run:r,steps:n}=this.props,{start:i}=this.store;w$(n,e)&&r&&i(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!Ol())return;const{action:r,controlled:n,index:i,status:s}=this.state,{debug:a,run:l,stepIndex:c,steps:u}=this.props,{stepIndex:d,steps:f}=e,{reset:h,setSteps:p,start:g,stop:m,update:v}=this.store,{changed:b}=Jb(e,this.props),{changed:x,changedFrom:w}=Jb(t,this.state),_=Cd(this.props,u[i]),N=!Qn(f,u),j=pn.number(c)&&b("stepIndex"),k=No(_.target);if(N&&(w$(u,a)?p(u):console.warn("Steps are not valid",u)),b("run")&&(l?g(c):m()),j){let A=pn.number(d)&&d<c?Rt.NEXT:Rt.PREV;r===Rt.STOP&&(A=Rt.START),[gt.FINISHED,gt.SKIPPED].includes(s)||v({action:r===Rt.CLOSE?Rt.CLOSE:A,index:c,lifecycle:pt.INIT})}!n&&s===gt.RUNNING&&i===0&&!k&&(this.store.update({index:i+1}),this.callback({...this.state,type:Bi.TARGET_NOT_FOUND,step:_}));const C={...this.state,index:i,step:_};if(x("action",[Rt.NEXT,Rt.PREV,Rt.SKIP,Rt.CLOSE])&&x("status",gt.PAUSED)){const A=Cd(this.props,u[t.index]);this.callback({...C,index:t.index,lifecycle:pt.COMPLETE,step:A,type:Bi.STEP_AFTER})}if(x("status",[gt.FINISHED,gt.SKIPPED])){const A=Cd(this.props,u[t.index]);n||this.callback({...C,index:t.index,lifecycle:pt.COMPLETE,step:A,type:Bi.STEP_AFTER}),this.callback({...C,type:Bi.TOUR_END,step:A,index:t.index}),h()}else w("status",[gt.IDLE,gt.READY],gt.RUNNING)?this.callback({...C,type:Bi.TOUR_START}):(x("status")||x("action",Rt.RESET))&&this.callback({...C,type:Bi.TOUR_STATUS});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:r,status:n}=this.state,{debug:i,disableScrollParentFix:s=!1,scrollDuration:a,scrollOffset:l=20,scrollToFirstStep:c=!1,steps:u}=this.props,d=Cd(this.props,u[t]),f=No(d.target),h=Oge({isFirstStep:t===0,lifecycle:r,previousLifecycle:e.lifecycle,scrollToFirstStep:c,step:d,target:f});if(n===gt.RUNNING&&h){const p=y_(f,s),g=Sg(f,s);let m=Math.floor(_ge(f,l,s))||0;Fu({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:r},{key:"status",value:n}],debug:i});const v=this.store.getPopper("beacon"),b=this.store.getPopper("tooltip");if(r===pt.BEACON&&v){const{offsets:x,placement:w}=v;!["bottom"].includes(w)&&!p&&(m=Math.floor(x.popper.top-l))}else if(r===pt.TOOLTIP&&b){const{flipped:x,offsets:w,placement:_}=b;["top","right","left"].includes(_)&&!x&&!p?m=Math.floor(w.popper.top-l):m-=d.spotlightPadding}m=m>=0?m:0,n===gt.RUNNING&&jge(m,{element:g,duration:a}).then(()=>{setTimeout(()=>{var x;(x=this.store.getPopper("tooltip"))==null||x.instance.update()},10)})}}render(){if(!Ol())return null;const{index:e,lifecycle:t,status:r}=this.state,{continuous:n=!1,debug:i=!1,nonce:s,scrollToFirstStep:a=!1,steps:l}=this.props,c=r===gt.RUNNING,u={};if(c&&l[e]){const d=Cd(this.props,l[e]);u.step=y.createElement(Kge,{...this.state,callback:this.callback,continuous:n,debug:i,helpers:this.helpers,nonce:s,shouldScroll:!d.disableScrolling&&(e!==0||a),step:d,store:this.store}),u.overlay=y.createElement(Bge,{id:"react-joyride-portal"},y.createElement(Fge,{...d,continuous:n,debug:i,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return y.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};De(a9,"defaultProps",Tge);var Yge=a9;const Jge=({onComplete:e})=>{const{user:t}=Lr(),[r,n]=y.useState(!1),[i,s]=y.useState(0);y.useEffect(()=>{if(!t)return;const c=`quadcare_patient_tour_completed_${t.id}`;if(!localStorage.getItem(c)){const d=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(d)}},[t]);const a=[{target:"body",content:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"Welcome to Quadcare! "}),o.jsx("p",{className:"text-sm text-gray-600",children:"Let us show you around your patient dashboard. This quick tour will help you get started."})]}),placement:"center",disableBeacon:!0},{target:'[data-tour="chat-tab"]',content:o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:" Chat with Reception"}),o.jsx("p",{className:"text-sm text-gray-600",children:"This is where you can start a conversation with our reception team to book appointments, ask questions, or get help."})]}),placement:"bottom",disableBeacon:!0},{target:'[data-tour="new-chat-button"]',content:o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:" Start a New Chat"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click this button to start a new conversation. Tell us what you need - whether it's booking a consultation, getting a script, or asking a question."})]}),placement:"bottom",disableBeacon:!0},{target:'[data-tour="consultations-tab"]',content:o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:" Your Consultations"}),o.jsx("p",{className:"text-sm text-gray-600",children:`View your upcoming and past video consultations here. When it's time for your appointment, click "Join" to start the video call.`})]}),placement:"bottom",disableBeacon:!0},{target:'[data-tour="profile-tab"]',content:o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:" Your Profile"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Keep your personal information and medical details up to date. This helps us provide better care."})]}),placement:"bottom",disableBeacon:!0},{target:"body",content:o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"text-lg font-bold mb-2",children:"You're All Set! "}),o.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Ready to book your first consultation? Start by clicking ",o.jsx("strong",{children:'"New Chat"'})," and tell us how we can help."]}),o.jsx("p",{className:"text-xs text-gray-400",children:"You can always access help from the menu if you need it."})]}),placement:"center",disableBeacon:!0}],l=c=>{const{status:u,action:d,index:f,type:h}=c;if((h===Bi.STEP_AFTER||h===Bi.TARGET_NOT_FOUND)&&s(f+(d===Rt.PREV?-1:1)),u===gt.FINISHED||u===gt.SKIPPED){if(n(!1),t){const p=`quadcare_patient_tour_completed_${t.id}`;localStorage.setItem(p,"true")}e==null||e()}};return o.jsx(Yge,{steps:a,run:r,stepIndex:i,continuous:!0,showProgress:!0,showSkipButton:!0,hideCloseButton:!1,scrollToFirstStep:!0,spotlightClicks:!0,disableOverlayClose:!0,callback:l,locale:{back:"Back",close:"Close",last:"Get Started!",next:"Next",skip:"Skip Tour"},styles:{options:{primaryColor:"#2563eb",zIndex:1e4,arrowColor:"#fff",backgroundColor:"#fff",textColor:"#333",overlayColor:"rgba(0, 0, 0, 0.6)"},spotlight:{borderRadius:8},tooltip:{borderRadius:12,padding:20},tooltipContent:{padding:"10px 0"},buttonNext:{backgroundColor:"#2563eb",borderRadius:8,padding:"10px 20px",fontSize:14,fontWeight:600},buttonBack:{color:"#666",marginRight:10,fontSize:14},buttonSkip:{color:"#999",fontSize:13},buttonClose:{display:"none"}},floaterProps:{styles:{floater:{filter:"drop-shadow(0 4px 20px rgba(0, 0, 0, 0.15))"}}}})},Xge=()=>{var W;const e=Wn(),t=to(),{user:r,profile:n,signOut:i,onboardingComplete:s,isLoading:a}=Lr(),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(!0),[p,g]=y.useState(!1),[m,v]=y.useState("chat"),[b,x]=y.useState(null),[w,_]=y.useState(!1),[N,j]=y.useState(null),[k,C]=y.useState(!1),[P,A]=y.useState(!0),I=F=>{x(F),_(!0)},M=async(F,D)=>{D==null||D.stopPropagation(),j(F);try{await wo.downloadInvoicePDF(F,`invoice_${F.slice(0,8)}.pdf`),oe.success("Invoice downloaded successfully")}catch(R){console.error("Failed to download invoice:",R),oe.error("Failed to download invoice")}finally{j(null)}},z=(W=t.state)==null?void 0:W.justOnboarded;y.useEffect(()=>{if(z){console.log("[PatientDashboard] User just completed onboarding, skipping redirect check");return}!a&&!s&&(console.log("[PatientDashboard] Onboarding not complete, redirecting..."),e("/onboarding"))},[a,s,e,z]),y.useEffect(()=>{!a&&s&&(async()=>{if(!r){A(!1);return}try{const D=await Ev.getUrl(r.id);if(!(D!=null&&D.photo_url)){const{data:R}=await Ie.from("profiles").select("corporate_client_id, profile_photo_path").eq("id",r.id).single();R!=null&&R.corporate_client_id&&!(R!=null&&R.profile_photo_path)&&C(!0)}}catch(D){console.error("Error checking profile photo:",D)}finally{A(!1)}})()},[r,a,s]);const L=async()=>{if(r)try{const{data:F,error:D}=await Ie.from("appointments").select("id, scheduled_at, consultation_type, status, clinician_id").eq("patient_id",r.id).in("status",["pending","confirmed","in_progress"]).order("scheduled_at",{ascending:!1}).limit(10);if(!D&&F&&F.length>0){const R=F.map(te=>te.clinician_id),[B,K]=await Promise.all([Ie.from("profiles").select("id, first_name, last_name").in("id",R),Ie.from("clinician_profiles").select("id, specialization").in("id",R)]),ee=F.map(te=>{var E,U;const S=(E=B.data)==null?void 0:E.find($=>$.id===te.clinician_id),O=(U=K.data)==null?void 0:U.find($=>$.id===te.clinician_id);return{id:te.id,scheduled_at:te.scheduled_at,consultation_type:te.consultation_type,status:te.status,clinician_name:S?`${S.first_name} ${S.last_name}`:"Unknown",specialization:(O==null?void 0:O.specialization)||null}});c(ee)}else c([])}catch(F){console.error("Error fetching appointments:",F)}};return y.useEffect(()=>{(async()=>{if(r)try{await L();try{const D=await wo.getMyInvoices();d(D||[])}catch(D){console.log("No invoices or error fetching:",D)}}catch(D){console.error("Error fetching data:",D)}finally{h(!1)}})()},[r]),y.useEffect(()=>{if(!r)return;const F=Ie.channel("patient-appointments").on("postgres_changes",{event:"INSERT",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},D=>{console.log("[PatientDashboard] New appointment created:",D),L()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},D=>{console.log("[PatientDashboard] Appointment updated:",D),c(R=>R.map(B=>B.id===D.new.id?{...B,status:D.new.status}:B))}).subscribe();return()=>{Ie.removeChannel(F)}},[r]),a?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Zhe,{isOpen:k,onComplete:()=>C(!1),userName:(n==null?void 0:n.first_name)||"there"}),o.jsx(Jge,{}),o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),o.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{if(r){const F=`quadcare_patient_tour_completed_${r.id}`;localStorage.removeItem(F),window.location.reload()}},title:"Show tour again",children:o.jsx(bee,{className:"w-4 h-4"})}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:i,children:[o.jsx(rc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>g(!p),children:p?o.jsx(Za,{className:"w-5 h-5"}):o.jsx(bv,{className:"w-5 h-5"})})]}),p&&o.jsx("div",{className:"sm:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:i,className:"justify-start",children:[o.jsx(rc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-6",children:[o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Patient Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your healthcare journey"})]}),o.jsxs(tl,{value:m,onValueChange:v,className:"space-y-4",children:[o.jsxs(ro,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[o.jsxs(Bt,{value:"chat",className:"flex items-center gap-2","data-tour":"chat-tab",children:[o.jsx(Au,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Chat"})]}),o.jsxs(Bt,{value:"consultations",className:"flex items-center gap-2","data-tour":"consultations-tab",children:[o.jsx(hr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Consultations"})]}),o.jsxs(Bt,{value:"profile",className:"flex items-center gap-2","data-tour":"profile-tab",children:[o.jsx(Dr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Profile"})]})]}),o.jsx(fr,{value:"chat",className:"min-h-[600px]",children:o.jsx(Qhe,{})}),o.jsxs(fr,{value:"consultations",className:"space-y-6",children:[o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(nr,{className:"w-5 h-5 text-primary"}),"Upcoming Consultations"]}),o.jsx(Oe,{children:"Your scheduled video consultations"})]}),o.jsx(de,{children:f?o.jsx("div",{className:"space-y-4",children:[1,2].map(F=>o.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},F))}):l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Dt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No upcoming consultations"}),o.jsx("p",{className:"text-sm mt-2",children:"Start a chat to book your first consultation"})]}):o.jsx("div",{className:"space-y-4",children:l.map(F=>{const D=new Date(F.scheduled_at),R=new Date,B=(D.getTime()-R.getTime())/(1e3*60),K=F.status==="in_progress"||F.status==="confirmed"&&B<=15&&B>=-60;return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border border-border hover:border-primary/50 transition-colors gap-3",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:o.jsx(Dt,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:F.clinician_name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:F.specialization||"General Consultation"})]})]}),o.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 pl-16 sm:pl-0",children:[o.jsxs("div",{className:"text-left sm:text-right",children:[o.jsx("p",{className:"font-medium",children:vi(F.scheduled_at,"MMM d, yyyy")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:vi(F.scheduled_at,"h:mm a")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[K&&o.jsxs(Z,{size:"sm",onClick:()=>e(`/consultation?appointment=${F.id}`),className:F.status==="in_progress"?"animate-pulse":"",children:[o.jsx(hr,{className:"w-4 h-4 mr-1"}),F.status==="in_progress"?"Join Now":"Join"]}),o.jsx(Ce,{variant:F.status==="confirmed"?"default":F.status==="in_progress"?"destructive":"secondary",children:F.status==="in_progress"?" Live":F.status})]})]})]},F.id)})})})]}),o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-5 h-5 text-primary"}),"Prescriptions"]}),o.jsx(Oe,{children:"Your prescription history"})]}),o.jsx(de,{children:o.jsx(Xhe,{})})]})]}),o.jsxs(fr,{value:"profile",className:"space-y-6",children:[o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),o.jsx(Oe,{children:"Your profile details"})]}),o.jsxs(de,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Name"}),o.jsxs("p",{className:"font-medium",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:(n==null?void 0:n.phone)||"Not provided"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-medium",children:r==null?void 0:r.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"ID Number"}),o.jsx("p",{className:"font-medium",children:(n==null?void 0:n.id_number)||"Not provided"})]})]}),o.jsxs(Z,{variant:"outline",className:"mt-4",onClick:()=>e("/onboarding"),children:[o.jsx(Dx,{className:"w-4 h-4 mr-2"}),"Update Profile"]})]})]}),o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(d1,{className:"w-5 h-5 text-primary"}),"Invoices"]}),o.jsx(Oe,{children:"Your billing history"})]}),o.jsx(de,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(d1,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No invoices yet"})]}):o.jsx("div",{className:"space-y-3",children:u.map(F=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>I(F),children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:F.service_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[vi(F.consultation_date,"MMM d, yyyy"),"  ",F.clinician_name]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-medium",children:["R ",F.amount.toFixed(2)]}),o.jsx(Ce,{variant:F.status==="paid"?"default":"secondary",children:F.status})]}),o.jsx(Z,{variant:"outline",size:"sm",onClick:D=>M(F.id,D),disabled:N===F.id,children:N===F.id?o.jsx(et,{className:"w-4 h-4 animate-spin"}):o.jsx(yu,{className:"w-4 h-4"})})]})]},F.id))})})]}),o.jsx(ni,{open:w,onOpenChange:_,children:o.jsxs(Un,{className:"sm:max-w-md",children:[o.jsxs(ii,{children:[o.jsxs(si,{className:"flex items-center gap-2",children:[o.jsx(d1,{className:"w-5 h-5 text-primary"}),"Invoice Details"]}),o.jsxs(Go,{children:["Invoice #",b==null?void 0:b.id.slice(0,8).toUpperCase()]})]}),b&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx("h3",{className:"font-semibold text-lg",children:b.service_name}),o.jsx("p",{className:"text-muted-foreground",children:"Consultation Service"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-medium",children:vi(b.consultation_date,"MMMM d, yyyy")})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinician"}),o.jsx("p",{className:"font-medium",children:b.clinician_name})]})]}),o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Amount Due"}),o.jsxs("span",{className:"text-2xl font-bold",children:["R ",b.amount.toFixed(2)]})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsx(Ce,{variant:b.status==="paid"?"default":"secondary",className:"text-sm",children:b.status==="paid"?" Paid":b.status}),o.jsxs(Z,{variant:"outline",size:"sm",onClick:F=>M(b.id,F),disabled:N===b.id,children:[N===b.id?o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(yu,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),b.status!=="paid"&&o.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:o.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Please contact our reception to arrange payment."})})]})]})})]})]})]})]})},Qge=()=>o.jsx(vW,{children:o.jsx(Xge,{})});var tT="Radio",[Zge,o9]=kn(tT),[eve,tve]=Zge(tT),l9=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:a,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=y.useState(null),p=rt(t,v=>h(v)),g=y.useRef(!1),m=f?u||!!f.closest("form"):!0;return o.jsxs(eve,{scope:r,checked:i,disabled:a,children:[o.jsx(Fe.button,{type:"button",role:"radio","aria-checked":i,"data-state":f9(i),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:p,onClick:ge(e.onClick,v=>{i||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&o.jsx(d9,{control:f,bubbles:!g.current,name:n,value:l,checked:i,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});l9.displayName=tT;var c9="RadioIndicator",u9=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,s=tve(c9,r);return o.jsx(nn,{present:n||s.checked,children:o.jsx(Fe.span,{"data-state":f9(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});u9.displayName=c9;var rve="RadioBubbleInput",d9=y.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const a=y.useRef(null),l=rt(a,s),c=s_(r),u=qw(t);return y.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx(Fe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});d9.displayName=rve;function f9(e){return e?"checked":"unchecked"}var nve=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],x_="RadioGroup",[ive]=kn(x_,[ep,o9]),h9=ep(),p9=o9(),[sve,ave]=ive(x_),m9=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=h9(r),g=Qh(u),[m,v]=aa({prop:s,defaultProp:i??null,onChange:f,caller:x_});return o.jsx(sve,{scope:r,name:n,required:a,disabled:l,value:m,onValueChange:v,children:o.jsx(OP,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:o.jsx(Fe.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});m9.displayName=x_;var g9="RadioGroupItem",v9=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,s=ave(g9,r),a=s.disabled||n,l=h9(r),c=p9(r),u=y.useRef(null),d=rt(t,u),f=s.value===i.value,h=y.useRef(!1);return y.useEffect(()=>{const p=m=>{nve.includes(m.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),o.jsx(EP,{asChild:!0,...l,focusable:!a,active:f,children:o.jsx(l9,{disabled:a,required:s.required,checked:f,...c,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:ge(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ge(i.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});v9.displayName=g9;var ove="RadioGroupIndicator",y9=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=p9(r);return o.jsx(u9,{...i,...n,ref:t})});y9.displayName=ove;var x9=m9,b9=v9,lve=y9;const Ng=y.forwardRef(({className:e,...t},r)=>o.jsx(x9,{className:_e("grid gap-2",e),...t,ref:r}));Ng.displayName=x9.displayName;const Fa=y.forwardRef(({className:e,...t},r)=>o.jsx(b9,{ref:r,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(lve,{className:"flex items-center justify-center",children:o.jsx(MU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Fa.displayName=b9.displayName;function cve(e,t=[]){let r=[];function n(s,a){const l=y.createContext(a);l.displayName=s+"Context";const c=r.length;r=[...r,a];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(a=>y.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,uve(i,...t)]}function uve(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var dve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w9=dve.reduce((e,t)=>{const r=Nv(`Primitive.${t}`),n=y.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),rT="Progress",nT=100,[fve]=cve(rT),[hve,pve]=fve(rT),_9=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=mve,...a}=e;(i||i===0)&&!j$(i)&&console.error(gve(`${i}`,"Progress"));const l=j$(i)?i:nT;n!==null&&!S$(n,l)&&console.error(vve(`${n}`,"Progress"));const c=S$(n,l)?n:null,u=e0(c)?s(c,l):void 0;return o.jsx(hve,{scope:r,value:c,max:l,children:o.jsx(w9.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":e0(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":N9(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});_9.displayName=rT;var j9="ProgressIndicator",S9=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=pve(j9,r);return o.jsx(w9.div,{"data-state":N9(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});S9.displayName=j9;function mve(e,t){return`${Math.round(e/t*100)}%`}function N9(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function e0(e){return typeof e=="number"}function j$(e){return e0(e)&&!isNaN(e)&&e>0}function S$(e,t){return e0(e)&&!isNaN(e)&&e<=t&&e>=0}function gve(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${nT}\`.`}function vve(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${nT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var k9=_9,yve=S9;const Bu=y.forwardRef(({className:e,value:t,...r},n)=>o.jsx(k9,{ref:n,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(yve,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Bu.displayName=k9.displayName;const N$="",xve={General:Fee,"Head & Neurological":Wf,"Eyes, Ears, Nose, Throat":Rx,Respiratory:Xd,Cardiovascular:HE,Gastrointestinal:vs,Urinary:Xd,Musculoskeletal:Xd,Skin:Xd,"Mental Health":Wf},k$={emergency:{color:"text-red-600",bgColor:"bg-red-100",label:"EMERGENCY"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100",label:"Urgent"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Soon"},routine:{color:"text-green-600",bgColor:"bg-green-100",label:"Routine"}},bve=({onComplete:e,onBack:t})=>{const[r,n]=y.useState(1),[i,s]=y.useState(!1),[a,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState("moderate"),[h,p]=y.useState(""),[g,m]=y.useState(""),[v,b]=y.useState(null);y.useEffect(()=>{x()},[]);const x=async()=>{try{const I=await(await fetch(`${N$}/api/symptoms/common`)).json();l(I.symptom_categories||[])}catch(A){console.error("Failed to fetch symptoms:",A),l([{category:"General",symptoms:["Fever","Fatigue","Weakness","Weight loss","Chills"]},{category:"Head & Neurological",symptoms:["Headache","Dizziness","Confusion","Numbness"]},{category:"Respiratory",symptoms:["Cough","Shortness of breath","Wheezing","Chest tightness"]},{category:"Cardiovascular",symptoms:["Chest pain","Palpitations","Swelling in legs"]},{category:"Gastrointestinal",symptoms:["Nausea","Vomiting","Diarrhea","Abdominal pain"]}])}},w=A=>{u(I=>I.includes(A)?I.filter(M=>M!==A):[...I,A])},_=async()=>{if(c.length===0){oe.error("Please select at least one symptom");return}s(!0);try{const{supabase:A}=await qo(async()=>{const{supabase:L}=await Promise.resolve().then(()=>Vo);return{supabase:L}},void 0),{data:{session:I}}=await A.auth.getSession(),M=await fetch(`${N$}/api/symptoms/assess`,{method:"POST",headers:{"Content-Type":"application/json",...(I==null?void 0:I.access_token)&&{Authorization:`Bearer ${I.access_token}`}},body:JSON.stringify({symptoms:c,severity:d,description:h||void 0,duration:g||void 0})});if(!M.ok)throw new Error("Assessment failed");const z=await M.json();b(z),n(4)}catch(A){console.error("Assessment error:",A),oe.error("Failed to complete AI assessment. Proceeding with basic booking."),N()}finally{s(!1)}},N=()=>{e({symptoms:c,severity:d,description:h,recommendedSpecialization:null})},j=()=>{if(!v)return;const A={general_practice:"General Practice",internal_medicine:"Internal Medicine",cardiology:"Cardiology",neurology:"Neurology",dermatology:"Dermatology",psychiatry:"Psychiatry"};e({symptoms:c,severity:d,description:h,recommendedSpecialization:v.recommended_specialization?A[v.recommended_specialization]||v.recommended_specialization:null,aiAssessment:v})},C=r/4*100,P=v?k$[v.urgency]||k$.routine:null;return o.jsxs("div",{className:"space-y-6",children:[r<4&&o.jsxs("div",{className:"mb-6",children:[o.jsx(Bu,{value:C,className:"h-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",r," of 3 - AI Symptom Assessment"]})]}),r===1&&o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(vs,{className:"w-5 h-5 text-primary"}),"What symptoms are you experiencing?"]}),o.jsx(Oe,{children:"Select all that apply. Our AI will help assess your needs."})]}),o.jsxs(de,{className:"space-y-6",children:[a.map(A=>{const I=xve[A.category]||Xd;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"font-medium flex items-center gap-2 text-sm",children:[o.jsx(I,{className:"w-4 h-4 text-muted-foreground"}),A.category]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:A.symptoms.map(M=>o.jsx(Ce,{variant:c.includes(M)?"default":"outline",className:"cursor-pointer py-1.5 px-3 text-xs sm:text-sm",onClick:()=>w(M),children:M},M))})]},A.category)}),c.length>0&&o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg",children:[o.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected symptoms (",c.length,"):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(A=>o.jsx(Ce,{variant:"secondary",className:"text-xs",children:A},A))})]})]})]}),r===2&&o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Xd,{className:"w-5 h-5 text-primary"}),"How severe are your symptoms?"]})}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs(Ng,{value:d,onValueChange:A=>f(A),className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Fa,{value:"mild",id:"mild"}),o.jsxs(fe,{htmlFor:"mild",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Mild"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Noticeable but not significantly affecting daily activities"})]}),o.jsx(Ce,{variant:"outline",className:"bg-green-50 text-green-700",children:"Low"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Fa,{value:"moderate",id:"moderate"}),o.jsxs(fe,{htmlFor:"moderate",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Moderate"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Affecting daily activities, requiring rest or medication"})]}),o.jsx(Ce,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Medium"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Fa,{value:"severe",id:"severe"}),o.jsxs(fe,{htmlFor:"severe",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Severe"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Significantly impacting daily life, intense discomfort"})]}),o.jsx(Ce,{variant:"outline",className:"bg-red-50 text-red-700",children:"High"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"How long have you had these symptoms?"}),o.jsx(Ng,{value:g,onValueChange:m,className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["Few hours","1-2 days","3-7 days","Over a week"].map(A=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fa,{value:A,id:A}),o.jsx(fe,{htmlFor:A,className:"text-sm cursor-pointer",children:A})]},A))})]})]})]}),r===3&&o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Wf,{className:"w-5 h-5 text-primary"}),"Tell us more (optional)"]}),o.jsx(Oe,{children:"Any additional details help our AI provide a better assessment"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Describe your symptoms in your own words"}),o.jsx(Zt,{value:h,onChange:A=>p(A.target.value),placeholder:"e.g., The headache started suddenly this morning, worse on the right side...",rows:4})]}),o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Summary:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Symptoms:"})," ",c.join(", "),o.jsx("br",{}),o.jsx("strong",{children:"Severity:"})," ",d,o.jsx("br",{}),o.jsx("strong",{children:"Duration:"})," ",g||"Not specified"]})]})]})]}),r===4&&v&&o.jsxs("div",{className:"space-y-6",children:[v.urgency==="emergency"&&o.jsx(le,{className:"border-red-500 bg-red-50",children:o.jsx(de,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center shrink-0",children:o.jsx(Si,{className:"w-8 h-8 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-red-700",children:"Emergency - Seek Immediate Care"}),o.jsx("p",{className:"text-red-600",children:"Call emergency services (10177) or go to the nearest emergency room"})]})]})})}),o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"w-5 h-5 text-primary"}),"AI Assessment Complete"]}),P&&o.jsx(Ce,{className:`${P.bgColor} ${P.color}`,children:P.label})]})}),o.jsxs(de,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsx("p",{className:"text-sm leading-relaxed",children:v.assessment_summary})}),o.jsxs("div",{children:[o.jsx(fe,{className:"text-sm text-muted-foreground",children:"Urgency Level"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Bu,{value:v.urgency_score*10,className:"h-3 flex-1"}),o.jsxs("span",{className:"font-bold text-lg",children:[v.urgency_score,"/10"]})]})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Recommended Care Pathway"}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:[v.care_pathway==="emergency_services"&&"Seek emergency medical services immediately",v.care_pathway==="urgent_consultation"&&"Book an urgent telehealth consultation",v.care_pathway==="nurse_triage"&&"Speak with a nurse for initial assessment",v.care_pathway==="doctor_consultation"&&"Schedule a doctor consultation",v.care_pathway==="specialist_referral"&&"You may need to see a specialist",v.care_pathway==="self_care"&&"Self-care may be appropriate with monitoring"]}),v.recommended_specialization&&o.jsxs("p",{className:"text-sm mt-2",children:[o.jsx("strong",{children:"Recommended:"})," ",v.recommended_specialization.replace("_"," ")]})]}),v.warning_signs.length>0&&o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("h3",{className:"font-medium text-red-700 flex items-center gap-2 mb-2",children:[o.jsx(ai,{className:"w-4 h-4"}),"Warning Signs to Watch For"]}),o.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:v.warning_signs.map((A,I)=>o.jsxs("li",{children:[" ",A]},I))})]}),v.self_care_advice&&o.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsx("h3",{className:"font-medium text-green-700 mb-2",children:"Self-Care Advice"}),o.jsx("p",{className:"text-sm text-green-600",children:v.self_care_advice})]}),o.jsx("p",{className:"text-xs text-muted-foreground italic",children:v.disclaimer})]})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(Z,{variant:"outline",onClick:()=>r===1?t():n(A=>A-1),children:[o.jsx(VE,{className:"w-4 h-4 mr-2"}),"Back"]}),r===1&&o.jsxs(Z,{onClick:()=>n(2),disabled:c.length===0,children:["Next",o.jsx(Vf,{className:"w-4 h-4 ml-2"})]}),r===2&&o.jsxs(Z,{onClick:()=>n(3),children:["Next",o.jsx(Vf,{className:"w-4 h-4 ml-2"})]}),r===3&&o.jsx(Z,{onClick:_,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"})," Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Wf,{className:"w-4 h-4 mr-2"})," Get AI Assessment"]})}),r===4&&v&&v.urgency!=="emergency"&&o.jsxs(Z,{onClick:j,children:["Continue to Select Clinician",o.jsx(ta,{className:"w-4 h-4 ml-2"})]})]})]})};function wve(e,t=[]){let r=[];function n(s,a){const l=y.createContext(a);l.displayName=s+"Context";const c=r.length;r=[...r,a];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(a=>y.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,_ve(i,...t)]}function _ve(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var jve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iT=jve.reduce((e,t)=>{const r=Nv(`Primitive.${t}`),n=y.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),C9={exports:{}},O9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=y;function Sve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nve=typeof Object.is=="function"?Object.is:Sve,kve=sh.useState,Cve=sh.useEffect,Ove=sh.useLayoutEffect,Eve=sh.useDebugValue;function Pve(e,t){var r=t(),n=kve({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return Ove(function(){i.value=r,i.getSnapshot=t,q1(i)&&s({inst:i})},[e,r,t]),Cve(function(){return q1(i)&&s({inst:i}),e(function(){q1(i)&&s({inst:i})})},[e]),Eve(r),r}function q1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nve(e,r)}catch{return!0}}function Tve(e,t){return t()}var Ave=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tve:Pve;O9.useSyncExternalStore=sh.useSyncExternalStore!==void 0?sh.useSyncExternalStore:Ave;C9.exports=O9;var Mve=C9.exports;function Ive(){return Mve.useSyncExternalStore(Rve,()=>!0,()=>!1)}function Rve(){return()=>{}}var sT="Avatar",[$ve]=wve(sT),[Dve,E9]=$ve(sT),P9=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,s]=y.useState("idle");return o.jsx(Dve,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:o.jsx(iT.span,{...n,ref:t})})});P9.displayName=sT;var T9="AvatarImage",A9=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=e,a=E9(T9,r),l=Lve(n,s),c=Er(u=>{i(u),a.onImageLoadingStatusChange(u)});return Rr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(iT.img,{...s,ref:t,src:n}):null});A9.displayName=T9;var M9="AvatarFallback",I9=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,s=E9(M9,r),[a,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),a&&s.imageLoadingStatus!=="loaded"?o.jsx(iT.span,{...i,ref:t}):null});I9.displayName=M9;function C$(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Lve(e,{referrerPolicy:t,crossOrigin:r}){const n=Ive(),i=y.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[a,l]=y.useState(()=>C$(s,e));return Rr(()=>{l(C$(s,e))},[s,e]),Rr(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),a}var R9=P9,$9=A9,D9=I9;const sp=y.forwardRef(({className:e,...t},r)=>o.jsx(R9,{ref:r,className:_e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));sp.displayName=R9.displayName;const b_=y.forwardRef(({className:e,...t},r)=>o.jsx($9,{ref:r,className:_e("aspect-square h-full w-full",e),...t}));b_.displayName=$9.displayName;const lc=y.forwardRef(({className:e,...t},r)=>o.jsx(D9,{ref:r,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));lc.displayName=D9.displayName;const Fve=({recommendedSpecialization:e,onSelect:t,onBack:r})=>{const[n,i]=y.useState([]),[s,a]=y.useState(!0),[l,c]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{data:f,error:h}=await Ie.from("clinician_profiles").select("id, specialization, qualification, years_experience, bio, is_available").eq("is_available",!0);if(h)throw h;if(f&&f.length>0){const p=f.map(b=>b.id),{data:g,error:m}=await Ie.from("profiles").select("id, first_name, last_name, avatar_url").in("id",p);if(m)throw m;const v=f.map(b=>{const x=g==null?void 0:g.find(w=>w.id===b.id);return{id:b.id,first_name:(x==null?void 0:x.first_name)||"Unknown",last_name:(x==null?void 0:x.last_name)||"",avatar_url:(x==null?void 0:x.avatar_url)||null,specialization:b.specialization,qualification:b.qualification,years_experience:b.years_experience,bio:b.bio}});i(v)}}catch(f){console.error("Error fetching clinicians:",f)}finally{a(!1)}})()},[]);const u=()=>{const d=n.find(f=>f.id===l);d&&t(d)};return s?o.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>o.jsx(le,{children:o.jsxs(de,{className:"flex items-center gap-4 p-6",children:[o.jsx(tr,{className:"w-16 h-16 rounded-full"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(tr,{className:"h-4 w-32"}),o.jsx(tr,{className:"h-3 w-48"})]})]})},d))}):n.length===0?o.jsx(le,{children:o.jsxs(de,{className:"text-center py-12",children:[o.jsx(Dr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Clinicians Available"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"There are currently no clinicians available for booking."}),o.jsx(Z,{variant:"outline",onClick:r,children:"Go Back"})]})}):o.jsxs("div",{className:"space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-2 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx(vs,{className:"w-5 h-5 text-primary"}),o.jsxs("span",{className:"text-sm",children:["Based on your symptoms, we recommend a ",o.jsx("strong",{children:e})," specialist."]})]}),o.jsx("div",{className:"space-y-4",children:n.map(d=>o.jsx(le,{className:`cursor-pointer transition-all ${l===d.id?"border-primary ring-2 ring-primary/20":"hover:border-primary/50"}`,onClick:()=>c(d.id),children:o.jsxs(de,{className:"flex items-start gap-4 p-6",children:[o.jsxs(sp,{className:"w-16 h-16",children:[o.jsx(b_,{src:d.avatar_url||void 0}),o.jsxs(lc,{className:"bg-primary/10 text-primary text-lg",children:[d.first_name[0],d.last_name[0]]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-lg",children:["Dr. ",d.first_name," ",d.last_name]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:d.qualification||"Medical Professional"})]}),o.jsx(Ce,{variant:"secondary",children:d.specialization||"General Practice"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[d.years_experience&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(nr,{className:"w-4 h-4"}),d.years_experience," years exp."]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(KE,{className:"w-4 h-4 text-warning"}),"4.8 (120 reviews)"]})]}),d.bio&&o.jsx("p",{className:"mt-3 text-sm text-muted-foreground line-clamp-2",children:d.bio})]}),o.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${l===d.id?"border-primary bg-primary":"border-muted-foreground/30"}`,children:l===d.id&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},d.id))}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Z,{variant:"outline",onClick:r,children:"Back"}),o.jsxs(Z,{onClick:u,disabled:!l,children:["Continue to Select Time",o.jsx(ta,{className:"w-4 h-4 ml-2"})]})]})]})};var Ze=function(){return Ze=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ze.apply(this,arguments)};function Bve(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function L9(e,t,r){for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Lv(e){return e.mode==="multiple"}function Fv(e){return e.mode==="range"}function w_(e){return e.mode==="single"}var Uve={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function zve(e,t){return Pt(e,"LLLL y",t)}function Wve(e,t){return Pt(e,"d",t)}function Vve(e,t){return Pt(e,"LLLL",t)}function Hve(e){return"".concat(e)}function qve(e,t){return Pt(e,"cccccc",t)}function Gve(e,t){return Pt(e,"yyyy",t)}var Kve=Object.freeze({__proto__:null,formatCaption:zve,formatDay:Wve,formatMonthCaption:Vve,formatWeekNumber:Hve,formatWeekdayName:qve,formatYearCaption:Gve}),Yve=function(e,t,r){return Pt(e,"do MMMM (EEEE)",r)},Jve=function(){return"Month: "},Xve=function(){return"Go to next month"},Qve=function(){return"Go to previous month"},Zve=function(e,t){return Pt(e,"cccc",t)},eye=function(e){return"Week n. ".concat(e)},tye=function(){return"Year: "},rye=Object.freeze({__proto__:null,labelDay:Yve,labelMonthDropdown:Jve,labelNext:Xve,labelPrevious:Qve,labelWeekNumber:eye,labelWeekday:Zve,labelYearDropdown:tye});function nye(){var e="buttons",t=Uve,r=WP,n={},i={},s=1,a={},l=new Date;return{captionLayout:e,classNames:t,formatters:Kve,labels:rye,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:a,today:l,mode:"default"}}function iye(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,s=e.fromDate,a=e.toDate;return n?s=ji(n):t&&(s=new Date(t,0,1)),i?a=h_(i):r&&(a=new Date(r,11,31)),{fromDate:s?Ja(s):void 0,toDate:a?Ja(a):void 0}}var F9=y.createContext(void 0);function sye(e){var t,r=e.initialProps,n=nye(),i=iye(r),s=i.fromDate,a=i.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!a)&&(l="buttons");var c;(w_(r)||Lv(r)||Fv(r))&&(c=r.onSelect);var u=Ze(Ze(Ze({},n),r),{captionLayout:l,classNames:Ze(Ze({},n.classNames),r.classNames),components:Ze({},r.components),formatters:Ze(Ze({},n.formatters),r.formatters),fromDate:s,labels:Ze(Ze({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ze(Ze({},n.modifiers),r.modifiers),modifiersClassNames:Ze(Ze({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ze(Ze({},n.styles),r.styles),toDate:a});return o.jsx(F9.Provider,{value:u,children:e.children})}function ir(){var e=y.useContext(F9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function B9(e){var t=ir(),r=t.locale,n=t.classNames,i=t.styles,s=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function aye(e){return o.jsx("svg",Ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function U9(e){var t,r,n=e.onChange,i=e.value,s=e.children,a=e.caption,l=e.className,c=e.style,u=ir(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:aye;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function oye(e){var t,r=ir(),n=r.fromDate,i=r.toDate,s=r.styles,a=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});var f=[];if(rhe(n,i))for(var h=ji(n),p=n.getMonth();p<=i.getMonth();p++)f.push(D1(h,p));else for(var h=ji(new Date),p=0;p<=11;p++)f.push(D1(h,p));var g=function(v){var b=Number(v.target.value),x=D1(ji(e.displayMonth),b);e.onChange(x)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:U9;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:a}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:a})},v.getMonth())})})}function lye(e){var t,r=e.displayMonth,n=ir(),i=n.fromDate,s=n.toDate,a=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!i)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var p=i.getFullYear(),g=s.getFullYear(),m=p;m<=g;m++)h.push(MR(aV(new Date),m));var v=function(x){var w=MR(ji(r),Number(x.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:U9;return o.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:a}),children:h.map(function(x){return o.jsx("option",{value:x.getFullYear(),children:d(x,{locale:a})},x.getFullYear())})})}function cye(e,t){var r=y.useState(e),n=r[0],i=r[1],s=t===void 0?n:t;return[s,i]}function uye(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,s=e.toDate,a=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&Zf(s,i)<0){var u=-1*(c-1);i=ua(s,u)}return a&&Zf(i,a)<0&&(i=a),ji(i)}function dye(){var e=ir(),t=uye(e),r=cye(t,e.month),n=r[0],i=r[1],s=function(a){var l;if(!e.disableNavigation){var c=ji(a);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function fye(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=ji(e),s=ji(ua(i,n)),a=Zf(s,i),l=[],c=0;c<a;c++){var u=ua(i,c);l.push(u)}return r&&(l=l.reverse()),l}function hye(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=n?s:1,l=ji(e);if(!r)return ua(l,a);var c=Zf(r,e);if(!(c<s))return ua(l,a)}}function pye(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=n?s:1,l=ji(e);if(!r)return ua(l,-a);var c=Zf(l,r);if(!(c<=0))return ua(l,-a)}}var z9=y.createContext(void 0);function mye(e){var t=ir(),r=dye(),n=r[0],i=r[1],s=fye(n,t),a=hye(n,t),l=pye(n,t),c=function(f){return s.some(function(h){return VP(f,h)})},u=function(f,h){c(f)||(h&&Gb(f,h)?i(ua(f,1+t.numberOfMonths*-1)):i(f))},d={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(z9.Provider,{value:d,children:e.children})}function Bv(){var e=y.useContext(z9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function O$(e){var t,r=ir(),n=r.classNames,i=r.styles,s=r.components,a=Bv().goToMonth,l=function(d){a(ua(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:B9,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(oye,{onChange:l,displayMonth:e.displayMonth}),o.jsx(lye,{onChange:l,displayMonth:e.displayMonth})]})}function gye(e){return o.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function vye(e){return o.jsx("svg",Ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var t0=y.forwardRef(function(e,t){var r=ir(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var a=s.join(" "),l=Ze(Ze({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),o.jsx("button",Ze({},e,{ref:t,type:"button",className:a,style:l}))});function yye(e){var t,r,n=ir(),i=n.dir,s=n.locale,a=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:s}),p=[a.nav_button,a.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:s}),m=[a.nav_button,a.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:vye,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:gye;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(t0,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?o.jsx(v,{className:a.nav_icon,style:l.nav_icon}):o.jsx(b,{className:a.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(t0,{name:"next-month","aria-label":g,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?o.jsx(b,{className:a.nav_icon,style:l.nav_icon}):o.jsx(v,{className:a.nav_icon,style:l.nav_icon})})]})}function E$(e){var t=ir().numberOfMonths,r=Bv(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,a=r.displayMonths,l=a.findIndex(function(g){return VP(e.displayMonth,g)}),c=l===0,u=l===a.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},p=function(){i&&s(i)};return o.jsx(yye,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:n,onPreviousClick:h,onNextClick:p})}function xye(e){var t,r=ir(),n=r.classNames,i=r.disableNavigation,s=r.styles,a=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:B9,u;return i?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?u=o.jsx(O$,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(O$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(E$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(E$,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:s.caption,children:u})}function bye(e){var t=ir(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?o.jsx("tfoot",{className:i,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function wye(e,t,r){for(var n=r?Lu(new Date):da(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var a=dn(n,s);i.push(a)}return i}function _ye(){var e=ir(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,a=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=wye(i,s,a);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:i}),children:l(d,{locale:i})},f)})]})}function jye(){var e,t=ir(),r=t.classNames,n=t.styles,i=t.components,s=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:_ye;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(s,{})})}function Sye(e){var t=ir(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var aT=y.createContext(void 0);function Nye(e){if(!Lv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(aT.Provider,{value:t,children:e.children})}return o.jsx(kye,{initialProps:e.initialProps,children:e.children})}function kye(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,s=t.max,a=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var m=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!m){var v=n?L9([],n):[];if(d.selected){var b=v.findIndex(function(x){return Fn(u,x)});v.splice(b,1)}else v.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return Fn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:a,modifiers:l};return o.jsx(aT.Provider,{value:c,children:r})}function oT(){var e=y.useContext(aT);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Cye(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?Fn(i,e)&&Fn(n,e)?void 0:Fn(i,e)?{from:i,to:void 0}:Fn(n,e)?void 0:Ik(n,e)?{from:e,to:i}:{from:n,to:e}:i?Ik(e,i)?{from:i,to:e}:{from:e,to:i}:n?Gb(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var lT=y.createContext(void 0);function Oye(e){if(!Fv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(lT.Provider,{value:t,children:e.children})}return o.jsx(Eye,{initialProps:e.initialProps,children:e.children})}function Eye(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},s=i.from,a=i.to,l=t.min,c=t.max,u=function(p,g,m){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,p,g,m);var x=Cye(p,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,p,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],a?(d.range_end=[a],Fn(s,a)||(d.range_middle=[{after:s,before:a}])):d.range_end=[s]):a&&(d.range_start=[a],d.range_end=[a]),l&&(s&&!a&&d.disabled.push({after:R1(s,l-1),before:dn(s,l-1)}),s&&a&&d.disabled.push({after:s,before:dn(s,l-1)}),!s&&a&&d.disabled.push({after:R1(a,l-1),before:dn(a,l-1)})),c){if(s&&!a&&(d.disabled.push({before:dn(s,-c+1)}),d.disabled.push({after:dn(s,c-1)})),s&&a){var f=$a(a,s)+1,h=c-f;d.disabled.push({before:R1(s,h)}),d.disabled.push({after:dn(a,h)})}!s&&a&&(d.disabled.push({before:dn(a,-c+1)}),d.disabled.push({after:dn(a,c-1)}))}return o.jsx(lT.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function cT(){var e=y.useContext(lT);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Vx(e){return Array.isArray(e)?L9([],e):e!==void 0?[e]:[]}function Pye(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=Vx(i)}),t}var fa;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(fa||(fa={}));var Tye=fa.Selected,co=fa.Disabled,Aye=fa.Hidden,Mye=fa.Today,G1=fa.RangeEnd,K1=fa.RangeMiddle,Y1=fa.RangeStart,Iye=fa.Outside;function Rye(e,t,r){var n,i=(n={},n[Tye]=Vx(e.selected),n[co]=Vx(e.disabled),n[Aye]=Vx(e.hidden),n[Mye]=[e.today],n[G1]=[],n[K1]=[],n[Y1]=[],n[Iye]=[],n);return e.fromDate&&i[co].push({before:e.fromDate}),e.toDate&&i[co].push({after:e.toDate}),Lv(e)?i[co]=i[co].concat(t.modifiers[co]):Fv(e)&&(i[co]=i[co].concat(r.modifiers[co]),i[Y1]=r.modifiers[Y1],i[K1]=r.modifiers[K1],i[G1]=r.modifiers[G1]),i}var W9=y.createContext(void 0);function $ye(e){var t=ir(),r=oT(),n=cT(),i=Rye(t,r,n),s=Pye(t.modifiers),a=Ze(Ze({},i),s);return o.jsx(W9.Provider,{value:a,children:e.children})}function V9(){var e=y.useContext(W9);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Dye(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Lye(e){return!!(e&&typeof e=="object"&&"from"in e)}function Fye(e){return!!(e&&typeof e=="object"&&"after"in e)}function Bye(e){return!!(e&&typeof e=="object"&&"before"in e)}function Uye(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function zye(e,t){var r,n=t.from,i=t.to;if(n&&i){var s=$a(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var a=$a(e,n)>=0&&$a(i,e)>=0;return a}return i?Fn(i,e):n?Fn(n,e):!1}function Wye(e){return UP(e)}function Vye(e){return Array.isArray(e)&&e.every(UP)}function Hye(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Wye(r))return Fn(e,r);if(Vye(r))return r.includes(e);if(Lye(r))return zye(e,r);if(Uye(r))return r.dayOfWeek.includes(e.getDay());if(Dye(r)){var n=$a(r.before,e),i=$a(r.after,e),s=n>0,a=i<0,l=Ik(r.before,r.after);return l?a&&s:s||a}return Fye(r)?$a(e,r.after)>0:Bye(r)?$a(r.before,e)>0:typeof r=="function"?r(e):!1})}function uT(e,t,r){var n=Object.keys(t).reduce(function(s,a){var l=t[a];return Hye(e,l)&&s.push(a),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!VP(e,r)&&(i.outside=!0),i}function qye(e,t){for(var r=ji(e[0]),n=h_(e[e.length-1]),i,s,a=r;a<=n;){var l=uT(a,t),c=!l.disabled&&!l.hidden;if(!c){a=dn(a,1);continue}if(l.selected)return a;l.today&&!s&&(s=a),i||(i=a),a=dn(a,1)}return s||i}var Gye=365;function H9(e,t){var r=t.moveBy,n=t.direction,i=t.context,s=t.modifiers,a=t.retry,l=a===void 0?{count:0,lastFocused:e}:a,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:dn,week:xg,month:ua,year:Hde,startOfWeek:function(v){return i.ISOWeek?Lu(v):da(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return i.ISOWeek?oV(v):p_(v,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=qde([u,p]):n==="after"&&d&&(p=Gde([d,p]));var g=!0;if(s){var m=uT(p,s);g=!m.disabled&&!m.hidden}return g?p:l.count>Gye?l.lastFocused:H9(p,{moveBy:r,direction:n,context:i,modifiers:s,retry:Ze(Ze({},l),{count:l.count+1})})}var q9=y.createContext(void 0);function Kye(e){var t=Bv(),r=V9(),n=y.useState(),i=n[0],s=n[1],a=y.useState(),l=a[0],c=a[1],u=qye(t.displayMonths,r),d=i??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(i),s(void 0)},h=function(v){s(v)},p=ir(),g=function(v,b){if(i){var x=H9(i,{moveBy:v,direction:b,context:p,modifiers:r});Fn(i,x)||(t.goToDate(x,i),h(x))}},m={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(q9.Provider,{value:m,children:e.children})}function dT(){var e=y.useContext(q9);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Yye(e,t){var r=V9(),n=uT(e,r,t);return n}var fT=y.createContext(void 0);function Jye(e){if(!w_(e.initialProps)){var t={selected:void 0};return o.jsx(fT.Provider,{value:t,children:e.children})}return o.jsx(Xye,{initialProps:e.initialProps,children:e.children})}function Xye(e){var t=e.initialProps,r=e.children,n=function(s,a,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,a,l),a.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,a,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,a,l)},i={selected:t.selected,onDayClick:n};return o.jsx(fT.Provider,{value:i,children:r})}function G9(){var e=y.useContext(fT);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Qye(e,t){var r=ir(),n=G9(),i=oT(),s=cT(),a=dT(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,h=a.focus,p=a.focusMonthBefore,g=a.focusMonthAfter,m=a.focusYearBefore,v=a.focusYearAfter,b=a.focusStartOfWeek,x=a.focusEndOfWeek,w=function(D){var R,B,K,ee;w_(r)?(R=n.onDayClick)===null||R===void 0||R.call(n,e,t,D):Lv(r)?(B=i.onDayClick)===null||B===void 0||B.call(i,e,t,D):Fv(r)?(K=s.onDayClick)===null||K===void 0||K.call(s,e,t,D):(ee=r.onDayClick)===null||ee===void 0||ee.call(r,e,t,D)},_=function(D){var R;h(e),(R=r.onDayFocus)===null||R===void 0||R.call(r,e,t,D)},N=function(D){var R;f(),(R=r.onDayBlur)===null||R===void 0||R.call(r,e,t,D)},j=function(D){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,e,t,D)},k=function(D){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,e,t,D)},C=function(D){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,e,t,D)},P=function(D){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,e,t,D)},A=function(D){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,e,t,D)},I=function(D){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,e,t,D)},M=function(D){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,e,t,D)},z=function(D){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,e,t,D)},L=function(D){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,e,t,D)},W=function(D){var R;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),u();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),d();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?m():p();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?v():g();break;case"Home":D.preventDefault(),D.stopPropagation(),b();break;case"End":D.preventDefault(),D.stopPropagation(),x();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,e,t,D)},F={onClick:w,onFocus:_,onBlur:N,onKeyDown:W,onKeyUp:L,onMouseEnter:j,onMouseLeave:k,onPointerEnter:C,onPointerLeave:P,onTouchCancel:A,onTouchEnd:I,onTouchMove:M,onTouchStart:z};return F}function Zye(){var e=ir(),t=G9(),r=oT(),n=cT(),i=w_(e)?t.selected:Lv(e)?r.selected:Fv(e)?n.selected:void 0;return i}function exe(e){return Object.values(fa).includes(e)}function txe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(exe(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function rxe(e,t){var r=Ze({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=Ze(Ze({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function nxe(e,t,r){var n,i,s,a=ir(),l=dT(),c=Yye(e,t),u=Qye(e,c),d=Zye(),f=!!(a.onDayClick||a.mode!=="default");y.useEffect(function(){var j;c.outside||l.focusedDay&&f&&Fn(l.focusedDay,e)&&((j=r.current)===null||j===void 0||j.focus())},[l.focusedDay,e,r,f,c.outside]);var h=txe(a,c).join(" "),p=rxe(a,c),g=!!(c.outside&&!a.showOutsideDays||c.hidden),m=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:Sye,v=o.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:h,children:v,role:"gridcell"},x=l.focusTarget&&Fn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Fn(l.focusedDay,e),_=Ze(Ze(Ze({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),u),N={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return N}function ixe(e){var t=y.useRef(null),r=nxe(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(t0,Ze({name:"day",ref:t},r.buttonProps)):o.jsx("div",Ze({},r.divProps))}function sxe(e){var t=e.number,r=e.dates,n=ir(),i=n.onWeekNumberClick,s=n.styles,a=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!i)return o.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){i(t,r,p)};return o.jsx(t0,{name:"week-number","aria-label":f,className:a.weeknumber,style:s.weeknumber,onClick:h,children:d})}function axe(e){var t,r,n=ir(),i=n.styles,s=n.classNames,a=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:ixe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:sxe,d;return a&&(d=o.jsx("td",{className:s.cell,style:i.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:s.row,style:i.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},Zfe(f))})]})}function P$(e,t,r){for(var n=r!=null&&r.ISOWeek?oV(t):p_(t,r),i=r!=null&&r.ISOWeek?Lu(e):da(e,r),s=$a(n,i),a=[],l=0;l<=s;l++)a.push(dn(i,l));var c=a.reduce(function(u,d){var f=r!=null&&r.ISOWeek?lV(d):uV(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function oxe(e,t){var r=P$(ji(e),h_(e),t);if(t!=null&&t.useFixedWeeks){var n=the(e,t);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],a=xg(s,6-n),l=P$(xg(s,1),a,t);r.push.apply(r,l)}}return r}function lxe(e){var t,r,n,i=ir(),s=i.locale,a=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,g=oxe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:jye,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:axe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:bye;return o.jsxs("table",{id:e.id,className:a.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:g.map(function(x){return o.jsx(v,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),o.jsx(b,{displayMonth:e.displayMonth})]})}function cxe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var uxe=cxe()?y.useLayoutEffect:y.useEffect,J1=!1,dxe=0;function T$(){return"react-day-picker-".concat(++dxe)}function fxe(e){var t,r=e??(J1?T$():null),n=y.useState(r),i=n[0],s=n[1];return uxe(function(){i===null&&s(T$())},[]),y.useEffect(function(){J1===!1&&(J1=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function hxe(e){var t,r,n=ir(),i=n.dir,s=n.classNames,a=n.styles,l=n.components,c=Bv().displayMonths,u=fxe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=a.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,m=!p&&!g;i==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(f.push(s.caption_start),h=Ze(Ze({},h),a.caption_start)),g&&(f.push(s.caption_end),h=Ze(Ze({},h),a.caption_end)),m&&(f.push(s.caption_between),h=Ze(Ze({},h),a.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:xye;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(lxe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function pxe(e){var t=ir(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function mxe(e){var t,r,n=e.initialProps,i=ir(),s=dT(),a=Bv(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Ze(Ze({},i.styles.root),i.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return Ze(Ze({},g),(v={},v[m]=n[m],v))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:pxe;return o.jsx("div",Ze({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(p,{children:a.displayMonths.map(function(g,m){return o.jsx(hxe,{displayIndex:m,displayMonth:g},m)})})}))}function gxe(e){var t=e.children,r=Bve(e,["children"]);return o.jsx(sye,{initialProps:r,children:o.jsx(mye,{children:o.jsx(Jye,{initialProps:r,children:o.jsx(Nye,{initialProps:r,children:o.jsx(Oye,{initialProps:r,children:o.jsx($ye,{children:o.jsx(Kye,{children:t})})})})})})})}function vxe(e){return o.jsx(gxe,Ze({},e,{children:o.jsx(mxe,{initialProps:e})}))}function hT({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(vxe,{showOutsideDays:r,className:_e("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:_e(pg({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:_e(pg({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>o.jsx(VE,{className:"h-4 w-4"}),IconRight:({...i})=>o.jsx(Vf,{className:"h-4 w-4"})},...n})}hT.displayName="Calendar";const A$=[{value:"video",label:"Video Call",icon:hr,description:"Face-to-face via secure video"},{value:"phone",label:"Phone Call",icon:Si,description:"Voice consultation"},{value:"in_person",label:"In Person",icon:Wh,description:"Visit the clinic"}],yxe=()=>{const e=[];for(let t=8;t<18;t++)e.push(`${t.toString().padStart(2,"0")}:00`),e.push(`${t.toString().padStart(2,"0")}:30`);return e},xxe=({clinicianId:e,clinicianName:t,onSelect:r,onBack:n})=>{var x;const[i,s]=y.useState(dn(new Date,1)),[a,l]=y.useState(null),[c,u]=y.useState("video"),[d,f]=y.useState([]),[h,p]=y.useState(!1),g=yxe();y.useEffect(()=>{(async()=>{if(i){p(!0);try{const _=Ja(i),N=dn(_,1),{data:j,error:k}=await Ie.from("appointments").select("scheduled_at").eq("clinician_id",e).gte("scheduled_at",_.toISOString()).lt("scheduled_at",N.toISOString()).in("status",["pending","confirmed"]);if(k)throw k;const C=(j||[]).map(P=>{const A=new Date(P.scheduled_at);return vi(A,"HH:mm")});f(C)}catch(_){console.error("Error fetching booked slots:",_)}finally{p(!1)}}})()},[i,e]);const m=()=>{i&&a&&r({date:i,time:a,consultationType:c})},v=w=>{if(d.includes(w))return!1;if(i){const[_,N]=w.split(":").map(Number),j=pV(hV(i,_),N);if(Gb(j,new Date))return!1}return!0},b=i&&a&&c;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsx(we,{children:"Consultation Type"}),o.jsxs(Oe,{children:["How would you like to have your consultation with Dr. ",t,"?"]})]}),o.jsx(de,{children:o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:A$.map(w=>{const _=w.icon;return o.jsxs("div",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${c===w.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>u(w.value),children:[o.jsx(_,{className:`w-8 h-8 mb-2 ${c===w.value?"text-primary":"text-muted-foreground"}`}),o.jsx("span",{className:"font-medium",children:w.label}),o.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:w.description})]},w.value)})})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsx(we,{children:"Select Date"}),o.jsx(Oe,{children:"Choose your preferred consultation date"})]}),o.jsx(de,{children:o.jsx(hT,{mode:"single",selected:i,onSelect:s,disabled:w=>Gb(w,Ja(new Date))||w.getDay()===0,className:"rounded-md border pointer-events-auto"})})]}),o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(nr,{className:"w-5 h-5 text-primary"}),"Select Time",o.jsx(Ce,{variant:"outline",className:"ml-2 text-xs",children:bg})]}),o.jsx(Oe,{children:i?Yb(i):"Select a date first"})]}),o.jsx(de,{children:h?o.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(w=>o.jsx("div",{className:"h-10 bg-muted animate-pulse rounded-md"},w))}):o.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[300px] overflow-y-auto",children:g.map(w=>{const _=v(w);return o.jsx(Z,{variant:a===w?"default":"outline",size:"sm",disabled:!_,className:_?"":"opacity-50 line-through",onClick:()=>l(w),children:w},w)})})})]})]}),i&&a&&o.jsx(le,{className:"bg-primary/5 border-primary/20",children:o.jsxs(de,{className:"flex items-center justify-between p-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Your Selected Appointment"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Yb(i)," at ",a," ",bg]})]}),o.jsx(Ce,{variant:"secondary",children:(x=A$.find(w=>w.value===c))==null?void 0:x.label})]})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Z,{variant:"outline",onClick:n,children:"Back"}),o.jsxs(Z,{onClick:m,disabled:!b,children:["Review & Confirm",o.jsx(ta,{className:"w-4 h-4 ml-2"})]})]})]})};var bxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wxe=bxe.reduce((e,t)=>{const r=Nv(`Primitive.${t}`),n=y.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_xe="Separator",M$="horizontal",jxe=["horizontal","vertical"],K9=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=M$,...i}=e,s=Sxe(n)?n:M$,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(wxe.div,{"data-orientation":s,...l,...i,ref:t})});K9.displayName=_xe;function Sxe(e){return jxe.includes(e)}var Y9=K9;const r0=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>o.jsx(Y9,{ref:i,decorative:r,orientation:t,className:_e("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));r0.displayName=Y9.displayName;const Nxe={video:hr,phone:Si,in_person:Wh},kxe={video:"Video Call",phone:"Phone Call",in_person:"In Person"},Cxe=({data:e,onConfirm:t,onBack:r})=>{const{user:n}=Lr(),[i,s]=y.useState(!1),[a,l]=y.useState(!1),c=Nxe[e.consultationType],u=async()=>{if(!n){oe.error("You must be logged in to book an appointment");return}s(!0);try{const{data:d,error:f}=await Ie.from("symptom_assessments").insert({patient_id:n.id,symptoms:e.symptoms,severity:e.severity,description:e.description||null,recommended_specialization:e.recommendedSpecialization}).select().single();if(f)throw f;const[h,p]=e.time.split(":").map(Number),g=pV(hV(e.date,h),p),{error:m}=await Ie.from("appointments").insert({patient_id:n.id,clinician_id:e.clinician.id,symptom_assessment_id:d.id,scheduled_at:g.toISOString(),consultation_type:e.consultationType,status:"pending"});if(m)throw m;l(!0),oe.success("Appointment booked successfully!")}catch(d){console.error("Error booking appointment:",d),oe.error(d.message||"Failed to book appointment")}finally{s(!1)}};return a?o.jsx(le,{className:"text-center",children:o.jsxs(de,{className:"py-12",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6",children:o.jsx(Hr,{className:"w-10 h-10 text-success"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Booking Confirmed!"}),o.jsxs("p",{className:"text-muted-foreground mb-6",children:["Your appointment with Dr. ",e.clinician.first_name," ",e.clinician.last_name," has been scheduled."]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6 inline-block",children:[o.jsx("p",{className:"font-medium",children:Yb(e.date)}),o.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.time," ",bg]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You will receive a confirmation email with further instructions."}),o.jsx(Z,{onClick:t,children:"Return to Dashboard"})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsx(we,{children:"Review Your Booking"}),o.jsx(Oe,{children:"Please review the details before confirming your appointment."})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(Dr,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold",children:["Dr. ",e.clinician.first_name," ",e.clinician.last_name]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.clinician.specialization||"General Practice"})]})]}),o.jsx(r0,{}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(Dt,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-medium",children:Jhe(e.date)})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(nr,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Time (",bg,")"]}),o.jsx("p",{className:"font-medium",children:e.time})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(c,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),o.jsx("p",{className:"font-medium",children:kxe[e.consultationType]})]})]})]}),o.jsx(r0,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-3",children:"Reported Symptoms"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.symptoms.map((d,f)=>o.jsx(Ce,{variant:"secondary",children:d},f))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Severity:"}),o.jsx(Ce,{variant:e.severity==="severe"?"destructive":e.severity==="moderate"?"default":"secondary",children:e.severity.charAt(0).toUpperCase()+e.severity.slice(1)})]}),e.description&&o.jsx("p",{className:"mt-3 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:e.description})]})]})]}),o.jsx(le,{className:"border-primary/20 bg-primary/5",children:o.jsx(de,{className:"p-4",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"By confirming this booking, you agree to our terms of service and consent to a telehealth consultation. You can cancel or reschedule up to 2 hours before your appointment."})})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Z,{variant:"outline",onClick:r,disabled:i,children:"Back"}),o.jsx(Z,{onClick:u,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Confirm Booking"]})})]})]})},J9="",Oxe=["Fever","Cough","Headache","Sore throat","Body aches","Fatigue","Nausea","Diarrhea","Rash","Dizziness"],Exe=({onBack:e,onComplete:t})=>{Wn();const[r,n]=y.useState(!1),[i,s]=y.useState(""),[a,l]=y.useState([]),[c,u]=y.useState("moderate"),[d,f]=y.useState(""),h=g=>{l(m=>m.includes(g)?m.filter(v=>v!==g):[...m,g])},p=async()=>{if(!i.trim()){oe.error("Please describe your main concern");return}n(!0);try{const{supabase:g}=await qo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>Vo);return{supabase:x}},void 0),{data:{session:m}}=await g.auth.getSession();if(!(m!=null&&m.access_token)){oe.error("Please sign in to continue");return}const v=await fetch(`${J9}/api/appointments/walk-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify({chief_complaint:i,symptoms:a,severity:c,consultation_type:"in_person",notes:d||null})});if(!v.ok){const x=await v.json();throw new Error(x.detail||"Failed to create walk-in booking")}const b=await v.json();oe.success(`Walk-in registered! Queue position: ${b.queue_position||"Next available"}`),t()}catch(g){console.error("Walk-in error:",g),oe.error(g instanceof Error?g.message:"Failed to register walk-in")}finally{n(!1)}};return o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(nr,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{children:"Walk-In Booking"}),o.jsx(Oe,{children:"No appointment? Join the queue now"})]})]})}),o.jsxs(de,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Walk-in patients are seen in order of arrival. Average wait time today: ",o.jsx("strong",{children:"~30 minutes"})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"complaint",children:"What brings you in today? *"}),o.jsx(Zt,{id:"complaint",value:i,onChange:g=>s(g.target.value),placeholder:"Describe your main concern...",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Any of these symptoms?"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Oxe.map(g=>o.jsx(Ce,{variant:a.includes(g)?"default":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>h(g),children:g},g))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"How severe are your symptoms?"}),o.jsxs(Ng,{value:c,onValueChange:u,className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fa,{value:"mild",id:"mild"}),o.jsx(fe,{htmlFor:"mild",className:"cursor-pointer",children:"Mild"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fa,{value:"moderate",id:"moderate"}),o.jsx(fe,{htmlFor:"moderate",className:"cursor-pointer",children:"Moderate"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fa,{value:"severe",id:"severe"}),o.jsx(fe,{htmlFor:"severe",className:"cursor-pointer",children:"Severe"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"notes",children:"Additional notes (optional)"}),o.jsx(Zt,{id:"notes",value:d,onChange:g=>f(g.target.value),placeholder:"Anything else we should know...",rows:2})]}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs(Z,{variant:"outline",onClick:e,children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Z,{onClick:p,disabled:r||!i.trim(),children:r?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"})," Registering..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hr,{className:"w-4 h-4 mr-2"})," Join Queue"]})})]})]})]})},Pxe=["Chest pain","Difficulty breathing","Severe bleeding","Loss of consciousness","Severe allergic reaction","Stroke symptoms","Severe abdominal pain","High fever (>39C)","Seizure"],Txe=({onBack:e,onComplete:t})=>{const[r,n]=y.useState(!1),[i,s]=y.useState(""),[a,l]=y.useState([]),[c,u]=y.useState(!1),d=h=>{l(p=>p.includes(h)?p.filter(g=>g!==h):[...p,h])},f=async()=>{if(!i.trim()){oe.error("Please describe your emergency");return}n(!0);try{const{supabase:h}=await qo(async()=>{const{supabase:m}=await Promise.resolve().then(()=>Vo);return{supabase:m}},void 0),{data:{session:p}}=await h.auth.getSession();if(!(p!=null&&p.access_token)){oe.error("Please sign in to continue");return}const g=await fetch(`${J9}/api/appointments/emergency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({chief_complaint:i,symptoms:a,severity:"severe",emergency_contact_notified:c})});if(!g.ok){const m=await g.json();throw new Error(m.detail||"Failed to create emergency booking")}oe.success("Emergency booking created! A clinician will contact you immediately."),t()}catch(h){console.error("Emergency error:",h),oe.error(h instanceof Error?h.message:"Failed to create emergency booking")}finally{n(!1)}};return o.jsxs(le,{className:"border-red-500",children:[o.jsx(me,{className:"bg-red-50",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:o.jsx(ai,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-red-700",children:"Emergency Booking"}),o.jsx(Oe,{className:"text-red-600",children:"For urgent medical situations - Priority assistance"})]})]})}),o.jsxs(de,{className:"space-y-6 pt-6",children:[o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Si,{className:"w-5 h-5 text-red-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-700",children:"Life-threatening emergency?"}),o.jsxs("p",{className:"text-sm text-red-600",children:["Call ",o.jsx("strong",{children:"10177"})," (ambulance) or ",o.jsx("strong",{children:"112"})," (emergency) immediately"]})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"emergency-complaint",children:"What is your emergency? *"}),o.jsx(Zt,{id:"emergency-complaint",value:i,onChange:h=>s(h.target.value),placeholder:"Describe what's happening...",rows:3,className:"border-red-200 focus:border-red-500"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Select any matching symptoms:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Pxe.map(h=>o.jsx(Ce,{variant:a.includes(h)?"destructive":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>d(h),children:h},h))})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[o.jsx("input",{type:"checkbox",id:"notify-contact",checked:c,onChange:h=>u(h.target.checked),className:"rounded"}),o.jsx(fe,{htmlFor:"notify-contact",className:"cursor-pointer text-sm",children:"I have notified my emergency contact"})]}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs(Z,{variant:"outline",onClick:e,children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Z,{variant:"destructive",onClick:f,disabled:r||!i.trim(),children:r?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"})," Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ai,{className:"w-4 h-4 mr-2"})," Request Emergency Help"]})})]})]})]})},I$=[{id:"symptoms",label:"Symptoms",icon:Wf},{id:"clinician",label:"Clinician",icon:Dr},{id:"time",label:"Schedule",icon:nr},{id:"confirm",label:"Confirm",icon:$r}],Axe=()=>{const e=Wn(),{profile:t,signOut:r}=Lr(),[n,i]=y.useState("intro"),[s,a]=y.useState("scheduled"),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),p=()=>({intro:-1,symptoms:0,clinician:1,time:2,confirm:3,"walk-in":-1,emergency:-1})[n],g=x=>{c(x),i("clinician")},m=x=>{d(x),i("time")},v=x=>{h(x),i("confirm")},b=()=>{e("/patient")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground hidden sm:block",children:(t==null?void 0:t.first_name)||"Patient"}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e("/patient"),className:"text-xs sm:text-sm",children:[o.jsx(rn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),o.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-4xl",children:[n!=="intro"&&o.jsx("div",{className:"mb-6 sm:mb-8 overflow-x-auto",children:o.jsx("div",{className:"flex items-center justify-between min-w-[300px]",children:I$.map((x,w)=>{const _=x.icon,N=p()===w,j=p()>w;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors ${j?"bg-success text-success-foreground":N?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:j?o.jsx($r,{className:"w-4 h-4 sm:w-5 sm:h-5"}):o.jsx(_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),o.jsx("span",{className:`text-xs mt-1 sm:mt-2 ${N?"text-primary font-medium":"text-muted-foreground"}`,children:x.label})]}),w<I$.length-1&&o.jsx("div",{className:`h-1 w-8 sm:w-16 md:w-24 mx-1 sm:mx-2 rounded ${j?"bg-success":"bg-muted"}`})]},x.id)})})}),n==="intro"&&o.jsxs(le,{className:"text-center",children:[o.jsxs(me,{children:[o.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(Dt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),o.jsx(we,{className:"text-xl sm:text-2xl",children:"Book a Consultation"}),o.jsx(Oe,{className:"text-sm sm:text-base max-w-md mx-auto",children:"Our AI-powered system will assess your symptoms and help you find the right clinician."})]}),o.jsxs(de,{children:[o.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[o.jsx(le,{className:`cursor-pointer transition-all hover:border-primary ${s==="scheduled"?"ring-2 ring-primary border-primary":""}`,onClick:()=>a("scheduled"),children:o.jsxs(de,{className:"p-4 text-center",children:[o.jsx(Dt,{className:"w-8 h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Schedule"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Book a future appointment"})]})}),o.jsx(le,{className:`cursor-pointer transition-all hover:border-orange-500 ${s==="walk-in"?"ring-2 ring-orange-500 border-orange-500":""}`,onClick:()=>a("walk-in"),children:o.jsxs(de,{className:"p-4 text-center",children:[o.jsx(Ln,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Walk-In"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Join queue now"})]})}),o.jsx(le,{className:`cursor-pointer transition-all hover:border-red-500 ${s==="emergency"?"ring-2 ring-red-500 border-red-500":""}`,onClick:()=>a("emergency"),children:o.jsxs(de,{className:"p-4 text-center",children:[o.jsx(ai,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Emergency"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent care needed"})]})})]}),s==="scheduled"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(Wf,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),o.jsx(Nb,{className:"w-4 h-4 text-yellow-500"})]}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"AI Symptom Check"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"AI-powered assessment"})]}),o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsx(Dr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Choose Clinician"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select your preferred doctor"})]}),o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsx(nr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Schedule"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pick a convenient time"})]})]}),o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg mb-6 text-left",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[o.jsx(Nb,{className:"w-4 h-4 text-primary"}),"Powered by AI"]}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Our AI assistant will analyze your symptoms to determine urgency and recommend the best care pathway."})]}),o.jsxs(Z,{size:"lg",onClick:()=>i("symptoms"),className:"w-full sm:w-auto",children:["Start Booking",o.jsx(ta,{className:"w-4 h-4 ml-2"})]})]}),s==="walk-in"&&o.jsxs("div",{className:"text-left",children:[o.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg mb-6",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-orange-700",children:[o.jsx(Ln,{className:"w-4 h-4"}),"Walk-In Queue"]}),o.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"No appointment needed. Join the queue and be seen in order of arrival. Average wait time: ~30 minutes."})]}),o.jsxs(Z,{size:"lg",onClick:()=>i("walk-in"),className:"w-full sm:w-auto bg-orange-500 hover:bg-orange-600",children:["Join Walk-In Queue",o.jsx(ta,{className:"w-4 h-4 ml-2"})]})]}),s==="emergency"&&o.jsxs("div",{className:"text-left",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-6",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-red-700",children:[o.jsx(ai,{className:"w-4 h-4"}),"Emergency Care"]}),o.jsx("p",{className:"text-sm text-red-600 mt-1",children:"For urgent medical situations. You'll be prioritized and a clinician will contact you immediately."}),o.jsx("p",{className:"text-sm text-red-700 font-medium mt-2",children:"Life-threatening? Call 10177 (ambulance) or 112 now."})]}),o.jsxs(Z,{size:"lg",variant:"destructive",onClick:()=>i("emergency"),className:"w-full sm:w-auto",children:["Request Emergency Help",o.jsx(ta,{className:"w-4 h-4 ml-2"})]})]})]})]}),n==="walk-in"&&o.jsx(Exe,{onBack:()=>i("intro"),onComplete:()=>e("/patient")}),n==="emergency"&&o.jsx(Txe,{onBack:()=>i("intro"),onComplete:()=>e("/patient")}),n==="symptoms"&&o.jsx(bve,{onComplete:g,onBack:()=>i("intro")}),n==="clinician"&&l&&o.jsx(Fve,{recommendedSpecialization:l.recommendedSpecialization,onSelect:m,onBack:()=>i("symptoms")}),n==="time"&&u&&o.jsx(xxe,{clinicianId:u.id,clinicianName:`${u.first_name} ${u.last_name}`,onSelect:v,onBack:()=>i("clinician")}),n==="confirm"&&l&&u&&f&&o.jsx(Cxe,{data:{...l,clinician:u,...f},onConfirm:b,onBack:()=>i("time")})]})]})},Mxe=({stats:e,pendingNotes:t})=>{const r=[{label:"Today's Queue",value:e.waiting,icon:Ln,iconBg:"bg-primary/10",iconColor:"text-primary"},{label:"Completed Today",value:e.completed,icon:vs,iconBg:"bg-success/10",iconColor:"text-success"},{label:"Pending Notes",value:t,icon:IU,iconBg:"bg-warning/10",iconColor:"text-warning"},{label:"Total Scheduled",value:e.total,icon:Dt,iconBg:"bg-secondary/20",iconColor:"text-secondary-foreground"}];return o.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:r.map((n,i)=>{const s=n.icon;return o.jsx(le,{children:o.jsx(de,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:n.label}),o.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.value})]}),o.jsx("div",{className:`p-3 rounded-xl ${n.iconBg}`,children:o.jsx(s,{className:`w-6 h-6 ${n.iconColor}`})})]})})},i)})})};var __="Switch",[Ixe]=kn(__),[Rxe,$xe]=Ixe(__),X9=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=y.useState(null),g=rt(t,w=>p(w)),m=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b,x]=aa({prop:i,defaultProp:s??!1,onChange:u,caller:__});return o.jsxs(Rxe,{scope:r,checked:b,disabled:l,children:[o.jsx(Fe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":t7(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:ge(e.onClick,w=>{x(_=>!_),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&o.jsx(e7,{control:h,bubbles:!m.current,name:n,value:c,checked:b,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});X9.displayName=__;var Q9="SwitchThumb",Z9=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=$xe(Q9,r);return o.jsx(Fe.span,{"data-state":t7(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Z9.displayName=Q9;var Dxe="SwitchBubbleInput",e7=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const a=y.useRef(null),l=rt(a,s),c=s_(r),u=qw(t);return y.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});e7.displayName=Dxe;function t7(e){return e?"checked":"unchecked"}var r7=X9,Lxe=Z9;const j_=y.forwardRef(({className:e,...t},r)=>o.jsx(r7,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(Lxe,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));j_.displayName=r7.displayName;function Fxe(e){const t=Bxe(e),r=y.forwardRef((n,i)=>{const{children:s,...a}=n,l=y.Children.toArray(s),c=l.find(zxe);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function Bxe(e){const t=y.forwardRef((r,n)=>{const{children:i,...s}=r;if(y.isValidElement(i)){const a=Vxe(i),l=Wxe(s,i.props);return i.type!==y.Fragment&&(l.ref=n?Qa(n,a):a),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Uxe=Symbol("radix.slottable");function zxe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Uxe}function Wxe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Vxe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var S_="Popover",[n7]=kn(S_,[pc]),Uv=pc(),[Hxe,xc]=n7(S_),i7=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,l=Uv(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=aa({prop:n,defaultProp:i??!1,onChange:s,caller:S_});return o.jsx(sP,{...l,children:o.jsx(Hxe,{scope:t,contentId:ra(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:a,children:r})})};i7.displayName=S_;var s7="PopoverAnchor",qxe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=xc(s7,r),s=Uv(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return y.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(jv,{...s,...n,ref:t})});qxe.displayName=s7;var a7="PopoverTrigger",o7=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=xc(a7,r),s=Uv(r),a=rt(t,i.triggerRef),l=o.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":f7(i.open),...n,ref:a,onClick:ge(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(jv,{asChild:!0,...s,children:l})});o7.displayName=a7;var pT="PopoverPortal",[Gxe,Kxe]=n7(pT,{forceMount:void 0}),l7=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,s=xc(pT,t);return o.jsx(Gxe,{scope:t,forceMount:r,children:o.jsx(nn,{present:r||s.open,children:o.jsx(zh,{asChild:!0,container:i,children:n})})})};l7.displayName=pT;var ah="PopoverContent",c7=y.forwardRef((e,t)=>{const r=Kxe(ah,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,s=xc(ah,e.__scopePopover);return o.jsx(nn,{present:n||s.open,children:s.modal?o.jsx(Jxe,{...i,ref:t}):o.jsx(Xxe,{...i,ref:t})})});c7.displayName=ah;var Yxe=Fxe("PopoverContent.RemoveScroll"),Jxe=y.forwardRef((e,t)=>{const r=xc(ah,e.__scopePopover),n=y.useRef(null),i=rt(t,n),s=y.useRef(!1);return y.useEffect(()=>{const a=n.current;if(a)return a_(a)},[]),o.jsx(Ov,{as:Yxe,allowPinchZoom:!0,children:o.jsx(u7,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Xxe=y.forwardRef((e,t)=>{const r=xc(ah,e.__scopePopover),n=y.useRef(!1),i=y.useRef(!1);return o.jsx(u7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),u7=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=xc(ah,r),p=Uv(r);return i_(),o.jsx(Cv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(ed,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(Gw,{"data-state":f7(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),d7="PopoverClose",Qxe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=xc(d7,r);return o.jsx(Fe.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,()=>i.onOpenChange(!1))})});Qxe.displayName=d7;var Zxe="PopoverArrow",ebe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Uv(r);return o.jsx(Kw,{...i,...n,ref:t})});ebe.displayName=Zxe;function f7(e){return e?"open":"closed"}var tbe=i7,rbe=o7,nbe=l7,h7=c7;const ibe=tbe,sbe=rbe,p7=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>o.jsx(nbe,{children:o.jsx(h7,{ref:i,align:t,sideOffset:r,className:_e("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));p7.displayName=h7.displayName;const m7=Ple,g7=y.createContext({}),Mn=({...e})=>o.jsx(g7.Provider,{value:{name:e.name},children:o.jsx(Ole,{...e})}),N_=()=>{const e=y.useContext(g7),t=y.useContext(v7),{getFieldState:r,formState:n}=Ele(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},v7=y.createContext({}),_n=y.forwardRef(({className:e,...t},r)=>{const n=y.useId();return o.jsx(v7.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:_e("space-y-2",e),...t})})});_n.displayName="FormItem";const ln=y.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=N_();return o.jsx(fe,{ref:r,className:_e(n&&"text-destructive",e),htmlFor:i,...t})});ln.displayName="FormLabel";const jn=y.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=N_();return o.jsx(iz,{ref:t,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...e})});jn.displayName="FormControl";const Wk=y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=N_();return o.jsx("p",{ref:r,id:n,className:_e("text-sm text-muted-foreground",e),...t})});Wk.displayName="FormDescription";const In=y.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:s}=N_(),a=i?String(i==null?void 0:i.message):t;return a?o.jsx("p",{ref:n,id:s,className:_e("text-sm font-medium text-destructive",e),...r,children:a}):null});In.displayName="FormMessage";function abe(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var mT="ScrollArea",[y7]=kn(mT),[obe,Ns]=y7(mT),x7=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[p,g]=y.useState(null),[m,v]=y.useState(null),[b,x]=y.useState(0),[w,_]=y.useState(0),[N,j]=y.useState(!1),[k,C]=y.useState(!1),P=rt(t,I=>c(I)),A=Qh(i);return o.jsx(obe,{scope:r,type:n,dir:A,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:j,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:_,children:o.jsx(Fe.div,{dir:A,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});x7.displayName=mT;var b7="ScrollAreaViewport",w7=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=e,a=Ns(b7,r),l=y.useRef(null),c=rt(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(Fe.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});w7.displayName=b7;var no="ScrollAreaScrollbar",gT=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Ns(no,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,l=e.orientation==="horizontal";return y.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),i.type==="hover"?o.jsx(lbe,{...n,ref:t,forceMount:r}):i.type==="scroll"?o.jsx(cbe,{...n,ref:t,forceMount:r}):i.type==="auto"?o.jsx(_7,{...n,ref:t,forceMount:r}):i.type==="always"?o.jsx(vT,{...n,ref:t}):null});gT.displayName=no;var lbe=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Ns(no,e.__scopeScrollArea),[s,a]=y.useState(!1);return y.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(nn,{present:r||s,children:o.jsx(_7,{"data-state":s?"visible":"hidden",...n,ref:t})})}),cbe=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Ns(no,e.__scopeScrollArea),s=e.orientation==="horizontal",a=C_(()=>c("SCROLL_END"),100),[l,c]=abe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),y.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),a()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,s,c,a]),o.jsx(nn,{present:r||l!=="hidden",children:o.jsx(vT,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ge(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ge(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),_7=y.forwardRef((e,t)=>{const r=Ns(no,e.__scopeScrollArea),{forceMount:n,...i}=e,[s,a]=y.useState(!1),l=e.orientation==="horizontal",c=C_(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(l?u:d)}},10);return oh(r.viewport,c),oh(r.content,c),o.jsx(nn,{present:n||s,children:o.jsx(vT,{"data-state":s?"visible":"hidden",...i,ref:t})})}),vT=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=Ns(no,e.__scopeScrollArea),s=y.useRef(null),a=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=C7(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,p){return mbe(h,a.current,l,p)}return r==="horizontal"?o.jsx(ube,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,p=R$(h,l,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?o.jsx(dbe,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,p=R$(h,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),ube=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=Ns(no,e.__scopeScrollArea),[a,l]=y.useState(),c=y.useRef(null),u=rt(t,c,s.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(S7,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":k_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),E7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:i0(a.paddingLeft),paddingEnd:i0(a.paddingRight)}})}})}),dbe=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,s=Ns(no,e.__scopeScrollArea),[a,l]=y.useState(),c=y.useRef(null),u=rt(t,c,s.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(S7,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":k_(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),E7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:i0(a.paddingTop),paddingEnd:i0(a.paddingBottom)}})}})}),[fbe,j7]=y7(no),S7=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Ns(no,r),[g,m]=y.useState(null),v=rt(t,P=>m(P)),b=y.useRef(null),x=y.useRef(""),w=p.viewport,_=n.content-n.viewport,N=Er(d),j=Er(c),k=C_(f,10);function C(P){if(b.current){const A=P.clientX-b.current.left,I=P.clientY-b.current.top;u({x:A,y:I})}}return y.useEffect(()=>{const P=A=>{const I=A.target;(g==null?void 0:g.contains(I))&&N(A,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[w,g,_,N]),y.useEffect(j,[n,j]),oh(g,k),oh(p.content,k),o.jsx(fbe,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:Er(s),onThumbPointerUp:Er(a),onThumbPositionChange:j,onThumbPointerDown:Er(l),children:o.jsx(Fe.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:ge(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:ge(e.onPointerMove,C),onPointerUp:ge(e.onPointerUp,P=>{const A=P.target;A.hasPointerCapture(P.pointerId)&&A.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),n0="ScrollAreaThumb",N7=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=j7(n0,e.__scopeScrollArea);return o.jsx(nn,{present:r||i.hasThumb,children:o.jsx(hbe,{ref:t,...n})})}),hbe=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,s=Ns(n0,r),a=j7(n0,r),{onThumbPositionChange:l}=a,c=rt(t,f=>a.onThumbChange(f)),u=y.useRef(void 0),d=C_(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const p=gbe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),o.jsx(Fe.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ge(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;a.onThumbPointerDown({x:g,y:m})}),onPointerUp:ge(e.onPointerUp,a.onThumbPointerUp)})});N7.displayName=n0;var yT="ScrollAreaCorner",k7=y.forwardRef((e,t)=>{const r=Ns(yT,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(pbe,{...e,ref:t}):null});k7.displayName=yT;var pbe=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=Ns(yT,r),[s,a]=y.useState(0),[l,c]=y.useState(0),u=!!(s&&l);return oh(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),oh(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),u?o.jsx(Fe.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function i0(e){return e?parseInt(e,10):0}function C7(e,t){const r=e/t;return isNaN(r)?0:r}function k_(e){const t=C7(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function mbe(e,t,r,n="ltr"){const i=k_(r),s=i/2,a=t||s,l=i-a,c=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return O7([c,u],f)(e)}function R$(e,t,r="ltr"){const n=k_(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,a=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,a]:[a*-1,0],u=kk(e,c);return O7([0,a],[0,l])(u)}function O7(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function E7(e,t){return e>0&&e<t}var gbe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},a=r.left!==s.left,l=r.top!==s.top;(a||l)&&t(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function C_(e,t){const r=Er(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function oh(e,t){const r=Er(t);Rr(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var P7=x7,vbe=w7,ybe=k7;const xT=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(P7,{ref:n,className:_e("relative overflow-hidden",e),...r,children:[o.jsx(vbe,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(T7,{}),o.jsx(ybe,{})]}));xT.displayName=P7.displayName;const T7=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(gT,{ref:n,orientation:t,className:_e("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(N7,{className:"relative flex-1 rounded-full bg-border"})}));T7.displayName=gT.displayName;const $$=[{code:"J06.9",description:"Acute upper respiratory infection, unspecified"},{code:"J00",description:"Acute nasopharyngitis (common cold)"},{code:"J02.9",description:"Acute pharyngitis, unspecified"},{code:"J03.90",description:"Acute tonsillitis, unspecified"},{code:"J20.9",description:"Acute bronchitis, unspecified"},{code:"N39.0",description:"Urinary tract infection, site not specified"},{code:"K30",description:"Functional dyspepsia"},{code:"R51",description:"Headache"},{code:"M54.5",description:"Low back pain"},{code:"L30.9",description:"Dermatitis, unspecified"},{code:"R05",description:"Cough"},{code:"R50.9",description:"Fever, unspecified"},{code:"R11.2",description:"Nausea with vomiting, unspecified"},{code:"K59.00",description:"Constipation, unspecified"},{code:"R42",description:"Dizziness and giddiness"},{code:"H10.9",description:"Conjunctivitis, unspecified"},{code:"H66.90",description:"Otitis media, unspecified"},{code:"B34.9",description:"Viral infection, unspecified"},{code:"F41.9",description:"Anxiety disorder, unspecified"},{code:"F32.9",description:"Major depressive disorder, single episode"},{code:"I10",description:"Essential (primary) hypertension"},{code:"E11.9",description:"Type 2 diabetes mellitus without complications"},{code:"Z00.00",description:"General adult medical examination"},{code:"Z71.1",description:"Person with feared health complaint"}],xbe=({selectedCodes:e,onCodesChange:t})=>{const[r,n]=y.useState(""),[i,s]=y.useState(!1),a=$$.filter(u=>!e.some(d=>d.code===u.code)&&(u.code.toLowerCase().includes(r.toLowerCase())||u.description.toLowerCase().includes(r.toLowerCase()))),l=y.useCallback(u=>{t([...e,u]),n(""),s(!1)},[e,t]),c=y.useCallback(u=>{t(e.filter(d=>d.code!==u))},[e,t]);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(qN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(st,{placeholder:"Search ICD-10 codes...",value:r,onChange:u=>{n(u.target.value),s(!0)},onFocus:()=>s(!0),className:"pl-10"}),i&&r&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg",children:o.jsx(xT,{className:"max-h-48",children:a.length>0?a.slice(0,10).map(u=>o.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted flex items-center justify-between",onClick:()=>l(u),children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-mono font-medium text-primary",children:u.code}),o.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:u.description})]}),o.jsx(Hf,{className:"w-4 h-4 text-muted-foreground"})]},u.code)):o.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"No matching codes found"})})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Quick add common codes:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:$$.slice(0,8).filter(u=>!e.some(d=>d.code===u.code)).map(u=>o.jsx(Z,{type:"button",variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>l(u),children:u.code},u.code))})]}),e.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Selected diagnoses:"}),o.jsx("div",{className:"space-y-1",children:e.map(u=>o.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-md px-3 py-2",children:[o.jsxs("div",{children:[o.jsx(Ce,{variant:"secondary",className:"font-mono mr-2",children:u.code}),o.jsx("span",{className:"text-sm",children:u.description})]}),o.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(u.code),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:o.jsx(Za,{className:"w-4 h-4"})})]},u.code))})]})]})},bbe=Xh({chief_complaint:vr().min(1,"Chief complaint is required").max(500),history_of_present_illness:vr().max(2e3).optional(),examination_findings:vr().max(2e3).optional(),treatment_plan:vr().max(2e3).optional(),follow_up_instructions:vr().max(1e3).optional(),follow_up_date:wce().optional().nullable(),referral_required:bce().default(!1),referral_details:vr().max(500).optional()}),wbe=({appointmentId:e,patientId:t,patientName:r,onComplete:n,existingNoteId:i})=>{const{user:s}=Lr(),[a,l]=y.useState([]),[c,u]=y.useState(!1),[d,f]=y.useState(i||null),[h,p]=y.useState("draft"),g=ef({resolver:tf(bbe),defaultValues:{chief_complaint:"",history_of_present_illness:"",examination_findings:"",treatment_plan:"",follow_up_instructions:"",follow_up_date:null,referral_required:!1,referral_details:""}});y.useEffect(()=>{(async()=>{if(!i)return;const{data:w,error:_}=await Ie.from("clinical_notes").select("*").eq("id",i).single();if(_){console.error("Error loading note:",_);return}w&&(g.reset({chief_complaint:w.chief_complaint||"",history_of_present_illness:w.history_of_present_illness||"",examination_findings:w.examination_findings||"",treatment_plan:w.treatment_plan||"",follow_up_instructions:w.follow_up_instructions||"",follow_up_date:w.follow_up_date?new Date(w.follow_up_date):null,referral_required:w.referral_required||!1,referral_details:w.referral_details||""}),l(w.icd10_codes||[]),p(w.status),f(w.id))})()},[i,g]);const m=async x=>{if(s){u(!0);try{const w={appointment_id:e,clinician_id:s.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:a.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(a)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?Pt(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"draft"};if(d){const{error:_}=await Ie.from("clinical_notes").update(w).eq("id",d);if(_)throw _;oe.success("Draft saved")}else{const{data:_,error:N}=await Ie.from("clinical_notes").insert(w).select().single();if(N)throw N;f(_.id),oe.success("Draft created")}}catch(w){console.error("Error saving draft:",w),oe.error("Failed to save draft")}finally{u(!1)}}},v=async x=>{if(s){if(a.length===0){oe.error("Please add at least one ICD-10 diagnosis code");return}u(!0);try{const w={appointment_id:e,clinician_id:s.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:a.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(a)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?Pt(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"completed",signed_at:new Date().toISOString()};if(d){const{error:_}=await Ie.from("clinical_notes").update(w).eq("id",d);if(_)throw _}else{const{error:_}=await Ie.from("clinical_notes").insert(w);if(_)throw _}oe.success("Clinical note completed and signed"),p("completed"),n==null||n()}catch(w){console.error("Error completing note:",w),oe.error("Failed to complete note")}finally{u(!1)}}},b=h==="completed";return o.jsxs(le,{className:"w-full",children:[o.jsx(me,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-5 h-5 text-primary"}),"Clinical Notes"]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Patient: ",o.jsx("span",{className:"font-medium",children:r})]})]}),o.jsx(Ce,{variant:b?"default":"secondary",children:b?"Completed":"Draft"})]})}),o.jsx(de,{children:o.jsx(m7,{...g,children:o.jsxs("form",{className:"space-y-6",children:[o.jsxs(tl,{defaultValue:"clinical",className:"w-full",children:[o.jsxs(ro,{className:"grid w-full grid-cols-3",children:[o.jsxs(Bt,{value:"clinical",className:"flex items-center gap-2",children:[o.jsx(vs,{className:"w-4 h-4"}),"Clinical"]}),o.jsxs(Bt,{value:"diagnosis",className:"flex items-center gap-2",children:[o.jsx(Zo,{className:"w-4 h-4"}),"Diagnosis"]}),o.jsxs(Bt,{value:"treatment",className:"flex items-center gap-2",children:[o.jsx(Zr,{className:"w-4 h-4"}),"Treatment"]})]}),o.jsxs(fr,{value:"clinical",className:"space-y-4 mt-4",children:[o.jsx(Mn,{control:g.control,name:"chief_complaint",render:({field:x})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Chief Complaint *"}),o.jsx(jn,{children:o.jsx(Zt,{placeholder:"Patient presents with...",className:"min-h-[80px]",disabled:b,...x})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:g.control,name:"history_of_present_illness",render:({field:x})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"History of Present Illness"}),o.jsx(jn,{children:o.jsx(Zt,{placeholder:"Onset, duration, severity, associated symptoms...",className:"min-h-[120px]",disabled:b,...x})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:g.control,name:"examination_findings",render:({field:x})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Examination Findings"}),o.jsx(jn,{children:o.jsx(Zt,{placeholder:"Vital signs, physical examination findings...",className:"min-h-[120px]",disabled:b,...x})}),o.jsx(Wk,{children:"Document any observable findings from the video consultation"}),o.jsx(In,{})]})})]}),o.jsx(fr,{value:"diagnosis",className:"space-y-4 mt-4",children:o.jsxs("div",{children:[o.jsx(ln,{children:"ICD-10 Diagnosis Codes *"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add relevant diagnosis codes for this consultation"}),o.jsx(xbe,{selectedCodes:a,onCodesChange:b?()=>{}:l})]})}),o.jsxs(fr,{value:"treatment",className:"space-y-4 mt-4",children:[o.jsx(Mn,{control:g.control,name:"treatment_plan",render:({field:x})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Treatment Plan"}),o.jsx(jn,{children:o.jsx(Zt,{placeholder:"Medications, lifestyle modifications, recommendations...",className:"min-h-[120px]",disabled:b,...x})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:g.control,name:"follow_up_instructions",render:({field:x})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Follow-up Instructions"}),o.jsx(jn,{children:o.jsx(Zt,{placeholder:"When to return, warning signs to watch for...",className:"min-h-[80px]",disabled:b,...x})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:g.control,name:"follow_up_date",render:({field:x})=>o.jsxs(_n,{className:"flex flex-col",children:[o.jsx(ln,{children:"Follow-up Date"}),o.jsxs(ibe,{children:[o.jsx(sbe,{asChild:!0,children:o.jsx(jn,{children:o.jsxs(Z,{variant:"outline",disabled:b,className:_e("w-full pl-3 text-left font-normal",!x.value&&"text-muted-foreground"),children:[x.value?Pt(x.value,"PPP"):o.jsx("span",{children:"Select date"}),o.jsx(Dt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(p7,{className:"w-auto p-0",align:"start",children:o.jsx(hT,{mode:"single",selected:x.value||void 0,onSelect:x.onChange,disabled:w=>w<new Date,initialFocus:!0})})]}),o.jsx(In,{})]})}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx(Mn,{control:g.control,name:"referral_required",render:({field:x})=>o.jsxs(_n,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ln,{className:"text-base",children:"Referral Required"}),o.jsx(Wk,{children:"Does this patient need to be referred to a specialist?"})]}),o.jsx(jn,{children:o.jsx(j_,{checked:x.value,onCheckedChange:x.onChange,disabled:b})})]})}),g.watch("referral_required")&&o.jsx(Mn,{control:g.control,name:"referral_details",render:({field:x})=>o.jsxs(_n,{className:"mt-4",children:[o.jsx(ln,{children:"Referral Details"}),o.jsx(jn,{children:o.jsx(Zt,{placeholder:"Specialist type, urgency, reason for referral...",disabled:b,...x})}),o.jsx(In,{})]})})]})]})]}),!b&&o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsxs(Z,{type:"button",variant:"outline",onClick:g.handleSubmit(m),disabled:c,children:[o.jsx(LU,{className:"w-4 h-4 mr-2"}),"Save Draft"]}),o.jsxs(Z,{type:"button",onClick:g.handleSubmit(v),disabled:c,children:[o.jsx($U,{className:"w-4 h-4 mr-2"}),"Complete & Sign"]})]})]})})})]})},bT=({open:e,onOpenChange:t,appointmentId:r,patientId:n,patientName:i,existingNoteId:s,onComplete:a})=>{const l=()=>{a==null||a(),t(!1)};return o.jsx(ni,{open:e,onOpenChange:t,children:o.jsxs(Un,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ii,{children:o.jsx(si,{children:"Document Consultation"})}),o.jsx(wbe,{appointmentId:r,patientId:n,patientName:i,existingNoteId:s,onComplete:l})]})})},A7=()=>{const{user:e,role:t}=Lr(),[r,n]=y.useState([]),[i,s]=y.useState(!0),[a,l]=y.useState(null),c=y.useCallback(async()=>{if(e){s(!0),l(null);try{const{data:p,error:g}=await Ie.from("prescriptions").select("*").order("prescribed_at",{ascending:!1});if(g)throw g;const m=[...new Set((p==null?void 0:p.map(_=>_.patient_id))||[])],v=[...new Set((p==null?void 0:p.map(_=>_.clinician_id))||[])],{data:b}=await Ie.from("profiles").select("id, first_name, last_name").in("id",[...m,...v]),x=new Map((b==null?void 0:b.map(_=>[_.id,`${_.first_name} ${_.last_name}`]))||[]),w=(p==null?void 0:p.map(_=>({..._,patient_name:x.get(_.patient_id)||"Unknown",clinician_name:x.get(_.clinician_id)||"Unknown"})))||[];n(w)}catch(p){l(p.message)}finally{s(!1)}}},[e]),u=async p=>{if(!e)return{success:!1,error:"Not authenticated"};try{const{data:g,error:m}=await Ie.from("prescriptions").insert({...p,clinician_id:e.id}).select().single();if(m)throw m;return await c(),{success:!0,prescription:g}}catch(g){return{success:!1,error:g.message}}},d=async(p,g)=>{try{const{error:m}=await Ie.from("prescriptions").update({status:g}).eq("id",p);if(m)throw m;return await c(),{success:!0}}catch(m){return{success:!1,error:m.message}}},f=async p=>{try{const{data:g,error:m}=await Ie.from("prescriptions").select("*").eq("patient_id",p).order("prescribed_at",{ascending:!1});if(m)throw m;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}},h=async p=>{try{const{data:g,error:m}=await Ie.from("prescriptions").select("*").eq("appointment_id",p).order("prescribed_at",{ascending:!1});if(m)throw m;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}};return y.useEffect(()=>{c()},[c]),{prescriptions:r,loading:i,error:a,createPrescription:u,updatePrescriptionStatus:d,getPrescriptionsForPatient:f,getPrescriptionsForAppointment:h,refetch:c}},_be=Xh({medication_name:vr().min(1,"Medication name is required"),dosage:vr().min(1,"Dosage is required"),frequency:vr().min(1,"Frequency is required"),duration:vr().min(1,"Duration is required"),quantity:vr().optional(),refills:vr().optional(),instructions:vr().optional(),pharmacy_notes:vr().optional()}),jbe=["Once daily","Twice daily","Three times daily","Four times daily","Every 4 hours","Every 6 hours","Every 8 hours","Every 12 hours","Once weekly","As needed","At bedtime","With meals"],Sbe=["3 days","5 days","7 days","10 days","14 days","21 days","30 days","60 days","90 days","Ongoing"],Nbe=({patientId:e,patientName:t,appointmentId:r,clinicalNoteId:n,onSuccess:i,onCancel:s})=>{const{createPrescription:a}=A7(),[l,c]=y.useState(!1),u=ef({resolver:tf(_be),defaultValues:{medication_name:"",dosage:"",frequency:"",duration:"",quantity:"",refills:"0",instructions:"",pharmacy_notes:""}}),d=async f=>{c(!0);const h={patient_id:e,medication_name:f.medication_name,dosage:f.dosage,frequency:f.frequency,duration:f.duration,quantity:f.quantity?parseInt(f.quantity):void 0,refills:f.refills?parseInt(f.refills):0,instructions:f.instructions||void 0,pharmacy_notes:f.pharmacy_notes||void 0,appointment_id:r,clinical_note_id:n},p=await a(h);c(!1),p.success?(oe.success("Prescription created successfully"),u.reset(),i==null||i()):oe.error(p.error||"Failed to create prescription")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Zr,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"New Prescription"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["For: ",t]})]})]}),o.jsx(m7,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[o.jsx(Mn,{control:u.control,name:"medication_name",render:({field:f})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Medication Name *"}),o.jsx(jn,{children:o.jsx(st,{placeholder:"e.g., Amoxicillin 500mg",...f})}),o.jsx(In,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Mn,{control:u.control,name:"dosage",render:({field:f})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Dosage *"}),o.jsx(jn,{children:o.jsx(st,{placeholder:"e.g., 1 tablet",...f})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:u.control,name:"frequency",render:({field:f})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Frequency *"}),o.jsxs(xr,{onValueChange:f.onChange,value:f.value,children:[o.jsx(jn,{children:o.jsx(cr,{children:o.jsx(br,{placeholder:"Select frequency"})})}),o.jsx(ur,{children:jbe.map(h=>o.jsx(qe,{value:h,children:h},h))})]}),o.jsx(In,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(Mn,{control:u.control,name:"duration",render:({field:f})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Duration *"}),o.jsxs(xr,{onValueChange:f.onChange,value:f.value,children:[o.jsx(jn,{children:o.jsx(cr,{children:o.jsx(br,{placeholder:"Select duration"})})}),o.jsx(ur,{children:Sbe.map(h=>o.jsx(qe,{value:h,children:h},h))})]}),o.jsx(In,{})]})}),o.jsx(Mn,{control:u.control,name:"quantity",render:({field:f})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Quantity"}),o.jsx(jn,{children:o.jsx(st,{type:"number",placeholder:"e.g., 30",...f})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:u.control,name:"refills",render:({field:f})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Refills"}),o.jsx(jn,{children:o.jsx(st,{type:"number",min:"0",max:"12",...f})}),o.jsx(In,{})]})})]}),o.jsx(Mn,{control:u.control,name:"instructions",render:({field:f})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Patient Instructions"}),o.jsx(jn,{children:o.jsx(Zt,{placeholder:"Special instructions for the patient...",className:"min-h-[80px]",...f})}),o.jsx(In,{})]})}),o.jsx(Mn,{control:u.control,name:"pharmacy_notes",render:({field:f})=>o.jsxs(_n,{children:[o.jsx(ln,{children:"Pharmacy Notes"}),o.jsx(jn,{children:o.jsx(Zt,{placeholder:"Notes for the pharmacist...",className:"min-h-[60px]",...f})}),o.jsx(In,{})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s&&o.jsx(Z,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),o.jsx(Z,{type:"submit",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hf,{className:"w-4 h-4 mr-2"}),"Create Prescription"]})})]})]})})]})},M7=({open:e,onOpenChange:t,patientId:r,patientName:n,appointmentId:i,clinicalNoteId:s})=>o.jsx(ni,{open:e,onOpenChange:t,children:o.jsxs(Un,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ii,{children:o.jsx(si,{children:"Create E-Prescription"})}),o.jsx(Nbe,{patientId:r,patientName:n,appointmentId:i,clinicalNoteId:s,onSuccess:()=>t(!1),onCancel:()=>t(!1)})]})}),kbe=e=>{const[t,r]=y.useState({appointments:[],clinicalNotes:[],prescriptions:[]}),[n,i]=y.useState(!1),[s,a]=y.useState(null);return y.useEffect(()=>{(async()=>{if(e){i(!0),a(null);try{const{data:c,error:u}=await Ie.from("appointments").select("id, scheduled_at, consultation_type, status, duration_minutes, notes, clinician_id").eq("patient_id",e).order("scheduled_at",{ascending:!1}).limit(50);if(u)throw u;const{data:d,error:f}=await Ie.from("clinical_notes").select("id, appointment_id, chief_complaint, diagnosis, treatment_plan, signed_at, created_at, clinician_id").eq("patient_id",e).eq("status","completed").order("created_at",{ascending:!1}).limit(50);if(f)throw f;const{data:h,error:p}=await Ie.from("prescriptions").select("id, medication_name, dosage, frequency, duration, status, prescribed_at, clinician_id").eq("patient_id",e).order("prescribed_at",{ascending:!1}).limit(50);if(p)throw p;const g=[...new Set([...(c==null?void 0:c.map(_=>_.clinician_id))||[],...(d==null?void 0:d.map(_=>_.clinician_id))||[],...(h==null?void 0:h.map(_=>_.clinician_id))||[]])],{data:m}=await Ie.from("profiles").select("id, first_name, last_name").in("id",g),v=new Map((m==null?void 0:m.map(_=>[_.id,`Dr. ${_.first_name} ${_.last_name}`]))||[]),b=(c==null?void 0:c.map(_=>({id:_.id,scheduled_at:_.scheduled_at,consultation_type:_.consultation_type,status:_.status,duration_minutes:_.duration_minutes,notes:_.notes,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],x=(d==null?void 0:d.map(_=>({id:_.id,appointment_id:_.appointment_id,chief_complaint:_.chief_complaint,diagnosis:_.diagnosis,treatment_plan:_.treatment_plan,signed_at:_.signed_at,created_at:_.created_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],w=(h==null?void 0:h.map(_=>({id:_.id,medication_name:_.medication_name,dosage:_.dosage,frequency:_.frequency,duration:_.duration,status:_.status,prescribed_at:_.prescribed_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[];r({appointments:b,clinicalNotes:x,prescriptions:w})}catch(c){a(c.message)}finally{i(!1)}}})()},[e]),{history:t,loading:n,error:s}},Cbe={video:hr,phone:Si,in_person:Wh},D$={completed:"bg-success/10 text-success",cancelled:"bg-destructive/10 text-destructive",pending:"bg-warning/10 text-warning",confirmed:"bg-primary/10 text-primary",in_progress:"bg-primary/10 text-primary",active:"bg-success/10 text-success"},I7=({open:e,onOpenChange:t,patientId:r,patientName:n})=>{const{history:i,loading:s,error:a}=kbe(e?r:null);return o.jsx(ni,{open:e,onOpenChange:t,children:o.jsxs(Un,{className:"max-w-4xl max-h-[85vh]",children:[o.jsx(ii,{children:o.jsxs(si,{className:"flex items-center gap-2",children:[o.jsx(Dr,{className:"w-5 h-5 text-primary"}),"Medical History: ",n]})}),s?o.jsxs("div",{className:"space-y-4",children:[o.jsx(tr,{className:"h-10 w-full"}),o.jsx(tr,{className:"h-48 w-full"}),o.jsx(tr,{className:"h-48 w-full"})]}):a?o.jsxs("div",{className:"text-center py-8 text-destructive",children:[o.jsx(Zo,{className:"w-12 h-12 mx-auto mb-4"}),o.jsx("p",{children:"Error loading patient history"})]}):o.jsxs(tl,{defaultValue:"appointments",className:"w-full",children:[o.jsxs(ro,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs(Bt,{value:"appointments",className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"w-4 h-4"}),"Visits (",i.appointments.length,")"]}),o.jsxs(Bt,{value:"notes",className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-4 h-4"}),"Clinical Notes (",i.clinicalNotes.length,")"]}),o.jsxs(Bt,{value:"prescriptions",className:"flex items-center gap-2",children:[o.jsx(Zr,{className:"w-4 h-4"}),"Prescriptions (",i.prescriptions.length,")"]})]}),o.jsxs(xT,{className:"h-[500px] pr-4",children:[o.jsx(fr,{value:"appointments",className:"space-y-3 mt-0",children:i.appointments.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Dt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No past appointments"})]}):i.appointments.map(l=>{const c=Cbe[l.consultation_type]||hr;return o.jsx(le,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(c,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-medium",children:Pt(new Date(l.scheduled_at),"MMMM d, yyyy")}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["at ",Pt(new Date(l.scheduled_at),"h:mm a")]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[l.clinician_name,"  ",l.duration_minutes," min ",l.consultation_type," consultation"]}),l.notes&&o.jsx("p",{className:"text-sm bg-muted/50 p-2 rounded",children:l.notes})]})]}),o.jsx(Ce,{className:D$[l.status]||"",children:l.status})]})})},l.id)})}),o.jsx(fr,{value:"notes",className:"space-y-3 mt-0",children:i.clinicalNotes.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Mr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No clinical notes available"})]}):i.clinicalNotes.map(l=>o.jsx(le,{children:o.jsxs(de,{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-4 h-4 text-primary"}),o.jsx("p",{className:"font-medium",children:Pt(new Date(l.created_at),"MMMM d, yyyy")})]}),l.signed_at&&o.jsxs(Ce,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx($r,{className:"w-3 h-3"}),"Signed"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l.clinician_name}),l.chief_complaint&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Chief Complaint"}),o.jsx("p",{className:"text-sm",children:l.chief_complaint})]}),l.diagnosis&&l.diagnosis.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Diagnosis"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:l.diagnosis.map((c,u)=>o.jsx(Ce,{variant:"outline",className:"text-xs",children:c},u))})]}),l.treatment_plan&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Treatment Plan"}),o.jsx("p",{className:"text-sm",children:l.treatment_plan})]})]})},l.id))}),o.jsx(fr,{value:"prescriptions",className:"space-y-3 mt-0",children:i.prescriptions.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Zr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No prescriptions on record"})]}):i.prescriptions.map(l=>o.jsx(le,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:o.jsx(Zr,{className:"w-5 h-5 text-warning"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:l.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.dosage,"  ",l.frequency,"  ",l.duration]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.clinician_name,"  ",Pt(new Date(l.prescribed_at),"MMM d, yyyy")]})]})]}),o.jsx(Ce,{className:D$[l.status]||"",children:l.status})]})})},l.id))})]})]})]})})},Obe={video:hr,phone:Si,in_person:Wh},Ebe={pending:{label:"Waiting",variant:"secondary",color:"text-muted-foreground"},confirmed:{label:"Confirmed",variant:"default",color:"text-primary"},in_progress:{label:"In Progress",variant:"default",color:"text-success"},completed:{label:"Completed",variant:"secondary",color:"text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"text-destructive"}},Pbe={mild:{label:"Mild",color:"bg-success/10 text-success border-success/20"},moderate:{label:"Moderate",color:"bg-warning/10 text-warning border-warning/20"},severe:{label:"Severe",color:"bg-destructive/10 text-destructive border-destructive/20"}},X1=({patient:e,onStartConsultation:t,onCompleteConsultation:r,isUpdating:n})=>{const i=Wn(),[s,a]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=Obe[e.consultation_type],h=Ebe[e.status],p=Pbe[e.severity],g=e.status==="pending"||e.status==="confirmed",m=e.status==="in_progress",v=e.status==="completed"||e.status==="cancelled",b=()=>{i(`/consultation?appointment=${e.id}`)};return o.jsxs(le,{className:`transition-all ${m?"border-success ring-2 ring-success/20":e.severity==="severe"?"border-destructive/50":""}`,children:[o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(sp,{className:"w-12 h-12",children:o.jsx(lc,{className:"bg-primary/10 text-primary",children:e.patient_name.split(" ").map(x=>x[0]).join("")})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h3",{className:"font-semibold truncate",children:e.patient_name}),o.jsx(Ce,{variant:h.variant,children:h.label})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(nr,{className:"w-3.5 h-3.5"}),Pt(new Date(e.scheduled_at),"h:mm a")]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(f,{className:"w-3.5 h-3.5"}),e.consultation_type==="video"?"Video":e.consultation_type==="phone"?"Phone":"In-Person"]})]}),e.symptoms.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[o.jsxs(Ce,{variant:"outline",className:p.color,children:[e.severity==="severe"&&o.jsx(ai,{className:"w-3 h-3 mr-1"}),p.label]}),e.symptoms.slice(0,3).map((x,w)=>o.jsx(Ce,{variant:"outline",className:"text-xs",children:x},w)),e.symptoms.length>3&&o.jsxs(Ce,{variant:"outline",className:"text-xs",children:["+",e.symptoms.length-3," more"]})]}),e.symptom_description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-3",children:e.symptom_description}),o.jsxs("div",{className:"flex gap-2",children:[g&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",onClick:()=>t(e),disabled:n,children:[o.jsx(GE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx($x,{className:"w-4 h-4 mr-1"}),"History"]})]}),m&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",variant:"default",onClick:b,children:[o.jsx(hr,{className:"w-4 h-4 mr-1"}),"Join Call"]}),o.jsxs(Z,{size:"sm",variant:"secondary",onClick:()=>a(!0),children:[o.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Notes"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[o.jsx(Zr,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx($x,{className:"w-4 h-4 mr-1"}),"History"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>r(e),disabled:n,children:[o.jsx($r,{className:"w-4 h-4 mr-1"}),"Complete"]})]}),v&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>a(!0),children:[o.jsx(Mr,{className:"w-4 h-4 mr-1"}),"View Notes"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[o.jsx(Zr,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx($x,{className:"w-4 h-4 mr-1"}),"History"]}),o.jsxs(Ce,{variant:"secondary",className:"ml-2",children:[o.jsx($r,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]})]})]})}),o.jsx(bT,{open:s,onOpenChange:a,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name}),o.jsx(M7,{open:l,onOpenChange:c,patientId:e.patient_id,patientName:e.patient_name,appointmentId:e.id}),o.jsx(I7,{open:u,onOpenChange:d,patientId:e.patient_id,patientName:e.patient_name})]})},R7=()=>{const{user:e}=Lr(),[t,r]=y.useState([]),[n,i]=y.useState({waiting:0,inProgress:0,completed:0,total:0}),[s,a]=y.useState(!0),[l,c]=y.useState(null),u=y.useCallback(async()=>{if(e)try{const f=new Date,h=Ja(f).toISOString(),p=zP(f).toISOString(),{data:g,error:m}=await Ie.from("appointments").select(`
          id,
          patient_id,
          scheduled_at,
          consultation_type,
          status,
          created_at,
          symptom_assessment_id
        `).eq("clinician_id",e.id).gte("scheduled_at",h).lte("scheduled_at",p).order("scheduled_at",{ascending:!0});if(m)throw m;if(!g||g.length===0){r([]),i({waiting:0,inProgress:0,completed:0,total:0});return}const v=[...new Set(g.map(k=>k.patient_id))],{data:b,error:x}=await Ie.from("profiles").select("id, first_name, last_name").in("id",v);if(x)throw x;const w=g.map(k=>k.symptom_assessment_id).filter(Boolean);let _=[];if(w.length>0){const{data:k,error:C}=await Ie.from("symptom_assessments").select("id, symptoms, severity, description").in("id",w);if(C)throw C;_=k||[]}const N=g.map(k=>{const C=b==null?void 0:b.find(A=>A.id===k.patient_id),P=_.find(A=>A.id===k.symptom_assessment_id);return{id:k.id,patient_id:k.patient_id,patient_name:C?`${C.first_name} ${C.last_name}`:"Unknown Patient",scheduled_at:k.scheduled_at,consultation_type:k.consultation_type,status:k.status,symptoms:(P==null?void 0:P.symptoms)||[],severity:(P==null?void 0:P.severity)||"mild",symptom_description:(P==null?void 0:P.description)||null,created_at:k.created_at}});r(N);const j={waiting:N.filter(k=>k.status==="pending"||k.status==="confirmed").length,inProgress:N.filter(k=>k.status==="in_progress").length,completed:N.filter(k=>k.status==="completed").length,total:N.length};i(j)}catch(f){console.error("Error fetching queue:",f),c(f.message)}finally{a(!1)}},[e]),d=async(f,h)=>{try{const{error:p}=await Ie.from("appointments").update({status:h}).eq("id",f);if(p)throw p;return r(g=>g.map(m=>m.id===f?{...m,status:h}:m)),i(g=>{const m=t.map(v=>v.id===f?{...v,status:h}:v);return{waiting:m.filter(v=>v.status==="pending"||v.status==="confirmed").length,inProgress:m.filter(v=>v.status==="in_progress").length,completed:m.filter(v=>v.status==="completed").length,total:m.length}}),{success:!0}}catch(p){return console.error("Error updating appointment:",p),{success:!1,error:p.message}}};return y.useEffect(()=>{u()},[u]),y.useEffect(()=>{if(!e)return;const f=Ie.channel(`clinician-queue-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${e.id}`},()=>{u()}).subscribe();return()=>{Ie.removeChannel(f)}},[e,u]),{queue:t,stats:n,loading:s,error:l,refetch:u,updateAppointmentStatus:d}},Tbe=()=>{const{queue:e,stats:t,loading:r,updateAppointmentStatus:n}=R7(),[i,s]=y.useState(null),a=e.filter(h=>h.status==="pending"||h.status==="confirmed"),l=e.filter(h=>h.status==="in_progress"),c=e.filter(h=>h.status==="completed"),u=h=>[...h].sort((p,g)=>{const m={severe:0,moderate:1,mild:2};return m[p.severity]!==m[g.severity]?m[p.severity]-m[g.severity]:new Date(p.scheduled_at).getTime()-new Date(g.scheduled_at).getTime()}),d=async h=>{s(h.id);const p=await n(h.id,"in_progress");s(null),p.success?oe.success(`Started consultation with ${h.patient_name}`):oe.error("Failed to start consultation")},f=async h=>{s(h.id);const p=await n(h.id,"completed");s(null),p.success?oe.success(`Completed consultation with ${h.patient_name}`):oe.error("Failed to complete consultation")};return r?o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsx(tr,{className:"h-6 w-40"}),o.jsx(tr,{className:"h-4 w-60"})]}),o.jsx(de,{className:"space-y-4",children:[1,2,3].map(h=>o.jsx(tr,{className:"h-32 w-full"},h))})]}):o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-primary"}),"Patient Queue"]}),o.jsxs(Oe,{children:[t.total," patients today  ",t.waiting," waiting  ",t.inProgress," in progress"]})]}),o.jsx(de,{children:o.jsxs(tl,{defaultValue:"waiting",className:"w-full",children:[o.jsxs(ro,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs(Bt,{value:"waiting",className:"flex items-center gap-2",children:[o.jsx(nr,{className:"w-4 h-4"}),"Waiting (",t.waiting,")"]}),o.jsxs(Bt,{value:"in_progress",className:"flex items-center gap-2",children:[o.jsx(ai,{className:"w-4 h-4"}),"In Progress (",t.inProgress,")"]}),o.jsxs(Bt,{value:"completed",className:"flex items-center gap-2",children:[o.jsx($r,{className:"w-4 h-4"}),"Completed (",t.completed,")"]})]}),o.jsx(fr,{value:"waiting",className:"space-y-4",children:a.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ln,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No patients waiting"})]}):u(a).map(h=>o.jsx(X1,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:i===h.id},h.id))}),o.jsx(fr,{value:"in_progress",className:"space-y-4",children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(nr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No consultations in progress"})]}):l.map(h=>o.jsx(X1,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:i===h.id},h.id))}),o.jsx(fr,{value:"completed",className:"space-y-4",children:c.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx($r,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No completed consultations today"})]}):c.map(h=>o.jsx(X1,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:i===h.id},h.id))})]})})]})},Abe={video:hr,phone:Si,in_person:Wh},Mbe=({todayAppointments:e})=>{const t=e.filter(s=>{const a=new Date(s.scheduled_at).getHours();return a>=8&&a<12}),r=e.filter(s=>{const a=new Date(s.scheduled_at).getHours();return a>=12&&a<17}),n=e.filter(s=>new Date(s.scheduled_at).getHours()>=17),i=({title:s,appointments:a})=>o.jsxs("div",{className:"mb-4 last:mb-0",children:[o.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:s}),a.length===0?o.jsx("p",{className:"text-sm text-muted-foreground/50 italic",children:"No appointments"}):o.jsx("div",{className:"space-y-2",children:a.map(l=>{const c=Abe[l.consultation_type];return o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${l.status==="in_progress"?"border-success bg-success/5":l.status==="completed"?"border-muted bg-muted/50 opacity-60":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:vi(new Date(l.scheduled_at),"h:mm")}),o.jsx("span",{className:"text-xs text-muted-foreground",children:vi(new Date(l.scheduled_at),"a")})]}),o.jsx("div",{className:"w-px h-8 bg-border"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:l.patient_name}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(c,{className:"w-3 h-3"}),o.jsx("span",{children:l.consultation_type})]})]})]}),o.jsx(Ce,{variant:l.status==="in_progress"?"default":l.status==="completed"?"secondary":"outline",className:"text-xs",children:l.status==="in_progress"?"In Progress":l.status==="completed"?"Done":l.status==="pending"?"Waiting":l.status})]},l.id)})})]});return o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"w-5 h-5 text-primary"}),"Today's Schedule",o.jsx(Ce,{variant:"outline",className:"ml-2 text-xs",children:bg})]}),o.jsx(Oe,{children:Yb(new Date)})]}),o.jsx(de,{children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Dt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No appointments scheduled for today"})]}):o.jsxs(o.Fragment,{children:[o.jsx(i,{title:"Morning (8am - 12pm)",appointments:t}),o.jsx(i,{title:"Afternoon (12pm - 5pm)",appointments:r}),o.jsx(i,{title:"Evening (5pm+)",appointments:n})]})})]})},Ibe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Rbe=()=>{const{user:e}=Lr(),[t,r]=y.useState([]),[n,i]=y.useState(!0),[s,a]=y.useState(!1),l=y.useCallback(async()=>{if(e){i(!0);try{const{data:p,error:g}=await Ie.from("clinician_availability").select("*").eq("clinician_id",e.id).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(g)throw g;r(p||[])}catch(p){console.error("Error fetching availability:",p),oe.error("Failed to load availability")}finally{i(!1)}}},[e]),c=y.useCallback(async p=>{if(e){a(!0);try{const{data:g,error:m}=await Ie.from("clinician_availability").insert({clinician_id:e.id,day_of_week:p.day_of_week,start_time:p.start_time,end_time:p.end_time,is_active:p.is_active}).select().single();if(m)throw m;return r(v=>[...v,g]),oe.success("Availability slot added"),g}catch(g){return console.error("Error adding slot:",g),oe.error("Failed to add availability slot"),null}finally{a(!1)}}},[e]),u=y.useCallback(async(p,g)=>{if(e){a(!0);try{const{error:m}=await Ie.from("clinician_availability").update(g).eq("id",p).eq("clinician_id",e.id);if(m)throw m;r(v=>v.map(b=>b.id===p?{...b,...g}:b)),oe.success("Availability updated")}catch(m){console.error("Error updating slot:",m),oe.error("Failed to update availability")}finally{a(!1)}}},[e]),d=y.useCallback(async p=>{if(e){a(!0);try{const{error:g}=await Ie.from("clinician_availability").delete().eq("id",p).eq("clinician_id",e.id);if(g)throw g;r(m=>m.filter(v=>v.id!==p)),oe.success("Slot removed")}catch(g){console.error("Error deleting slot:",g),oe.error("Failed to remove slot")}finally{a(!1)}}},[e]),f=y.useCallback(async(p,g)=>{await u(p,{is_active:g})},[u]),h=y.useCallback(p=>t.filter(g=>g.day_of_week===p),[t]);return y.useEffect(()=>{l()},[l]),{availability:t,loading:n,saving:s,addSlot:c,updateSlot:u,deleteSlot:d,toggleSlotActive:f,getSlotsByDay:h,refetch:l,DAY_NAMES:Ibe}},L$=Array.from({length:48},(e,t)=>{const r=Math.floor(t/2),n=t%2===0?"00":"30";return`${r.toString().padStart(2,"0")}:${n}`}),$be=({onAddSlot:e,saving:t,dayNames:r})=>{const[n,i]=y.useState(1),[s,a]=y.useState("09:00"),[l,c]=y.useState("17:00"),[u,d]=y.useState(!0),f=async()=>{if(s>=l)return;await e({day_of_week:n,start_time:s,end_time:l,is_active:u})&&(a("09:00"),c("17:00"))};return o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border border-border space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Add New Time Slot"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Day"}),o.jsxs(xr,{value:n.toString(),onValueChange:h=>i(parseInt(h)),children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsx(ur,{children:r.map((h,p)=>o.jsx(qe,{value:p.toString(),children:h},p))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Start Time"}),o.jsxs(xr,{value:s,onValueChange:a,children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsx(ur,{children:L$.map(h=>o.jsx(qe,{value:h,children:h},h))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"End Time"}),o.jsxs(xr,{value:l,onValueChange:c,children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsx(ur,{children:L$.filter(h=>h>s).map(h=>o.jsx(qe,{value:h,children:h},h))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Active"}),o.jsxs("div",{className:"flex items-center h-10",children:[o.jsx(j_,{checked:u,onCheckedChange:d}),o.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:u?"Visible":"Hidden"})]})]})]}),o.jsxs(Z,{onClick:f,disabled:t||s>=l,children:[o.jsx(Hf,{className:"w-4 h-4 mr-2"}),"Add Slot"]})]})},F$=e=>{const[t,r]=e.split(":"),n=parseInt(t),i=n>=12?"PM":"AM";return`${n%12||12}:${r} ${i}`},Dbe=({dayName:e,dayIndex:t,slots:r,onToggleActive:n,onDeleteSlot:i,saving:s})=>{const a=r.filter(u=>u.is_active),l=r.length>0,c=t===0||t===6;return o.jsxs(le,{className:`${l?"":"opacity-60"} ${c?"bg-muted/30":""}`,children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(we,{className:"text-base flex items-center gap-2",children:[e,c&&o.jsx($ee,{className:"w-3.5 h-3.5 text-muted-foreground"})]}),l&&o.jsxs(Ce,{variant:a.length>0?"default":"secondary",children:[a.length," active"]})]})}),o.jsx(de,{children:l?o.jsx("div",{className:"space-y-2",children:r.map(u=>o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${u.is_active?"bg-primary/5 border-primary/20":"bg-muted/50 border-border"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nr,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:[F$(u.start_time)," - ",F$(u.end_time)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(j_,{checked:u.is_active,onCheckedChange:d=>u.id&&n(u.id,d),disabled:s}),o.jsx(Z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>u.id&&i(u.id),disabled:s,children:o.jsx(Bee,{className:"w-4 h-4"})})]})]},u.id))}):o.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots configured"})})]})},Lbe=()=>{const{availability:e,loading:t,saving:r,addSlot:n,toggleSlotActive:i,deleteSlot:s,getSlotsByDay:a,refetch:l,DAY_NAMES:c}=Rbe(),u=e.filter(d=>d.is_active).reduce((d,f)=>{const[h,p]=f.start_time.split(":").map(Number),[g,m]=f.end_time.split(":").map(Number),v=g-h+(m-p)/60;return d+v},0);return t?o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsx(tr,{className:"h-6 w-48"}),o.jsx(tr,{className:"h-4 w-64"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsx(tr,{className:"h-32 w-full"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:7}).map((d,f)=>o.jsx(tr,{className:"h-24"},f))})]})]}):o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"w-5 h-5 text-primary"}),"Availability Schedule"]}),o.jsx(Oe,{className:"mt-1",children:"Set your working hours for patient appointments"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly hours"}),o.jsxs("p",{className:"text-lg font-semibold flex items-center gap-1",children:[o.jsx(nr,{className:"w-4 h-4"}),u.toFixed(1),"h"]})]}),o.jsxs(Z,{variant:"outline",size:"sm",onClick:l,disabled:t,children:[o.jsx(Uo,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]})]})]})}),o.jsxs(de,{className:"space-y-6",children:[o.jsx($be,{onAddSlot:n,saving:r,dayNames:c}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Weekly Schedule"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:c.map((d,f)=>o.jsx(Dbe,{dayName:d,dayIndex:f,slots:a(f),onToggleActive:i,onDeleteSlot:s,saving:r},f))})]}),o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Tips for setting availability"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Patients can only book during your active time slots"}),o.jsx("li",{children:" Each appointment is 30 minutes by default"}),o.jsx("li",{children:" Toggle slots off to temporarily block bookings without deleting"}),o.jsx("li",{children:" Add multiple slots per day for split schedules (e.g., morning + afternoon)"})]})]})]})]})},Fbe=({open:e,onOpenChange:t})=>o.jsx(ni,{open:e,onOpenChange:t,children:o.jsxs(Un,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ii,{children:o.jsx(si,{children:"Manage Availability"})}),o.jsx(Lbe,{})]})}),Bbe=e=>{const{user:t}=Lr(),[r,n]=y.useState([]),[i,s]=y.useState(!0),[a,l]=y.useState(null),c=y.useCallback(async()=>{if(t){s(!0),l(null);try{let h=Ie.from("appointments").select(`
          *,
          symptom_assessments (
            symptoms,
            severity,
            description
          )
        `).eq("clinician_id",t.id).order("scheduled_at",{ascending:!0});e!=null&&e.startDate&&(h=h.gte("scheduled_at",Ja(e.startDate).toISOString())),e!=null&&e.endDate&&(h=h.lte("scheduled_at",zP(e.endDate).toISOString())),e!=null&&e.status&&e.status.length>0&&(h=h.in("status",e.status));const{data:p,error:g}=await h;if(g)throw g;const m=[...new Set((p==null?void 0:p.map(w=>w.patient_id))||[])],{data:v}=await Ie.from("profiles").select("id, first_name, last_name, phone").in("id",m),b=new Map((v==null?void 0:v.map(w=>[w.id,w]))||[]),x=(p||[]).map(w=>{const _=b.get(w.patient_id),N=w.symptom_assessments;return{id:w.id,patient_id:w.patient_id,patient_name:_?`${_.first_name} ${_.last_name}`:"Unknown Patient",patient_phone:(_==null?void 0:_.phone)||null,scheduled_at:w.scheduled_at,duration_minutes:w.duration_minutes,consultation_type:w.consultation_type,status:w.status,symptoms:(N==null?void 0:N.symptoms)||[],severity:(N==null?void 0:N.severity)||"mild",symptom_description:(N==null?void 0:N.description)||null,notes:w.notes,created_at:w.created_at}});n(x)}catch(h){console.error("Error fetching appointments:",h),l(h.message),oe.error("Failed to load appointments")}finally{s(!1)}}},[t,e==null?void 0:e.startDate,e==null?void 0:e.endDate,e==null?void 0:e.status]),u=y.useCallback(async(h,p)=>{try{const{error:g}=await Ie.from("appointments").update({status:p}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,status:p}:v)),oe.success(`Appointment ${p}`),!0}catch(g){return console.error("Error updating appointment:",g),oe.error("Failed to update appointment"),!1}},[]),d=y.useCallback(async(h,p)=>{try{const{error:g}=await Ie.from("appointments").update({notes:p}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,notes:p}:v)),oe.success("Notes saved"),!0}catch(g){return console.error("Error updating notes:",g),oe.error("Failed to save notes"),!1}},[]),f=y.useCallback(async(h,p)=>{try{const{error:g}=await Ie.from("appointments").update({scheduled_at:p.toISOString(),status:"pending"}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,scheduled_at:p.toISOString(),status:"pending"}:v)),oe.success("Appointment rescheduled"),!0}catch(g){return console.error("Error rescheduling:",g),oe.error("Failed to reschedule appointment"),!1}},[]);return y.useEffect(()=>{if(!t)return;const h=Ie.channel("clinician-appointments").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${t.id}`},()=>{c()}).subscribe();return()=>{Ie.removeChannel(h)}},[t,c]),y.useEffect(()=>{c()},[c]),{appointments:r,loading:i,error:a,refetch:c,updateAppointmentStatus:u,updateAppointmentNotes:d,rescheduleAppointment:f}};function Ube(e){const t=zbe(e),r=y.forwardRef((n,i)=>{const{children:s,...a}=n,l=y.Children.toArray(s),c=l.find(Vbe);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...a,ref:i,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function zbe(e){const t=y.forwardRef((r,n)=>{const{children:i,...s}=r;if(y.isValidElement(i)){const a=qbe(i),l=Hbe(s,i.props);return i.type!==y.Fragment&&(l.ref=n?Qa(n,a):a),y.cloneElement(i,l)}return y.Children.count(i)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wbe=Symbol("radix.slottable");function Vbe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wbe}function Hbe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function qbe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Vk=["Enter"," "],Gbe=["ArrowDown","PageUp","Home"],$7=["ArrowUp","PageDown","End"],Kbe=[...Gbe,...$7],Ybe={ltr:[...Vk,"ArrowRight"],rtl:[...Vk,"ArrowLeft"]},Jbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zv="Menu",[kg,Xbe,Qbe]=Dw(zv),[nd,D7]=kn(zv,[Qbe,pc,ep]),O_=pc(),L7=ep(),[Zbe,id]=nd(zv),[e0e,Wv]=nd(zv),F7=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=e,l=O_(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Er(s),h=Qh(i);return y.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(sP,{...l,children:o.jsx(Zbe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(e0e,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:n})})})};F7.displayName=zv;var t0e="MenuAnchor",wT=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=O_(r);return o.jsx(jv,{...i,...n,ref:t})});wT.displayName=t0e;var _T="MenuPortal",[r0e,B7]=nd(_T,{forceMount:void 0}),U7=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,s=id(_T,t);return o.jsx(r0e,{scope:t,forceMount:r,children:o.jsx(nn,{present:r||s.open,children:o.jsx(zh,{asChild:!0,container:i,children:n})})})};U7.displayName=_T;var ys="MenuContent",[n0e,jT]=nd(ys),z7=y.forwardRef((e,t)=>{const r=B7(ys,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=id(ys,e.__scopeMenu),a=Wv(ys,e.__scopeMenu);return o.jsx(kg.Provider,{scope:e.__scopeMenu,children:o.jsx(nn,{present:n||s.open,children:o.jsx(kg.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(i0e,{...i,ref:t}):o.jsx(s0e,{...i,ref:t})})})})}),i0e=y.forwardRef((e,t)=>{const r=id(ys,e.__scopeMenu),n=y.useRef(null),i=rt(t,n);return y.useEffect(()=>{const s=n.current;if(s)return a_(s)},[]),o.jsx(ST,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ge(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),s0e=y.forwardRef((e,t)=>{const r=id(ys,e.__scopeMenu);return o.jsx(ST,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),a0e=Ube("MenuContent.ScrollLock"),ST=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=id(ys,r),b=Wv(ys,r),x=O_(r),w=L7(r),_=Xbe(r),[N,j]=y.useState(null),k=y.useRef(null),C=rt(t,k,v.onContentChange),P=y.useRef(0),A=y.useRef(""),I=y.useRef(0),M=y.useRef(null),z=y.useRef("right"),L=y.useRef(0),W=g?Ov:y.Fragment,F=g?{as:a0e,allowPinchZoom:!0}:void 0,D=B=>{var $,G;const K=A.current+B,ee=_().filter(V=>!V.disabled),te=document.activeElement,S=($=ee.find(V=>V.ref.current===te))==null?void 0:$.textValue,O=ee.map(V=>V.textValue),E=y0e(O,K,S),U=(G=ee.find(V=>V.textValue===E))==null?void 0:G.ref.current;(function V(q){A.current=q,window.clearTimeout(P.current),q!==""&&(P.current=window.setTimeout(()=>V(""),1e3))})(K),U&&setTimeout(()=>U.focus())};y.useEffect(()=>()=>window.clearTimeout(P.current),[]),i_();const R=y.useCallback(B=>{var ee,te;return z.current===((ee=M.current)==null?void 0:ee.side)&&b0e(B,(te=M.current)==null?void 0:te.area)},[]);return o.jsx(n0e,{scope:r,searchRef:A,onItemEnter:y.useCallback(B=>{R(B)&&B.preventDefault()},[R]),onItemLeave:y.useCallback(B=>{var K;R(B)||((K=k.current)==null||K.focus(),j(null))},[R]),onTriggerLeave:y.useCallback(B=>{R(B)&&B.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:y.useCallback(B=>{M.current=B},[]),children:o.jsx(W,{...F,children:o.jsx(Cv,{asChild:!0,trapped:i,onMountAutoFocus:ge(s,B=>{var K;B.preventDefault(),(K=k.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(ed,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:o.jsx(OP,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:j,onEntryFocus:ge(c,B=>{b.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Gw,{role:"menu","aria-orientation":"vertical","data-state":iH(v.open),"data-radix-menu-content":"",dir:b.dir,...x,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:ge(m.onKeyDown,B=>{const ee=B.target.closest("[data-radix-menu-content]")===B.currentTarget,te=B.ctrlKey||B.altKey||B.metaKey,S=B.key.length===1;ee&&(B.key==="Tab"&&B.preventDefault(),!te&&S&&D(B.key));const O=k.current;if(B.target!==O||!Kbe.includes(B.key))return;B.preventDefault();const U=_().filter($=>!$.disabled).map($=>$.ref.current);$7.includes(B.key)&&U.reverse(),g0e(U)}),onBlur:ge(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(P.current),A.current="")}),onPointerMove:ge(e.onPointerMove,Cg(B=>{const K=B.target,ee=L.current!==B.clientX;if(B.currentTarget.contains(K)&&ee){const te=B.clientX>L.current?"right":"left";z.current=te,L.current=B.clientX}}))})})})})})})});z7.displayName=ys;var o0e="MenuGroup",NT=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Fe.div,{role:"group",...n,ref:t})});NT.displayName=o0e;var l0e="MenuLabel",W7=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Fe.div,{...n,ref:t})});W7.displayName=l0e;var s0="MenuItem",B$="menu.itemSelect",E_=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,s=y.useRef(null),a=Wv(s0,e.__scopeMenu),l=jT(s0,e.__scopeMenu),c=rt(t,s),u=y.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(B$,{bubbles:!0,cancelable:!0});f.addEventListener(B$,p=>n==null?void 0:n(p),{once:!0}),BE(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(V7,{...i,ref:c,disabled:r,onClick:ge(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ge(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ge(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Vk.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});E_.displayName=s0;var V7=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=e,a=jT(s0,r),l=L7(r),c=y.useRef(null),u=rt(t,c),[d,f]=y.useState(!1),[h,p]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[s.children]),o.jsx(kg.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:o.jsx(EP,{asChild:!0,...l,focusable:!n,children:o.jsx(Fe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:ge(e.onPointerMove,Cg(g=>{n?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(e.onPointerLeave,Cg(g=>a.onItemLeave(g))),onFocus:ge(e.onFocus,()=>f(!0)),onBlur:ge(e.onBlur,()=>f(!1))})})})}),c0e="MenuCheckboxItem",H7=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return o.jsx(J7,{scope:e.__scopeMenu,checked:r,children:o.jsx(E_,{role:"menuitemcheckbox","aria-checked":a0(r)?"mixed":r,...i,ref:t,"data-state":CT(r),onSelect:ge(i.onSelect,()=>n==null?void 0:n(a0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});H7.displayName=c0e;var q7="MenuRadioGroup",[u0e,d0e]=nd(q7,{value:void 0,onValueChange:()=>{}}),G7=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,s=Er(n);return o.jsx(u0e,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(NT,{...i,ref:t})})});G7.displayName=q7;var K7="MenuRadioItem",Y7=y.forwardRef((e,t)=>{const{value:r,...n}=e,i=d0e(K7,e.__scopeMenu),s=r===i.value;return o.jsx(J7,{scope:e.__scopeMenu,checked:s,children:o.jsx(E_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":CT(s),onSelect:ge(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});Y7.displayName=K7;var kT="MenuItemIndicator",[J7,f0e]=nd(kT,{checked:!1}),X7=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,s=f0e(kT,r);return o.jsx(nn,{present:n||a0(s.checked)||s.checked===!0,children:o.jsx(Fe.span,{...i,ref:t,"data-state":CT(s.checked)})})});X7.displayName=kT;var h0e="MenuSeparator",Q7=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Fe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Q7.displayName=h0e;var p0e="MenuArrow",Z7=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=O_(r);return o.jsx(Kw,{...i,...n,ref:t})});Z7.displayName=p0e;var m0e="MenuSub",[uHe,eH]=nd(m0e),dm="MenuSubTrigger",tH=y.forwardRef((e,t)=>{const r=id(dm,e.__scopeMenu),n=Wv(dm,e.__scopeMenu),i=eH(dm,e.__scopeMenu),s=jT(dm,e.__scopeMenu),a=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(wT,{asChild:!0,...u,children:o.jsx(V7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":iH(r.open),...e,ref:Qa(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ge(e.onPointerMove,Cg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ge(e.onPointerLeave,Cg(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",b=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ge(e.onKeyDown,f=>{var p;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||Ybe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});tH.displayName=dm;var rH="MenuSubContent",nH=y.forwardRef((e,t)=>{const r=B7(ys,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=id(ys,e.__scopeMenu),a=Wv(ys,e.__scopeMenu),l=eH(rH,e.__scopeMenu),c=y.useRef(null),u=rt(t,c);return o.jsx(kg.Provider,{scope:e.__scopeMenu,children:o.jsx(nn,{present:n||s.open,children:o.jsx(kg.Slot,{scope:e.__scopeMenu,children:o.jsx(ST,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ge(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ge(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ge(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Jbe[a.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});nH.displayName=rH;function iH(e){return e?"open":"closed"}function a0(e){return e==="indeterminate"}function CT(e){return a0(e)?"indeterminate":e?"checked":"unchecked"}function g0e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function v0e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function y0e(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let a=v0e(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function x0e(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function b0e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return x0e(r,t)}function Cg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var w0e=F7,_0e=wT,j0e=U7,S0e=z7,N0e=NT,k0e=W7,C0e=E_,O0e=H7,E0e=G7,P0e=Y7,T0e=X7,A0e=Q7,M0e=Z7,I0e=tH,R0e=nH,P_="DropdownMenu",[$0e]=kn(P_,[D7]),ci=D7(),[D0e,sH]=$0e(P_),aH=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,c=ci(t),u=y.useRef(null),[d,f]=aa({prop:i,defaultProp:s??!1,onChange:a,caller:P_});return o.jsx(D0e,{scope:t,triggerId:ra(),triggerRef:u,contentId:ra(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(w0e,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};aH.displayName=P_;var oH="DropdownMenuTrigger",lH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,s=sH(oH,r),a=ci(r);return o.jsx(_0e,{asChild:!0,...a,children:o.jsx(Fe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Qa(t,s.triggerRef),onPointerDown:ge(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:ge(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});lH.displayName=oH;var L0e="DropdownMenuPortal",cH=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ci(t);return o.jsx(j0e,{...n,...r})};cH.displayName=L0e;var uH="DropdownMenuContent",dH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=sH(uH,r),s=ci(r),a=y.useRef(!1);return o.jsx(S0e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:t,onCloseAutoFocus:ge(e.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ge(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dH.displayName=uH;var F0e="DropdownMenuGroup",B0e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(N0e,{...i,...n,ref:t})});B0e.displayName=F0e;var U0e="DropdownMenuLabel",fH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(k0e,{...i,...n,ref:t})});fH.displayName=U0e;var z0e="DropdownMenuItem",hH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(C0e,{...i,...n,ref:t})});hH.displayName=z0e;var W0e="DropdownMenuCheckboxItem",pH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(O0e,{...i,...n,ref:t})});pH.displayName=W0e;var V0e="DropdownMenuRadioGroup",H0e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(E0e,{...i,...n,ref:t})});H0e.displayName=V0e;var q0e="DropdownMenuRadioItem",mH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(P0e,{...i,...n,ref:t})});mH.displayName=q0e;var G0e="DropdownMenuItemIndicator",gH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(T0e,{...i,...n,ref:t})});gH.displayName=G0e;var K0e="DropdownMenuSeparator",vH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(A0e,{...i,...n,ref:t})});vH.displayName=K0e;var Y0e="DropdownMenuArrow",J0e=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(M0e,{...i,...n,ref:t})});J0e.displayName=Y0e;var X0e="DropdownMenuSubTrigger",yH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(I0e,{...i,...n,ref:t})});yH.displayName=X0e;var Q0e="DropdownMenuSubContent",xH=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=ci(r);return o.jsx(R0e,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xH.displayName=Q0e;var Z0e=aH,ewe=lH,twe=cH,bH=dH,wH=fH,_H=hH,jH=pH,SH=mH,NH=gH,kH=vH,CH=yH,OH=xH;const rwe=Z0e,nwe=ewe,iwe=y.forwardRef(({className:e,inset:t,children:r,...n},i)=>o.jsxs(CH,{ref:i,className:_e("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(Vf,{className:"ml-auto h-4 w-4"})]}));iwe.displayName=CH.displayName;const swe=y.forwardRef(({className:e,...t},r)=>o.jsx(OH,{ref:r,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));swe.displayName=OH.displayName;const EH=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(twe,{children:o.jsx(bH,{ref:n,sideOffset:t,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));EH.displayName=bH.displayName;const Hx=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(_H,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Hx.displayName=_H.displayName;const awe=y.forwardRef(({className:e,children:t,checked:r,...n},i)=>o.jsxs(jH,{ref:i,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(NH,{children:o.jsx(Uw,{className:"h-4 w-4"})})}),t]}));awe.displayName=jH.displayName;const owe=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(SH,{ref:n,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(NH,{children:o.jsx(MU,{className:"h-2 w-2 fill-current"})})}),t]}));owe.displayName=SH.displayName;const lwe=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(wH,{ref:n,className:_e("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));lwe.displayName=wH.displayName;const PH=y.forwardRef(({className:e,...t},r)=>o.jsx(kH,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));PH.displayName=kH.displayName;var cwe=Symbol("radix.slottable");function uwe(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=cwe,t}var TH="AlertDialog",[dwe]=kn(TH,[DW]),rl=DW(),AH=e=>{const{__scopeAlertDialog:t,...r}=e,n=rl(t);return o.jsx(ZW,{...n,...r,modal:!0})};AH.displayName=TH;var fwe="AlertDialogTrigger",hwe=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=rl(r);return o.jsx(eV,{...i,...n,ref:t})});hwe.displayName=fwe;var pwe="AlertDialogPortal",MH=e=>{const{__scopeAlertDialog:t,...r}=e,n=rl(t);return o.jsx(tV,{...n,...r})};MH.displayName=pwe;var mwe="AlertDialogOverlay",IH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=rl(r);return o.jsx(IP,{...i,...n,ref:t})});IH.displayName=mwe;var _f="AlertDialogContent",[gwe,vwe]=dwe(_f),ywe=uwe("AlertDialogContent"),RH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,s=rl(r),a=y.useRef(null),l=rt(t,a),c=y.useRef(null);return o.jsx(Dde,{contentName:_f,titleName:$H,docsSlug:"alert-dialog",children:o.jsx(gwe,{scope:r,cancelRef:c,children:o.jsxs(RP,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:ge(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(ywe,{children:n}),o.jsx(bwe,{contentRef:a})]})})})});RH.displayName=_f;var $H="AlertDialogTitle",DH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=rl(r);return o.jsx($P,{...i,...n,ref:t})});DH.displayName=$H;var LH="AlertDialogDescription",FH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=rl(r);return o.jsx(DP,{...i,...n,ref:t})});FH.displayName=LH;var xwe="AlertDialogAction",BH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=rl(r);return o.jsx(LP,{...i,...n,ref:t})});BH.displayName=xwe;var UH="AlertDialogCancel",zH=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=vwe(UH,r),s=rl(r),a=rt(t,i);return o.jsx(LP,{...s,...n,ref:a})});zH.displayName=UH;var bwe=({contentRef:e})=>{const t=`\`${_f}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_f}\` by passing a \`${LH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_f}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},wwe=AH,_we=MH,WH=IH,VH=RH,HH=BH,qH=zH,GH=DH,KH=FH;const jwe=wwe,Swe=_we,YH=y.forwardRef(({className:e,...t},r)=>o.jsx(WH,{className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));YH.displayName=WH.displayName;const JH=y.forwardRef(({className:e,...t},r)=>o.jsxs(Swe,{children:[o.jsx(YH,{}),o.jsx(VH,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));JH.displayName=VH.displayName;const XH=({className:e,...t})=>o.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",e),...t});XH.displayName="AlertDialogHeader";const QH=({className:e,...t})=>o.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});QH.displayName="AlertDialogFooter";const ZH=y.forwardRef(({className:e,...t},r)=>o.jsx(GH,{ref:r,className:_e("text-lg font-semibold",e),...t}));ZH.displayName=GH.displayName;const eq=y.forwardRef(({className:e,...t},r)=>o.jsx(KH,{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));eq.displayName=KH.displayName;const tq=y.forwardRef(({className:e,...t},r)=>o.jsx(HH,{ref:r,className:_e(pg(),e),...t}));tq.displayName=HH.displayName;const rq=y.forwardRef(({className:e,...t},r)=>o.jsx(qH,{ref:r,className:_e(pg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));rq.displayName=qH.displayName;const Nwe={video:hr,phone:Si,in_person:Wh},kwe={pending:{label:"Pending",variant:"secondary",color:"bg-warning/10 text-warning border-warning/20"},confirmed:{label:"Confirmed",variant:"default",color:"bg-primary/10 text-primary border-primary/20"},in_progress:{label:"In Progress",variant:"default",color:"bg-success/10 text-success border-success/20"},completed:{label:"Completed",variant:"secondary",color:"bg-muted text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"bg-destructive/10 text-destructive border-destructive/20"}},Cwe={mild:{label:"Mild",color:"text-success"},moderate:{label:"Moderate",color:"text-warning"},severe:{label:"Severe",color:"text-destructive"}},Owe=({appointment:e,onConfirm:t,onCancel:r,onStart:n,onComplete:i,compact:s=!1})=>{const a=Wn(),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(!1),p=Nwe[e.consultation_type],g=kwe[e.status],m=Cwe[e.severity],v=e.status==="pending",b=e.status==="confirmed",x=e.status==="in_progress",w=v||b||x,_=async j=>{h(!0),await j(),h(!1)},N=()=>{a(`/consultation?appointment=${e.id}`)};return s?o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${g.color}`,children:o.jsx(p,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:e.patient_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:Pt(new Date(e.scheduled_at),"h:mm a")})]})]}),o.jsx(Ce,{variant:g.variant,className:"text-xs",children:g.label})]}):o.jsxs(o.Fragment,{children:[o.jsx(le,{className:`transition-all ${x?"ring-2 ring-success/50":""}`,children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-xl ${g.color} border`,children:o.jsx(p,{className:"w-5 h-5"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold",children:e.patient_name}),o.jsx(Ce,{variant:g.variant,children:g.label})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Dt,{className:"w-3.5 h-3.5"}),Pt(new Date(e.scheduled_at),"MMM d, yyyy")]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(nr,{className:"w-3.5 h-3.5"}),Pt(new Date(e.scheduled_at),"h:mm a")]}),o.jsxs("span",{children:[e.duration_minutes," min"]})]}),e.symptoms.length>0&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("span",{className:`text-xs font-medium ${m.color}`,children:[e.severity==="severe"&&o.jsx(ai,{className:"w-3 h-3 inline mr-1"}),m.label]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:""}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.symptoms.slice(0,3).join(", "),e.symptoms.length>3&&` +${e.symptoms.length-3} more`]})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[v&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",onClick:()=>_(()=>t(e.id)),disabled:f,children:[o.jsx($r,{className:"w-4 h-4 mr-1"}),"Confirm"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>c(!0),disabled:f,children:[o.jsx(oa,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),b&&o.jsxs(Z,{size:"sm",onClick:()=>_(()=>n(e.id)),disabled:f,children:[o.jsx(GE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),x&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",onClick:N,children:[o.jsx(hr,{className:"w-4 h-4 mr-1"}),"Join Call"]}),o.jsxs(Z,{size:"sm",variant:"secondary",onClick:()=>d(!0),children:[o.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Notes"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>_(()=>i(e.id)),disabled:f,children:[o.jsx($r,{className:"w-4 h-4 mr-1"}),"Complete"]})]})]})]})]}),w&&o.jsxs(rwe,{children:[o.jsx(nwe,{asChild:!0,children:o.jsx(Z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(jee,{className:"w-4 h-4"})})}),o.jsxs(EH,{align:"end",children:[o.jsxs(Hx,{onClick:()=>d(!0),children:[o.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Clinical Notes"]}),e.patient_phone&&o.jsx(Hx,{asChild:!0,children:o.jsxs("a",{href:`tel:${e.patient_phone}`,children:[o.jsx(Si,{className:"w-4 h-4 mr-2"}),"Call Patient"]})}),o.jsx(PH,{}),o.jsxs(Hx,{className:"text-destructive",onClick:()=>c(!0),children:[o.jsx(oa,{className:"w-4 h-4 mr-2"}),"Cancel Appointment"]})]})]})]})})}),o.jsx(jwe,{open:l,onOpenChange:c,children:o.jsxs(JH,{children:[o.jsxs(XH,{children:[o.jsx(ZH,{children:"Cancel Appointment"}),o.jsxs(eq,{children:["Are you sure you want to cancel this appointment with"," ",o.jsx("strong",{children:e.patient_name}),"? The patient will be notified."]})]}),o.jsxs(QH,{children:[o.jsx(rq,{children:"Keep Appointment"}),o.jsx(tq,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>_(()=>r(e.id)),children:"Cancel Appointment"})]})]})}),o.jsx(bT,{open:u,onOpenChange:d,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name})]})},Ewe=()=>{const[e,t]=y.useState({start:da(new Date,{weekStartsOn:1}),end:p_(new Date,{weekStartsOn:1})}),[r,n]=y.useState(new Date),[i,s]=y.useState("all"),a=i==="all"?void 0:i==="active"?["pending","confirmed","in_progress"]:[i],{appointments:l,loading:c,refetch:u,updateAppointmentStatus:d}=Bbe({startDate:e.start,endDate:e.end,status:a}),f=l.reduce((m,v)=>{const b=Pt(new Date(v.scheduled_at),"yyyy-MM-dd");return m[b]||(m[b]=[]),m[b].push(v),m},{}),h={total:l.length,pending:l.filter(m=>m.status==="pending").length,confirmed:l.filter(m=>m.status==="confirmed").length,inProgress:l.filter(m=>m.status==="in_progress").length,completed:l.filter(m=>m.status==="completed").length},p=m=>{const v=m==="next"?1:-1;t({start:xg(e.start,v),end:xg(e.end,v)})},g=m=>{const v=new Date(m);return nhe(v)?"Today":ihe(v)?"Tomorrow":Pt(v,"EEEE, MMM d")};return c?o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsx(tr,{className:"h-6 w-48"}),o.jsx(tr,{className:"h-4 w-64"})]}),o.jsx(de,{className:"space-y-4",children:Array.from({length:3}).map((m,v)=>o.jsx(tr,{className:"h-32 w-full"},v))})]}):o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"w-5 h-5 text-primary"}),"Appointments"]}),o.jsxs(Oe,{children:[Pt(e.start,"MMM d")," - ",Pt(e.end,"MMM d, yyyy")]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>p("prev"),children:" Prev"}),o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>p("next"),children:"Next "}),o.jsx(Z,{variant:"outline",size:"sm",onClick:u,children:o.jsx(Uo,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex gap-4 mt-4 flex-wrap",children:[o.jsxs(Ce,{variant:"outline",className:"px-3 py-1",children:[o.jsx(nr,{className:"w-3.5 h-3.5 mr-1"}),h.pending," pending"]}),o.jsxs(Ce,{variant:"outline",className:"px-3 py-1 border-primary/30 bg-primary/5",children:[o.jsx($r,{className:"w-3.5 h-3.5 mr-1"}),h.confirmed," confirmed"]}),o.jsxs(Ce,{variant:"outline",className:"px-3 py-1 border-success/30 bg-success/5",children:[o.jsx(Zo,{className:"w-3.5 h-3.5 mr-1"}),h.inProgress," in progress"]}),o.jsxs(Ce,{variant:"secondary",className:"px-3 py-1",children:[h.completed," completed"]})]})]}),o.jsxs(de,{children:[o.jsx(tl,{value:i,onValueChange:s,className:"mb-6",children:o.jsxs(ro,{children:[o.jsxs(Bt,{value:"all",children:["All (",h.total,")"]}),o.jsxs(Bt,{value:"active",children:["Active (",h.pending+h.confirmed+h.inProgress,")"]}),o.jsxs(Bt,{value:"pending",children:["Pending (",h.pending,")"]}),o.jsxs(Bt,{value:"completed",children:["Completed (",h.completed,")"]})]})}),Object.keys(f).length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Dt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"No appointments found"}),o.jsx("p",{className:"text-sm",children:i!=="all"?`No ${i} appointments for this week`:"No appointments scheduled for this week"})]}):o.jsx("div",{className:"space-y-6",children:Object.entries(f).sort(([m],[v])=>m.localeCompare(v)).map(([m,v])=>o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[o.jsx(Dt,{className:"w-4 h-4"}),g(m),o.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[v.length," appointment",v.length!==1?"s":""]})]}),o.jsx("div",{className:"space-y-3",children:v.map(b=>o.jsx(Owe,{appointment:b,onConfirm:x=>d(x,"confirmed"),onCancel:x=>d(x,"cancelled"),onStart:x=>d(x,"in_progress"),onComplete:x=>d(x,"completed")},b.id))})]},m))})]})]})},Pwe=({open:e,onOpenChange:t})=>o.jsx(ni,{open:e,onOpenChange:t,children:o.jsxs(Un,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(ii,{children:o.jsx(si,{children:"Manage Appointments"})}),o.jsx(Ewe,{})]})}),Twe="",Awe=()=>{const[e,t]=y.useState(!1),r=async()=>{const{data:{session:a}}=await Ie.auth.getSession();return(a==null?void 0:a.access_token)||null},n=async a=>{t(!0);try{const l=await r(),c={"Content-Type":"application/json"};l&&(c.Authorization=`Bearer ${l}`);const u=await fetch(`${Twe}/api/prescriptions/generate-pdf`,{method:"POST",headers:c,body:JSON.stringify(a)});if(!u.ok){const f=await u.text();throw console.error("PDF generation failed:",u.status,f),new Error(`Failed to generate PDF: ${u.status}`)}const d=await u.json();if(d.success&&d.pdf_base64)return d.pdf_base64;throw new Error(d.error||"Failed to generate PDF")}catch(l){return console.error("PDF generation error:",l),oe.error("Failed to generate prescription PDF"),null}finally{t(!1)}};return{loading:e,generatePDF:n,downloadPDF:async(a,l)=>{const c=await n(a);if(c){const u=atob(c),d=new Array(u.length);for(let m=0;m<u.length;m++)d[m]=u.charCodeAt(m);const f=new Uint8Array(d),h=new Blob([f],{type:"application/pdf"}),p=window.URL.createObjectURL(h),g=document.createElement("a");return g.href=p,g.download=l||`prescription_${a.prescription_id.slice(0,8)}.pdf`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(p),oe.success("Prescription PDF downloaded"),!0}return!1},openPDFInNewTab:async a=>{const l=await n(a);if(l){const c=window.open("");return c&&(c.document.write(`<iframe width='100%' height='100%' src='data:application/pdf;base64,${l}'></iframe>`),c.document.title=`Prescription - ${a.medication_name}`),!0}return!1}}},U$={active:{label:"Active",variant:"default",icon:$r,color:"text-success"},cancelled:{label:"Cancelled",variant:"destructive",icon:oa,color:"text-destructive"},expired:{label:"Expired",variant:"secondary",icon:Zo,color:"text-muted-foreground"},completed:{label:"Completed",variant:"secondary",icon:$r,color:"text-muted-foreground"}},Q1=({prescription:e,onCancel:t,showPatient:r=!1,showClinician:n=!1,clinicianQualification:i,clinicianHPCSA:s,patientDOB:a,patientIDNumber:l})=>{const c=U$[e.status]||U$.active,u=c.icon,{loading:d,downloadPDF:f}=Awe(),h=async()=>{await f({prescription_id:e.id,patient_name:e.patient_name||"Patient",patient_dob:a,patient_id_number:l,clinician_name:e.clinician_name||"Clinician",clinician_qualification:i,clinician_hpcsa:s,medication_name:e.medication_name,dosage:e.dosage,frequency:e.frequency,duration:e.duration,quantity:e.quantity||void 0,refills:e.refills,instructions:e.instructions||void 0,pharmacy_notes:e.pharmacy_notes||void 0,prescribed_at:e.prescribed_at,expires_at:e.expires_at||void 0})};return o.jsx(le,{className:"hover:shadow-md transition-shadow",children:o.jsx(de,{className:"p-3 sm:p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[o.jsx("div",{className:"hidden sm:flex p-3 rounded-xl bg-primary/10 shrink-0",children:o.jsx(Zr,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-2 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:hidden",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Zr,{className:"w-4 h-4 text-primary"})}),o.jsx("h3",{className:"font-semibold text-base truncate",children:e.medication_name})]}),o.jsx("h3",{className:"hidden sm:block font-semibold text-lg truncate",children:e.medication_name}),o.jsxs(Ce,{variant:c.variant,className:"flex items-center gap-1 shrink-0 text-xs",children:[o.jsx(u,{className:"w-3 h-3"}),o.jsx("span",{className:"hidden xs:inline",children:c.label})]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-sm mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Dosage:"}),o.jsx("p",{className:"font-medium text-sm",children:e.dosage})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Frequency:"}),o.jsx("p",{className:"font-medium text-sm",children:e.frequency})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Duration:"}),o.jsx("p",{className:"font-medium text-sm",children:e.duration})]}),e.quantity&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Quantity:"}),o.jsx("p",{className:"font-medium text-sm",children:e.quantity})]})]}),e.instructions&&o.jsx("div",{className:"bg-muted/50 rounded-lg p-2 sm:p-3 mb-3",children:o.jsxs("p",{className:"text-xs sm:text-sm",children:[o.jsx("span",{className:"font-medium",children:"Instructions:"})," ",e.instructions]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Dt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),Pt(new Date(e.prescribed_at),"MMM d, yyyy")]}),e.refills>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Uo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.refills," refills"]}),r&&e.patient_name&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Dr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.patient_name]}),n&&e.clinician_name&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Dr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Dr. ",e.clinician_name]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t flex flex-wrap items-center gap-2",children:[o.jsxs(Z,{variant:"outline",size:"sm",onClick:h,disabled:d,className:"text-primary hover:text-primary gap-1",children:[d?o.jsx(et,{className:"w-4 h-4 animate-spin"}):o.jsx(yu,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Download PDF"}),o.jsx("span",{className:"xs:hidden",children:"PDF"})]}),t&&e.status==="active"&&o.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>t(e.id),className:"text-destructive hover:text-destructive gap-1",children:[o.jsx(oa,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Cancel"})]})]})]})]})})})},Mwe=({patientId:e,patientName:t,appointmentId:r,showAddButton:n=!0,showPatient:i=!1})=>{const{prescriptions:s,loading:a,updatePrescriptionStatus:l,getPrescriptionsForPatient:c,getPrescriptionsForAppointment:u}=A7(),[d,f]=y.useState(!1),[h,p]=y.useState([]),[g,m]=y.useState(!1);y.useEffect(()=>{(async()=>{if(r){m(!0);const j=await u(r);p(j.prescriptions||[]),m(!1)}else if(e){m(!0);const j=await c(e);p(j.prescriptions||[]),m(!1)}else p(s)})()},[e,r,s,c,u]);const v=async N=>{(await l(N,"cancelled")).success?oe.success("Prescription cancelled"):oe.error("Failed to cancel prescription")},b=h.filter(N=>N.status==="active"),x=h.filter(N=>N.status==="completed"),w=h.filter(N=>N.status==="cancelled"||N.status==="expired");return a||g?o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsx(tr,{className:"h-6 w-40"}),o.jsx(tr,{className:"h-4 w-60"})]}),o.jsx(de,{className:"space-y-4",children:[1,2].map(N=>o.jsx(tr,{className:"h-32 w-full"},N))})]}):o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zr,{className:"w-5 h-5 text-primary"}),o.jsx(we,{children:"Prescriptions"})]}),n&&e&&t&&o.jsxs(Z,{size:"sm",onClick:()=>f(!0),children:[o.jsx(Hf,{className:"w-4 h-4 mr-1"}),"New Prescription"]})]}),o.jsxs(Oe,{children:[h.length," prescription(s)  ",b.length," active"]})]}),o.jsx(de,{children:o.jsxs(tl,{defaultValue:"active",className:"w-full",children:[o.jsxs(ro,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs(Bt,{value:"active",className:"flex items-center gap-2",children:[o.jsx(nr,{className:"w-4 h-4"}),"Active (",b.length,")"]}),o.jsxs(Bt,{value:"completed",className:"flex items-center gap-2",children:[o.jsx($r,{className:"w-4 h-4"}),"Completed (",x.length,")"]}),o.jsxs(Bt,{value:"cancelled",className:"flex items-center gap-2",children:[o.jsx(oa,{className:"w-4 h-4"}),"Cancelled (",w.length,")"]})]}),o.jsx(fr,{value:"active",className:"space-y-4",children:b.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Zr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No active prescriptions"})]}):b.map(N=>o.jsx(Q1,{prescription:N,onCancel:v,showPatient:i},N.id))}),o.jsx(fr,{value:"completed",className:"space-y-4",children:x.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx($r,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No completed prescriptions"})]}):x.map(N=>o.jsx(Q1,{prescription:N,showPatient:i},N.id))}),o.jsx(fr,{value:"cancelled",className:"space-y-4",children:w.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(oa,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No cancelled prescriptions"})]}):w.map(N=>o.jsx(Q1,{prescription:N,showPatient:i},N.id))})]})}),e&&t&&o.jsx(M7,{open:d,onOpenChange:f,patientId:e,patientName:t,appointmentId:r})]})},Iwe=()=>{const e=Wn(),[t,r]=pP(),{profile:n,role:i,signOut:s}=Lr(),{queue:a,stats:l,loading:c,refetch:u}=R7(),[d,f]=y.useState(!1),[h,p]=y.useState(!1),[g,m]=y.useState(!1),[v,b]=y.useState(!1),[x,w]=y.useState(!1),[_,N]=y.useState(null);y.useEffect(()=>{const A=t.get("notes");A&&(async()=>{try{const{data:M,error:z}=await Ie.from("appointments").select("id, patient_id").eq("id",A).single();if(z||!M){oe.error("Could not find appointment");return}const{data:L}=await Ie.from("profiles").select("first_name, last_name").eq("id",M.patient_id).single(),W=L?`${L.first_name} ${L.last_name}`.trim():"Patient";N({id:M.id,patientId:M.patient_id,patientName:W}),w(!0),r({})}catch(M){console.error("Error fetching appointment for notes:",M)}})()},[t,r]);const j=()=>{const A=a.find(M=>M.status==="in_progress");if(A){e(`/consultation?appointment=${A.id}`);return}if(a.find(M=>M.status==="confirmed")){oe.info("Select a patient from the queue below to start their consultation");return}oe.info("No consultations ready. Confirm an appointment first from the queue below.")},k=()=>{oe.info("Select a patient from the queue below to access their clinical notes")},C=i==="doctor"?"Doctor":"Nurse",P=i==="doctor"?"bg-primary":"bg-success";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(Z,{variant:"ghost",size:"sm",onClick:u,disabled:c,children:[o.jsx(Uo,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),o.jsx(Ce,{className:`${P} text-white`,children:C}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:s,children:[o.jsx(rc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:u,disabled:c,children:o.jsx(Uo,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx(Ce,{className:`${P} text-white text-xs`,children:C}),o.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>b(!v),children:v?o.jsx(Za,{className:"w-5 h-5"}):o.jsx(bv,{className:"w-5 h-5"})})]})]}),v&&o.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:s,className:"justify-start",children:[o.jsx(rc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Clinician Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your patients and consultations"})]}),o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsx(Mxe,{stats:l,pendingNotes:0})}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>p(!0),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:o.jsx(yee,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Appointments"}),o.jsx(Oe,{className:"text-xs hidden sm:block",children:"View & manage"})]})]})}),i==="nurse"&&o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-success/20 hover:border-success",onClick:()=>e("/nurse-triage"),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:o.jsx(vs,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Triage"}),o.jsx(Oe,{className:"text-xs hidden sm:block",children:"Assess patients"})]})]})}),o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:j,children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:o.jsx(hr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Start Call"}),o.jsx(Oe,{className:"text-xs hidden sm:block",children:"Begin video call"})]})]})}),o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:k,children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:o.jsx(Mr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Notes"}),o.jsx(Oe,{className:"text-xs hidden sm:block",children:"Clinical notes"})]})]})}),o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-warning/20 hover:border-warning",onClick:()=>e("/demo-consultation"),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:o.jsx(wee,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Demo"}),o.jsx(Oe,{className:"text-xs hidden sm:block",children:"Test video"})]})]})}),o.jsx(le,{className:`hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary ${g?"ring-2 ring-primary":""}`,onClick:()=>m(!g),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:o.jsx(Zr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Rx"}),o.jsx(Oe,{className:"text-xs hidden sm:block",children:"Prescriptions"})]})]})}),o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>f(!0),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-secondary/20",children:o.jsx(Dt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-secondary-foreground"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Availability"}),o.jsx(Oe,{className:"text-xs hidden sm:block",children:"Set schedule"})]})]})})]}),g&&o.jsx("div",{className:"mb-6 sm:mb-8 animate-fade-in",children:o.jsx(Mwe,{showPatient:!0})}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-8",children:[o.jsx("div",{className:"lg:col-span-2 order-1",children:o.jsx(Tbe,{})}),o.jsx("div",{className:"order-2",children:o.jsx(Mbe,{todayAppointments:a})})]}),o.jsx(Fbe,{open:d,onOpenChange:f}),o.jsx(Pwe,{open:h,onOpenChange:p}),_&&o.jsx(bT,{open:x,onOpenChange:A=>{w(A),A||N(null)},appointmentId:_.id,patientId:_.patientId,patientName:_.patientName,onComplete:()=>{oe.success("Clinical notes saved successfully"),u()}})]})]})},qx=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:_e("w-full caption-bottom text-sm",e),...t})}));qx.displayName="Table";const Gx=y.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:_e("[&_tr]:border-b",e),...t}));Gx.displayName="TableHeader";const Kx=y.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:_e("[&_tr:last-child]:border-0",e),...t}));Kx.displayName="TableBody";const Rwe=y.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Rwe.displayName="TableFooter";const Vc=y.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:_e("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Vc.displayName="TableRow";const Ti=y.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ti.displayName="TableHead";const Ai=y.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ai.displayName="TableCell";const $we=y.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:_e("mt-4 text-sm text-muted-foreground",e),...t}));$we.displayName="TableCaption";const Dwe="",Lwe=(e=30)=>{const[t,r]=y.useState(null),[n,i]=y.useState(!0),[s,a]=y.useState(null),l=y.useCallback(async()=>{i(!0),a(null);try{const{data:{session:c}}=await Ie.auth.getSession(),u=c==null?void 0:c.access_token,d=await fetch(`${Dwe}/api/analytics/dashboard?days=${e}`,{headers:u?{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}:{}});if(!d.ok)throw new Error("Failed to fetch analytics");const f=await d.json();r(f)}catch(c){console.error("Analytics fetch error:",c),a(c.message),r({overview:{total_users:0,total_patients:0,total_clinicians:0,total_appointments:0,total_consultations:0,total_prescriptions:0,appointments_today:0,appointments_this_week:0,appointments_this_month:0,completion_rate:0,average_consultation_duration:0},appointment_trends:[],consultation_types:{video:0,phone:0,in_person:0},clinician_performance:[],patient_growth:[],status_distribution:{}})}finally{i(!1)}},[e]);return y.useEffect(()=>{l()},[l]),{data:t,loading:n,error:s,refetch:l}},Fwe=({overview:e})=>{const t=[{title:"Total Users",value:e.total_users,icon:Ln,color:"bg-primary/10 text-primary",description:`${e.total_patients} patients, ${e.total_clinicians} clinicians`},{title:"Total Appointments",value:e.total_appointments,icon:Dt,color:"bg-success/10 text-success",description:`${e.appointments_today} today, ${e.appointments_this_week} this week`},{title:"Consultations",value:e.total_consultations,icon:hr,color:"bg-info/10 text-info",description:`${e.average_consultation_duration.toFixed(1)} min avg duration`},{title:"Prescriptions",value:e.total_prescriptions,icon:Zr,color:"bg-warning/10 text-warning",description:"Total issued"},{title:"Completion Rate",value:`${e.completion_rate}%`,icon:xu,color:"bg-success/10 text-success",description:"Appointments completed"},{title:"This Month",value:e.appointments_this_month,icon:nr,color:"bg-secondary/20 text-secondary-foreground",description:"Appointments scheduled"}];return o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:t.map((r,n)=>o.jsx(le,{className:"hover:shadow-md transition-shadow",children:o.jsxs(de,{className:"pt-4 pb-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx("div",{className:`p-2 rounded-lg ${r.color}`,children:o.jsx(r.icon,{className:"w-4 h-4"})})}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:r.title}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:r.description})]})},n))})};var Bwe=Array.isArray,ki=Bwe,Uwe=typeof nm=="object"&&nm&&nm.Object===Object&&nm,nq=Uwe,zwe=nq,Wwe=typeof self=="object"&&self&&self.Object===Object&&self,Vwe=zwe||Wwe||Function("return this")(),io=Vwe,Hwe=io,qwe=Hwe.Symbol,Vv=qwe,z$=Vv,iq=Object.prototype,Gwe=iq.hasOwnProperty,Kwe=iq.toString,Hp=z$?z$.toStringTag:void 0;function Ywe(e){var t=Gwe.call(e,Hp),r=e[Hp];try{e[Hp]=void 0;var n=!0}catch{}var i=Kwe.call(e);return n&&(t?e[Hp]=r:delete e[Hp]),i}var Jwe=Ywe,Xwe=Object.prototype,Qwe=Xwe.toString;function Zwe(e){return Qwe.call(e)}var e_e=Zwe,W$=Vv,t_e=Jwe,r_e=e_e,n_e="[object Null]",i_e="[object Undefined]",V$=W$?W$.toStringTag:void 0;function s_e(e){return e==null?e===void 0?i_e:n_e:V$&&V$ in Object(e)?t_e(e):r_e(e)}var nl=s_e;function a_e(e){return e!=null&&typeof e=="object"}var il=a_e,o_e=nl,l_e=il,c_e="[object Symbol]";function u_e(e){return typeof e=="symbol"||l_e(e)&&o_e(e)==c_e}var ap=u_e,d_e=ki,f_e=ap,h_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p_e=/^\w*$/;function m_e(e,t){if(d_e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||f_e(e)?!0:p_e.test(e)||!h_e.test(e)||t!=null&&e in Object(t)}var OT=m_e;function g_e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bc=g_e;const op=kt(bc);var v_e=nl,y_e=bc,x_e="[object AsyncFunction]",b_e="[object Function]",w_e="[object GeneratorFunction]",__e="[object Proxy]";function j_e(e){if(!y_e(e))return!1;var t=v_e(e);return t==b_e||t==w_e||t==x_e||t==__e}var ET=j_e;const Xe=kt(ET);var S_e=io,N_e=S_e["__core-js_shared__"],k_e=N_e,Z1=k_e,H$=function(){var e=/[^.]+$/.exec(Z1&&Z1.keys&&Z1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function C_e(e){return!!H$&&H$ in e}var O_e=C_e,E_e=Function.prototype,P_e=E_e.toString;function T_e(e){if(e!=null){try{return P_e.call(e)}catch{}try{return e+""}catch{}}return""}var sq=T_e,A_e=ET,M_e=O_e,I_e=bc,R_e=sq,$_e=/[\\^$.*+?()[\]{}|]/g,D_e=/^\[object .+?Constructor\]$/,L_e=Function.prototype,F_e=Object.prototype,B_e=L_e.toString,U_e=F_e.hasOwnProperty,z_e=RegExp("^"+B_e.call(U_e).replace($_e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function W_e(e){if(!I_e(e)||M_e(e))return!1;var t=A_e(e)?z_e:D_e;return t.test(R_e(e))}var V_e=W_e;function H_e(e,t){return e==null?void 0:e[t]}var q_e=H_e,G_e=V_e,K_e=q_e;function Y_e(e,t){var r=K_e(e,t);return G_e(r)?r:void 0}var sd=Y_e,J_e=sd,X_e=J_e(Object,"create"),T_=X_e,q$=T_;function Q_e(){this.__data__=q$?q$(null):{},this.size=0}var Z_e=Q_e;function eje(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tje=eje,rje=T_,nje="__lodash_hash_undefined__",ije=Object.prototype,sje=ije.hasOwnProperty;function aje(e){var t=this.__data__;if(rje){var r=t[e];return r===nje?void 0:r}return sje.call(t,e)?t[e]:void 0}var oje=aje,lje=T_,cje=Object.prototype,uje=cje.hasOwnProperty;function dje(e){var t=this.__data__;return lje?t[e]!==void 0:uje.call(t,e)}var fje=dje,hje=T_,pje="__lodash_hash_undefined__";function mje(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=hje&&t===void 0?pje:t,this}var gje=mje,vje=Z_e,yje=tje,xje=oje,bje=fje,wje=gje;function lp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lp.prototype.clear=vje;lp.prototype.delete=yje;lp.prototype.get=xje;lp.prototype.has=bje;lp.prototype.set=wje;var _je=lp;function jje(){this.__data__=[],this.size=0}var Sje=jje;function Nje(e,t){return e===t||e!==e&&t!==t}var PT=Nje,kje=PT;function Cje(e,t){for(var r=e.length;r--;)if(kje(e[r][0],t))return r;return-1}var A_=Cje,Oje=A_,Eje=Array.prototype,Pje=Eje.splice;function Tje(e){var t=this.__data__,r=Oje(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Pje.call(t,r,1),--this.size,!0}var Aje=Tje,Mje=A_;function Ije(e){var t=this.__data__,r=Mje(t,e);return r<0?void 0:t[r][1]}var Rje=Ije,$je=A_;function Dje(e){return $je(this.__data__,e)>-1}var Lje=Dje,Fje=A_;function Bje(e,t){var r=this.__data__,n=Fje(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Uje=Bje,zje=Sje,Wje=Aje,Vje=Rje,Hje=Lje,qje=Uje;function cp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cp.prototype.clear=zje;cp.prototype.delete=Wje;cp.prototype.get=Vje;cp.prototype.has=Hje;cp.prototype.set=qje;var M_=cp,Gje=sd,Kje=io,Yje=Gje(Kje,"Map"),TT=Yje,G$=_je,Jje=M_,Xje=TT;function Qje(){this.size=0,this.__data__={hash:new G$,map:new(Xje||Jje),string:new G$}}var Zje=Qje;function e1e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var t1e=e1e,r1e=t1e;function n1e(e,t){var r=e.__data__;return r1e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var I_=n1e,i1e=I_;function s1e(e){var t=i1e(this,e).delete(e);return this.size-=t?1:0,t}var a1e=s1e,o1e=I_;function l1e(e){return o1e(this,e).get(e)}var c1e=l1e,u1e=I_;function d1e(e){return u1e(this,e).has(e)}var f1e=d1e,h1e=I_;function p1e(e,t){var r=h1e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var m1e=p1e,g1e=Zje,v1e=a1e,y1e=c1e,x1e=f1e,b1e=m1e;function up(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}up.prototype.clear=g1e;up.prototype.delete=v1e;up.prototype.get=y1e;up.prototype.has=x1e;up.prototype.set=b1e;var AT=up,aq=AT,w1e="Expected a function";function MT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(w1e);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=e.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(MT.Cache||aq),r}MT.Cache=aq;var oq=MT;const _1e=kt(oq);var j1e=oq,S1e=500;function N1e(e){var t=j1e(e,function(n){return r.size===S1e&&r.clear(),n}),r=t.cache;return t}var k1e=N1e,C1e=k1e,O1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E1e=/\\(\\)?/g,P1e=C1e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(O1e,function(r,n,i,s){t.push(i?s.replace(E1e,"$1"):n||r)}),t}),T1e=P1e;function A1e(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var IT=A1e,K$=Vv,M1e=IT,I1e=ki,R1e=ap,Y$=K$?K$.prototype:void 0,J$=Y$?Y$.toString:void 0;function lq(e){if(typeof e=="string")return e;if(I1e(e))return M1e(e,lq)+"";if(R1e(e))return J$?J$.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var $1e=lq,D1e=$1e;function L1e(e){return e==null?"":D1e(e)}var cq=L1e,F1e=ki,B1e=OT,U1e=T1e,z1e=cq;function W1e(e,t){return F1e(e)?e:B1e(e,t)?[e]:U1e(z1e(e))}var uq=W1e,V1e=ap;function H1e(e){if(typeof e=="string"||V1e(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var R_=H1e,q1e=uq,G1e=R_;function K1e(e,t){t=q1e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[G1e(t[r++])];return r&&r==n?e:void 0}var RT=K1e,Y1e=RT;function J1e(e,t,r){var n=e==null?void 0:Y1e(e,t);return n===void 0?r:n}var dq=J1e;const Ki=kt(dq);function X1e(e){return e==null}var Q1e=X1e;const ct=kt(Q1e);var Z1e=nl,eSe=ki,tSe=il,rSe="[object String]";function nSe(e){return typeof e=="string"||!eSe(e)&&tSe(e)&&Z1e(e)==rSe}var iSe=nSe;const Uu=kt(iSe);var fq={exports:{}},zt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T=Symbol.for("react.element"),DT=Symbol.for("react.portal"),$_=Symbol.for("react.fragment"),D_=Symbol.for("react.strict_mode"),L_=Symbol.for("react.profiler"),F_=Symbol.for("react.provider"),B_=Symbol.for("react.context"),sSe=Symbol.for("react.server_context"),U_=Symbol.for("react.forward_ref"),z_=Symbol.for("react.suspense"),W_=Symbol.for("react.suspense_list"),V_=Symbol.for("react.memo"),H_=Symbol.for("react.lazy"),aSe=Symbol.for("react.offscreen"),hq;hq=Symbol.for("react.module.reference");function ks(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $T:switch(e=e.type,e){case $_:case L_:case D_:case z_:case W_:return e;default:switch(e=e&&e.$$typeof,e){case sSe:case B_:case U_:case H_:case V_:case F_:return e;default:return t}}case DT:return t}}}zt.ContextConsumer=B_;zt.ContextProvider=F_;zt.Element=$T;zt.ForwardRef=U_;zt.Fragment=$_;zt.Lazy=H_;zt.Memo=V_;zt.Portal=DT;zt.Profiler=L_;zt.StrictMode=D_;zt.Suspense=z_;zt.SuspenseList=W_;zt.isAsyncMode=function(){return!1};zt.isConcurrentMode=function(){return!1};zt.isContextConsumer=function(e){return ks(e)===B_};zt.isContextProvider=function(e){return ks(e)===F_};zt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$T};zt.isForwardRef=function(e){return ks(e)===U_};zt.isFragment=function(e){return ks(e)===$_};zt.isLazy=function(e){return ks(e)===H_};zt.isMemo=function(e){return ks(e)===V_};zt.isPortal=function(e){return ks(e)===DT};zt.isProfiler=function(e){return ks(e)===L_};zt.isStrictMode=function(e){return ks(e)===D_};zt.isSuspense=function(e){return ks(e)===z_};zt.isSuspenseList=function(e){return ks(e)===W_};zt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$_||e===L_||e===D_||e===z_||e===W_||e===aSe||typeof e=="object"&&e!==null&&(e.$$typeof===H_||e.$$typeof===V_||e.$$typeof===F_||e.$$typeof===B_||e.$$typeof===U_||e.$$typeof===hq||e.getModuleId!==void 0)};zt.typeOf=ks;fq.exports=zt;var oSe=fq.exports,lSe=nl,cSe=il,uSe="[object Number]";function dSe(e){return typeof e=="number"||cSe(e)&&lSe(e)==uSe}var pq=dSe;const fSe=kt(pq);var hSe=pq;function pSe(e){return hSe(e)&&e!=+e}var mSe=pSe;const dp=kt(mSe);var Zn=function(t){return t===0?0:t>0?1:-1},iu=function(t){return Uu(t)&&t.indexOf("%")===t.length-1},ve=function(t){return fSe(t)&&!dp(t)},gSe=function(t){return ct(t)},tn=function(t){return ve(t)||Uu(t)},vSe=0,ad=function(t){var r=++vSe;return"".concat(t||"").concat(r)},ei=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&!Uu(t))return n;var s;if(iu(t)){var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return dp(s)&&(s=n),i&&s>r&&(s=r),s},El=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ySe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Qr=function(t,r){return ve(t)&&ve(r)?function(n){return t+n*(r-t)}:function(){return r}};function o0(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ki(n,t))===r})}var xSe=function(t,r){return ve(t)&&ve(r)?t-r:Uu(t)&&Uu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function jf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Hk(e){"@babel/helpers - typeof";return Hk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hk(e)}var bSe=["viewBox","children"],wSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X$=["points","pathLength"],eS={svg:bSe,polygon:X$,polyline:X$},LT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],l0=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!op(n))return null;var i={};return Object.keys(n).forEach(function(s){LT.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},_Se=function(t,r,n){return function(i){return t(r,n,i),null}},zu=function(t,r,n){if(!op(t)||Hk(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var a=t[s];LT.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=_Se(a,r,n))}),i},jSe=["children"],SSe=["children"];function Q$(e,t){if(e==null)return{};var r=NSe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qk(e){"@babel/helpers - typeof";return qk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qk(e)}var Z$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},eD=null,tS=null,FT=function e(t){if(t===eD&&Array.isArray(tS))return tS;var r=[];return y.Children.forEach(t,function(n){ct(n)||(oSe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),tS=r,eD=t,r};function Yi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Mo(i)}):n=[Mo(t)],FT(e).forEach(function(i){var s=Ki(i,"type.displayName")||Ki(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function $i(e,t){var r=Yi(e,t);return r&&r[0]}var tD=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},kSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],CSe=function(t){return t&&t.type&&Uu(t.type)&&kSe.indexOf(t.type)>=0},mq=function(t){return t&&qk(t)==="object"&&"clipDot"in t},OSe=function(t,r,n,i){var s,a=(s=eS==null?void 0:eS[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Xe(t)&&(i&&a.includes(r)||wSe.includes(r))||n&&LT.includes(r)},ze=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(y.isValidElement(t)&&(i=t.props),!op(i))return null;var s={};return Object.keys(i).forEach(function(a){var l;OSe((l=i)===null||l===void 0?void 0:l[a],a,r,n)&&(s[a]=i[a])}),s},Gk=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return rD(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!e(s,a))return!1}else if(!rD(s,a))return!1}return!0},rD=function(t,r){if(ct(t)&&ct(r))return!0;if(!ct(t)&&!ct(r)){var n=t.props||{},i=n.children,s=Q$(n,jSe),a=r.props||{},l=a.children,c=Q$(a,SSe);return i&&l?jf(s,c)&&Gk(i,l):!i&&!l?jf(s,c):!1}return!1},nD=function(t,r){var n=[],i={};return FT(t).forEach(function(s,a){if(CSe(s))n.push(s);else if(s){var l=Mo(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,a);n.push(f),i[l]=!0}}}),n},ESe=function(t){var r=t&&t.type;return r&&Z$[r]?Z$[r]:null},PSe=function(t,r){return FT(r).indexOf(t)},TSe=["children","width","height","viewBox","className","style","title","desc"];function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kk.apply(this,arguments)}function ASe(e,t){if(e==null)return{};var r=MSe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yk(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,a=e.style,l=e.title,c=e.desc,u=ASe(e,TSe),d=i||{width:r,height:n,x:0,y:0},f=ut("recharts-surface",s);return T.createElement("svg",Kk({},ze(u,!0,"svg"),{className:f,width:r,height:n,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),T.createElement("title",null,l),T.createElement("desc",null,c),t)}var ISe=["children","className"];function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jk.apply(this,arguments)}function RSe(e,t){if(e==null)return{};var r=$Se(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Se(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yt=T.forwardRef(function(e,t){var r=e.children,n=e.className,i=RSe(e,ISe),s=ut("recharts-layer",n);return T.createElement("g",Jk({className:s},ze(i,!0),{ref:t}),r)}),na=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function DSe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}var LSe=DSe,FSe=LSe;function BSe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:FSe(e,t,r)}var USe=BSe,zSe="\\ud800-\\udfff",WSe="\\u0300-\\u036f",VSe="\\ufe20-\\ufe2f",HSe="\\u20d0-\\u20ff",qSe=WSe+VSe+HSe,GSe="\\ufe0e\\ufe0f",KSe="\\u200d",YSe=RegExp("["+KSe+zSe+qSe+GSe+"]");function JSe(e){return YSe.test(e)}var gq=JSe;function XSe(e){return e.split("")}var QSe=XSe,vq="\\ud800-\\udfff",ZSe="\\u0300-\\u036f",eNe="\\ufe20-\\ufe2f",tNe="\\u20d0-\\u20ff",rNe=ZSe+eNe+tNe,nNe="\\ufe0e\\ufe0f",iNe="["+vq+"]",Xk="["+rNe+"]",Qk="\\ud83c[\\udffb-\\udfff]",sNe="(?:"+Xk+"|"+Qk+")",yq="[^"+vq+"]",xq="(?:\\ud83c[\\udde6-\\uddff]){2}",bq="[\\ud800-\\udbff][\\udc00-\\udfff]",aNe="\\u200d",wq=sNe+"?",_q="["+nNe+"]?",oNe="(?:"+aNe+"(?:"+[yq,xq,bq].join("|")+")"+_q+wq+")*",lNe=_q+wq+oNe,cNe="(?:"+[yq+Xk+"?",Xk,xq,bq,iNe].join("|")+")",uNe=RegExp(Qk+"(?="+Qk+")|"+cNe+lNe,"g");function dNe(e){return e.match(uNe)||[]}var fNe=dNe,hNe=QSe,pNe=gq,mNe=fNe;function gNe(e){return pNe(e)?mNe(e):hNe(e)}var vNe=gNe,yNe=USe,xNe=gq,bNe=vNe,wNe=cq;function _Ne(e){return function(t){t=wNe(t);var r=xNe(t)?bNe(t):void 0,n=r?r[0]:t.charAt(0),i=r?yNe(r,1).join(""):t.slice(1);return n[e]()+i}}var jNe=_Ne,SNe=jNe,NNe=SNe("toUpperCase"),kNe=NNe;const q_=kt(kNe);function Qt(e){return function(){return e}}const jq=Math.cos,c0=Math.sin,xa=Math.sqrt,u0=Math.PI,G_=2*u0,Zk=Math.PI,eC=2*Zk,Hc=1e-6,CNe=eC-Hc;function Sq(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ONe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Sq;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class ENe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Sq:ONe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Hc)if(!(Math.abs(f*c-u*d)>Hc)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-a,g=i-l,m=c*c+u*u,v=p*p+g*g,b=Math.sqrt(m),x=Math.sqrt(h),w=s*Math.tan((Zk-Math.acos((m+h-v)/(2*b*x)))/2),_=w/x,N=w/b;Math.abs(_-1)>Hc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Hc||Math.abs(this._y1-d)>Hc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%eC+eC),h>CNe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Hc&&this._append`A${n},${n},0,${+(h>=Zk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function BT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ENe(t)}function UT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nq(e){this._context=e}Nq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function K_(e){return new Nq(e)}function kq(e){return e[0]}function Cq(e){return e[1]}function Oq(e,t){var r=Qt(!0),n=null,i=K_,s=null,a=BT(l);e=typeof e=="function"?e:e===void 0?kq:Qt(e),t=typeof t=="function"?t:t===void 0?Cq:Qt(t);function l(c){var u,d=(c=UT(c)).length,f,h=!1,p;for(n==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Qt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Qt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Qt(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Hy(e,t,r){var n=null,i=Qt(!0),s=null,a=K_,l=null,c=BT(u);e=typeof e=="function"?e:e===void 0?kq:Qt(+e),t=typeof t=="function"?t:Qt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Cq:Qt(+r);function u(f){var h,p,g,m=(f=UT(f)).length,v,b=!1,x,w=new Array(m),_=new Array(m);for(s==null&&(l=a(x=c())),h=0;h<=m;++h){if(!(h<m&&i(v=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return Oq().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Qt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Qt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Qt(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class Eq{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PNe(e){return new Eq(e,!0)}function TNe(e){return new Eq(e,!1)}const zT={draw(e,t){const r=xa(t/u0);e.moveTo(r,0),e.arc(0,0,r,0,G_)}},ANe={draw(e,t){const r=xa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Pq=xa(1/3),MNe=Pq*2,INe={draw(e,t){const r=xa(t/MNe),n=r*Pq;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},RNe={draw(e,t){const r=xa(t),n=-r/2;e.rect(n,n,r,r)}},$Ne=.8908130915292852,Tq=c0(u0/10)/c0(7*u0/10),DNe=c0(G_/10)*Tq,LNe=-jq(G_/10)*Tq,FNe={draw(e,t){const r=xa(t*$Ne),n=DNe*r,i=LNe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=G_*s/5,l=jq(a),c=c0(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},rS=xa(3),BNe={draw(e,t){const r=-xa(t/(rS*3));e.moveTo(0,r*2),e.lineTo(-rS*r,-r),e.lineTo(rS*r,-r),e.closePath()}},is=-.5,ss=xa(3)/2,tC=1/xa(12),UNe=(tC/2+1)*3,zNe={draw(e,t){const r=xa(t/UNe),n=r/2,i=r*tC,s=n,a=r*tC+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(is*n-ss*i,ss*n+is*i),e.lineTo(is*s-ss*a,ss*s+is*a),e.lineTo(is*l-ss*c,ss*l+is*c),e.lineTo(is*n+ss*i,is*i-ss*n),e.lineTo(is*s+ss*a,is*a-ss*s),e.lineTo(is*l+ss*c,is*c-ss*l),e.closePath()}};function WNe(e,t){let r=null,n=BT(i);e=typeof e=="function"?e:Qt(e||zT),t=typeof t=="function"?t:Qt(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Qt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Qt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function d0(){}function f0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Aq(e){this._context=e}Aq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:f0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:f0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VNe(e){return new Aq(e)}function Mq(e){this._context=e}Mq.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:f0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HNe(e){return new Mq(e)}function Iq(e){this._context=e}Iq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:f0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qNe(e){return new Iq(e)}function Rq(e){this._context=e}Rq.prototype={areaStart:d0,areaEnd:d0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function GNe(e){return new Rq(e)}function iD(e){return e<0?-1:1}function sD(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(iD(s)+iD(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function aD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function nS(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function h0(e){this._context=e}h0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nS(this,this._t0,aD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nS(this,aD(this,r=sD(this,e,t)),r);break;default:nS(this,this._t0,r=sD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $q(e){this._context=new Dq(e)}($q.prototype=Object.create(h0.prototype)).point=function(e,t){h0.prototype.point.call(this,t,e)};function Dq(e){this._context=e}Dq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function KNe(e){return new h0(e)}function YNe(e){return new $q(e)}function Lq(e){this._context=e}Lq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=oD(e),i=oD(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function oD(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function JNe(e){return new Lq(e)}function Y_(e,t){this._context=e,this._t=t}Y_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function XNe(e){return new Y_(e,.5)}function QNe(e){return new Y_(e,0)}function ZNe(e){return new Y_(e,1)}function lh(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function rC(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function eke(e,t){return e[t]}function tke(e){const t=[];return t.key=e,t}function rke(){var e=Qt([]),t=rC,r=lh,n=eke;function i(s){var a=Array.from(e.apply(this,arguments),tke),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=UT(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Qt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Qt(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?rC:typeof s=="function"?s:Qt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??lh,i):r},i}function nke(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}lh(e,t)}}function ike(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}lh(e,t)}}function ske(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,b=m[n-1][1]||0;p+=v-b}c+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,lh(e,t)}}function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}var ake=["type","size","sizeType"];function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nC.apply(this,arguments)}function lD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(r),!0).forEach(function(n){oke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oke(e,t,r){return t=lke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lke(e){var t=cke(e,"string");return Og(t)=="symbol"?t:t+""}function cke(e,t){if(Og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uke(e,t){if(e==null)return{};var r=dke(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fq={symbolCircle:zT,symbolCross:ANe,symbolDiamond:INe,symbolSquare:RNe,symbolStar:FNe,symbolTriangle:BNe,symbolWye:zNe},fke=Math.PI/180,hke=function(t){var r="symbol".concat(q_(t));return Fq[r]||zT},pke=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*fke;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mke=function(t,r){Fq["symbol".concat(q_(t))]=r},WT=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,a=t.sizeType,l=a===void 0?"area":a,c=uke(t,ake),u=cD(cD({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=hke(n),b=WNe().type(v).size(pke(s,l,n));return b()},f=u.className,h=u.cx,p=u.cy,g=ze(u,!0);return h===+h&&p===+p&&s===+s?T.createElement("path",nC({},g,{className:ut("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};WT.registerSymbol=mke;function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function iC(){return iC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iC.apply(this,arguments)}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){Eg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uq(n.key),n)}}function xke(e,t,r){return t&&yke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bke(e,t,r){return t=p0(t),wke(e,Bq()?Reflect.construct(t,r||[],p0(e).constructor):t.apply(e,r))}function wke(e,t){if(t&&(ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ke(e)}function _ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bq=function(){return!!e})()}function p0(e){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p0(e)}function jke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sC(e,t)}function sC(e,t){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sC(e,t)}function Eg(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=Ske(e,"string");return ch(t)=="symbol"?t:t+""}function Ske(e,t){if(ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var as=32,VT=function(e){function t(){return vke(this,t),bke(this,t,arguments)}return jke(t,e),xke(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=as/2,a=as/6,l=as/3,c=n.inactive?i:n.color;if(n.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:as,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(as,"M").concat(2*l,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(as/8,"h").concat(as,"v").concat(as*3/4,"h").concat(-as,"z"),className:"recharts-legend-icon"});if(T.isValidElement(n.legendIcon)){var u=gke({},n);return delete u.legendIcon,T.cloneElement(n.legendIcon,u)}return T.createElement(WT,{fill:c,cx:s,cy:s,size:as,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:as,height:as},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||c,v=ut(Eg(Eg({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Xe(p.value)?null:p.value;na(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return T.createElement("li",iC({className:v,style:f,key:"legend-item-".concat(g)},zu(n.props,p,g)),T.createElement(Yk,{width:a,height:a,viewBox:d,style:h},n.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);Eg(VT,"displayName","Legend");Eg(VT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Nke=M_;function kke(){this.__data__=new Nke,this.size=0}var Cke=kke;function Oke(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Eke=Oke;function Pke(e){return this.__data__.get(e)}var Tke=Pke;function Ake(e){return this.__data__.has(e)}var Mke=Ake,Ike=M_,Rke=TT,$ke=AT,Dke=200;function Lke(e,t){var r=this.__data__;if(r instanceof Ike){var n=r.__data__;if(!Rke||n.length<Dke-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $ke(n)}return r.set(e,t),this.size=r.size,this}var Fke=Lke,Bke=M_,Uke=Cke,zke=Eke,Wke=Tke,Vke=Mke,Hke=Fke;function fp(e){var t=this.__data__=new Bke(e);this.size=t.size}fp.prototype.clear=Uke;fp.prototype.delete=zke;fp.prototype.get=Wke;fp.prototype.has=Vke;fp.prototype.set=Hke;var zq=fp,qke="__lodash_hash_undefined__";function Gke(e){return this.__data__.set(e,qke),this}var Kke=Gke;function Yke(e){return this.__data__.has(e)}var Jke=Yke,Xke=AT,Qke=Kke,Zke=Jke;function m0(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Xke;++t<r;)this.add(e[t])}m0.prototype.add=m0.prototype.push=Qke;m0.prototype.has=Zke;var Wq=m0;function eCe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Vq=eCe;function tCe(e,t){return e.has(t)}var Hq=tCe,rCe=Wq,nCe=Vq,iCe=Hq,sCe=1,aCe=2;function oCe(e,t,r,n,i,s){var a=r&sCe,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&aCe?new rCe:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=a?n(m,g,f,t,e,s):n(g,m,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!nCe(t,function(b,x){if(!iCe(p,x)&&(g===b||i(g,b,r,n,s)))return p.push(x)})){h=!1;break}}else if(!(g===m||i(g,m,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var qq=oCe,lCe=io,cCe=lCe.Uint8Array,uCe=cCe;function dCe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var fCe=dCe;function hCe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var HT=hCe,dD=Vv,fD=uCe,pCe=PT,mCe=qq,gCe=fCe,vCe=HT,yCe=1,xCe=2,bCe="[object Boolean]",wCe="[object Date]",_Ce="[object Error]",jCe="[object Map]",SCe="[object Number]",NCe="[object RegExp]",kCe="[object Set]",CCe="[object String]",OCe="[object Symbol]",ECe="[object ArrayBuffer]",PCe="[object DataView]",hD=dD?dD.prototype:void 0,iS=hD?hD.valueOf:void 0;function TCe(e,t,r,n,i,s,a){switch(r){case PCe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ECe:return!(e.byteLength!=t.byteLength||!s(new fD(e),new fD(t)));case bCe:case wCe:case SCe:return pCe(+e,+t);case _Ce:return e.name==t.name&&e.message==t.message;case NCe:case CCe:return e==t+"";case jCe:var l=gCe;case kCe:var c=n&yCe;if(l||(l=vCe),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;n|=xCe,a.set(e,t);var d=mCe(l(e),l(t),n,i,s,a);return a.delete(e),d;case OCe:if(iS)return iS.call(e)==iS.call(t)}return!1}var ACe=TCe;function MCe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Gq=MCe,ICe=Gq,RCe=ki;function $Ce(e,t,r){var n=t(e);return RCe(e)?n:ICe(n,r(e))}var DCe=$Ce;function LCe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var a=e[r];t(a,r,e)&&(s[i++]=a)}return s}var FCe=LCe;function BCe(){return[]}var UCe=BCe,zCe=FCe,WCe=UCe,VCe=Object.prototype,HCe=VCe.propertyIsEnumerable,pD=Object.getOwnPropertySymbols,qCe=pD?function(e){return e==null?[]:(e=Object(e),zCe(pD(e),function(t){return HCe.call(e,t)}))}:WCe,GCe=qCe;function KCe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var YCe=KCe,JCe=nl,XCe=il,QCe="[object Arguments]";function ZCe(e){return XCe(e)&&JCe(e)==QCe}var eOe=ZCe,mD=eOe,tOe=il,Kq=Object.prototype,rOe=Kq.hasOwnProperty,nOe=Kq.propertyIsEnumerable,iOe=mD(function(){return arguments}())?mD:function(e){return tOe(e)&&rOe.call(e,"callee")&&!nOe.call(e,"callee")},qT=iOe,g0={exports:{}};function sOe(){return!1}var aOe=sOe;g0.exports;(function(e,t){var r=io,n=aOe,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,l=a?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(g0,g0.exports);var Yq=g0.exports,oOe=9007199254740991,lOe=/^(?:0|[1-9]\d*)$/;function cOe(e,t){var r=typeof e;return t=t??oOe,!!t&&(r=="number"||r!="symbol"&&lOe.test(e))&&e>-1&&e%1==0&&e<t}var GT=cOe,uOe=9007199254740991;function dOe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=uOe}var KT=dOe,fOe=nl,hOe=KT,pOe=il,mOe="[object Arguments]",gOe="[object Array]",vOe="[object Boolean]",yOe="[object Date]",xOe="[object Error]",bOe="[object Function]",wOe="[object Map]",_Oe="[object Number]",jOe="[object Object]",SOe="[object RegExp]",NOe="[object Set]",kOe="[object String]",COe="[object WeakMap]",OOe="[object ArrayBuffer]",EOe="[object DataView]",POe="[object Float32Array]",TOe="[object Float64Array]",AOe="[object Int8Array]",MOe="[object Int16Array]",IOe="[object Int32Array]",ROe="[object Uint8Array]",$Oe="[object Uint8ClampedArray]",DOe="[object Uint16Array]",LOe="[object Uint32Array]",or={};or[POe]=or[TOe]=or[AOe]=or[MOe]=or[IOe]=or[ROe]=or[$Oe]=or[DOe]=or[LOe]=!0;or[mOe]=or[gOe]=or[OOe]=or[vOe]=or[EOe]=or[yOe]=or[xOe]=or[bOe]=or[wOe]=or[_Oe]=or[jOe]=or[SOe]=or[NOe]=or[kOe]=or[COe]=!1;function FOe(e){return pOe(e)&&hOe(e.length)&&!!or[fOe(e)]}var BOe=FOe;function UOe(e){return function(t){return e(t)}}var Jq=UOe,v0={exports:{}};v0.exports;(function(e,t){var r=nq,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,a=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();e.exports=l})(v0,v0.exports);var zOe=v0.exports,WOe=BOe,VOe=Jq,gD=zOe,vD=gD&&gD.isTypedArray,HOe=vD?VOe(vD):WOe,Xq=HOe,qOe=YCe,GOe=qT,KOe=ki,YOe=Yq,JOe=GT,XOe=Xq,QOe=Object.prototype,ZOe=QOe.hasOwnProperty;function eEe(e,t){var r=KOe(e),n=!r&&GOe(e),i=!r&&!n&&YOe(e),s=!r&&!n&&!i&&XOe(e),a=r||n||i||s,l=a?qOe(e.length,String):[],c=l.length;for(var u in e)(t||ZOe.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||JOe(u,c)))&&l.push(u);return l}var tEe=eEe,rEe=Object.prototype;function nEe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||rEe;return e===r}var iEe=nEe;function sEe(e,t){return function(r){return e(t(r))}}var Qq=sEe,aEe=Qq,oEe=aEe(Object.keys,Object),lEe=oEe,cEe=iEe,uEe=lEe,dEe=Object.prototype,fEe=dEe.hasOwnProperty;function hEe(e){if(!cEe(e))return uEe(e);var t=[];for(var r in Object(e))fEe.call(e,r)&&r!="constructor"&&t.push(r);return t}var pEe=hEe,mEe=ET,gEe=KT;function vEe(e){return e!=null&&gEe(e.length)&&!mEe(e)}var Hv=vEe,yEe=tEe,xEe=pEe,bEe=Hv;function wEe(e){return bEe(e)?yEe(e):xEe(e)}var J_=wEe,_Ee=DCe,jEe=GCe,SEe=J_;function NEe(e){return _Ee(e,SEe,jEe)}var kEe=NEe,yD=kEe,CEe=1,OEe=Object.prototype,EEe=OEe.hasOwnProperty;function PEe(e,t,r,n,i,s){var a=r&CEe,l=yD(e),c=l.length,u=yD(t),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var h=l[f];if(!(a?h in t:EEe.call(t,h)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=a;++f<c;){h=l[f];var b=e[h],x=t[h];if(n)var w=a?n(x,b,h,t,e,s):n(b,x,h,e,t,s);if(!(w===void 0?b===x||i(b,x,r,n,s):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,N=t.constructor;_!=N&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof N=="function"&&N instanceof N)&&(m=!1)}return s.delete(e),s.delete(t),m}var TEe=PEe,AEe=sd,MEe=io,IEe=AEe(MEe,"DataView"),REe=IEe,$Ee=sd,DEe=io,LEe=$Ee(DEe,"Promise"),FEe=LEe,BEe=sd,UEe=io,zEe=BEe(UEe,"Set"),Zq=zEe,WEe=sd,VEe=io,HEe=WEe(VEe,"WeakMap"),qEe=HEe,aC=REe,oC=TT,lC=FEe,cC=Zq,uC=qEe,eG=nl,hp=sq,xD="[object Map]",GEe="[object Object]",bD="[object Promise]",wD="[object Set]",_D="[object WeakMap]",jD="[object DataView]",KEe=hp(aC),YEe=hp(oC),JEe=hp(lC),XEe=hp(cC),QEe=hp(uC),qc=eG;(aC&&qc(new aC(new ArrayBuffer(1)))!=jD||oC&&qc(new oC)!=xD||lC&&qc(lC.resolve())!=bD||cC&&qc(new cC)!=wD||uC&&qc(new uC)!=_D)&&(qc=function(e){var t=eG(e),r=t==GEe?e.constructor:void 0,n=r?hp(r):"";if(n)switch(n){case KEe:return jD;case YEe:return xD;case JEe:return bD;case XEe:return wD;case QEe:return _D}return t});var ZEe=qc,sS=zq,ePe=qq,tPe=ACe,rPe=TEe,SD=ZEe,ND=ki,kD=Yq,nPe=Xq,iPe=1,CD="[object Arguments]",OD="[object Array]",qy="[object Object]",sPe=Object.prototype,ED=sPe.hasOwnProperty;function aPe(e,t,r,n,i,s){var a=ND(e),l=ND(t),c=a?OD:SD(e),u=l?OD:SD(t);c=c==CD?qy:c,u=u==CD?qy:u;var d=c==qy,f=u==qy,h=c==u;if(h&&kD(e)){if(!kD(t))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new sS),a||nPe(e)?ePe(e,t,r,n,i,s):tPe(e,t,c,r,n,i,s);if(!(r&iPe)){var p=d&&ED.call(e,"__wrapped__"),g=f&&ED.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return s||(s=new sS),i(m,v,r,n,s)}}return h?(s||(s=new sS),rPe(e,t,r,n,i,s)):!1}var oPe=aPe,lPe=oPe,PD=il;function tG(e,t,r,n,i){return e===t?!0:e==null||t==null||!PD(e)&&!PD(t)?e!==e&&t!==t:lPe(e,t,r,n,tG,i)}var YT=tG,cPe=zq,uPe=YT,dPe=1,fPe=2;function hPe(e,t,r,n){var i=r.length,s=i,a=!n;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var c=l[0],u=e[c],d=l[1];if(a&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new cPe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?uPe(d,u,dPe|fPe,n,f):h))return!1}}return!0}var pPe=hPe,mPe=bc;function gPe(e){return e===e&&!mPe(e)}var rG=gPe,vPe=rG,yPe=J_;function xPe(e){for(var t=yPe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,vPe(i)]}return t}var bPe=xPe;function wPe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var nG=wPe,_Pe=pPe,jPe=bPe,SPe=nG;function NPe(e){var t=jPe(e);return t.length==1&&t[0][2]?SPe(t[0][0],t[0][1]):function(r){return r===e||_Pe(r,e,t)}}var kPe=NPe;function CPe(e,t){return e!=null&&t in Object(e)}var OPe=CPe,EPe=uq,PPe=qT,TPe=ki,APe=GT,MPe=KT,IPe=R_;function RPe(e,t,r){t=EPe(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var a=IPe(t[n]);if(!(s=e!=null&&r(e,a)))break;e=e[a]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&MPe(i)&&APe(a,i)&&(TPe(e)||PPe(e)))}var $Pe=RPe,DPe=OPe,LPe=$Pe;function FPe(e,t){return e!=null&&LPe(e,t,DPe)}var BPe=FPe,UPe=YT,zPe=dq,WPe=BPe,VPe=OT,HPe=rG,qPe=nG,GPe=R_,KPe=1,YPe=2;function JPe(e,t){return VPe(e)&&HPe(t)?qPe(GPe(e),t):function(r){var n=zPe(r,e);return n===void 0&&n===t?WPe(r,e):UPe(t,n,KPe|YPe)}}var XPe=JPe;function QPe(e){return e}var pp=QPe;function ZPe(e){return function(t){return t==null?void 0:t[e]}}var eTe=ZPe,tTe=RT;function rTe(e){return function(t){return tTe(t,e)}}var nTe=rTe,iTe=eTe,sTe=nTe,aTe=OT,oTe=R_;function lTe(e){return aTe(e)?iTe(oTe(e)):sTe(e)}var cTe=lTe,uTe=kPe,dTe=XPe,fTe=pp,hTe=ki,pTe=cTe;function mTe(e){return typeof e=="function"?e:e==null?fTe:typeof e=="object"?hTe(e)?dTe(e[0],e[1]):uTe(e):pTe(e)}var so=mTe;function gTe(e,t,r,n){for(var i=e.length,s=r+(n?1:-1);n?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var iG=gTe;function vTe(e){return e!==e}var yTe=vTe;function xTe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var bTe=xTe,wTe=iG,_Te=yTe,jTe=bTe;function STe(e,t,r){return t===t?jTe(e,t,r):wTe(e,_Te,r)}var NTe=STe,kTe=NTe;function CTe(e,t){var r=e==null?0:e.length;return!!r&&kTe(e,t,0)>-1}var OTe=CTe;function ETe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var PTe=ETe;function TTe(){}var ATe=TTe,aS=Zq,MTe=ATe,ITe=HT,RTe=1/0,$Te=aS&&1/ITe(new aS([,-0]))[1]==RTe?function(e){return new aS(e)}:MTe,DTe=$Te,LTe=Wq,FTe=OTe,BTe=PTe,UTe=Hq,zTe=DTe,WTe=HT,VTe=200;function HTe(e,t,r){var n=-1,i=FTe,s=e.length,a=!0,l=[],c=l;if(r)a=!1,i=BTe;else if(s>=VTe){var u=t?null:zTe(e);if(u)return WTe(u);a=!1,i=UTe,c=new LTe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,a&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var qTe=HTe,GTe=so,KTe=qTe;function YTe(e,t){return e&&e.length?KTe(e,GTe(t)):[]}var JTe=YTe;const TD=kt(JTe);function sG(e,t,r){return t===!0?TD(e,r):Xe(t)?TD(e,t):e}function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}var XTe=["ref"];function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){X_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oG(n.key),n)}}function ZTe(e,t,r){return t&&MD(e.prototype,t),r&&MD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eAe(e,t,r){return t=y0(t),tAe(e,aG()?Reflect.construct(t,r||[],y0(e).constructor):t.apply(e,r))}function tAe(e,t){if(t&&(uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rAe(e)}function rAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aG=function(){return!!e})()}function y0(e){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y0(e)}function nAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dC(e,t)}function dC(e,t){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dC(e,t)}function X_(e,t,r){return t=oG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=iAe(e,"string");return uh(t)=="symbol"?t:t+""}function iAe(e,t){if(uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sAe(e,t){if(e==null)return{};var r=aAe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oAe(e){return e.value}function lAe(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var r=sAe(t,XTe);return T.createElement(VT,r)}var ID=1,Io=function(e){function t(){var r;QTe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=eAe(this,t,[].concat(i)),X_(r,"lastBoundingBox",{width:-1,height:-1}),r}return nAe(t,e),ZTe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ID||Math.abs(i.height-this.lastBoundingBox.height)>ID)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?uo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return uo(uo({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=uo(uo({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return T.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},lAe(s,uo(uo({},this.props),{},{payload:sG(d,u,oAe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=uo(uo({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&ve(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(y.PureComponent);X_(Io,"displayName","Legend");X_(Io,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RD=Vv,cAe=qT,uAe=ki,$D=RD?RD.isConcatSpreadable:void 0;function dAe(e){return uAe(e)||cAe(e)||!!($D&&e&&e[$D])}var fAe=dAe,hAe=Gq,pAe=fAe;function lG(e,t,r,n,i){var s=-1,a=e.length;for(r||(r=pAe),i||(i=[]);++s<a;){var l=e[s];t>0&&r(l)?t>1?lG(l,t-1,r,n,i):hAe(i,l):n||(i[i.length]=l)}return i}var cG=lG;function mAe(e){return function(t,r,n){for(var i=-1,s=Object(t),a=n(t),l=a.length;l--;){var c=a[e?l:++i];if(r(s[c],c,s)===!1)break}return t}}var gAe=mAe,vAe=gAe,yAe=vAe(),xAe=yAe,bAe=xAe,wAe=J_;function _Ae(e,t){return e&&bAe(e,t,wAe)}var uG=_Ae,jAe=Hv;function SAe(e,t){return function(r,n){if(r==null)return r;if(!jAe(r))return e(r,n);for(var i=r.length,s=t?i:-1,a=Object(r);(t?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}var NAe=SAe,kAe=uG,CAe=NAe,OAe=CAe(kAe),JT=OAe,EAe=JT,PAe=Hv;function TAe(e,t){var r=-1,n=PAe(e)?Array(e.length):[];return EAe(e,function(i,s,a){n[++r]=t(i,s,a)}),n}var dG=TAe;function AAe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var MAe=AAe,DD=ap;function IAe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,s=DD(e),a=t!==void 0,l=t===null,c=t===t,u=DD(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||n&&a&&c||!r&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&r&&i&&!n&&!s||l&&r&&i||!a&&i||!c)return-1}return 0}var RAe=IAe,$Ae=RAe;function DAe(e,t,r){for(var n=-1,i=e.criteria,s=t.criteria,a=i.length,l=r.length;++n<a;){var c=$Ae(i[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var LAe=DAe,oS=IT,FAe=RT,BAe=so,UAe=dG,zAe=MAe,WAe=Jq,VAe=LAe,HAe=pp,qAe=ki;function GAe(e,t,r){t.length?t=oS(t,function(s){return qAe(s)?function(a){return FAe(a,s.length===1?s[0]:s)}:s}):t=[HAe];var n=-1;t=oS(t,WAe(BAe));var i=UAe(e,function(s,a,l){var c=oS(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return zAe(i,function(s,a){return VAe(s,a,r)})}var KAe=GAe;function YAe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var JAe=YAe,XAe=JAe,LD=Math.max;function QAe(e,t,r){return t=LD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=LD(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(a),XAe(e,this,l)}}var ZAe=QAe;function e2e(e){return function(){return e}}var t2e=e2e,r2e=sd,n2e=function(){try{var e=r2e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),fG=n2e,i2e=t2e,FD=fG,s2e=pp,a2e=FD?function(e,t){return FD(e,"toString",{configurable:!0,enumerable:!1,value:i2e(t),writable:!0})}:s2e,o2e=a2e,l2e=800,c2e=16,u2e=Date.now;function d2e(e){var t=0,r=0;return function(){var n=u2e(),i=c2e-(n-r);if(r=n,i>0){if(++t>=l2e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var f2e=d2e,h2e=o2e,p2e=f2e,m2e=p2e(h2e),g2e=m2e,v2e=pp,y2e=ZAe,x2e=g2e;function b2e(e,t){return x2e(y2e(e,t,v2e),e+"")}var w2e=b2e,_2e=PT,j2e=Hv,S2e=GT,N2e=bc;function k2e(e,t,r){if(!N2e(r))return!1;var n=typeof t;return(n=="number"?j2e(r)&&S2e(t,r.length):n=="string"&&t in r)?_2e(r[t],e):!1}var Q_=k2e,C2e=cG,O2e=KAe,E2e=w2e,BD=Q_,P2e=E2e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&BD(e,t[0],t[1])?t=[]:r>2&&BD(t[0],t[1],t[2])&&(t=[t[0]]),O2e(e,C2e(t,1),[])}),T2e=P2e;const XT=kt(T2e);function Pg(e){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(e)}function fC(){return fC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fC.apply(this,arguments)}function A2e(e,t){return $2e(e)||R2e(e,t)||I2e(e,t)||M2e()}function M2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I2e(e,t){if(e){if(typeof e=="string")return UD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UD(e,t)}}function UD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function $2e(e){if(Array.isArray(e))return e}function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){D2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D2e(e,t,r){return t=L2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L2e(e){var t=F2e(e,"string");return Pg(t)=="symbol"?t:t+""}function F2e(e,t){if(Pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B2e(e){return Array.isArray(e)&&tn(e[0])&&tn(e[1])?e.join(" ~ "):e}var U2e=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,a=t.itemStyle,l=a===void 0?{}:a,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var M={padding:0,margin:0},z=(h?XT(d,h):d).map(function(L,W){if(L.type==="none")return null;var F=lS({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),D=L.formatter||f||B2e,R=L.value,B=L.name,K=R,ee=B;if(D&&K!=null&&ee!=null){var te=D(R,B,L,W,d);if(Array.isArray(te)){var S=A2e(te,2);K=S[0],ee=S[1]}else K=te}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:F},tn(ee)?T.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,tn(ee)?T.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,T.createElement("span",{className:"recharts-tooltip-item-value"},K),T.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:M},z)}return null},_=lS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=lS({margin:0},u),j=!ct(m),k=j?m:"",C=ut("recharts-default-tooltip",p),P=ut("recharts-tooltip-label",g);j&&v&&d!==void 0&&d!==null&&(k=v(m,d));var A=x?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",fC({className:C,style:_},A),T.createElement("p",{className:P,style:N},T.isValidElement(k)?k:"".concat(k)),w())};function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function Gy(e,t,r){return t=z2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z2e(e){var t=W2e(e,"string");return Tg(t)=="symbol"?t:t+""}function W2e(e,t){if(Tg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qp="recharts-tooltip-wrapper",V2e={visibility:"hidden"};function H2e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ut(qp,Gy(Gy(Gy(Gy({},"".concat(qp,"-right"),ve(r)&&t&&ve(t.x)&&r>=t.x),"".concat(qp,"-left"),ve(r)&&t&&ve(t.x)&&r<t.x),"".concat(qp,"-bottom"),ve(n)&&t&&ve(t.y)&&n>=t.y),"".concat(qp,"-top"),ve(n)&&t&&ve(t.y)&&n<t.y))}function WD(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,a=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&ve(s[n]))return s[n];var d=r[n]-l-i,f=r[n]+i;if(t[n])return a[n]?d:f;if(a[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function q2e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function G2e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,a=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return a.height>0&&a.width>0&&r?(d=WD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=WD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=q2e({translateX:d,translateY:f,useTranslate3d:l})):u=V2e,{cssProperties:u,cssClasses:H2e({translateX:d,translateY:f,coordinate:r})}}function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){pC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pG(n.key),n)}}function J2e(e,t,r){return t&&Y2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X2e(e,t,r){return t=x0(t),Q2e(e,hG()?Reflect.construct(t,r||[],x0(e).constructor):t.apply(e,r))}function Q2e(e,t){if(t&&(dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z2e(e)}function Z2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hG=function(){return!!e})()}function x0(e){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x0(e)}function eMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hC(e,t)}function hC(e,t){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hC(e,t)}function pC(e,t,r){return t=pG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=tMe(e,"string");return dh(t)=="symbol"?t:t+""}function tMe(e,t){if(dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qD=1,rMe=function(e){function t(){var r;K2e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=X2e(this,t,[].concat(i)),pC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pC(r,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return eMe(t,e),J2e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>qD||Math.abs(n.height-this.state.lastBoundingBox.height)>qD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,w=G2e({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=w.cssClasses,N=w.cssProperties,j=HD(HD({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return T.createElement("div",{tabIndex:-1,className:_,style:j,ref:function(C){n.wrapperNode=C}},u)}}])}(y.PureComponent),nMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wc={isSsr:nMe()};function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(n){QT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gG(n.key),n)}}function aMe(e,t,r){return t&&sMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oMe(e,t,r){return t=b0(t),lMe(e,mG()?Reflect.construct(t,r||[],b0(e).constructor):t.apply(e,r))}function lMe(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cMe(e)}function cMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mG=function(){return!!e})()}function b0(e){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b0(e)}function uMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mC(e,t)}function mC(e,t){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mC(e,t)}function QT(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=dMe(e,"string");return fh(t)=="symbol"?t:t+""}function dMe(e,t){if(fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fMe(e){return e.dataKey}function hMe(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(U2e,t)}var Li=function(e){function t(){return iMe(this,t),oMe(this,t,arguments)}return uMe(t,e),aMe(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,N=g??[];f&&N.length&&(N=sG(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,fMe));var j=N.length>0;return T.createElement(rMe,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:j,offset:p,position:v,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:_},hMe(u,KD(KD({},this.props),{},{payload:N})))}}])}(y.PureComponent);QT(Li,"displayName","Tooltip");QT(Li,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pMe=io,mMe=function(){return pMe.Date.now()},gMe=mMe,vMe=/\s/;function yMe(e){for(var t=e.length;t--&&vMe.test(e.charAt(t)););return t}var xMe=yMe,bMe=xMe,wMe=/^\s+/;function _Me(e){return e&&e.slice(0,bMe(e)+1).replace(wMe,"")}var jMe=_Me,SMe=jMe,YD=bc,NMe=ap,JD=NaN,kMe=/^[-+]0x[0-9a-f]+$/i,CMe=/^0b[01]+$/i,OMe=/^0o[0-7]+$/i,EMe=parseInt;function PMe(e){if(typeof e=="number")return e;if(NMe(e))return JD;if(YD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=YD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=SMe(e);var r=CMe.test(e);return r||OMe.test(e)?EMe(e.slice(2),r?2:8):kMe.test(e)?JD:+e}var vG=PMe,TMe=bc,cS=gMe,XD=vG,AMe="Expected a function",MMe=Math.max,IMe=Math.min;function RMe(e,t,r){var n,i,s,a,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(AMe);t=XD(t)||0,TMe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?MMe(XD(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(j){var k=n,C=i;return n=i=void 0,u=j,a=e.apply(C,k),a}function g(j){return u=j,l=setTimeout(b,t),d?p(j):a}function m(j){var k=j-c,C=j-u,P=t-k;return f?IMe(P,s-C):P}function v(j){var k=j-c,C=j-u;return c===void 0||k>=t||k<0||f&&C>=s}function b(){var j=cS();if(v(j))return x(j);l=setTimeout(b,m(j))}function x(j){return l=void 0,h&&n?p(j):(n=i=void 0,a)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function _(){return l===void 0?a:x(cS())}function N(){var j=cS(),k=v(j);if(n=arguments,i=this,c=j,k){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),a}return N.cancel=w,N.flush=_,N}var $Me=RMe,DMe=$Me,LMe=bc,FMe="Expected a function";function BMe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(FMe);return LMe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),DMe(e,t,{leading:n,maxWait:t,trailing:i})}var UMe=BMe;const yG=kt(UMe);function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){zMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zMe(e,t,r){return t=WMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WMe(e){var t=VMe(e,"string");return Ag(t)=="symbol"?t:t+""}function VMe(e,t){if(Ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HMe(e,t){return YMe(e)||KMe(e,t)||GMe(e,t)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GMe(e,t){if(e){if(typeof e=="string")return ZD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZD(e,t)}}function ZD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function YMe(e){if(Array.isArray(e))return e}var Z_=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,a=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,b=e.className,x=e.onResize,w=e.style,_=w===void 0?{}:w,N=y.useRef(null),j=y.useRef();j.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var k=y.useState({containerWidth:i.width,containerHeight:i.height}),C=HMe(k,2),P=C[0],A=C[1],I=y.useCallback(function(z,L){A(function(W){var F=Math.round(z),D=Math.round(L);return W.containerWidth===F&&W.containerHeight===D?W:{containerWidth:F,containerHeight:D}})},[]);y.useEffect(function(){var z=function(B){var K,ee=B[0].contentRect,te=ee.width,S=ee.height;I(te,S),(K=j.current)===null||K===void 0||K.call(j,te,S)};m>0&&(z=yG(z,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(z),W=N.current.getBoundingClientRect(),F=W.width,D=W.height;return I(F,D),L.observe(N.current),function(){L.disconnect()}},[I,m]);var M=y.useMemo(function(){var z=P.containerWidth,L=P.containerHeight;if(z<0||L<0)return null;na(iu(a)||iu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),na(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=iu(a)?z:a,F=iu(c)?L:c;r&&r>0&&(W?F=W/r:F&&(W=F*r),h&&F>h&&(F=h)),na(W>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,F,a,c,d,f,r);var D=!Array.isArray(p)&&Mo(p.type).endsWith("Chart");return T.Children.map(p,function(R){return T.isValidElement(R)?y.cloneElement(R,Ky({width:W,height:F},D?{style:Ky({height:"100%",width:"100%",maxHeight:F,maxWidth:W},R.props.style)}:{})):R})},[r,p,c,h,f,d,P,a]);return T.createElement("div",{id:v?"".concat(v):void 0,className:ut("recharts-responsive-container",b),style:Ky(Ky({},_),{},{width:a,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},M)}),qv=function(t){return null};qv.displayName="Cell";function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){JMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JMe(e,t,r){return t=XMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XMe(e){var t=QMe(e,"string");return Mg(t)=="symbol"?t:t+""}function QMe(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Od={widthCache:{},cacheCount:0},ZMe=2e3,eIe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t4="recharts_measurement_span";function tIe(e){var t=gC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Pm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wc.isSsr)return{width:0,height:0};var n=tIe(r),i=JSON.stringify({text:t,copyStyle:n});if(Od.widthCache[i])return Od.widthCache[i];try{var s=document.getElementById(t4);s||(s=document.createElement("span"),s.setAttribute("id",t4),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=gC(gC({},eIe),n);Object.assign(s.style,a),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Od.widthCache[i]=c,++Od.cacheCount>ZMe&&(Od.cacheCount=0,Od.widthCache={}),c}catch{return{width:0,height:0}}},rIe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function w0(e,t){return aIe(e)||sIe(e,t)||iIe(e,t)||nIe()}function nIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iIe(e,t){if(e){if(typeof e=="string")return r4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r4(e,t)}}function r4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function aIe(e){if(Array.isArray(e))return e}function oIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cIe(n.key),n)}}function lIe(e,t,r){return t&&n4(e.prototype,t),r&&n4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cIe(e){var t=uIe(e,"string");return Ig(t)=="symbol"?t:t+""}function uIe(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hIe=Object.keys(xG),rf="NaN";function pIe(e,t){return e*xG[t]}var Yy=function(){function e(t,r){oIe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!dIe.test(r)&&(this.num=NaN,this.unit=""),hIe.includes(r)&&(this.num=pIe(t,r),this.unit="px")}return lIe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=fIe.exec(r))!==null&&n!==void 0?n:[],s=w0(i,3),a=s[1],l=s[2];return new e(parseFloat(a),l??"")}}])}();function bG(e){if(e.includes(rf))return rf;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=i4.exec(t))!==null&&r!==void 0?r:[],i=w0(n,4),s=i[1],a=i[2],l=i[3],c=Yy.parse(s??""),u=Yy.parse(l??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return rf;t=t.replace(i4,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=s4.exec(t))!==null&&f!==void 0?f:[],p=w0(h,4),g=p[1],m=p[2],v=p[3],b=Yy.parse(g??""),x=Yy.parse(v??""),w=m==="+"?b.add(x):b.subtract(x);if(w.isNaN())return rf;t=t.replace(s4,w.toString())}return t}var a4=/\(([^()]*)\)/;function mIe(e){for(var t=e;t.includes("(");){var r=a4.exec(t),n=w0(r,2),i=n[1];t=t.replace(a4,bG(i))}return t}function gIe(e){var t=e.replace(/\s+/g,"");return t=mIe(t),t=bG(t),t}function vIe(e){try{return gIe(e)}catch{return rf}}function uS(e){var t=vIe(e.slice(5,-1));return t===rf?"":t}var yIe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xIe=["dx","dy","angle","className","breakAll"];function vC(){return vC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vC.apply(this,arguments)}function o4(e,t){if(e==null)return{};var r=bIe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function l4(e,t){return SIe(e)||jIe(e,t)||_Ie(e,t)||wIe()}function wIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ie(e,t){if(e){if(typeof e=="string")return c4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c4(e,t)}}function c4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function SIe(e){if(Array.isArray(e))return e}var wG=/[ \f\n\r\t\v\u2028\u2029]+/,_G=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];ct(r)||(n?s=r.toString().split(""):s=r.toString().split(wG));var a=s.map(function(c){return{word:c,width:Pm(c,i).width}}),l=n?0:Pm("",i).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},NIe=function(t,r,n,i,s){var a=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ve(a),f=l,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(F,D){var R=D.word,B=D.width,K=F[F.length-1];if(K&&(i==null||s||K.width+B+n<Number(i)))K.words.push(R),K.width+=B+n;else{var ee={words:[R],width:B};F.push(ee)}return F},[])},p=h(r),g=function(W){return W.reduce(function(F,D){return F.width>D.width?F:D})};if(!d)return p;for(var m="",v=function(W){var F=f.slice(0,W),D=_G({breakAll:u,style:c,children:F+m}).wordsWithComputedWidth,R=h(D),B=R.length>a||g(R).width>Number(i);return[B,R]},b=0,x=f.length-1,w=0,_;b<=x&&w<=f.length-1;){var N=Math.floor((b+x)/2),j=N-1,k=v(j),C=l4(k,2),P=C[0],A=C[1],I=v(N),M=l4(I,1),z=M[0];if(!P&&!z&&(b=N+1),P&&z&&(x=N-1),!P&&z){_=A;break}w++}return _||p},u4=function(t){var r=ct(t)?[]:t.toString().split(wG);return[{words:r}]},kIe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,a=t.breakAll,l=t.maxLines;if((r||n)&&!wc.isSsr){var c,u,d=_G({breakAll:a,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return u4(i);return NIe({breakAll:a,children:i,maxLines:l,style:s},c,u,r,n)}return u4(i)},d4="#808080",Wu=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,a=t.lineHeight,l=a===void 0?"1em":a,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,b=v===void 0?d4:v,x=o4(t,yIe),w=y.useMemo(function(){return kIe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,N=x.dy,j=x.angle,k=x.className,C=x.breakAll,P=o4(x,xIe);if(!tn(n)||!tn(s))return null;var A=n+(ve(_)?_:0),I=s+(ve(N)?N:0),M;switch(m){case"start":M=uS("calc(".concat(u,")"));break;case"middle":M=uS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=uS("calc(".concat(w.length-1," * -").concat(l,")"));break}var z=[];if(f){var L=w[0].width,W=x.width;z.push("scale(".concat((ve(W)?W/L:1)/L,")"))}return j&&z.push("rotate(".concat(j,", ").concat(A,", ").concat(I,")")),z.length&&(P.transform=z.join(" ")),T.createElement("text",vC({},ze(P,!0),{x:A,y:I,className:ut("recharts-text",k),textAnchor:p,fill:b.includes("url")?d4:b}),w.map(function(F,D){var R=F.words.join(C?"":" ");return T.createElement("tspan",{x:A,dy:D===0?M:l,key:"".concat(R,"-").concat(D)},R)}))};function Ql(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CIe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZT(e){let t,r,n;e.length!==2?(t=Ql,r=(l,c)=>Ql(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ql||e===CIe?e:OIe,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function OIe(){return 0}function jG(e){return e===null?NaN:+e}function*EIe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const PIe=ZT(Ql),Gv=PIe.right;ZT(jG).center;class f4 extends Map{constructor(t,r=MIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(h4(this,t))}has(t){return super.has(h4(this,t))}set(t,r){return super.set(TIe(this,t),r)}delete(t){return super.delete(AIe(this,t))}}function h4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function TIe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function AIe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function MIe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IIe(e=Ql){if(e===Ql)return SG;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function SG(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const RIe=Math.sqrt(50),$Ie=Math.sqrt(10),DIe=Math.sqrt(2);function _0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=RIe?10:s>=$Ie?5:s>=DIe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?_0(e,t,r*2):[l,c,u]}function yC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?_0(t,e,r):_0(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function xC(e,t,r){return t=+t,e=+e,r=+r,_0(e,t,r)[2]}function bC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?xC(t,e,r):xC(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function p4(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function m4(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function NG(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?SG:IIe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));NG(e,t,p,g,i)}const s=e[t];let a=r,l=n;for(Gp(e,r,t),i(e[n],s)>0&&Gp(e,r,n);a<l;){for(Gp(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Gp(e,r,l):(++l,Gp(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Gp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function LIe(e,t,r){if(e=Float64Array.from(EIe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return m4(e);if(t>=1)return p4(e);var n,i=(n-1)*t,s=Math.floor(i),a=p4(NG(e,s).subarray(0,s+1)),l=m4(e.subarray(s+1));return a+(l-a)*(i-s)}}function FIe(e,t,r=jG){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function BIe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Cs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function sl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wC=Symbol("implicit");function eA(){var e=new f4,t=[],r=[],n=wC;function i(s){let a=e.get(s);if(a===void 0){if(n!==wC)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new f4;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return eA(t,r).unknown(n)},Cs.apply(i,arguments),i}function Rg(){var e=eA().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,g=p?i:n,m=p?n:i;s=(m-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(m-g-s*(h-c))*d,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var v=BIe(h).map(function(b){return g+s*b});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Rg(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Cs.apply(f(),arguments)}function kG(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kG(t())},e}function Tm(){return kG(Rg.apply(null,arguments).paddingInner(1))}function tA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CG(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Kv(){}var $g=.7,j0=1/$g,Sf="\\s*([+-]?\\d+)\\s*",Dg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UIe=/^#([0-9a-f]{3,8})$/,zIe=new RegExp(`^rgb\\(${Sf},${Sf},${Sf}\\)$`),WIe=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),VIe=new RegExp(`^rgba\\(${Sf},${Sf},${Sf},${Dg}\\)$`),HIe=new RegExp(`^rgba\\(${qa},${qa},${qa},${Dg}\\)$`),qIe=new RegExp(`^hsl\\(${Dg},${qa},${qa}\\)$`),GIe=new RegExp(`^hsla\\(${Dg},${qa},${qa},${Dg}\\)$`),g4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tA(Kv,Lg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:v4,formatHex:v4,formatHex8:KIe,formatHsl:YIe,formatRgb:y4,toString:y4});function v4(){return this.rgb().formatHex()}function KIe(){return this.rgb().formatHex8()}function YIe(){return OG(this).formatHsl()}function y4(){return this.rgb().formatRgb()}function Lg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=UIe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?x4(t):r===3?new xi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Jy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Jy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zIe.exec(e))?new xi(t[1],t[2],t[3],1):(t=WIe.exec(e))?new xi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VIe.exec(e))?Jy(t[1],t[2],t[3],t[4]):(t=HIe.exec(e))?Jy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qIe.exec(e))?_4(t[1],t[2]/100,t[3]/100,1):(t=GIe.exec(e))?_4(t[1],t[2]/100,t[3]/100,t[4]):g4.hasOwnProperty(e)?x4(g4[e]):e==="transparent"?new xi(NaN,NaN,NaN,0):null}function x4(e){return new xi(e>>16&255,e>>8&255,e&255,1)}function Jy(e,t,r,n){return n<=0&&(e=t=r=NaN),new xi(e,t,r,n)}function JIe(e){return e instanceof Kv||(e=Lg(e)),e?(e=e.rgb(),new xi(e.r,e.g,e.b,e.opacity)):new xi}function _C(e,t,r,n){return arguments.length===1?JIe(e):new xi(e,t,r,n??1)}function xi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tA(xi,_C,CG(Kv,{brighter(e){return e=e==null?j0:Math.pow(j0,e),new xi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$g:Math.pow($g,e),new xi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xi(wu(this.r),wu(this.g),wu(this.b),S0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b4,formatHex:b4,formatHex8:XIe,formatRgb:w4,toString:w4}));function b4(){return`#${su(this.r)}${su(this.g)}${su(this.b)}`}function XIe(){return`#${su(this.r)}${su(this.g)}${su(this.b)}${su((isNaN(this.opacity)?1:this.opacity)*255)}`}function w4(){const e=S0(this.opacity);return`${e===1?"rgb(":"rgba("}${wu(this.r)}, ${wu(this.g)}, ${wu(this.b)}${e===1?")":`, ${e})`}`}function S0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function su(e){return e=wu(e),(e<16?"0":"")+e.toString(16)}function _4(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Js(e,t,r,n)}function OG(e){if(e instanceof Js)return new Js(e.h,e.s,e.l,e.opacity);if(e instanceof Kv||(e=Lg(e)),!e)return new Js;if(e instanceof Js)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Js(a,l,c,e.opacity)}function QIe(e,t,r,n){return arguments.length===1?OG(e):new Js(e,t,r,n??1)}function Js(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tA(Js,QIe,CG(Kv,{brighter(e){return e=e==null?j0:Math.pow(j0,e),new Js(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$g:Math.pow($g,e),new Js(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new xi(dS(e>=240?e-240:e+120,i,n),dS(e,i,n),dS(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Js(j4(this.h),Xy(this.s),Xy(this.l),S0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=S0(this.opacity);return`${e===1?"hsl(":"hsla("}${j4(this.h)}, ${Xy(this.s)*100}%, ${Xy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function j4(e){return e=(e||0)%360,e<0?e+360:e}function Xy(e){return Math.max(0,Math.min(1,e||0))}function dS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rA=e=>()=>e;function ZIe(e,t){return function(r){return e+r*t}}function eRe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function tRe(e){return(e=+e)==1?EG:function(t,r){return r-t?eRe(t,r,e):rA(isNaN(t)?r:t)}}function EG(e,t){var r=t-e;return r?ZIe(e,r):rA(isNaN(e)?t:e)}const S4=function e(t){var r=tRe(t);function n(i,s){var a=r((i=_C(i)).r,(s=_C(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=EG(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function rRe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function nRe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iRe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=mp(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function sRe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function N0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function aRe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=mp(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var jC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fS=new RegExp(jC.source,"g");function oRe(e){return function(){return e}}function lRe(e){return function(t){return e(t)+""}}function cRe(e,t){var r=jC.lastIndex=fS.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=jC.exec(e))&&(i=fS.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:N0(n,i)})),r=fS.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?lRe(c[0].x):oRe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function mp(e,t){var r=typeof t,n;return t==null||r==="boolean"?rA(t):(r==="number"?N0:r==="string"?(n=Lg(t))?(t=n,S4):cRe:t instanceof Lg?S4:t instanceof Date?sRe:nRe(t)?rRe:Array.isArray(t)?iRe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?aRe:N0)(e,t)}function nA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function uRe(e,t){t===void 0&&(t=e,e=mp);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function dRe(e){return function(){return e}}function k0(e){return+e}var N4=[0,1];function ti(e){return e}function SC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dRe(isNaN(t)?NaN:.5)}function fRe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function hRe(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=SC(i,n),s=r(a,s)):(n=SC(n,i),s=r(s,a)),function(l){return s(n(l))}}function pRe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=SC(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=Gv(e,l,1,n)-1;return s[c](i[c](l))}}function Yv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ej(){var e=N4,t=N4,r=mp,n,i,s,a=ti,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==ti&&(a=fRe(e[0],e[h-1])),l=h>2?pRe:hRe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(t,e.map(n),N0)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,k0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=nA,d()},f.clamp=function(h){return arguments.length?(a=h?!0:ti,d()):a!==ti},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,i=p,d()}}function iA(){return ej()(ti,ti)}function mRe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function C0(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function hh(e){return e=C0(Math.abs(e)),e?e[1]:NaN}function gRe(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function vRe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yRe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fg(e){if(!(t=yRe.exec(e)))throw new Error("invalid format: "+e);var t;return new sA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Fg.prototype=sA.prototype;function sA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xRe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var O0;function bRe(e,t){var r=C0(e,t);if(!r)return O0=void 0,e.toPrecision(t);var n=r[0],i=r[1],s=i-(O0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+C0(e,Math.max(0,t+s-1))[0]}function k4(e,t){var r=C0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const C4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mRe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>k4(e*100,t),r:k4,s:bRe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function O4(e){return e}var E4=Array.prototype.map,P4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wRe(e){var t=e.grouping===void 0||e.thousands===void 0?O4:gRe(E4.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?O4:vRe(E4.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Fg(f);var p=f.fill,g=f.align,m=f.sign,v=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,N=f.trim,j=f.type;j==="n"?(w=!0,j="g"):C4[j]||(_===void 0&&(_=12),N=!0,j="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),C=(v==="$"?n:/[%p]/.test(j)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),P=C4[j],A=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(M){var z=k,L=C,W,F,D;if(j==="c")L=P(M)+L,M="";else{M=+M;var R=M<0||1/M<0;if(M=isNaN(M)?c:P(Math.abs(M),_),N&&(M=xRe(M)),R&&+M==0&&m!=="+"&&(R=!1),z=(R?m==="("?m:l:m==="-"||m==="("?"":m)+z,L=(j==="s"&&!isNaN(M)&&O0!==void 0?P4[8+O0/3]:"")+L+(R&&m==="("?")":""),A){for(W=-1,F=M.length;++W<F;)if(D=M.charCodeAt(W),48>D||D>57){L=(D===46?i+M.slice(W+1):M.slice(W))+L,M=M.slice(0,W);break}}}w&&!b&&(M=t(M,1/0));var B=z.length+M.length+L.length,K=B<x?new Array(x-B+1).join(p):"";switch(w&&b&&(M=t(K+M,K.length?x-L.length:1/0),K=""),g){case"<":M=z+M+L+K;break;case"=":M=z+K+M+L;break;case"^":M=K.slice(0,B=K.length>>1)+z+M+L+K.slice(B);break;default:M=K+z+M+L;break}return s(M)}return I.toString=function(){return f+""},I}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(hh(h)/3)))*3,g=Math.pow(10,-p),m=u((f=Fg(f),f.type="f",f),{suffix:P4[8+p/3]});return function(v){return m(g*v)}}return{format:u,formatPrefix:d}}var Qy,aA,PG;_Re({thousands:",",grouping:[3],currency:["$",""]});function _Re(e){return Qy=wRe(e),aA=Qy.format,PG=Qy.formatPrefix,Qy}function jRe(e){return Math.max(0,-hh(Math.abs(e)))}function SRe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hh(t)/3)))*3-hh(Math.abs(e)))}function NRe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hh(t)-hh(e))+1}function TG(e,t,r,n){var i=bC(e,t,r),s;switch(n=Fg(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=SRe(i,a))&&(n.precision=s),PG(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=NRe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=jRe(i))&&(n.precision=s-(n.type==="%")*2);break}}return aA(n)}function _c(e){var t=e.domain;return e.ticks=function(r){var n=t();return yC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return TG(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=xC(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function E0(){var e=iA();return e.copy=function(){return Yv(e,E0())},Cs.apply(e,arguments),_c(e)}function AG(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,k0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return AG(e).unknown(t)},e=arguments.length?Array.from(e,k0):[0,1],_c(r)}function MG(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function T4(e){return Math.log(e)}function A4(e){return Math.exp(e)}function kRe(e){return-Math.log(-e)}function CRe(e){return-Math.exp(-e)}function ORe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ERe(e){return e===10?ORe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PRe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function M4(e){return(t,r)=>-e(-t,r)}function oA(e){const t=e(T4,A4),r=t.domain;let n=10,i,s;function a(){return i=PRe(n),s=ERe(n),r()[0]<0?(i=M4(i),s=M4(s),e(kRe,CRe)):e(T4,A4),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),g,m;const v=l==null?10:+l;let b=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/s(-h):g*s(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<v&&(b=yC(u,d,v))}else b=yC(h,p,Math.min(p-h,v)).map(s);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Fg(c)).precision==null&&(c.trim=!0),c=aA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(MG(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function IG(){const e=oA(ej()).domain([1,10]);return e.copy=()=>Yv(e,IG()).base(e.base()),Cs.apply(e,arguments),e}function I4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function R4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lA(e){var t=1,r=e(I4(t),R4(t));return r.constant=function(n){return arguments.length?e(I4(t=+n),R4(t)):t},_c(r)}function RG(){var e=lA(ej());return e.copy=function(){return Yv(e,RG()).constant(e.constant())},Cs.apply(e,arguments)}function $4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TRe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ARe(e){return e<0?-e*e:e*e}function cA(e){var t=e(ti,ti),r=1;function n(){return r===1?e(ti,ti):r===.5?e(TRe,ARe):e($4(r),$4(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},_c(t)}function uA(){var e=cA(ej());return e.copy=function(){return Yv(e,uA()).exponent(e.exponent())},Cs.apply(e,arguments),e}function MRe(){return uA.apply(null,arguments).exponent(.5)}function D4(e){return Math.sign(e)*e*e}function IRe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $G(){var e=iA(),t=[0,1],r=!1,n;function i(s){var a=IRe(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(D4(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,k0)).map(D4)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return $G(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Cs.apply(i,arguments),_c(i)}function DG(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=FIe(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[Gv(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ql),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return DG().domain(e).range(t).unknown(n)},Cs.apply(s,arguments)}function LG(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Gv(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return LG().domain([e,t]).range(i).unknown(s)},Cs.apply(_c(a),arguments)}function FG(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Gv(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return FG().domain(e).range(t).unknown(r)},Cs.apply(i,arguments)}const hS=new Date,pS=new Date;function sn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>sn(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(hS.setTime(+s),pS.setTime(+a),e(hS),e(pS),Math.floor(r(hS,pS))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const P0=sn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);P0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):P0);P0.range;const ko=1e3,ps=ko*60,Co=ps*60,Ko=Co*24,dA=Ko*7,L4=Ko*30,mS=Ko*365,au=sn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ko)},(e,t)=>(t-e)/ko,e=>e.getUTCSeconds());au.range;const fA=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ko)},(e,t)=>{e.setTime(+e+t*ps)},(e,t)=>(t-e)/ps,e=>e.getMinutes());fA.range;const hA=sn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ps)},(e,t)=>(t-e)/ps,e=>e.getUTCMinutes());hA.range;const pA=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ko-e.getMinutes()*ps)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getHours());pA.range;const mA=sn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Co)},(e,t)=>(t-e)/Co,e=>e.getUTCHours());mA.range;const Jv=sn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ps)/Ko,e=>e.getDate()-1);Jv.range;const tj=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ko,e=>e.getUTCDate()-1);tj.range;const BG=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ko,e=>Math.floor(e/Ko));BG.range;function od(e){return sn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ps)/dA)}const rj=od(0),T0=od(1),RRe=od(2),$Re=od(3),ph=od(4),DRe=od(5),LRe=od(6);rj.range;T0.range;RRe.range;$Re.range;ph.range;DRe.range;LRe.range;function ld(e){return sn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dA)}const nj=ld(0),A0=ld(1),FRe=ld(2),BRe=ld(3),mh=ld(4),URe=ld(5),zRe=ld(6);nj.range;A0.range;FRe.range;BRe.range;mh.range;URe.range;zRe.range;const gA=sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gA.range;const vA=sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vA.range;const Yo=sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Yo.range;const Jo=sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Jo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Jo.range;function UG(e,t,r,n,i,s){const a=[[au,1,ko],[au,5,5*ko],[au,15,15*ko],[au,30,30*ko],[s,1,ps],[s,5,5*ps],[s,15,15*ps],[s,30,30*ps],[i,1,Co],[i,3,3*Co],[i,6,6*Co],[i,12,12*Co],[n,1,Ko],[n,2,2*Ko],[r,1,dA],[t,1,L4],[t,3,3*L4],[e,1,mS]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=ZT(([,,v])=>v).right(a,h);if(p===a.length)return e.every(bC(u/mS,d/mS,f));if(p===0)return P0.every(Math.max(bC(u,d,f),1));const[g,m]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[WRe,VRe]=UG(Jo,vA,nj,BG,mA,hA),[HRe,qRe]=UG(Yo,gA,rj,Jv,pA,fA);function gS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GRe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=Yp(i),d=Jp(i),f=Yp(s),h=Jp(s),p=Yp(a),g=Jp(a),m=Yp(l),v=Jp(l),b=Yp(c),x=Jp(c),w={a:D,A:R,b:B,B:K,c:null,d:V4,e:V4,f:g$e,g:k$e,G:O$e,H:h$e,I:p$e,j:m$e,L:zG,m:v$e,M:y$e,p:ee,q:te,Q:G4,s:K4,S:x$e,u:b$e,U:w$e,V:_$e,w:j$e,W:S$e,x:null,X:null,y:N$e,Y:C$e,Z:E$e,"%":q4},_={a:S,A:O,b:E,B:U,c:null,d:H4,e:H4,f:M$e,g:W$e,G:H$e,H:P$e,I:T$e,j:A$e,L:VG,m:I$e,M:R$e,p:$,q:G,Q:G4,s:K4,S:$$e,u:D$e,U:L$e,V:F$e,w:B$e,W:U$e,x:null,X:null,y:z$e,Y:V$e,Z:q$e,"%":q4},N={a:A,A:I,b:M,B:z,c:L,d:z4,e:z4,f:c$e,g:U4,G:B4,H:W4,I:W4,j:s$e,L:l$e,m:i$e,M:a$e,p:P,q:n$e,Q:d$e,s:f$e,S:o$e,u:QRe,U:ZRe,V:e$e,w:XRe,W:t$e,x:W,X:F,y:U4,Y:B4,Z:r$e,"%":u$e};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(V,q){return function(X){var Y=[],pe=-1,Ne=0,Ke=V.length,Ve,He,bt;for(X instanceof Date||(X=new Date(+X));++pe<Ke;)V.charCodeAt(pe)===37&&(Y.push(V.slice(Ne,pe)),(He=F4[Ve=V.charAt(++pe)])!=null?Ve=V.charAt(++pe):He=Ve==="e"?" ":"0",(bt=q[Ve])&&(Ve=bt(X,He)),Y.push(Ve),Ne=pe+1);return Y.push(V.slice(Ne,pe)),Y.join("")}}function k(V,q){return function(X){var Y=Kp(1900,void 0,1),pe=C(Y,V,X+="",0),Ne,Ke;if(pe!=X.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(q&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ne=vS(Kp(Y.y,0,1)),Ke=Ne.getUTCDay(),Ne=Ke>4||Ke===0?A0.ceil(Ne):A0(Ne),Ne=tj.offset(Ne,(Y.V-1)*7),Y.y=Ne.getUTCFullYear(),Y.m=Ne.getUTCMonth(),Y.d=Ne.getUTCDate()+(Y.w+6)%7):(Ne=gS(Kp(Y.y,0,1)),Ke=Ne.getDay(),Ne=Ke>4||Ke===0?T0.ceil(Ne):T0(Ne),Ne=Jv.offset(Ne,(Y.V-1)*7),Y.y=Ne.getFullYear(),Y.m=Ne.getMonth(),Y.d=Ne.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Ke="Z"in Y?vS(Kp(Y.y,0,1)).getUTCDay():gS(Kp(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Ke+5)%7:Y.w+Y.U*7-(Ke+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,vS(Y)):gS(Y)}}function C(V,q,X,Y){for(var pe=0,Ne=q.length,Ke=X.length,Ve,He;pe<Ne;){if(Y>=Ke)return-1;if(Ve=q.charCodeAt(pe++),Ve===37){if(Ve=q.charAt(pe++),He=N[Ve in F4?q.charAt(pe++):Ve],!He||(Y=He(V,X,Y))<0)return-1}else if(Ve!=X.charCodeAt(Y++))return-1}return Y}function P(V,q,X){var Y=u.exec(q.slice(X));return Y?(V.p=d.get(Y[0].toLowerCase()),X+Y[0].length):-1}function A(V,q,X){var Y=p.exec(q.slice(X));return Y?(V.w=g.get(Y[0].toLowerCase()),X+Y[0].length):-1}function I(V,q,X){var Y=f.exec(q.slice(X));return Y?(V.w=h.get(Y[0].toLowerCase()),X+Y[0].length):-1}function M(V,q,X){var Y=b.exec(q.slice(X));return Y?(V.m=x.get(Y[0].toLowerCase()),X+Y[0].length):-1}function z(V,q,X){var Y=m.exec(q.slice(X));return Y?(V.m=v.get(Y[0].toLowerCase()),X+Y[0].length):-1}function L(V,q,X){return C(V,t,q,X)}function W(V,q,X){return C(V,r,q,X)}function F(V,q,X){return C(V,n,q,X)}function D(V){return a[V.getDay()]}function R(V){return s[V.getDay()]}function B(V){return c[V.getMonth()]}function K(V){return l[V.getMonth()]}function ee(V){return i[+(V.getHours()>=12)]}function te(V){return 1+~~(V.getMonth()/3)}function S(V){return a[V.getUTCDay()]}function O(V){return s[V.getUTCDay()]}function E(V){return c[V.getUTCMonth()]}function U(V){return l[V.getUTCMonth()]}function $(V){return i[+(V.getUTCHours()>=12)]}function G(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var q=j(V+="",w);return q.toString=function(){return V},q},parse:function(V){var q=k(V+="",!1);return q.toString=function(){return V},q},utcFormat:function(V){var q=j(V+="",_);return q.toString=function(){return V},q},utcParse:function(V){var q=k(V+="",!0);return q.toString=function(){return V},q}}}var F4={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,KRe=/^%/,YRe=/[\\^$*+?|[\]().{}]/g;function Mt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function JRe(e){return e.replace(YRe,"\\$&")}function Yp(e){return new RegExp("^(?:"+e.map(JRe).join("|")+")","i")}function Jp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function XRe(e,t,r){var n=gn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QRe(e,t,r){var n=gn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function ZRe(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function e$e(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function t$e(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function B4(e,t,r){var n=gn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function U4(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function r$e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function n$e(e,t,r){var n=gn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function i$e(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function z4(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function s$e(e,t,r){var n=gn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function W4(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function a$e(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function o$e(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function l$e(e,t,r){var n=gn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function c$e(e,t,r){var n=gn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function u$e(e,t,r){var n=KRe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function d$e(e,t,r){var n=gn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function f$e(e,t,r){var n=gn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function V4(e,t){return Mt(e.getDate(),t,2)}function h$e(e,t){return Mt(e.getHours(),t,2)}function p$e(e,t){return Mt(e.getHours()%12||12,t,2)}function m$e(e,t){return Mt(1+Jv.count(Yo(e),e),t,3)}function zG(e,t){return Mt(e.getMilliseconds(),t,3)}function g$e(e,t){return zG(e,t)+"000"}function v$e(e,t){return Mt(e.getMonth()+1,t,2)}function y$e(e,t){return Mt(e.getMinutes(),t,2)}function x$e(e,t){return Mt(e.getSeconds(),t,2)}function b$e(e){var t=e.getDay();return t===0?7:t}function w$e(e,t){return Mt(rj.count(Yo(e)-1,e),t,2)}function WG(e){var t=e.getDay();return t>=4||t===0?ph(e):ph.ceil(e)}function _$e(e,t){return e=WG(e),Mt(ph.count(Yo(e),e)+(Yo(e).getDay()===4),t,2)}function j$e(e){return e.getDay()}function S$e(e,t){return Mt(T0.count(Yo(e)-1,e),t,2)}function N$e(e,t){return Mt(e.getFullYear()%100,t,2)}function k$e(e,t){return e=WG(e),Mt(e.getFullYear()%100,t,2)}function C$e(e,t){return Mt(e.getFullYear()%1e4,t,4)}function O$e(e,t){var r=e.getDay();return e=r>=4||r===0?ph(e):ph.ceil(e),Mt(e.getFullYear()%1e4,t,4)}function E$e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mt(t/60|0,"0",2)+Mt(t%60,"0",2)}function H4(e,t){return Mt(e.getUTCDate(),t,2)}function P$e(e,t){return Mt(e.getUTCHours(),t,2)}function T$e(e,t){return Mt(e.getUTCHours()%12||12,t,2)}function A$e(e,t){return Mt(1+tj.count(Jo(e),e),t,3)}function VG(e,t){return Mt(e.getUTCMilliseconds(),t,3)}function M$e(e,t){return VG(e,t)+"000"}function I$e(e,t){return Mt(e.getUTCMonth()+1,t,2)}function R$e(e,t){return Mt(e.getUTCMinutes(),t,2)}function $$e(e,t){return Mt(e.getUTCSeconds(),t,2)}function D$e(e){var t=e.getUTCDay();return t===0?7:t}function L$e(e,t){return Mt(nj.count(Jo(e)-1,e),t,2)}function HG(e){var t=e.getUTCDay();return t>=4||t===0?mh(e):mh.ceil(e)}function F$e(e,t){return e=HG(e),Mt(mh.count(Jo(e),e)+(Jo(e).getUTCDay()===4),t,2)}function B$e(e){return e.getUTCDay()}function U$e(e,t){return Mt(A0.count(Jo(e)-1,e),t,2)}function z$e(e,t){return Mt(e.getUTCFullYear()%100,t,2)}function W$e(e,t){return e=HG(e),Mt(e.getUTCFullYear()%100,t,2)}function V$e(e,t){return Mt(e.getUTCFullYear()%1e4,t,4)}function H$e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?mh(e):mh.ceil(e),Mt(e.getUTCFullYear()%1e4,t,4)}function q$e(){return"+0000"}function q4(){return"%"}function G4(e){return+e}function K4(e){return Math.floor(+e/1e3)}var Ed,qG,GG;G$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function G$e(e){return Ed=GRe(e),qG=Ed.format,Ed.parse,GG=Ed.utcFormat,Ed.utcParse,Ed}function K$e(e){return new Date(e)}function Y$e(e){return e instanceof Date?+e:+new Date(+e)}function yA(e,t,r,n,i,s,a,l,c,u){var d=iA(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),_=u("%Y");function N(j){return(c(j)<j?p:l(j)<j?g:a(j)<j?m:s(j)<j?v:n(j)<j?i(j)<j?b:x:r(j)<j?w:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,Y$e)):h().map(K$e)},d.ticks=function(j){var k=h();return e(k[0],k[k.length-1],j??10)},d.tickFormat=function(j,k){return k==null?N:u(k)},d.nice=function(j){var k=h();return(!j||typeof j.range!="function")&&(j=t(k[0],k[k.length-1],j??10)),j?h(MG(k,j)):d},d.copy=function(){return Yv(d,yA(e,t,r,n,i,s,a,l,c,u))},d}function J$e(){return Cs.apply(yA(HRe,qRe,Yo,gA,rj,Jv,pA,fA,au,qG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function X$e(){return Cs.apply(yA(WRe,VRe,Jo,vA,nj,tj,mA,hA,au,GG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ij(){var e=0,t=1,r,n,i,s,a=ti,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,a=f(p,g),u):[a(0),a(1)]}}return u.range=d(mp),u.rangeRound=d(nA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function jc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KG(){var e=_c(ij()(ti));return e.copy=function(){return jc(e,KG())},sl.apply(e,arguments)}function YG(){var e=oA(ij()).domain([1,10]);return e.copy=function(){return jc(e,YG()).base(e.base())},sl.apply(e,arguments)}function JG(){var e=lA(ij());return e.copy=function(){return jc(e,JG()).constant(e.constant())},sl.apply(e,arguments)}function xA(){var e=cA(ij());return e.copy=function(){return jc(e,xA()).exponent(e.exponent())},sl.apply(e,arguments)}function Q$e(){return xA.apply(null,arguments).exponent(.5)}function XG(){var e=[],t=ti;function r(n){if(n!=null&&!isNaN(n=+n))return t((Gv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ql),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>LIe(e,s/n))},r.copy=function(){return XG(t).domain(e)},sl.apply(r,arguments)}function sj(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=ti,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-s)*(n*m<n*s?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,u=uRe(m,[b,x,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(mp),p.rangeRound=g(nA),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,i=m(e),s=m(t),a=m(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,p}}function QG(){var e=_c(sj()(ti));return e.copy=function(){return jc(e,QG())},sl.apply(e,arguments)}function ZG(){var e=oA(sj()).domain([.1,1,10]);return e.copy=function(){return jc(e,ZG()).base(e.base())},sl.apply(e,arguments)}function eK(){var e=lA(sj());return e.copy=function(){return jc(e,eK()).constant(e.constant())},sl.apply(e,arguments)}function bA(){var e=cA(sj());return e.copy=function(){return jc(e,bA()).exponent(e.exponent())},sl.apply(e,arguments)}function Z$e(){return bA.apply(null,arguments).exponent(.5)}const Y4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rg,scaleDiverging:QG,scaleDivergingLog:ZG,scaleDivergingPow:bA,scaleDivergingSqrt:Z$e,scaleDivergingSymlog:eK,scaleIdentity:AG,scaleImplicit:wC,scaleLinear:E0,scaleLog:IG,scaleOrdinal:eA,scalePoint:Tm,scalePow:uA,scaleQuantile:DG,scaleQuantize:LG,scaleRadial:$G,scaleSequential:KG,scaleSequentialLog:YG,scaleSequentialPow:xA,scaleSequentialQuantile:XG,scaleSequentialSqrt:Q$e,scaleSequentialSymlog:JG,scaleSqrt:MRe,scaleSymlog:RG,scaleThreshold:FG,scaleTime:J$e,scaleUtc:X$e,tickFormat:TG},Symbol.toStringTag,{value:"Module"}));var eDe=ap;function tDe(e,t,r){for(var n=-1,i=e.length;++n<i;){var s=e[n],a=t(s);if(a!=null&&(l===void 0?a===a&&!eDe(a):r(a,l)))var l=a,c=s}return c}var aj=tDe;function rDe(e,t){return e>t}var tK=rDe,nDe=aj,iDe=tK,sDe=pp;function aDe(e){return e&&e.length?nDe(e,sDe,iDe):void 0}var oDe=aDe;const Bl=kt(oDe);function lDe(e,t){return e<t}var rK=lDe,cDe=aj,uDe=rK,dDe=pp;function fDe(e){return e&&e.length?cDe(e,dDe,uDe):void 0}var hDe=fDe;const oj=kt(hDe);var pDe=IT,mDe=so,gDe=dG,vDe=ki;function yDe(e,t){var r=vDe(e)?pDe:gDe;return r(e,mDe(t))}var xDe=yDe,bDe=cG,wDe=xDe;function _De(e,t){return bDe(wDe(e,t),1)}var jDe=_De;const SDe=kt(jDe);var NDe=YT;function kDe(e,t){return NDe(e,t)}var CDe=kDe;const Vu=kt(CDe);var gp=1e9,ODe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_A,wr=!0,_s="[DecimalError] ",_u=_s+"Invalid argument: ",wA=_s+"Exponent out of range: ",vp=Math.floor,Gc=Math.pow,EDe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wi,cn=1e7,lr=7,nK=9007199254740991,M0=vp(nK/lr),$e={};$e.absoluteValue=$e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};$e.comparedTo=$e.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};$e.decimalPlaces=$e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*lr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};$e.dividedBy=$e.div=function(e){return Ro(this,new this.constructor(e))};$e.dividedToIntegerBy=$e.idiv=function(e){var t=this,r=t.constructor;return Kt(Ro(t,new r(e),0,1),r.precision)};$e.equals=$e.eq=function(e){return!this.cmp(e)};$e.exponent=function(){return Gr(this)};$e.greaterThan=$e.gt=function(e){return this.cmp(e)>0};$e.greaterThanOrEqualTo=$e.gte=function(e){return this.cmp(e)>=0};$e.isInteger=$e.isint=function(){return this.e>this.d.length-2};$e.isNegative=$e.isneg=function(){return this.s<0};$e.isPositive=$e.ispos=function(){return this.s>0};$e.isZero=function(){return this.s===0};$e.lessThan=$e.lt=function(e){return this.cmp(e)<0};$e.lessThanOrEqualTo=$e.lte=function(e){return this.cmp(e)<1};$e.logarithm=$e.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Wi))throw Error(_s+"NaN");if(r.s<1)throw Error(_s+(r.s?"NaN":"-Infinity"));return r.eq(Wi)?new n(0):(wr=!1,t=Ro(Bg(r,s),Bg(e,s),s),wr=!0,Kt(t,i))};$e.minus=$e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aK(t,e):iK(t,(e.s=-e.s,e))};$e.modulo=$e.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(_s+"NaN");return r.s?(wr=!1,t=Ro(r,e,0,1).times(e),wr=!0,r.minus(t)):Kt(new n(r),i)};$e.naturalExponential=$e.exp=function(){return sK(this)};$e.naturalLogarithm=$e.ln=function(){return Bg(this)};$e.negated=$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};$e.plus=$e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iK(t,e):aK(t,(e.s=-e.s,e))};$e.precision=$e.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(_u+e);if(t=Gr(i)+1,n=i.d.length-1,r=n*lr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};$e.squareRoot=$e.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(_s+"NaN")}for(e=Gr(l),wr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ba(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=vp((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Ro(l,s,a+2)).times(.5),Ba(s.d).slice(0,a)===(t=Ba(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Kt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return wr=!0,Kt(n,r)};$e.times=$e.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(s=h,h=p,p=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+p[n]*h[i-n-1]+t,s[i--]=l%cn|0,t=l/cn|0;s[i]=(s[i]+t)%cn|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,wr?Kt(e,f.precision):e};$e.toDecimalPlaces=$e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Xa(e,0,gp),t===void 0?t=n.rounding:Xa(t,0,8),Kt(r,e+Gr(r)+1,t))};$e.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Hu(n,!0):(Xa(e,0,gp),t===void 0?t=i.rounding:Xa(t,0,8),n=Kt(new i(n),e+1,t),r=Hu(n,!0,e+1)),r};$e.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Hu(i):(Xa(e,0,gp),t===void 0?t=s.rounding:Xa(t,0,8),n=Kt(new s(i),e+Gr(i)+1,t),r=Hu(n.abs(),!1,e+Gr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};$e.toInteger=$e.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Gr(e)+1,t.rounding)};$e.toNumber=function(){return+this};$e.toPower=$e.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Wi);if(l=new c(l),!l.s){if(e.s<1)throw Error(_s+"Infinity");return l}if(l.eq(Wi))return l;if(n=c.precision,e.eq(Wi))return Kt(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=nK){for(i=new c(Wi),t=Math.ceil(n/lr+4),wr=!1;r%2&&(i=i.times(l),X4(i.d,t)),r=vp(r/2),r!==0;)l=l.times(l),X4(l.d,t);return wr=!0,e.s<0?new c(Wi).div(i):Kt(i,n)}}else if(s<0)throw Error(_s+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,wr=!1,i=e.times(Bg(l,n+u)),wr=!0,i=sK(i),i.s=s,i};$e.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Gr(i),n=Hu(i,r<=s.toExpNeg||r>=s.toExpPos)):(Xa(e,1,gp),t===void 0?t=s.rounding:Xa(t,0,8),i=Kt(new s(i),e,t),r=Gr(i),n=Hu(i,e<=r||r<=s.toExpNeg,e)),n};$e.toSignificantDigits=$e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Xa(e,1,gp),t===void 0?t=n.rounding:Xa(t,0,8)),Kt(new n(r),e,t)};$e.toString=$e.valueOf=$e.val=$e.toJSON=$e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gr(e),r=e.constructor;return Hu(e,t<=r.toExpNeg||t>=r.toExpPos)};function iK(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),wr?Kt(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/lr),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/cn|0,c[s]%=cn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,wr?Kt(t,f):t}function Xa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_u+e)}function Ba(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=lr-n.length,r&&(s+=jl(r)),s+=n;a=e[t],n=a+"",r=lr-n.length,r&&(s+=jl(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ro=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%cn|0,a=s/cn|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*cn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,p,g,m,v,b,x,w,_,N,j,k,C,P=n.constructor,A=n.s==i.s?1:-1,I=n.d,M=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(_s+"Division by zero");for(c=n.e-i.e,k=M.length,N=I.length,p=new P(A),g=p.d=[],u=0;M[u]==(I[u]||0);)++u;if(M[u]>(I[u]||0)&&--c,s==null?x=s=P.precision:a?x=s+(Gr(n)-Gr(i))+1:x=s,x<0)return new P(0);if(x=x/lr+2|0,u=0,k==1)for(d=0,M=M[0],x++;(u<N||d)&&x--;u++)w=d*cn+(I[u]||0),g[u]=w/M|0,d=w%M|0;else{for(d=cn/(M[0]+1)|0,d>1&&(M=e(M,d),I=e(I,d),k=M.length,N=I.length),_=k,m=I.slice(0,k),v=m.length;v<k;)m[v++]=0;C=M.slice(),C.unshift(0),j=M[0],M[1]>=cn/2&&++j;do d=0,l=t(M,m,k,v),l<0?(b=m[0],k!=v&&(b=b*cn+(m[1]||0)),d=b/j|0,d>1?(d>=cn&&(d=cn-1),f=e(M,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,k<h?C:M,h))):(d==0&&(l=d=1),f=M.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(M,m,k,v),l<1&&(d++,r(m,k<v?C:M,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=I[_]||0:(m=[I[_]],v=1);while((_++<N||m[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=c,Kt(p,a?s+Gr(p)+1:s)}}();function sK(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(Gr(e)>16)throw Error(wA+Gr(e));if(!e.s)return new d(Wi);for(wr=!1,l=f,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(Gc(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(Wi),d.precision=l;;){if(i=Kt(i.times(e),l),r=r.times(++c),a=s.plus(Ro(i,r,l)),Ba(a.d).slice(0,l)===Ba(s.d).slice(0,l)){for(;u--;)s=Kt(s.times(s),l);return d.precision=f,t==null?(wr=!0,Kt(s,f)):s}s=a}}function Gr(e){for(var t=e.e*lr,r=e.d[0];r>=10;r/=10)t++;return t}function yS(e,t,r){if(t>e.LN10.sd())throw wr=!0,r&&(e.precision=r),Error(_s+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function jl(e){for(var t="";e--;)t+="0";return t}function Bg(e,t){var r,n,i,s,a,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(_s+(p.s?"NaN":"-Infinity"));if(p.eq(Wi))return new m(0);if(t==null?(wr=!1,u=v):u=t,p.eq(10))return t==null&&(wr=!0),yS(m,u);if(u+=h,m.precision=u,r=Ba(g),n=r.charAt(0),s=Gr(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ba(p.d),n=r.charAt(0),f++;s=Gr(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return c=yS(m,u+2,v).times(s+""),p=Bg(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(wr=!0,Kt(p,v)):p;for(l=a=p=Ro(p.minus(Wi),p.plus(Wi),u),d=Kt(p.times(p),u),i=3;;){if(a=Kt(a.times(d),u),c=l.plus(Ro(a,new m(i),u)),Ba(c.d).slice(0,u)===Ba(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(yS(m,u+2,v).times(s+""))),l=Ro(l,new m(f),u),m.precision=v,t==null?(wr=!0,Kt(l,v)):l;l=c,i+=2}}function J4(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=vp(r/lr),e.d=[],n=(r+1)%lr,r<0&&(n+=lr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=lr;n<i;)e.d.push(+t.slice(n,n+=lr));t=t.slice(n),n=lr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),wr&&(e.e>M0||e.e<-M0))throw Error(wA+r)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,r){var n,i,s,a,l,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=lr,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/lr),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=lr,i=n-lr+a}if(r!==void 0&&(s=Gc(10,a-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Gc(10,a-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Gr(e),f.length=1,t=t-s-1,f[0]=Gc(10,(lr-t%lr)%lr),e.e=vp(-t/lr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Gc(10,lr-n),f[d]=i>0?(u/Gc(10,a-i)%Gc(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==cn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=cn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(wr&&(e.e>M0||e.e<-M0))throw Error(wA+Gr(e));return e}function aK(e,t){var r,n,i,s,a,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),wr?Kt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(p/lr),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=cn-1;--c[s],c[i]+=cn}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,wr?Kt(t,p):t):new h(0)}function Hu(e,t,r){var n,i=Gr(e),s=Ba(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+jl(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+jl(-i-1)+s,r&&(n=r-a)>0&&(s+=jl(n))):i>=a?(s+=jl(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+jl(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=jl(n))),e.s<0?"-"+s:s}function X4(e,t){if(e.length>t)return e.length=t,!0}function oK(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(_u+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return J4(a,s.toString())}else if(typeof s!="string")throw Error(_u+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,EDe.test(s))J4(a,s);else throw Error(_u+s)}if(i.prototype=$e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oK,i.config=i.set=PDe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function PDe(e){if(!e||typeof e!="object")throw Error(_s+"Object expected");var t,r,n,i=["precision",1,gp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(vp(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(_u+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_u+r+": "+n);return this}var _A=oK(ODe);Wi=new _A(1);const Wt=_A;function TDe(e){return RDe(e)||IDe(e)||MDe(e)||ADe()}function ADe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MDe(e,t){if(e){if(typeof e=="string")return NC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(e,t)}}function IDe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function RDe(e){if(Array.isArray(e))return NC(e)}function NC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $De=function(t){return t},lK={},cK=function(t){return t===lK},Q4=function(t){return function r(){return arguments.length===0||arguments.length===1&&cK(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},DDe=function e(t,r){return t===1?r:Q4(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(l){return l!==lK}).length;return a>=t?r.apply(void 0,i):e(t-a,Q4(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return cK(f)?c.shift():f});return r.apply(void 0,TDe(d).concat(c))}))})},lj=function(t){return DDe(t.length,t)},kC=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},LDe=lj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),FDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $De;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},CC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},uK=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function BDe(e){var t;return e===0?t=1:t=Math.floor(new Wt(e).abs().log(10).toNumber())+1,t}function UDe(e,t,r){for(var n=new Wt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var zDe=lj(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),WDe=lj(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),VDe=lj(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const cj={rangeStep:UDe,getDigitCount:BDe,interpolateNumber:zDe,uninterpolateNumber:WDe,uninterpolateTruncation:VDe};function OC(e){return GDe(e)||qDe(e)||dK(e)||HDe()}function HDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qDe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function GDe(e){if(Array.isArray(e))return EC(e)}function Ug(e,t){return JDe(e)||YDe(e,t)||dK(e,t)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(e,t){if(e){if(typeof e=="string")return EC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(e,t)}}function EC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YDe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=e[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function JDe(e){if(Array.isArray(e))return e}function fK(e){var t=Ug(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function hK(e,t,r){if(e.lte(0))return new Wt(0);var n=cj.getDigitCount(e.toNumber()),i=new Wt(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new Wt(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?c:new Wt(Math.ceil(c))}function XDe(e,t,r){var n=1,i=new Wt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Wt(10).pow(cj.getDigitCount(e)-1),i=new Wt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Wt(Math.floor(e)))}else e===0?i=new Wt(Math.floor((t-1)/2)):r||(i=new Wt(Math.floor(e)));var a=Math.floor((t-1)/2),l=FDe(LDe(function(c){return i.add(new Wt(c-a).mul(n)).toNumber()}),kC);return l(0,t)}function pK(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var s=hK(new Wt(t).sub(e).div(r-1),n,i),a;e<=0&&t>=0?a=new Wt(0):(a=new Wt(e).add(t).div(2),a=a.sub(new Wt(a).mod(s)));var l=Math.ceil(a.sub(e).div(s).toNumber()),c=Math.ceil(new Wt(t).sub(a).div(s).toNumber()),u=l+c+1;return u>r?pK(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:a.sub(new Wt(l).mul(s)),tickMax:a.add(new Wt(c).mul(s))})}function QDe(e){var t=Ug(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),l=fK([r,n]),c=Ug(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(OC(kC(0,i-1).map(function(){return 1/0}))):[].concat(OC(kC(0,i-1).map(function(){return-1/0})),[d]);return r>n?CC(f):f}if(u===d)return XDe(u,i,s);var h=pK(u,d,a,s),p=h.step,g=h.tickMin,m=h.tickMax,v=cj.rangeStep(g,m.add(new Wt(.1).mul(p)),p);return r>n?CC(v):v}function ZDe(e,t){var r=Ug(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=fK([n,i]),l=Ug(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=hK(new Wt(u).sub(c).div(d-1),s,0),h=[].concat(OC(cj.rangeStep(new Wt(c),new Wt(u).sub(new Wt(.99).mul(f)),f)),[u]);return n>i?CC(h):h}var e4e=uK(QDe),t4e=uK(ZDe),r4e="Invariant failed";function qu(e,t){throw new Error(r4e)}var n4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function i4e(e,t){return l4e(e)||o4e(e,t)||a4e(e,t)||s4e()}function s4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4e(e,t){if(e){if(typeof e=="string")return Z4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(e,t)}}function Z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function l4e(e){if(Array.isArray(e))return e}function c4e(e,t){if(e==null)return{};var r=u4e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function d4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vK(n.key),n)}}function h4e(e,t,r){return t&&f4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p4e(e,t,r){return t=R0(t),m4e(e,mK()?Reflect.construct(t,r||[],R0(e).constructor):t.apply(e,r))}function m4e(e,t){if(t&&(gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g4e(e)}function g4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R0(e)}function v4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PC(e,t)}function gK(e,t,r){return t=vK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=y4e(e,"string");return gh(t)=="symbol"?t:t+""}function y4e(e,t){if(gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xv=function(e){function t(){return d4e(this,t),p4e(this,t,arguments)}return v4e(t,e),h4e(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=c4e(n,n4e),p=ze(h,!1);this.props.direction==="x"&&d.type!=="number"&&qu();var g=c.map(function(m){var v=u(m,l),b=v.x,x=v.y,w=v.value,_=v.errorVal;if(!_)return null;var N=[],j,k;if(Array.isArray(_)){var C=i4e(_,2);j=C[0],k=C[1]}else j=k=_;if(s==="vertical"){var P=d.scale,A=x+i,I=A+a,M=A-a,z=P(w-j),L=P(w+k);N.push({x1:L,y1:I,x2:L,y2:M}),N.push({x1:z,y1:A,x2:L,y2:A}),N.push({x1:z,y1:I,x2:z,y2:M})}else if(s==="horizontal"){var W=f.scale,F=b+i,D=F-a,R=F+a,B=W(w-j),K=W(w+k);N.push({x1:D,y1:K,x2:R,y2:K}),N.push({x1:F,y1:B,x2:F,y2:K}),N.push({x1:D,y1:B,x2:R,y2:B})}return T.createElement(yt,I0({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),N.map(function(ee){return T.createElement("line",I0({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return T.createElement(yt,{className:"recharts-errorBars"},g)}}])}(T.Component);gK(Xv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gK(Xv,"displayName","ErrorBar");function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function eL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(r),!0).forEach(function(n){x4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x4e(e,t,r){return t=b4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b4e(e){var t=w4e(e,"string");return zg(t)=="symbol"?t:t+""}function w4e(e,t){if(zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yK=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,a=$i(r,Io);if(!a)return null;var l=Io.defaultProps,c=l!==void 0?Mc(Mc({},l),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:a.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Mc(Mc({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:jA(f),value:m||g,payload:p}}),Mc(Mc(Mc({},c),Io.getWithHeight(a,i)),{},{payload:u,item:a})};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function tL(e){return N4e(e)||S4e(e)||j4e(e)||_4e()}function _4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4e(e,t){if(e){if(typeof e=="string")return TC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TC(e,t)}}function S4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function N4e(e){if(Array.isArray(e))return TC(e)}function TC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(r),!0).forEach(function(n){Nf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nf(e,t,r){return t=k4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k4e(e){var t=C4e(e,"string");return Wg(t)=="symbol"?t:t+""}function C4e(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t,r){return ct(e)||ct(t)?r:tn(t)?Ki(e,t,r):Xe(t)?t(e):r}function Am(e,t,r,n){var i=SDe(e,function(l){return Ar(l,t)});if(r==="number"){var s=i.filter(function(l){return ve(l)||parseFloat(l)});return s.length?[oj(s),Bl(s)]:[1/0,-1/0]}var a=n?i.filter(function(l){return!ct(l)}):i;return a.map(function(l){return tn(l)||l instanceof Date?l:""})}var O4e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Zn(f-d)!==Zn(h-f)){var g=[];if(Zn(h-f)===Zn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){a=i[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){a=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){a=n[_].index;break}return a},jA=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Or(Or({},t.type.defaultProps),t.props):t.props,a=s.stroke,l=s.fill,c;switch(i){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},E4e=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,b=m.filter(function(k){return Mo(k.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?Or(Or({},x),b[0].props):b[0].props,_=w.barSize,N=w[v];a[N]||(a[N]=[]);var j=ct(_)?r:_;a[N].push({item:b[0],stackList:b.slice(1),barSize:ct(j)?void 0:ei(j,n,0)})}}return a},P4e=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,a=s===void 0?[]:s,l=t.maxBarSize,c=a.length;if(c<1)return null;var u=ei(r,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/c,g=a.reduce(function(_,N){return _+N.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&p>0&&(h=!0,p*=.9,g=c*p);var m=(i-g)/2>>0,v={offset:m-u,size:0};d=a.reduce(function(_,N){var j={item:N.item,position:{offset:v.offset+v.size+u,size:h?p:N.barSize}},k=[].concat(tL(_),[j]);return v=k[k.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){k.push({item:C,position:v})}),k},f)}else{var b=ei(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var x=(i-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=a.reduce(function(_,N,j){var k=[].concat(tL(_),[{item:N.item,position:{offset:b+(x+u)*j+(x-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},f)}return d},T4e=function(t,r,n,i){var s=n.children,a=n.width,l=n.margin,c=a-(l.left||0)-(l.right||0),u=yK({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&ve(t[p]))return Or(Or({},t),{},Nf({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&ve(t[g]))return Or(Or({},t),{},Nf({},g,t[g]+(h||0)))}return t},A4e=function(t,r,n){return ct(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},xK=function(t,r,n,i,s){var a=r.props.children,l=Yi(a,Xv).filter(function(u){return A4e(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Ar(d,n);if(ct(f))return u;var h=Array.isArray(f)?[oj(f),Bl(f)]:[f,f],p=c.reduce(function(g,m){var v=Ar(d,m,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},M4e=function(t,r,n,i,s){var a=r.map(function(l){return xK(t,l,n,s,i)}).filter(function(l){return!ct(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},bK=function(t,r,n,i,s){var a=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&xK(t,c,u,i)||Am(t,u,n,s)});if(n==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},wK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},_K=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,a,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(a=!0),c.coordinate});return s||l.push(r),a||l.push(n),l},Oo=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,a=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Zn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!dp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},xS=new WeakMap,Zy=function(t,r){if(typeof r!="function")return t;xS.has(t)||xS.set(t,new WeakMap);var n=xS.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},jK=function(t,r,n){var i=t.scale,s=t.type,a=t.layout,l=t.axisType;if(i==="auto")return a==="radial"&&l==="radiusAxis"?{scale:Rg(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:E0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Tm(),realScaleType:"point"}:s==="category"?{scale:Rg(),realScaleType:"band"}:{scale:E0(),realScaleType:"linear"};if(Uu(i)){var c="scale".concat(q_(i));return{scale:(Y4[c]||Tm)(),realScaleType:Y4[c]?c:"point"}}return Xe(i)?{scale:i}:{scale:Tm(),realScaleType:"point"}},nL=1e-4,SK=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-nL,a=Math.max(i[0],i[1])+nL,l=t(r[0]),c=t(r[n-1]);(l<s||l>a||c<s||c>a)&&t.domain([r[0],r[n-1]])}},I4e=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},R4e=function(t,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!ve(t[0])||t[0]<n)&&(s[0]=n),(!ve(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},$4e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,a=0,l=0;l<r;++l){var c=dp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1])}},D4e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var l=dp(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},L4e={sign:$4e,expand:nke,none:lh,silhouette:ike,wiggle:ske,positive:D4e},F4e=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=L4e[n],a=rke().keys(i).value(function(l,c){return+Ar(l,c,0)}).order(rC).offset(s);return a(t)},B4e=function(t,r,n,i,s,a){if(!t)return null;var l=a?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Or(Or({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(tn(m)){var w=x.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[m]=w}else x.stackGroups[ad("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Or(Or({},f),{},Nf({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var b=p.stackGroups[v];return Or(Or({},m),{},Nf({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:F4e(t,b.items,s)}))},g)}return Or(Or({},f),{},Nf({},h,p))},d)},NK=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=e4e(u,s,l);return t.domain([oj(d),Bl(d)]),{niceTicks:d}}if(s&&i==="number"){var f=t.domain(),h=t4e(f,s,l);return{niceTicks:h}}return null};function $0(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ct(i[t.dataKey])){var l=o0(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Ar(i,ct(a)?t.dataKey:a);return ct(c)?null:t.scale(c)}var iL=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,a=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Ar(a,r.dataKey,r.domain[l]);return ct(c)?null:r.scale(c)-s/2+i},U4e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},z4e=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Or(Or({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(tn(s)){var a=r[s];if(a){var l=a.items.indexOf(t);return l>=0?a.stackedData[l]:null}}return null},W4e=function(t){return t.reduce(function(r,n){return[oj(n.concat([r[0]]).filter(ve)),Bl(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},kK=function(t,r,n){return Object.keys(t).reduce(function(i,s){var a=t[s],l=a.stackedData,c=l.reduce(function(u,d){var f=W4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},sL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AC=function(t,r,n){if(Xe(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(ve(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(sL.test(t[0])){var s=+sL.exec(t[0])[1];i[0]=r[0]-s}else Xe(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(ve(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(aL.test(t[1])){var a=+aL.exec(t[1])[1];i[1]=r[1]+a}else Xe(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},D0=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=XT(r,function(f){return f.coordinate}),a=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},oL=function(t,r,n){return!t||!t.length||Vu(t,Ki(n,"type.defaultProps.domain"))?r:t},CK=function(t,r){var n=t.type.defaultProps?Or(Or({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,a=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Or(Or({},ze(t,!1)),{},{dataKey:i,unit:a,formatter:l,name:s||i,color:jA(t),value:Ar(r,i),type:c,payload:r,chartType:u,hide:d})};function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function lL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(r),!0).forEach(function(n){OK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OK(e,t,r){return t=V4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V4e(e){var t=H4e(e,"string");return Vg(t)=="symbol"?t:t+""}function H4e(e,t){if(Vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q4e(e,t){return J4e(e)||Y4e(e,t)||K4e(e,t)||G4e()}function G4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K4e(e,t){if(e){if(typeof e=="string")return cL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cL(e,t)}}function cL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function J4e(e){if(Array.isArray(e))return e}var L0=Math.PI/180,X4e=function(t){return t*180/Math.PI},rr=function(t,r,n,i){return{x:t+Math.cos(-L0*i)*n,y:r+Math.sin(-L0*i)*n}},EK=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Q4e=function(t,r,n,i,s){var a=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=ei(t.cx,a,a/2),f=ei(t.cy,l,l/2),h=EK(a,l,n),p=ei(t.innerRadius,h,0),g=ei(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,b){var x=r[b],w=x.domain,_=x.reversed,N;if(ct(x.range))i==="angleAxis"?N=[c,u]:i==="radiusAxis"&&(N=[p,g]),_&&(N=[N[1],N[0]]);else{N=x.range;var j=N,k=q4e(j,2);c=k[0],u=k[1]}var C=jK(x,s),P=C.realScaleType,A=C.scale;A.domain(w).range(N),SK(A);var I=NK(A,vo(vo({},x),{},{realScaleType:P})),M=vo(vo(vo({},x),I),{},{range:N,radius:g,realScaleType:P,scale:A,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return vo(vo({},v),{},OK({},b,M))},{})},Z4e=function(t,r){var n=t.x,i=t.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},eLe=function(t,r){var n=t.x,i=t.y,s=r.cx,a=r.cy,l=Z4e({x:n,y:i},{x:s,y:a});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>a&&(u=2*Math.PI-u),{radius:l,angle:X4e(u),angleInRadian:u}},tLe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},rLe=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),l=Math.min(s,a);return t+l*360},uL=function(t,r){var n=t.x,i=t.y,s=eLe({x:n,y:i},r),a=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=tLe(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?vo(vo({},r),{},{radius:a,angle:rLe(p,r)}):null},PK=function(t){return!y.isValidElement(t)&&!Xe(t)&&typeof t!="boolean"?t.className:""};function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}var nLe=["offset"];function iLe(e){return lLe(e)||oLe(e)||aLe(e)||sLe()}function sLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aLe(e,t){if(e){if(typeof e=="string")return MC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(e,t)}}function oLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lLe(e){if(Array.isArray(e))return MC(e)}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cLe(e,t){if(e==null)return{};var r=uLe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(r),!0).forEach(function(n){dLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dLe(e,t,r){return t=fLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fLe(e){var t=hLe(e,"string");return Hg(t)=="symbol"?t:t+""}function hLe(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(this,arguments)}var pLe=function(t){var r=t.value,n=t.formatter,i=ct(t.children)?r:t.children;return Xe(n)?n(i):i},mLe=function(t,r){var n=Zn(r-t),i=Math.min(Math.abs(r-t),360);return n*i},gLe=function(t,r,n){var i=t.position,s=t.viewBox,a=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,b=mLe(p,g),x=b>=0?1:-1,w,_;i==="insideStart"?(w=p+x*a,_=m):i==="insideEnd"?(w=g-x*a,_=!m):i==="end"&&(w=g+x*a,_=m),_=b<=0?_:!_;var N=rr(u,d,v,w),j=rr(u,d,v,w+(_?1:-1)*359),k="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),C=ct(t.id)?ad("recharts-radial-line-"):t.id;return T.createElement("text",qg({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:C,d:k})),T.createElement("textPath",{xlinkHref:"#".concat(C)},r))},vLe=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,a=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var p=rr(a,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=rr(a,l,v,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},yLe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,a=r,l=a.x,c=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*i,b=m>0?"end":"start",x=m>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return Yr(Yr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Yr(Yr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var N={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Yr(Yr({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(s==="right"){var j={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Yr(Yr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return s==="insideLeft"?Yr({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):s==="insideRight"?Yr({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):s==="insideTop"?Yr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):s==="insideBottom"?Yr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},k):s==="insideTopLeft"?Yr({x:l+v,y:c+h,textAnchor:x,verticalAnchor:g},k):s==="insideTopRight"?Yr({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:g},k):s==="insideBottomLeft"?Yr({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:p},k):s==="insideBottomRight"?Yr({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:p},k):op(s)&&(ve(s.x)||iu(s.x))&&(ve(s.y)||iu(s.y))?Yr({x:l+ei(s.x,u),y:c+ei(s.y,d),textAnchor:"end",verticalAnchor:"end"},k):Yr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},xLe=function(t){return"cx"in t&&ve(t.cx)};function hn(e){var t=e.offset,r=t===void 0?5:t,n=cLe(e,nLe),i=Yr({offset:r},n),s=i.viewBox,a=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||ct(l)&&ct(c)&&!y.isValidElement(u)&&!Xe(u))return null;if(y.isValidElement(u))return y.cloneElement(u,i);var p;if(Xe(u)){if(p=y.createElement(u,i),y.isValidElement(p))return p}else p=pLe(i);var g=xLe(s),m=ze(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return gLe(i,p,m);var v=g?vLe(i):yLe(i);return T.createElement(Wu,qg({className:ut("recharts-label",f)},m,v,{breakAll:h}),p)}hn.displayName="Label";var TK=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,a=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(ve(m)&&ve(v)){if(ve(f)&&ve(h))return{x:f,y:h,width:m,height:v};if(ve(p)&&ve(g))return{x:p,y:g,width:m,height:v}}return ve(f)&&ve(h)?{x:f,y:h,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},bLe=function(t,r){return t?t===!0?T.createElement(hn,{key:"label-implicit",viewBox:r}):tn(t)?T.createElement(hn,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===hn?y.cloneElement(t,{key:"label-implicit",viewBox:r}):T.createElement(hn,{key:"label-implicit",content:t,viewBox:r}):Xe(t)?T.createElement(hn,{key:"label-implicit",content:t,viewBox:r}):op(t)?T.createElement(hn,qg({viewBox:r},t,{key:"label-implicit"})):null:null},wLe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=TK(t),a=Yi(i,hn).map(function(c,u){return y.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return a;var l=bLe(t.label,r||s);return[l].concat(iLe(a))};hn.parseViewBox=TK;hn.renderCallByParent=wLe;function _Le(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jLe=_Le;const SLe=kt(jLe);function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}var NLe=["valueAccessor"],kLe=["data","dataKey","clockWise","id","textBreakAll"];function CLe(e){return TLe(e)||PLe(e)||ELe(e)||OLe()}function OLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ELe(e,t){if(e){if(typeof e=="string")return IC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IC(e,t)}}function PLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TLe(e){if(Array.isArray(e))return IC(e)}function IC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(n){ALe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ALe(e,t,r){return t=MLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MLe(e){var t=ILe(e,"string");return Gg(t)=="symbol"?t:t+""}function ILe(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pL(e,t){if(e==null)return{};var r=RLe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $Le=function(t){return Array.isArray(t.value)?SLe(t.value):t.value};function Ga(e){var t=e.valueAccessor,r=t===void 0?$Le:t,n=pL(e,NLe),i=n.data,s=n.dataKey,a=n.clockWise,l=n.id,c=n.textBreakAll,u=pL(n,kLe);return!i||!i.length?null:T.createElement(yt,{className:"recharts-label-list"},i.map(function(d,f){var h=ct(s)?r(d,f):Ar(d&&d.payload,s),p=ct(l)?{}:{id:"".concat(l,"-").concat(f)};return T.createElement(hn,F0({},ze(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:hn.parseViewBox(ct(a)?d:hL(hL({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Ga.displayName="LabelList";function DLe(e,t){return e?e===!0?T.createElement(Ga,{key:"labelList-implicit",data:t}):T.isValidElement(e)||Xe(e)?T.createElement(Ga,{key:"labelList-implicit",data:t,content:e}):op(e)?T.createElement(Ga,F0({data:t},e,{key:"labelList-implicit"})):null:null}function LLe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Yi(n,Ga).map(function(a,l){return y.cloneElement(a,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=DLe(e.label,t);return[s].concat(CLe(i))}Ga.renderCallByParent=LLe;function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RC.apply(this,arguments)}function mL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mL(Object(r),!0).forEach(function(n){FLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FLe(e,t,r){return t=BLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BLe(e){var t=ULe(e,"string");return Kg(t)=="symbol"?t:t+""}function ULe(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zLe=function(t,r){var n=Zn(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},ex=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,a=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/L0,h=u?s:s+a*f,p=rr(r,n,d,h),g=rr(r,n,i,h),m=u?s-a*f:s,v=rr(r,n,d*Math.cos(f*L0),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},AK=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,a=t.startAngle,l=t.endAngle,c=zLe(a,l),u=a+c,d=rr(r,n,s,a),f=rr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=rr(r,n,i,a),g=rr(r,n,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},WLe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,a=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Zn(d-u),h=ex({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=ex({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):AK({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var N="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var j=ex({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),k=j.circleTangency,C=j.lineTangency,P=j.theta,A=ex({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),I=A.circleTangency,M=A.lineTangency,z=A.theta,L=c?Math.abs(u-d):Math.abs(u-d)-P-z;if(L<0&&a===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},VLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MK=function(t){var r=gL(gL({},VLe),t),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(a<s||d===f)return null;var p=ut("recharts-sector",h),g=a-s,m=ei(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=WLe({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=AK({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:f}),T.createElement("path",RC({},ze(r,!0),{className:p,d:v,role:"img"}))};function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function $C(){return $C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$C.apply(this,arguments)}function vL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(r),!0).forEach(function(n){HLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HLe(e,t,r){return t=qLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qLe(e){var t=GLe(e,"string");return Yg(t)=="symbol"?t:t+""}function GLe(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xL={curveBasisClosed:HNe,curveBasisOpen:qNe,curveBasis:VNe,curveBumpX:PNe,curveBumpY:TNe,curveLinearClosed:GNe,curveLinear:K_,curveMonotoneX:KNe,curveMonotoneY:YNe,curveNatural:JNe,curveStep:XNe,curveStepAfter:ZNe,curveStepBefore:QNe},tx=function(t){return t.x===+t.x&&t.y===+t.y},Xp=function(t){return t.x},Qp=function(t){return t.y},KLe=function(t,r){if(Xe(t))return t;var n="curve".concat(q_(t));return(n==="curveMonotone"||n==="curveBump")&&r?xL["".concat(n).concat(r==="vertical"?"Y":"X")]:xL[n]||K_},YLe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,a=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=KLe(n,l),f=u?s.filter(function(m){return tx(m)}):s,h;if(Array.isArray(a)){var p=u?a.filter(function(m){return tx(m)}):a,g=f.map(function(m,v){return yL(yL({},m),{},{base:p[v]})});return l==="vertical"?h=Hy().y(Qp).x1(Xp).x0(function(m){return m.base.x}):h=Hy().x(Xp).y1(Qp).y0(function(m){return m.base.y}),h.defined(tx).curve(d),h(g)}return l==="vertical"&&ve(a)?h=Hy().y(Qp).x1(Xp).x0(a):ve(a)?h=Hy().x(Xp).y1(Qp).y0(a):h=Oq().x(Xp).y(Qp),h.defined(tx).curve(d),h(f)},ju=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?YLe(t):i;return y.createElement("path",$C({},ze(t,!1),l0(t),{className:ut("recharts-curve",r),d:a,ref:s}))};const{getOwnPropertyNames:JLe,getOwnPropertySymbols:XLe}=Object,{hasOwnProperty:QLe}=Object.prototype;function bS(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function rx(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:s}=i,a=s.get(r),l=s.get(n);if(a&&l)return a===n&&l===r;s.set(r,n),s.set(n,r);const c=e(r,n,i);return s.delete(r),s.delete(n),c}}function ZLe(e){return e!=null?e[Symbol.toStringTag]:void 0}function bL(e){return JLe(e).concat(XLe(e))}const e3e=Object.hasOwn||((e,t)=>QLe.call(e,t));function cd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const t3e="__v",r3e="__o",n3e="_owner",{getOwnPropertyDescriptor:wL,keys:_L}=Object;function i3e(e,t){return e.byteLength===t.byteLength&&B0(new Uint8Array(e),new Uint8Array(t))}function s3e(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function a3e(e,t){return e.byteLength===t.byteLength&&B0(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function o3e(e,t){return cd(e.getTime(),t.getTime())}function l3e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function c3e(e,t){return e===t}function jL(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.entries();let a,l,c=0;for(;(a=s.next())&&!a.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(i[f]){f++;continue}const h=a.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const u3e=cd;function d3e(e,t,r){const n=_L(e);let i=n.length;if(_L(t).length!==i)return!1;for(;i-- >0;)if(!IK(e,t,r,n[i]))return!1;return!0}function Zp(e,t,r){const n=bL(e);let i=n.length;if(bL(t).length!==i)return!1;let s,a,l;for(;i-- >0;)if(s=n[i],!IK(e,t,r,s)||(a=wL(e,s),l=wL(t,s),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function f3e(e,t){return cd(e.valueOf(),t.valueOf())}function h3e(e,t){return e.source===t.source&&e.flags===t.flags}function SL(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),s=e.values();let a,l;for(;(a=s.next())&&!a.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(a.value,l.value,a.value,l.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function B0(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function p3e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function IK(e,t,r,n){return(n===n3e||n===r3e||n===t3e)&&(e.$$typeof||t.$$typeof)?!0:e3e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const m3e="[object ArrayBuffer]",g3e="[object Arguments]",v3e="[object Boolean]",y3e="[object DataView]",x3e="[object Date]",b3e="[object Error]",w3e="[object Map]",_3e="[object Number]",j3e="[object Object]",S3e="[object RegExp]",N3e="[object Set]",k3e="[object String]",C3e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},O3e="[object URL]",E3e=Object.prototype.toString;function P3e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;const w=typeof v;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(v,b,x):w==="function"?s(v,b,x):!1;const _=v.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(v,b,x);if(Array.isArray(v))return t(v,b,x);if(_===Date)return n(v,b,x);if(_===RegExp)return d(v,b,x);if(_===Map)return a(v,b,x);if(_===Set)return f(v,b,x);const N=E3e.call(v);if(N===x3e)return n(v,b,x);if(N===S3e)return d(v,b,x);if(N===w3e)return a(v,b,x);if(N===N3e)return f(v,b,x);if(N===j3e)return typeof v.then!="function"&&typeof b.then!="function"&&c(v,b,x);if(N===O3e)return p(v,b,x);if(N===b3e)return i(v,b,x);if(N===g3e)return c(v,b,x);if(C3e[N])return h(v,b,x);if(N===m3e)return e(v,b,x);if(N===y3e)return r(v,b,x);if(N===v3e||N===_3e||N===k3e)return u(v,b,x);if(g){let j=g[N];if(!j){const k=ZLe(v);k&&(j=g[k])}if(j)return j(v,b,x)}return!1}}function T3e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:i3e,areArraysEqual:r?Zp:s3e,areDataViewsEqual:a3e,areDatesEqual:o3e,areErrorsEqual:l3e,areFunctionsEqual:c3e,areMapsEqual:r?bS(jL,Zp):jL,areNumbersEqual:u3e,areObjectsEqual:r?Zp:d3e,arePrimitiveWrappersEqual:f3e,areRegExpsEqual:h3e,areSetsEqual:r?bS(SL,Zp):SL,areTypedArraysEqual:r?bS(B0,Zp):B0,areUrlsEqual:p3e,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=rx(n.areArraysEqual),s=rx(n.areMapsEqual),a=rx(n.areObjectsEqual),l=rx(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return n}function A3e(e){return function(t,r,n,i,s,a,l){return e(t,r,l)}}function M3e({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const s={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return t(l,c,s)}}const I3e=Sc();Sc({strict:!0});Sc({circular:!0});Sc({circular:!0,strict:!0});Sc({createInternalComparator:()=>cd});Sc({strict:!0,createInternalComparator:()=>cd});Sc({circular:!0,createInternalComparator:()=>cd});Sc({circular:!0,createInternalComparator:()=>cd,strict:!0});function Sc(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,s=T3e(e),a=P3e(s),l=r?r(a):A3e(a);return M3e({circular:t,comparator:a,createState:n,equals:l,strict:i})}function R3e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function NL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):R3e(i)};requestAnimationFrame(n)}function DC(e){"@babel/helpers - typeof";return DC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DC(e)}function $3e(e){return B3e(e)||F3e(e)||L3e(e)||D3e()}function D3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L3e(e,t){if(e){if(typeof e=="string")return kL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kL(e,t)}}function kL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B3e(e){if(Array.isArray(e))return e}function U3e(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,l=$3e(a),c=l[0],u=l.slice(1);if(typeof c=="number"){NL(i.bind(null,u),c);return}i(c),NL(i.bind(null,u));return}DC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function CL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CL(Object(r),!0).forEach(function(n){RK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RK(e,t,r){return t=z3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3e(e){var t=W3e(e,"string");return Jg(t)==="symbol"?t:String(t)}function W3e(e,t){if(Jg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V3e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},H3e=function(t){return t},q3e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Mm=function(t,r){return Object.keys(r).reduce(function(n,i){return OL(OL({},n),{},RK({},i,t(i,r[i])))},{})},EL=function(t,r,n){return t.map(function(i){return"".concat(q3e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function G3e(e,t){return J3e(e)||Y3e(e,t)||$K(e,t)||K3e()}function K3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function J3e(e){if(Array.isArray(e))return e}function X3e(e){return eFe(e)||Z3e(e)||$K(e)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $K(e,t){if(e){if(typeof e=="string")return LC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LC(e,t)}}function Z3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eFe(e){if(Array.isArray(e))return LC(e)}function LC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U0=1e-4,DK=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},LK=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},PL=function(t,r){return function(n){var i=DK(t,r);return LK(i,n)}},tFe=function(t,r){return function(n){var i=DK(t,r),s=[].concat(X3e(i.map(function(a,l){return a*l}).slice(1)),[0]);return LK(s,n)}},TL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,l=1;break;case"ease":i=.25,s=.1,a=.25,l=1;break;case"ease-in":i=.42,s=0,a=1,l=1;break;case"ease-out":i=.42,s=0,a=.58,l=1;break;case"ease-in-out":i=0,s=0,a=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=G3e(u,4);i=d[0],s=d[1],a=d[2],l=d[3]}}}var f=PL(i,a),h=PL(s,l),p=tFe(i,a),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var x=b>1?1:b,w=x,_=0;_<8;++_){var N=f(w)-x,j=p(w);if(Math.abs(N-x)<U0||j<U0)return h(w);w=g(w-N/j)}return h(w)};return m.isStepper=!1,m},rFe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,a=t.dt,l=a===void 0?17:a,c=function(d,f,h){var p=-(d-f)*n,g=h*s,m=h+(p-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<U0&&Math.abs(m)<U0?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},nFe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TL(i);case"spring":return rFe();default:if(i.split("(")[0]==="cubic-bezier")return TL(i)}return typeof i=="function"?i:null};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function AL(e){return aFe(e)||sFe(e)||FK(e)||iFe()}function iFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aFe(e){if(Array.isArray(e))return BC(e)}function ML(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(r),!0).forEach(function(n){FC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FC(e,t,r){return t=oFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oFe(e){var t=lFe(e,"string");return Xg(t)==="symbol"?t:String(t)}function lFe(e,t){if(Xg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cFe(e,t){return fFe(e)||dFe(e,t)||FK(e,t)||uFe()}function uFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FK(e,t){if(e){if(typeof e=="string")return BC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BC(e,t)}}function BC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function fFe(e){if(Array.isArray(e))return e}var z0=function(t,r,n){return t+(r-t)*n},UC=function(t){var r=t.from,n=t.to;return r!==n},hFe=function e(t,r,n){var i=Mm(function(s,a){if(UC(a)){var l=t(a.from,a.to,a.velocity),c=cFe(l,2),u=c[0],d=c[1];return bn(bn({},a),{},{from:u,velocity:d})}return a},r);return n<1?Mm(function(s,a){return UC(a)?bn(bn({},a),{},{velocity:z0(a.velocity,i[s].velocity,n),from:z0(a.from,i[s].from,n)}):a},r):e(t,i,n-1)};const pFe=function(e,t,r,n,i){var s=V3e(e,t),a=s.reduce(function(v,b){return bn(bn({},v),{},FC({},b,[e[b],t[b]]))},{}),l=s.reduce(function(v,b){return bn(bn({},v),{},FC({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Mm(function(b,x){return x.from},l)},p=function(){return!Object.values(l).filter(UC).length},g=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=hFe(r,l,w),i(bn(bn(bn({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var x=(b-d)/n,w=Mm(function(N,j){return z0.apply(void 0,AL(j).concat([r(x)]))},a);if(i(bn(bn(bn({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var _=Mm(function(N,j){return z0.apply(void 0,AL(j).concat([r(1)]))},a);i(bn(bn(bn({},e),t),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}var mFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function gFe(e,t){if(e==null)return{};var r=vFe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function wS(e){return wFe(e)||bFe(e)||xFe(e)||yFe()}function yFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xFe(e,t){if(e){if(typeof e=="string")return zC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zC(e,t)}}function bFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wFe(e){if(Array.isArray(e))return zC(e)}function zC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(r),!0).forEach(function(n){fm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fm(e,t,r){return t=BK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BK(n.key),n)}}function SFe(e,t,r){return t&&jFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BK(e){var t=NFe(e,"string");return vh(t)==="symbol"?t:String(t)}function NFe(e,t){if(vh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WC(e,t)}function WC(e,t){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WC(e,t)}function CFe(e){var t=OFe();return function(){var n=W0(e),i;if(t){var s=W0(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return VC(this,i)}}function VC(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HC(e)}function HC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W0(e){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W0(e)}var ha=function(e){kFe(r,e);var t=CFe(r);function r(n,i){var s;_Fe(this,r),s=t.call(this,n,i);var a=s.props,l=a.isActive,c=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(HC(s)),s.changeStyle=s.changeStyle.bind(HC(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),VC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},VC(s);s.state={style:c?fm({},c,u):u}}else s.state={style:{}};return s}return SFe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!a){var p={style:c?fm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(I3e(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:i.to;if(this.state&&h){var v={style:c?fm({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(Ms(Ms({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=pFe(a,l,nFe(u),c,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,l=i.begin,c=i.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,b){if(b===0)return m;var x=v.duration,w=v.easing,_=w===void 0?"ease":w,N=v.style,j=v.properties,k=v.onAnimationEnd,C=b>0?a[b-1]:v,P=j||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(wS(m),[s.runJSAnimation.bind(s,{from:C.style,to:N,duration:x,easing:_}),x]);var A=EL(P,x,_),I=Ms(Ms(Ms({},C.style),N),{},{transition:A});return[].concat(wS(m),[I,x,k]).filter(H3e)};return this.manager.start([c].concat(wS(a.reduce(p,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=U3e());var s=i.begin,a=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=l?fm({},l,c):c,v=EL(Object.keys(m),a,u);g.start([d,s,Ms(Ms({},m),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=gFe(i,mFe),u=y.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||a<=0)return s;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,b=g.className,x=y.cloneElement(p,Ms(Ms({},c),{},{style:Ms(Ms({},v),d),className:b}));return x};return u===1?f(y.Children.only(s)):T.createElement("div",null,y.Children.map(s,function(h){return f(h)}))}}]),r}(y.PureComponent);ha.displayName="Animate";ha.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ha.propTypes={from:ce.oneOfType([ce.object,ce.string]),to:ce.oneOfType([ce.object,ce.string]),attributeName:ce.string,duration:ce.number,begin:ce.number,easing:ce.oneOfType([ce.string,ce.func]),steps:ce.arrayOf(ce.shape({duration:ce.number.isRequired,style:ce.object.isRequired,easing:ce.oneOfType([ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ce.func]),properties:ce.arrayOf("string"),onAnimationEnd:ce.func})),children:ce.oneOfType([ce.node,ce.func]),isActive:ce.bool,canBegin:ce.bool,onAnimationEnd:ce.func,shouldReAnimate:ce.bool,onAnimationStart:ce.func,onAnimationReStart:ce.func};function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(this,arguments)}function EFe(e,t){return MFe(e)||AFe(e,t)||TFe(e,t)||PFe()}function PFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TFe(e,t){if(e){if(typeof e=="string")return RL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RL(e,t)}}function RL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function MFe(e){if(Array.isArray(e))return e}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){IFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IFe(e,t,r){return t=RFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RFe(e){var t=$Fe(e,"string");return Qg(t)=="symbol"?t:t+""}function $Fe(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LL=function(t,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>a?a:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*f[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+i,`
            L `).concat(t+c*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},DFe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,a=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(a,a+c),h=Math.max(a,a+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},LFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SA=function(t){var r=DL(DL({},LFe),t),n=y.useRef(),i=y.useState(-1),s=EFe(i,2),a=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=ut("recharts-rectangle",p);return x?T.createElement(ha,{canBegin:a>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(_){var N=_.width,j=_.height,k=_.x,C=_.y;return T.createElement(ha,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},T.createElement("path",V0({},ze(r,!0),{className:w,d:LL(k,C,N,j,h),ref:n})))}):T.createElement("path",V0({},ze(r,!0),{className:w,d:LL(c,u,d,f,h)}))},FFe=["points","className","baseLinePoints","connectNulls"];function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}function BFe(e,t){if(e==null)return{};var r=UFe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FL(e){return HFe(e)||VFe(e)||WFe(e)||zFe()}function zFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WFe(e,t){if(e){if(typeof e=="string")return qC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qC(e,t)}}function VFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HFe(e){if(Array.isArray(e))return qC(e)}function qC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BL=function(t){return t&&t.x===+t.x&&t.y===+t.y},qFe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){BL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),BL(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Im=function(t,r){var n=qFe(t);r&&(n=[n.reduce(function(s,a){return[].concat(FL(s),FL(a))},[])]);var i=n.map(function(s){return s.reduce(function(a,l,c){return"".concat(a).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},GFe=function(t,r,n){var i=Im(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Im(r.reverse(),n).slice(1))},KFe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,s=t.connectNulls,a=BFe(t,FFe);if(!r||!r.length)return null;var l=ut("recharts-polygon",n);if(i&&i.length){var c=a.stroke&&a.stroke!=="none",u=GFe(r,i,s);return T.createElement("g",{className:l},T.createElement("path",nf({},ze(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),c?T.createElement("path",nf({},ze(a,!0),{fill:"none",d:Im(r,s)})):null,c?T.createElement("path",nf({},ze(a,!0),{fill:"none",d:Im(i,s)})):null)}var d=Im(r,s);return T.createElement("path",nf({},ze(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:l,d}))};function GC(){return GC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GC.apply(this,arguments)}var Qv=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,a=ut("recharts-dot",s);return r===+r&&n===+n&&i===+i?y.createElement("circle",GC({},ze(t,!1),l0(t),{className:a,cx:r,cy:n,r:i})):null};function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}var YFe=["x","y","top","left","width","height","className"];function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KC.apply(this,arguments)}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(n){XFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XFe(e,t,r){return t=QFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QFe(e){var t=ZFe(e,"string");return Zg(t)=="symbol"?t:t+""}function ZFe(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e5e(e,t){if(e==null)return{};var r=t5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var r5e=function(t,r,n,i,s,a){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},n5e=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,a=t.top,l=a===void 0?0:a,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=e5e(t,YFe),v=JFe({x:n,y:s,top:l,left:u,width:f,height:p},m);return!ve(n)||!ve(s)||!ve(f)||!ve(p)||!ve(l)||!ve(u)?null:T.createElement("path",KC({},ze(v,!0),{className:ut("recharts-cross",g),d:r5e(n,s,f,p,l,u)}))},i5e=aj,s5e=tK,a5e=so;function o5e(e,t){return e&&e.length?i5e(e,a5e(t),s5e):void 0}var l5e=o5e;const c5e=kt(l5e);var u5e=aj,d5e=so,f5e=rK;function h5e(e,t){return e&&e.length?u5e(e,d5e(t),f5e):void 0}var p5e=h5e;const m5e=kt(p5e);var g5e=["cx","cy","angle","ticks","axisLine"],v5e=["ticks","tick","angle","tickFormatter","stroke"];function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){uj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WL(e,t){if(e==null)return{};var r=y5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function x5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zK(n.key),n)}}function b5e(e,t,r){return t&&VL(e.prototype,t),r&&VL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w5e(e,t,r){return t=H0(t),_5e(e,UK()?Reflect.construct(t,r||[],H0(e).constructor):t.apply(e,r))}function _5e(e,t){if(t&&(yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j5e(e)}function j5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UK=function(){return!!e})()}function H0(e){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H0(e)}function S5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YC(e,t)}function YC(e,t){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YC(e,t)}function uj(e,t,r){return t=zK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zK(e){var t=N5e(e,"string");return yh(t)=="symbol"?t:t+""}function N5e(e,t){if(yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dj=function(e){function t(){return x5e(this,t),w5e(this,t,arguments)}return S5e(t,e),b5e(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,a=s.angle,l=s.cx,c=s.cy;return rr(l,c,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,l=n.ticks,c=c5e(l,function(d){return d.coordinate||0}),u=m5e(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,l=n.ticks,c=n.axisLine,u=WL(n,g5e),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=rr(i,s,d[0],a),h=rr(i,s,d[1],a),p=Ic(Ic(Ic({},ze(u,!1)),{},{fill:"none"},ze(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return T.createElement("line",Rm({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=WL(i,v5e),f=this.getTickTextAnchor(),h=ze(d,!1),p=ze(a,!1),g=s.map(function(m,v){var b=n.getTickValueCoord(m),x=Ic(Ic(Ic(Ic({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:m});return T.createElement(yt,Rm({className:ut("recharts-polar-radius-axis-tick",PK(a)),key:"tick-".concat(m.coordinate)},zu(n.props,m,v)),t.renderTickItem(a,x,c?c(m.value,v):m.value))});return T.createElement(yt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,a=n.tick;return!i||!i.length?null:T.createElement(yt,{className:ut("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),hn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return T.isValidElement(n)?a=T.cloneElement(n,i):Xe(n)?a=n(i):a=T.createElement(Wu,Rm({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(y.PureComponent);uj(dj,"displayName","PolarRadiusAxis");uj(dj,"axisType","radiusAxis");uj(dj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jc.apply(this,arguments)}function HL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(r),!0).forEach(function(n){fj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VK(n.key),n)}}function C5e(e,t,r){return t&&qL(e.prototype,t),r&&qL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O5e(e,t,r){return t=q0(t),E5e(e,WK()?Reflect.construct(t,r||[],q0(e).constructor):t.apply(e,r))}function E5e(e,t){if(t&&(xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P5e(e)}function P5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WK=function(){return!!e})()}function q0(e){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q0(e)}function T5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JC(e,t)}function JC(e,t){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JC(e,t)}function fj(e,t,r){return t=VK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VK(e){var t=A5e(e,"string");return xh(t)=="symbol"?t:t+""}function A5e(e,t){if(xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M5e=Math.PI/180,GL=1e-5,hj=function(e){function t(){return k5e(this,t),O5e(this,t,arguments)}return T5e(t,e),C5e(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,a=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=rr(s,a,l,n.coordinate),h=rr(s,a,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*M5e),a;return s>GL?a=i==="outer"?"start":"end":s<-GL?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.radius,l=n.axisLine,c=n.axisLineType,u=Rc(Rc({},ze(this.props,!1)),{},{fill:"none"},ze(l,!1));if(c==="circle")return T.createElement(Qv,Jc({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:a}));var d=this.props.ticks,f=d.map(function(h){return rr(i,s,a,h.coordinate)});return T.createElement(KFe,Jc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=ze(this.props,!1),f=ze(a,!1),h=Rc(Rc({},d),{},{fill:"none"},ze(l,!1)),p=s.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),x=Rc(Rc(Rc({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return T.createElement(yt,Jc({className:ut("recharts-polar-angle-axis-tick",PK(a)),key:"tick-".concat(g.coordinate)},zu(n.props,g,m)),l&&T.createElement("line",Jc({className:"recharts-polar-angle-axis-tick-line"},h,v)),a&&t.renderTickItem(a,x,c?c(g.value,m):g.value))});return T.createElement(yt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,a=n.axisLine;return s<=0||!i||!i.length?null:T.createElement(yt,{className:ut("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var a;return T.isValidElement(n)?a=T.cloneElement(n,i):Xe(n)?a=n(i):a=T.createElement(Wu,Jc({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(y.PureComponent);fj(hj,"displayName","PolarAngleAxis");fj(hj,"axisType","angleAxis");fj(hj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var I5e=Qq,R5e=I5e(Object.getPrototypeOf,Object),$5e=R5e,D5e=nl,L5e=$5e,F5e=il,B5e="[object Object]",U5e=Function.prototype,z5e=Object.prototype,HK=U5e.toString,W5e=z5e.hasOwnProperty,V5e=HK.call(Object);function H5e(e){if(!F5e(e)||D5e(e)!=B5e)return!1;var t=L5e(e);if(t===null)return!0;var r=W5e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&HK.call(r)==V5e}var q5e=H5e;const G5e=kt(q5e);var K5e=nl,Y5e=il,J5e="[object Boolean]";function X5e(e){return e===!0||e===!1||Y5e(e)&&K5e(e)==J5e}var Q5e=X5e;const Z5e=kt(Q5e);function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(this,arguments)}function eBe(e,t){return iBe(e)||nBe(e,t)||rBe(e,t)||tBe()}function tBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rBe(e,t){if(e){if(typeof e=="string")return KL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KL(e,t)}}function KL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function iBe(e){if(Array.isArray(e))return e}function YL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YL(Object(r),!0).forEach(function(n){sBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sBe(e,t,r){return t=aBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aBe(e){var t=oBe(e,"string");return ev(t)=="symbol"?t:t+""}function oBe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XL=function(t,r,n,i,s){var a=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-a/2,",").concat(r+s),l+="L ".concat(t+n-a/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},lBe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cBe=function(t){var r=JL(JL({},lBe),t),n=y.useRef(),i=y.useState(-1),s=eBe(i,2),a=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=ut("recharts-trapezoid",p);return b?T.createElement(ha,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,N=w.lowerWidth,j=w.height,k=w.x,C=w.y;return T.createElement(ha,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},T.createElement("path",G0({},ze(r,!0),{className:x,d:XL(k,C,_,N,j),ref:n})))}):T.createElement("g",null,T.createElement("path",G0({},ze(r,!0),{className:x,d:XL(c,u,d,f,h)})))},uBe=["option","shapeType","propTransformer","activeClassName","isActive"];function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function dBe(e,t){if(e==null)return{};var r=fBe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(n){hBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hBe(e,t,r){return t=pBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pBe(e){var t=mBe(e,"string");return tv(t)=="symbol"?t:t+""}function mBe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gBe(e,t){return K0(K0({},t),e)}function vBe(e,t){return e==="symbols"}function ZL(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return T.createElement(SA,r);case"trapezoid":return T.createElement(cBe,r);case"sector":return T.createElement(MK,r);case"symbols":if(vBe(t))return T.createElement(WT,r);break;default:return null}}function yBe(e){return y.isValidElement(e)?e.props:e}function qK(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?gBe:n,s=e.activeClassName,a=s===void 0?"recharts-active-shape":s,l=e.isActive,c=dBe(e,uBe),u;if(y.isValidElement(t))u=y.cloneElement(t,K0(K0({},c),yBe(t)));else if(Xe(t))u=t(c);else if(G5e(t)&&!Z5e(t)){var d=i(t,c);u=T.createElement(ZL,{shapeType:r,elementProps:d})}else{var f=c;u=T.createElement(ZL,{shapeType:r,elementProps:f})}return l?T.createElement(yt,{className:a},u):u}function pj(e,t){return t!=null&&"trapezoids"in e.props}function mj(e,t){return t!=null&&"sectors"in e.props}function rv(e,t){return t!=null&&"points"in e.props}function xBe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function bBe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function wBe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function _Be(e,t){var r;return pj(e,t)?r=xBe:mj(e,t)?r=bBe:rv(e,t)&&(r=wBe),r}function jBe(e,t){var r;return pj(e,t)?r="trapezoids":mj(e,t)?r="sectors":rv(e,t)&&(r="points"),r}function SBe(e,t){if(pj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return rv(e,t)?t.payload:{}}function NBe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=jBe(r,t),s=SBe(r,t),a=n.filter(function(c,u){var d=Vu(s,c),f=r.props[i].filter(function(g){var m=_Be(r,t);return m(g,t)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(a[a.length-1]);return l}var Yx;function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sf.apply(this,arguments)}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(n){ds(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KK(n.key),n)}}function CBe(e,t,r){return t&&t3(e.prototype,t),r&&t3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OBe(e,t,r){return t=Y0(t),EBe(e,GK()?Reflect.construct(t,r||[],Y0(e).constructor):t.apply(e,r))}function EBe(e,t){if(t&&(bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PBe(e)}function PBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GK=function(){return!!e})()}function Y0(e){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y0(e)}function TBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XC(e,t)}function XC(e,t){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XC(e,t)}function ds(e,t,r){return t=KK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KK(e){var t=ABe(e,"string");return bh(t)=="symbol"?t:t+""}function ABe(e,t){if(bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var al=function(e){function t(r){var n;return kBe(this,t),n=OBe(this,t,[r]),ds(n,"pieRef",null),ds(n,"sectorRefs",[]),ds(n,"id",ad("recharts-pie-")),ds(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xe(i)&&i()}),ds(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return TBe(t,e),CBe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ze(this.props,!1),f=ze(a,!1),h=ze(l,!1),p=a&&a.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,x=rr(m.cx,m.cy,m.outerRadius+p,b),w=Jt(Jt(Jt(Jt({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,m.cx)},x),_=Jt(Jt(Jt(Jt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[rr(m.cx,m.cy,m.outerRadius,b),x]}),N=c;return ct(c)&&ct(u)?N="value":ct(c)&&(N=u),T.createElement(yt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(a,w,Ar(m,N)))});return T.createElement(yt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,a=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?a:h,g=Jt(Jt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return T.createElement(yt,sf({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},zu(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),T.createElement(qK,sf({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return T.createElement(ha,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=s&&s[0],x=b.startAngle;return s.forEach(function(w,_){var N=h&&h[_],j=_>0?Ki(w,"paddingAngle",0):0;if(N){var k=Qr(N.endAngle-N.startAngle,w.endAngle-w.startAngle),C=Jt(Jt({},w),{},{startAngle:x+j,endAngle:x+k(m)+j});v.push(C),x=C.endAngle}else{var P=w.endAngle,A=w.startAngle,I=Qr(0,P-A),M=I(m),z=Jt(Jt({},w),{},{startAngle:x+j,endAngle:x+M+j});v.push(z),x=z.endAngle}}),T.createElement(yt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!Vu(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,a=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!a||!a.length||!ve(u)||!ve(d)||!ve(f)||!ve(h))return null;var m=ut("recharts-pie",l);return T.createElement(yt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(a),hn.renderCallByParent(this.props,null,!1),(!p||g)&&Ga.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(T.isValidElement(n))return T.cloneElement(n,i);if(Xe(n))return n(i);var a=ut("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return T.createElement(ju,sf({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,s){if(T.isValidElement(n))return T.cloneElement(n,i);var a=s;if(Xe(n)&&(a=n(i),T.isValidElement(a)))return a;var l=ut("recharts-pie-label-text",typeof n!="boolean"&&!Xe(n)?n.className:"");return T.createElement(Wu,sf({},i,{alignmentBaseline:"middle",className:l}),a)}}])}(y.PureComponent);Yx=al;ds(al,"displayName","Pie");ds(al,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ds(al,"parseDeltaAngle",function(e,t){var r=Zn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ds(al,"getRealPieData",function(e){var t=e.data,r=e.children,n=ze(e,!1),i=Yi(r,qv);return t&&t.length?t.map(function(s,a){return Jt(Jt(Jt({payload:s},n),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Jt(Jt({},n),s.props)}):[]});ds(al,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,a=EK(i,s),l=n+ei(e.cx,i,i/2),c=r+ei(e.cy,s,s/2),u=ei(e.innerRadius,a,0),d=ei(e.outerRadius,a,a*.8),f=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ds(al,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Jt(Jt({},t.type.defaultProps),t.props):t.props,i=Yx.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,a=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=Yx.parseCoordinateOfPie(n,r),m=Yx.parseDeltaAngle(a,l),v=Math.abs(m),b=u;ct(u)&&ct(f)?(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):ct(u)&&(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var x=i.filter(function(C){return Ar(C,b,0)!==0}).length,w=(v>=360?x:x-1)*c,_=v-x*p-w,N=i.reduce(function(C,P){var A=Ar(P,b,0);return C+(ve(A)?A:0)},0),j;if(N>0){var k;j=i.map(function(C,P){var A=Ar(C,b,0),I=Ar(C,d,P),M=(ve(A)?A:0)/N,z;P?z=k.endAngle+Zn(m)*c*(A!==0?1:0):z=a;var L=z+Zn(m)*((A!==0?p:0)+M*_),W=(z+L)/2,F=(g.innerRadius+g.outerRadius)/2,D=[{name:I,value:A,payload:C,dataKey:b,type:h}],R=rr(g.cx,g.cy,F,W);return k=Jt(Jt(Jt({percent:M,cornerRadius:s,name:I,tooltipPayload:D,midAngle:W,middleRadius:F,tooltipPosition:R},C),g),{},{value:Ar(C,b),startAngle:z,endAngle:L,payload:C,paddingAngle:Zn(m)*c}),k})}return Jt(Jt({},g),{},{sectors:j,data:i})});var MBe=Math.ceil,IBe=Math.max;function RBe(e,t,r,n){for(var i=-1,s=IBe(MBe((t-e)/(r||1)),0),a=Array(s);s--;)a[n?s:++i]=e,e+=r;return a}var $Be=RBe,DBe=vG,r3=1/0,LBe=17976931348623157e292;function FBe(e){if(!e)return e===0?e:0;if(e=DBe(e),e===r3||e===-r3){var t=e<0?-1:1;return t*LBe}return e===e?e:0}var YK=FBe,BBe=$Be,UBe=Q_,_S=YK;function zBe(e){return function(t,r,n){return n&&typeof n!="number"&&UBe(t,r,n)&&(r=n=void 0),t=_S(t),r===void 0?(r=t,t=0):r=_S(r),n=n===void 0?t<r?1:-1:_S(n),BBe(t,r,n,e)}}var WBe=zBe,VBe=WBe,HBe=VBe(),qBe=HBe;const J0=kt(qBe);function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function n3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t,r){return t=GBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GBe(e){var t=KBe(e,"string");return nv(t)=="symbol"?t:t+""}function KBe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YBe=["Webkit","Moz","O","ms"],JBe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=YBe.reduce(function(s,a){return i3(i3({},s),{},JK({},a+n,r))},{});return i[t]=r,i};function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(this,arguments)}function s3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(r),!0).forEach(function(n){Ii(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QK(n.key),n)}}function QBe(e,t,r){return t&&a3(e.prototype,t),r&&a3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZBe(e,t,r){return t=Q0(t),e6e(e,XK()?Reflect.construct(t,r||[],Q0(e).constructor):t.apply(e,r))}function e6e(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t6e(e)}function t6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XK=function(){return!!e})()}function Q0(e){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q0(e)}function r6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QC(e,t)}function QC(e,t){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QC(e,t)}function Ii(e,t,r){return t=QK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=n6e(e,"string");return wh(t)=="symbol"?t:t+""}function n6e(e,t){if(wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i6e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,a=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Tm().domain(J0(0,c)).range([s,s+a-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},o3=function(t){return t.changedTouches&&!!t.changedTouches.length},_h=function(e){function t(r){var n;return XBe(this,t),n=ZBe(this,t,[r]),Ii(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ii(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ii(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,l=i.startIndex;a==null||a({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Ii(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ii(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ii(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ii(n,"handleSlideDragStart",function(i){var s=o3(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return r6e(t,e),QBe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),p=t.getIndexInRange(a,f),g=t.getIndexInRange(a,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,l=i.dataKey,c=Ar(s[n],l,n);return Xe(a)?a(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-f-l,u+d-f-a):m<0&&(m=Math.max(m,u-a,u-l));var v=this.getIndex({startX:a+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:a+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=o3(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-s;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),b[a]=u+x;var w=this.getIndex(b),_=w.startIndex,N=w.endIndex,j=function(){var C=v.length-1;return a==="startX"&&(l>c?_%m===0:N%m===0)||l<c&&N===C||a==="endX"&&(l>c?N%m===0:_%m===0)||l>c&&N===C};this.setState(Ii(Ii({},a,u+x),"brushMoveStartX",n.pageX),function(){g&&j()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,l=a.scaleValues,c=a.startX,u=a.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Ii({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,l=n.height,c=n.fill,u=n.stroke;return T.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:a,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?T.cloneElement(f,{x:i,y:s,width:a,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),x=jS(jS({},ze(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[v])===null||a===void 0?void 0:a.name);return T.createElement(yt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return T.createElement(yt,{className:"recharts-brush-texts"},T.createElement(Wu,X0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+l/2},g),this.getTextOfTick(i)),T.createElement(Wu,X0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:a+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!ve(l)||!ve(c)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var w=ut("recharts-brush",s),_=T.Children.count(a)===1,N=JBe("userSelect","none");return T.createElement(yt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:i,y:s,width:a,height:l,fill:c,stroke:"none"}),T.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return T.isValidElement(n)?s=T.cloneElement(n,i):Xe(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return jS({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a},s&&s.length?i6e({data:s,width:a,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+a-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,l=s-1;l-a>1;){var c=Math.floor((a+l)/2);n[c]>i?l=c:a=c}return i>=n[l]?l:a}}])}(y.PureComponent);Ii(_h,"displayName","Brush");Ii(_h,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var s6e=JT;function a6e(e,t){var r;return s6e(e,function(n,i,s){return r=t(n,i,s),!r}),!!r}var o6e=a6e,l6e=Vq,c6e=so,u6e=o6e,d6e=ki,f6e=Q_;function h6e(e,t,r){var n=d6e(e)?l6e:u6e;return r&&f6e(e,t,r)&&(t=void 0),n(e,c6e(t))}var p6e=h6e;const m6e=kt(p6e);var Ka=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},l3=fG;function g6e(e,t,r){t=="__proto__"&&l3?l3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var v6e=g6e,y6e=v6e,x6e=uG,b6e=so;function w6e(e,t){var r={};return t=b6e(t),x6e(e,function(n,i,s){y6e(r,i,t(n,i,s))}),r}var _6e=w6e;const j6e=kt(_6e);function S6e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var N6e=S6e,k6e=JT;function C6e(e,t){var r=!0;return k6e(e,function(n,i,s){return r=!!t(n,i,s),r}),r}var O6e=C6e,E6e=N6e,P6e=O6e,T6e=so,A6e=ki,M6e=Q_;function I6e(e,t,r){var n=A6e(e)?E6e:P6e;return r&&M6e(e,t,r)&&(t=void 0),n(e,T6e(t))}var R6e=I6e;const ZK=kt(R6e);var $6e=["x","y"];function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZC.apply(this,arguments)}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){D6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D6e(e,t,r){return t=L6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L6e(e){var t=F6e(e,"string");return iv(t)=="symbol"?t:t+""}function F6e(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B6e(e,t){if(e==null)return{};var r=U6e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function z6e(e,t){var r=e.x,n=e.y,i=B6e(e,$6e),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return em(em(em(em(em({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function u3(e){return T.createElement(qK,ZC({shapeType:"rectangle",propTransformer:z6e,activeClassName:"recharts-active-bar"},e))}var W6e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=ve(n)||gSe(n);return s?t(n,i):(s||qu(),r)}},V6e=["value","background"],eY;function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function H6e(e,t){if(e==null)return{};var r=q6e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(this,arguments)}function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){Ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rY(n.key),n)}}function K6e(e,t,r){return t&&f3(e.prototype,t),r&&f3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y6e(e,t,r){return t=ew(t),J6e(e,tY()?Reflect.construct(t,r||[],ew(e).constructor):t.apply(e,r))}function J6e(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X6e(e)}function X6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tY=function(){return!!e})()}function ew(e){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(e)}function Q6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eO(e,t)}function eO(e,t){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eO(e,t)}function Ul(e,t,r){return t=rY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=Z6e(e,"string");return jh(t)=="symbol"?t:t+""}function Z6e(e,t){if(jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ud=function(e){function t(){var r;G6e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Y6e(this,t,[].concat(i)),Ul(r,"state",{isAnimationFinished:!1}),Ul(r,"id",ad("recharts-bar-")),Ul(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),Ul(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return Q6e(t,e),K6e(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=ze(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:a,m=Ur(Ur(Ur({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return T.createElement(yt,Z0({className:"recharts-bar-rectangle"},zu(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),T.createElement(u3,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return T.createElement(ha,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(v,b){var x=h&&h[b];if(x){var w=Qr(x.x,v.x),_=Qr(x.y,v.y),N=Qr(x.width,v.width),j=Qr(x.height,v.height);return Ur(Ur({},v),{},{x:w(g),y:_(g),width:N(g),height:j(g)})}if(a==="horizontal"){var k=Qr(0,v.height),C=k(g);return Ur(Ur({},v),{},{y:v.y+v.height-C,height:C})}var P=Qr(0,v.width),A=P(g);return Ur(Ur({},v),{},{width:A})});return T.createElement(yt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!Vu(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,l=i.activeIndex,c=ze(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=H6e(u,V6e);if(!f)return null;var p=Ur(Ur(Ur(Ur(Ur({},h),{},{fill:"#eee"},f),c),zu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return T.createElement(u3,Z0({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Yi(d,Xv);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:Ar(v,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return T.createElement(yt,g,f.map(function(m){return T.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,b=ut("recharts-bar",a),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=x||w,N=ct(m)?this.id:m;return T.createElement(yt,{className:b},x||w?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(N)},T.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,T.createElement(yt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!p||v)&&Ga.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(y.PureComponent);eY=ud;Ul(ud,"displayName","Bar");Ul(ud,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ul(ud,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,a=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=I4e(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Ur(Ur({},m),r.props):r.props,b=v.dataKey,x=v.children,w=v.minPointSize,_=g==="horizontal"?a:s,N=u?_.scale.domain():null,j=U4e({numericAxis:_}),k=Yi(x,qv),C=f.map(function(P,A){var I,M,z,L,W,F;u?I=R4e(u[d+A],N):(I=Ar(P,b),Array.isArray(I)||(I=[j,I]));var D=W6e(w,eY.defaultProps.minPointSize)(I[1],A);if(g==="horizontal"){var R,B=[a.scale(I[0]),a.scale(I[1])],K=B[0],ee=B[1];M=iL({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:P,index:A}),z=(R=ee??K)!==null&&R!==void 0?R:void 0,L=p.size;var te=K-ee;if(W=Number.isNaN(te)?0:te,F={x:M,y:a.y,width:L,height:a.height},Math.abs(D)>0&&Math.abs(W)<Math.abs(D)){var S=Zn(W||D)*(Math.abs(D)-Math.abs(W));z-=S,W+=S}}else{var O=[s.scale(I[0]),s.scale(I[1])],E=O[0],U=O[1];if(M=E,z=iL({axis:a,ticks:c,bandSize:i,offset:p.offset,entry:P,index:A}),L=U-E,W=p.size,F={x:s.x,y:z,width:s.width,height:W},Math.abs(D)>0&&Math.abs(L)<Math.abs(D)){var $=Zn(L||D)*(Math.abs(D)-Math.abs(L));L+=$}}return Ur(Ur(Ur({},P),{},{x:M,y:z,width:L,height:W,value:u?I:I[1],payload:P,background:F},k&&k[A]&&k[A].props),{},{tooltipPayload:[CK(r,P)],tooltipPosition:{x:M+L/2,y:z+W/2}})});return Ur({data:C,layout:g},h)});function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function eUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nY(n.key),n)}}function tUe(e,t,r){return t&&h3(e.prototype,t),r&&h3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){gj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gj(e,t,r){return t=nY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nY(e){var t=rUe(e,"string");return sv(t)=="symbol"?t:t+""}function rUe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NA=function(t,r,n,i,s){var a=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!$i(u,ud);return d.reduce(function(p,g){var m=r[g],v=m.orientation,b=m.domain,x=m.padding,w=x===void 0?{}:x,_=m.mirror,N=m.reversed,j="".concat(v).concat(_?"Mirror":""),k,C,P,A,I;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var M=b[1]-b[0],z=1/0,L=m.categoricalDomain.sort(xSe);if(L.forEach(function(O,E){E>0&&(z=Math.min((O||0)-(L[E-1]||0),z))}),Number.isFinite(z)){var W=z/M,F=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=W*F/2),m.padding==="no-gap"){var D=ei(t.barCategoryGap,W*F),R=W*F/2;k=R-D-(R-D)/F*D}}}i==="xAxis"?C=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:i==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:C=m.range,N&&(C=[C[1],C[0]]);var B=jK(m,s,h),K=B.scale,ee=B.realScaleType;K.domain(b).range(C),SK(K);var te=NK(K,Hs(Hs({},m),{},{realScaleType:ee}));i==="xAxis"?(I=v==="top"&&!_||v==="bottom"&&_,P=n.left,A=f[j]-I*m.height):i==="yAxis"&&(I=v==="left"&&!_||v==="right"&&_,P=f[j]-I*m.width,A=n.top);var S=Hs(Hs(Hs({},m),te),{},{realScaleType:ee,x:P,y:A,scale:K,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return S.bandSize=D0(S,te),!m.hide&&i==="xAxis"?f[j]+=(I?-1:1)*S.height:m.hide||(f[j]+=(I?-1:1)*S.width),Hs(Hs({},p),{},gj({},g,S))},{})},iY=function(t,r){var n=t.x,i=t.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},nUe=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return iY({x:r,y:n},{x:i,y:s})},sY=function(){function e(t){eUe(this,e),this.scale=t}return tUe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();gj(sY,"EPS",1e-4);var kA=function(t){var r=Object.keys(t).reduce(function(n,i){return Hs(Hs({},n),{},gj({},i,sY.create(t[i])))},{});return Hs(Hs({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,l=s.position;return j6e(i,function(c,u){return r[u].apply(c,{bandAware:a,position:l})})},isInRange:function(i){return ZK(i,function(s,a){return r[a].isInRange(s)})}})};function iUe(e){return(e%180+180)%180}var sUe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=iUe(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},aUe=so,oUe=Hv,lUe=J_;function cUe(e){return function(t,r,n){var i=Object(t);if(!oUe(t)){var s=aUe(r);t=lUe(t),r=function(l){return s(i[l],l,i)}}var a=e(t,r,n);return a>-1?i[s?t[a]:a]:void 0}}var uUe=cUe,dUe=YK;function fUe(e){var t=dUe(e),r=t%1;return t===t?r?t-r:t:0}var hUe=fUe,pUe=iG,mUe=so,gUe=hUe,vUe=Math.max;function yUe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:gUe(r);return i<0&&(i=vUe(n+i,0)),pUe(e,mUe(t),i)}var xUe=yUe,bUe=uUe,wUe=xUe,_Ue=bUe(wUe),jUe=_Ue;const SUe=kt(jUe);var NUe=_1e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),CA=y.createContext(void 0),OA=y.createContext(void 0),aY=y.createContext(void 0),oY=y.createContext({}),lY=y.createContext(void 0),cY=y.createContext(0),uY=y.createContext(0),m3=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=t.clipPathId,l=t.children,c=t.width,u=t.height,d=NUe(s);return T.createElement(CA.Provider,{value:n},T.createElement(OA.Provider,{value:i},T.createElement(oY.Provider,{value:s},T.createElement(aY.Provider,{value:d},T.createElement(lY.Provider,{value:a},T.createElement(cY.Provider,{value:u},T.createElement(uY.Provider,{value:c},l)))))))},kUe=function(){return y.useContext(lY)},dY=function(t){var r=y.useContext(CA);r==null&&qu();var n=r[t];return n==null&&qu(),n},CUe=function(){var t=y.useContext(CA);return El(t)},OUe=function(){var t=y.useContext(OA),r=SUe(t,function(n){return ZK(n.domain,Number.isFinite)});return r||El(t)},fY=function(t){var r=y.useContext(OA);r==null&&qu();var n=r[t];return n==null&&qu(),n},EUe=function(){var t=y.useContext(aY);return t},PUe=function(){return y.useContext(oY)},EA=function(){return y.useContext(uY)},PA=function(){return y.useContext(cY)};function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function TUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pY(n.key),n)}}function MUe(e,t,r){return t&&AUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IUe(e,t,r){return t=tw(t),RUe(e,hY()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function RUe(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ue(e)}function $Ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hY=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function DUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tO(e,t)}function tO(e,t){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tO(e,t)}function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(n){TA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TA(e,t,r){return t=pY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=LUe(e,"string");return Sh(t)=="symbol"?t:t+""}function LUe(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FUe(e,t){return WUe(e)||zUe(e,t)||UUe(e,t)||BUe()}function BUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UUe(e,t){if(e){if(typeof e=="string")return y3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y3(e,t)}}function y3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function WUe(e){if(Array.isArray(e))return e}function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rO.apply(this,arguments)}var VUe=function(t,r){var n;return T.isValidElement(t)?n=T.cloneElement(t,r):Xe(t)?n=t(r):n=T.createElement("line",rO({},r,{className:"recharts-reference-line-line"})),n},HUe=function(t,r,n,i,s,a,l,c,u){var d=s.x,f=s.y,h=s.width,p=s.height;if(n){var g=u.y,m=t.y.apply(g,{position:a});if(Ka(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var b=u.x,x=t.x.apply(b,{position:a});if(Ka(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+p},{x,y:f}];return l==="top"?w.reverse():w}if(i){var _=u.segment,N=_.map(function(j){return t.apply(j,{position:a})});return Ka(u,"discard")&&m6e(N,function(j){return!t.isInRange(j)})?null:N}return null};function qUe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,a=e.shape,l=e.className,c=e.alwaysShow,u=kUe(),d=dY(i),f=fY(s),h=EUe();if(!u||!h)return null;na(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=kA({x:d.scale,y:f.scale}),g=tn(t),m=tn(r),v=n&&n.length===2,b=HUe(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=FUe(b,2),w=x[0],_=w.x,N=w.y,j=x[1],k=j.x,C=j.y,P=Ka(e,"hidden")?"url(#".concat(u,")"):void 0,A=v3(v3({clipPath:P},ze(e,!0)),{},{x1:_,y1:N,x2:k,y2:C});return T.createElement(yt,{className:ut("recharts-reference-line",l)},VUe(a,A),hn.renderCallByParent(e,nUe({x1:_,y1:N,x2:k,y2:C})))}var AA=function(e){function t(){return TUe(this,t),IUe(this,t,arguments)}return DUe(t,e),MUe(t,[{key:"render",value:function(){return T.createElement(qUe,this.props)}}])}(T.Component);TA(AA,"displayName","ReferenceLine");TA(AA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(this,arguments)}function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function x3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(r),!0).forEach(function(n){vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gY(n.key),n)}}function YUe(e,t,r){return t&&KUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JUe(e,t,r){return t=rw(t),XUe(e,mY()?Reflect.construct(t,r||[],rw(e).constructor):t.apply(e,r))}function XUe(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QUe(e)}function QUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mY=function(){return!!e})()}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}function ZUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iO(e,t)}function iO(e,t){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iO(e,t)}function vj(e,t,r){return t=gY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e){var t=e8e(e,"string");return Nh(t)=="symbol"?t:t+""}function e8e(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var t8e=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,a=kA({x:i.scale,y:s.scale}),l=a.apply({x:r,y:n},{bandAware:!0});return Ka(t,"discard")&&!a.isInRange(l)?null:l},yj=function(e){function t(){return GUe(this,t),JUe(this,t,arguments)}return ZUe(t,e),YUe(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,l=n.alwaysShow,c=n.clipPathId,u=tn(i),d=tn(s);if(na(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=t8e(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,b=Ka(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=b3(b3({clipPath:b},ze(this.props,!0)),{},{cx:h,cy:p});return T.createElement(yt,{className:ut("recharts-reference-dot",v)},t.renderDot(m,x),hn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(T.Component);vj(yj,"displayName","ReferenceDot");vj(yj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vj(yj,"renderDot",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):Xe(e)?r=e(t):r=T.createElement(Qv,nO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function sO(){return sO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sO.apply(this,arguments)}function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(n){xj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yY(n.key),n)}}function i8e(e,t,r){return t&&n8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s8e(e,t,r){return t=nw(t),a8e(e,vY()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function a8e(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o8e(e)}function o8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vY=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function l8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aO(e,t)}function aO(e,t){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aO(e,t)}function xj(e,t,r){return t=yY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=c8e(e,"string");return kh(t)=="symbol"?t:t+""}function c8e(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u8e=function(t,r,n,i,s){var a=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=kA({x:d.scale,y:f.scale}),p={x:t?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ka(s,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:iY(p,g)},bj=function(e){function t(){return r8e(this,t),s8e(this,t,arguments)}return l8e(t,e),i8e(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;na(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=tn(i),h=tn(s),p=tn(a),g=tn(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=u8e(f,h,p,g,this.props);if(!v&&!m)return null;var b=Ka(this.props,"hidden")?"url(#".concat(d,")"):void 0;return T.createElement(yt,{className:ut("recharts-reference-area",c)},t.renderRect(m,_3(_3({clipPath:b},ze(this.props,!0)),v)),hn.renderCallByParent(this.props,v))}}])}(T.Component);xj(bj,"displayName","ReferenceArea");xj(bj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xj(bj,"renderRect",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):Xe(e)?r=e(t):r=T.createElement(SA,sO({},t,{className:"recharts-reference-area-rect"})),r});function xY(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function d8e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sUe(n,r)}function f8e(e,t,r){var n=r==="width",i=e.x,s=e.y,a=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function iw(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function h8e(e,t){return xY(e,t+1)}function p8e(e,t,r,n,i){for(var s=(n||[]).slice(),a=t.start,l=t.end,c=0,u=1,d=a,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:xY(n,u)};var m=c,v,b=function(){return v===void 0&&(v=r(g,m)),v},x=g.coordinate,w=c===0||iw(e,x,b,d,l);w||(c=0,d=a,u+=1),w&&(d=x+e*(b()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){m8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m8e(e,t,r){return t=g8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g8e(e){var t=v8e(e,"string");return av(t)=="symbol"?t:t+""}function v8e(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y8e(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,l=t.start,c=t.end,u=function(h){var p=s[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===a-1){var v=e*(p.coordinate+e*m()/2-c);s[h]=p=Tn(Tn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else s[h]=p=Tn(Tn({},p),{},{tickCoord:p.coordinate});var b=iw(e,p.tickCoord,m,l,c);b&&(c=p.tickCoord-e*(m()/2+i),s[h]=Tn(Tn({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function x8e(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=Tn(Tn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=iw(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+i),a[l-1]=Tn(Tn({},d),{},{isShow:!0}))}for(var g=s?l-1:l,m=function(x){var w=a[x],_,N=function(){return _===void 0&&(_=r(w,x)),_};if(x===0){var j=e*(w.coordinate-e*N()/2-c);a[x]=w=Tn(Tn({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else a[x]=w=Tn(Tn({},w),{},{tickCoord:w.coordinate});var k=iw(e,w.tickCoord,N,c,u);k&&(c=w.tickCoord+e*(N()/2+i),a[x]=Tn(Tn({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return a}function MA(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,a=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(ve(c)||wc.isSsr)return h8e(i,typeof c=="number"&&ve(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Pm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,_){var N=Xe(u)?u(w.value,_):w.value;return p==="width"?d8e(Pm(N,{fontSize:t,letterSpacing:r}),g,f):Pm(N,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?Zn(i[1].coordinate-i[0].coordinate):1,b=f8e(s,v,p);return c==="equidistantPreserveStart"?p8e(v,b,m,i,a):(c==="preserveStart"||c==="preserveStartEnd"?h=x8e(v,b,m,i,a,c==="preserveStartEnd"):h=y8e(v,b,m,i,a),h.filter(function(x){return x.isShow}))}var b8e=["viewBox"],w8e=["viewBox"],_8e=["ticks"];function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(this,arguments)}function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(n){IA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SS(e,t){if(e==null)return{};var r=j8e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wY(n.key),n)}}function N8e(e,t,r){return t&&N3(e.prototype,t),r&&N3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k8e(e,t,r){return t=sw(t),C8e(e,bY()?Reflect.construct(t,r||[],sw(e).constructor):t.apply(e,r))}function C8e(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O8e(e)}function O8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bY=function(){return!!e})()}function sw(e){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(e)}function E8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oO(e,t)}function oO(e,t){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oO(e,t)}function IA(e,t,r){return t=wY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=P8e(e,"string");return Ch(t)=="symbol"?t:t+""}function P8e(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yp=function(e){function t(r){var n;return S8e(this,t),n=k8e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return E8e(t,e),N8e(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=SS(n,b8e),l=this.props,c=l.viewBox,u=SS(l,w8e);return!jf(s,c)||!jf(a,u)||!jf(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,g,m,v,b,x,w=f?-1:1,_=n.tickSize||d,N=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=a+ +!f*c,m=v-w*_,x=m-w*h,b=N;break;case"left":m=v=n.coordinate,g=s+ +!f*l,p=g-w*_,b=p-w*h,x=N;break;case"right":m=v=n.coordinate,g=s+ +f*l,p=g+w*_,b=p+w*h,x=N;break;default:p=g=n.coordinate,v=a+ +f*c,m=v+w*_,x=m+w*h,b=N;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Kr(Kr(Kr({},ze(this.props,!1)),ze(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Kr(Kr({},f),{},{x1:i,y1:s+h*l,x2:i+a,y2:s+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Kr(Kr({},f),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+l})}return T.createElement("line",af({},f,{className:ut("recharts-cartesian-axis-line",Ki(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=MA(Kr(Kr({},this.props),{},{ticks:n}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=ze(this.props,!1),b=ze(d,!1),x=Kr(Kr({},v),{},{fill:"none"},ze(c,!1)),w=p.map(function(_,N){var j=a.getTickLineCoord(_),k=j.line,C=j.tick,P=Kr(Kr(Kr(Kr({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},b),C),{},{index:N,payload:_,visibleTicksCount:p.length,tickFormatter:f});return T.createElement(yt,af({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},zu(a.props,_,N)),c&&T.createElement("line",af({},x,k,{className:ut("recharts-cartesian-axis-tick-line",Ki(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(Xe(f)?f(_.value,N):_.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=SS(f,_8e),g=h;return Xe(c)&&(g=h&&h.length>0?c(this.props):c(p)),a<=0||l<=0||!g||!g.length?null:T.createElement(yt,{className:ut("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),hn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a,l=ut(i.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(n)?a=T.cloneElement(n,Kr(Kr({},i),{},{className:l})):Xe(n)?a=n(Kr(Kr({},i),{},{className:l})):a=T.createElement(Wu,af({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(y.Component);IA(yp,"displayName","CartesianAxis");IA(yp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var T8e=["x1","y1","x2","y2","key"],A8e=["offset"];function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function k3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(r),!0).forEach(function(n){M8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M8e(e,t,r){return t=I8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I8e(e){var t=R8e(e,"string");return Gu(t)=="symbol"?t:t+""}function R8e(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(this,arguments)}function C3(e,t){if(e==null)return{};var r=$8e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var D8e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,a=t.width,l=t.height,c=t.ry;return T.createElement("rect",{x:i,y:s,ry:c,width:a,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _Y(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(Xe(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,a=t.y2,l=t.key,c=C3(t,T8e),u=ze(c,!1);u.offset;var d=C3(u,A8e);r=T.createElement("line",ou({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function L8e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=$n($n({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return _Y(i,u)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function F8e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(l,c){var u=$n($n({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return _Y(i,u)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function B8e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,a=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+a-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function U8e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,a=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var z8e=function(t,r){var n=t.xAxis,i=t.width,s=t.height,a=t.offset;return _K(MA($n($n($n({},yp.defaultProps),n),{},{ticks:Oo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,r)},W8e=function(t,r){var n=t.yAxis,i=t.width,s=t.height,a=t.offset;return _K(MA($n($n($n({},yp.defaultProps),n),{},{ticks:Oo(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,r)},Pd={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function wj(e){var t,r,n,i,s,a,l=EA(),c=PA(),u=PUe(),d=$n($n({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Pd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Pd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Pd.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Pd.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Pd.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:Pd.verticalFill,x:ve(e.x)?e.x:u.left,y:ve(e.y)?e.y:u.top,width:ve(e.width)?e.width:u.width,height:ve(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=CUe(),w=OUe();if(!ve(p)||p<=0||!ve(g)||g<=0||!ve(f)||f!==+f||!ve(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||z8e,N=d.horizontalCoordinatesGenerator||W8e,j=d.horizontalPoints,k=d.verticalPoints;if((!j||!j.length)&&Xe(N)){var C=v&&v.length,P=N({yAxis:w?$n($n({},w),{},{ticks:C?v:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);na(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Gu(P),"]")),Array.isArray(P)&&(j=P)}if((!k||!k.length)&&Xe(_)){var A=b&&b.length,I=_({xAxis:x?$n($n({},x),{},{ticks:A?b:x.ticks}):void 0,width:l,height:c,offset:u},A?!0:m);na(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Gu(I),"]")),Array.isArray(I)&&(k=I)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(D8e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),T.createElement(L8e,ou({},d,{offset:u,horizontalPoints:j,xAxis:x,yAxis:w})),T.createElement(F8e,ou({},d,{offset:u,verticalPoints:k,xAxis:x,yAxis:w})),T.createElement(B8e,ou({},d,{horizontalPoints:j})),T.createElement(U8e,ou({},d,{verticalPoints:k})))}wj.displayName="CartesianGrid";var V8e=["type","layout","connectNulls","ref"],H8e=["key"];function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function O3(e,t){if(e==null)return{};var r=q8e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}function E3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(r),!0).forEach(function(n){qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Td(e){return J8e(e)||Y8e(e)||K8e(e)||G8e()}function G8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8e(e,t){if(e){if(typeof e=="string")return lO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lO(e,t)}}function Y8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J8e(e){if(Array.isArray(e))return lO(e)}function lO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SY(n.key),n)}}function Q8e(e,t,r){return t&&P3(e.prototype,t),r&&P3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z8e(e,t,r){return t=aw(t),eze(e,jY()?Reflect.construct(t,r||[],aw(e).constructor):t.apply(e,r))}function eze(e,t){if(t&&(Oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tze(e)}function tze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jY=function(){return!!e})()}function aw(e){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(e)}function rze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cO(e,t)}function cO(e,t){return cO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cO(e,t)}function qs(e,t,r){return t=SY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=nze(e,"string");return Oh(t)=="symbol"?t:t+""}function nze(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zv=function(e){function t(){var r;X8e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Z8e(this,t,[].concat(i)),qs(r,"state",{isAnimationFinished:!0,totalLength:0}),qs(r,"generateSimpleStrokeDasharray",function(a,l){return"".concat(l,"px ").concat(a-l,"px")}),qs(r,"getStrokeDasharray",function(a,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(l,a);for(var d=Math.floor(a/u),f=a%u,h=l-a,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(Td(c.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Td(t.repeat(c,d)),Td(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),qs(r,"id",ad("recharts-line-")),qs(r,"pathRef",function(a){r.mainCurve=a}),qs(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),qs(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return rze(t,e),Q8e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Yi(d,Xv);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Ar(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return T.createElement(yt,p,f.map(function(g){return T.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ze(this.props,!1),h=ze(c,!0),p=u.map(function(m,v){var b=Mi(Mi(Mi({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return T.createElement(yt,$m({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,i,s,a){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=O3(l,V8e),h=Mi(Mi(Mi({},ze(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},a),{},{type:c,layout:u,connectNulls:d});return T.createElement(ju,$m({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,a=this.props,l=a.points,c=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,g=a.animateNewValues,m=a.width,v=a.height,b=this.state,x=b.prevPoints,w=b.totalLength;return T.createElement(ha,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(x){var j=x.length/l.length,k=l.map(function(M,z){var L=Math.floor(z*j);if(x[L]){var W=x[L],F=Qr(W.x,M.x),D=Qr(W.y,M.y);return Mi(Mi({},M),{},{x:F(N),y:D(N)})}if(g){var R=Qr(m*2,M.x),B=Qr(v/2,M.y);return Mi(Mi({},M),{},{x:R(N),y:B(N)})}return Mi(Mi({},M),{},{x:M.x,y:M.y})});return s.renderCurveStatically(k,n,i)}var C=Qr(0,w),P=C(N),A;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});A=s.getStrokeDasharray(P,w,I)}else A=s.generateSimpleStrokeDasharray(w,P);return s.renderCurveStatically(l,n,i,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,i){var s=this.props,a=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&a&&a.length&&(!u&&d>0||!Vu(u,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=ut("recharts-line",c),_=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,j=_||N,k=ct(v)?this.id:v,C=(n=ze(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=C.r,A=P===void 0?3:P,I=C.strokeWidth,M=I===void 0?2:I,z=mq(a)?a:{},L=z.clipDot,W=L===void 0?!0:L,F=A*2+M;return T.createElement(yt,{className:w},_||N?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(k)},T.createElement("rect",{x:_?h:h-p/2,y:N?f:f-g/2,width:_?p:p*2,height:N?g:g*2})),!W&&T.createElement("clipPath",{id:"clipPath-dots-".concat(k)},T.createElement("rect",{x:h-F/2,y:f-F/2,width:p+F,height:g+F}))):null,!x&&this.renderCurve(j,k),this.renderErrorBar(j,k),(x||a)&&this.renderDots(j,W,k),(!m||b)&&Ga.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Td(n),[0]):n,a=[],l=0;l<i;++l)a=[].concat(Td(a),Td(s));return a}},{key:"renderDotItem",value:function(n,i){var s;if(T.isValidElement(n))s=T.cloneElement(n,i);else if(Xe(n))s=n(i);else{var a=i.key,l=O3(i,H8e),c=ut("recharts-line-dot",typeof n!="boolean"?n.className:"");s=T.createElement(Qv,$m({key:a},l,{className:c}))}return s}}])}(y.PureComponent);qs(Zv,"displayName","Line");qs(Zv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});qs(Zv,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,a=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=Ar(h,a);return d==="horizontal"?{x:$0({axis:r,ticks:i,bandSize:l,entry:h,index:p}),y:ct(g)?null:n.scale(g),value:g,payload:h}:{x:ct(g)?null:r.scale(g),y:$0({axis:n,ticks:s,bandSize:l,entry:h,index:p}),value:g,payload:h}});return Mi({points:f,layout:d},u)});var ize=["layout","type","stroke","connectNulls","isRange","ref"],sze=["key"],NY;function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function kY(e,t){if(e==null)return{};var r=aze(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){Ua(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OY(n.key),n)}}function lze(e,t,r){return t&&A3(e.prototype,t),r&&A3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cze(e,t,r){return t=ow(t),uze(e,CY()?Reflect.construct(t,r||[],ow(e).constructor):t.apply(e,r))}function uze(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dze(e)}function dze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CY=function(){return!!e})()}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}function fze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uO(e,t)}function uO(e,t){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uO(e,t)}function Ua(e,t,r){return t=OY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=hze(e,"string");return Eh(t)=="symbol"?t:t+""}function hze(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xo=function(e){function t(){var r;oze(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=cze(this,t,[].concat(i)),Ua(r,"state",{isAnimationFinished:!0}),Ua(r,"id",ad("recharts-area-")),Ua(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Xe(a)&&a()}),Ua(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Xe(a)&&a()}),r}return fze(t,e),lze(t,[{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(a&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=ze(this.props,!1),p=ze(u,!0),g=d.map(function(v,b){var x=vl(vl(vl({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,x)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return T.createElement(yt,lu({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].x,u=a[a.length-1].x,d=n*Math.abs(c-u),f=Bl(a.map(function(h){return h.y||0}));return ve(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Bl(s.map(function(h){return h.y||0})),f)),ve(f)?T.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,s=i.baseLine,a=i.points,l=i.strokeWidth,c=a[0].y,u=a[a.length-1].y,d=n*Math.abs(c-u),f=Bl(a.map(function(h){return h.x||0}));return ve(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(Bl(s.map(function(h){return h.x||0})),f)),ve(f)?T.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,s,a){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=kY(l,ize);return T.createElement(yt,{clipPath:s?"url(#clipPath-".concat(a,")"):null},T.createElement(ju,lu({},ze(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&T.createElement(ju,lu({},ze(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&T.createElement(ju,lu({},ze(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var s=this,a=this.props,l=a.points,c=a.baseLine,u=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,p=a.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return T.createElement(ha,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(m){var w=m.length/l.length,_=l.map(function(C,P){var A=Math.floor(P*w);if(m[A]){var I=m[A],M=Qr(I.x,C.x),z=Qr(I.y,C.y);return vl(vl({},C),{},{x:M(x),y:z(x)})}return C}),N;if(ve(c)&&typeof c=="number"){var j=Qr(v,c);N=j(x)}else if(ct(c)||dp(c)){var k=Qr(v,0);N=k(x)}else N=c.map(function(C,P){var A=Math.floor(P*w);if(v[A]){var I=v[A],M=Qr(I.x,C.x),z=Qr(I.y,C.y);return vl(vl({},C),{},{x:M(x),y:z(x)})}return C});return s.renderAreaStatically(_,N,n,i)}return T.createElement(yt,null,T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(x))),T.createElement(yt,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var s=this.props,a=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&a&&a.length&&(!d&&h>0||!Vu(d,a)||!Vu(f,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(a,l,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=ut("recharts-area",c),_=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,j=_||N,k=ct(v)?this.id:v,C=(n=ze(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=C.r,A=P===void 0?3:P,I=C.strokeWidth,M=I===void 0?2:I,z=mq(a)?a:{},L=z.clipDot,W=L===void 0?!0:L,F=A*2+M;return T.createElement(yt,{className:w},_||N?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(k)},T.createElement("rect",{x:_?d:d-p/2,y:N?u:u-g/2,width:_?p:p*2,height:N?g:g*2})),!W&&T.createElement("clipPath",{id:"clipPath-dots-".concat(k)},T.createElement("rect",{x:d-F/2,y:u-F/2,width:p+F,height:g+F}))):null,x?null:this.renderArea(j,k),(a||x)&&this.renderDots(j,W,k),(!m||b)&&Ga.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(y.PureComponent);NY=Xo;Ua(Xo,"displayName","Area");Ua(Xo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!wc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ua(Xo,"getBaseValue",function(e,t,r,n){var i=e.layout,s=e.baseValue,a=t.props.baseValue,l=a??s;if(ve(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ua(Xo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=NY.getBaseValue(t,r,n,i),v=p==="horizontal",b=!1,x=f.map(function(_,N){var j;g?j=u[d+N]:(j=Ar(_,c),Array.isArray(j)?b=!0:j=[m,j]);var k=j[1]==null||g&&Ar(_,c)==null;return v?{x:$0({axis:n,ticks:s,bandSize:l,entry:_,index:N}),y:k?null:i.scale(j[1]),value:j,payload:_}:{x:k?null:n.scale(j[1]),y:$0({axis:i,ticks:a,bandSize:l,entry:_,index:N}),value:j,payload:_}}),w;return g||b?w=x.map(function(_){var N=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:N!=null&&_.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:_.y}}):w=v?i.scale(m):n.scale(m),vl({points:x,baseLine:w,layout:p,isRange:b},h)});Ua(Xo,"renderDotItem",function(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(Xe(e))r=e(t);else{var n=ut("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,s=kY(t,sze);r=T.createElement(Qv,lu({},s,{key:i,className:n}))}return r});function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function pze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TY(n.key),n)}}function gze(e,t,r){return t&&mze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vze(e,t,r){return t=lw(t),yze(e,EY()?Reflect.construct(t,r||[],lw(e).constructor):t.apply(e,r))}function yze(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xze(e)}function xze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EY=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}function bze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dO(e,t)}function dO(e,t){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dO(e,t)}function PY(e,t,r){return t=TY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=wze(e,"string");return Ph(t)=="symbol"?t:t+""}function wze(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fO.apply(this,arguments)}function _ze(e){var t=e.xAxisId,r=EA(),n=PA(),i=dY(t);return i==null?null:y.createElement(yp,fO({},i,{className:ut("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Oo(a,!0)}}))}var Nc=function(e){function t(){return pze(this,t),vze(this,t,arguments)}return bze(t,e),gze(t,[{key:"render",value:function(){return y.createElement(_ze,this.props)}}])}(y.Component);PY(Nc,"displayName","XAxis");PY(Nc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function jze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IY(n.key),n)}}function Nze(e,t,r){return t&&Sze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kze(e,t,r){return t=cw(t),Cze(e,AY()?Reflect.construct(t,r||[],cw(e).constructor):t.apply(e,r))}function Cze(e,t){if(t&&(Th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oze(e)}function Oze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AY=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}function Eze(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hO(e,t)}function hO(e,t){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hO(e,t)}function MY(e,t,r){return t=IY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IY(e){var t=Pze(e,"string");return Th(t)=="symbol"?t:t+""}function Pze(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pO(){return pO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pO.apply(this,arguments)}var Tze=function(t){var r=t.yAxisId,n=EA(),i=PA(),s=fY(r);return s==null?null:y.createElement(yp,pO({},s,{className:ut("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Oo(l,!0)}}))},kc=function(e){function t(){return jze(this,t),kze(this,t,arguments)}return Eze(t,e),Nze(t,[{key:"render",value:function(){return y.createElement(Tze,this.props)}}])}(y.Component);MY(kc,"displayName","YAxis");MY(kc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M3(e){return Rze(e)||Ize(e)||Mze(e)||Aze()}function Aze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mze(e,t){if(e){if(typeof e=="string")return mO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mO(e,t)}}function Ize(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rze(e){if(Array.isArray(e))return mO(e)}function mO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gO=function(t,r,n,i,s){var a=Yi(t,AA),l=Yi(t,yj),c=[].concat(M3(a),M3(l)),u=Yi(t,bj),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&Ka(v.props,"extendDomain")&&ve(v.props[f])){var b=v.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Ka(v.props,"extendDomain")&&ve(v.props[p])&&ve(v.props[g])){var b=v.props[p],x=v.props[g];return[Math.min(m[0],b,x),Math.max(m[1],b,x)]}return m},h)}return s&&s.length&&(h=s.reduce(function(m,v){return ve(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},RY={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var _=v.length,N;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(N=1,x=new Array(b-1);N<b;N++)x[N-1]=arguments[N];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,p);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(RY);var $ze=RY.exports;const Dze=kt($ze);var NS=new Dze,kS="recharts.syncMouseEvents";function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Lze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$Y(n.key),n)}}function Bze(e,t,r){return t&&Fze(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CS(e,t,r){return t=$Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=Uze(e,"string");return ov(t)=="symbol"?t:t+""}function Uze(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zze=function(){function e(){Lze(this,e),CS(this,"activeIndex",0),CS(this,"coordinateList",[]),CS(this,"layout","horizontal")}return Bze(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,l=a===void 0?null:a,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=a+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Wze(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function Vze(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function DY(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,a=rr(t,r,n,i),l=rr(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function Hze(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=rr(l,c,u,f),p=rr(l,c,d,f);n=h.x,i=h.y,s=p.x,a=p.y}else return DY(t);return[{x:n,y:i},{x:s,y:a}]}function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){qze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qze(e,t,r){return t=Gze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gze(e){var t=Kze(e,"string");return lv(t)=="symbol"?t:t+""}function Kze(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yze(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,a=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,m=ju;if(h==="ScatterChart")g=a,m=n5e;else if(h==="BarChart")g=Vze(f,a,c,d),m=SA;else if(f==="radial"){var v=DY(a),b=v.cx,x=v.cy,w=v.radius,_=v.startAngle,N=v.endAngle;g={cx:b,cy:x,startAngle:_,endAngle:N,innerRadius:w,outerRadius:w},m=MK}else g={points:Hze(f,a,c)},m=ju;var j=nx(nx(nx(nx({stroke:"#ccc",pointerEvents:"none"},c),g),ze(p,!1)),{},{payload:l,payloadIndex:u,className:ut("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,j):y.createElement(m,j)}var Jze=["item"],Xze=["children","className","width","height","style","compact","title","desc"];function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(this,arguments)}function R3(e,t){return eWe(e)||Zze(e,t)||FY(e,t)||Qze()}function Qze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zze(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}function eWe(e){if(Array.isArray(e))return e}function $3(e,t){if(e==null)return{};var r=tWe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nWe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BY(n.key),n)}}function iWe(e,t,r){return t&&nWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sWe(e,t,r){return t=uw(t),aWe(e,LY()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function aWe(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oWe(e)}function oWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LY=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}function lWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vO(e,t)}function vO(e,t){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vO(e,t)}function Mh(e){return dWe(e)||uWe(e)||FY(e)||cWe()}function cWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FY(e,t){if(e){if(typeof e=="string")return yO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yO(e,t)}}function uWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dWe(e){if(Array.isArray(e))return yO(e)}function yO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){Ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ye(e,t,r){return t=BY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=fWe(e,"string");return Ah(t)=="symbol"?t:t+""}function fWe(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hWe={xAxis:["bottom","top"],yAxis:["left","right"]},pWe={width:"100%",height:"100%"},UY={x:0,y:0};function ix(e){return e}var mWe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},gWe=function(t,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var a=s.coordinate,l=i.radius;return se(se(se({},i),rr(i.cx,i.cy,l,a)),{},{angle:a,radius:l})}var c=s.coordinate,u=i.angle;return se(se(se({},i),rr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return UY},_j=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Mh(l),Mh(u)):l},[]);return a.length>0?a:t&&t.length&&ve(i)&&ve(s)?t.slice(i,s+1):[]};function zY(e){return e==="number"?[0,"auto"]:void 0}var xO=function(t,r,n,i){var s=t.graphicalItems,a=t.tooltipAxis,l=_j(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?l:f;h=o0(p,a.dataKey,i)}else h=f&&f[n]||l[n];return h?[].concat(Mh(c),[CK(u,h)]):c},[])},L3=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},a=mWe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=O4e(a,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=xO(t,r,d,f),p=gWe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},vWe=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=wK(d,s);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,x=b.type,w=b.dataKey,_=b.allowDataOverflow,N=b.allowDuplicatedCategory,j=b.scale,k=b.ticks,C=b.includeHidden,P=b[a];if(g[P])return g;var A=_j(t.data,{graphicalItems:i.filter(function(te){var S,O=a in te.props?te.props[a]:(S=te.type.defaultProps)===null||S===void 0?void 0:S[a];return O===P}),dataStartIndex:c,dataEndIndex:u}),I=A.length,M,z,L;Wze(b.domain,_,x)&&(M=AC(b.domain,null,_),p&&(x==="number"||j!=="auto")&&(L=Am(A,w,"category")));var W=zY(x);if(!M||M.length===0){var F,D=(F=b.domain)!==null&&F!==void 0?F:W;if(w){if(M=Am(A,w,x),x==="category"&&p){var R=ySe(M);N&&R?(z=M,M=J0(0,I)):N||(M=oL(D,M,m).reduce(function(te,S){return te.indexOf(S)>=0?te:[].concat(Mh(te),[S])},[]))}else if(x==="category")N?M=M.filter(function(te){return te!==""&&!ct(te)}):M=oL(D,M,m).reduce(function(te,S){return te.indexOf(S)>=0||S===""||ct(S)?te:[].concat(Mh(te),[S])},[]);else if(x==="number"){var B=M4e(A,i.filter(function(te){var S,O,E=a in te.props?te.props[a]:(S=te.type.defaultProps)===null||S===void 0?void 0:S[a],U="hide"in te.props?te.props.hide:(O=te.type.defaultProps)===null||O===void 0?void 0:O.hide;return E===P&&(C||!U)}),w,s,d);B&&(M=B)}p&&(x==="number"||j!=="auto")&&(L=Am(A,w,"category"))}else p?M=J0(0,I):l&&l[P]&&l[P].hasStack&&x==="number"?M=h==="expand"?[0,1]:kK(l[P].stackGroups,c,u):M=bK(A,i.filter(function(te){var S=a in te.props?te.props[a]:te.type.defaultProps[a],O="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return S===P&&(C||!O)}),x,d,!0);if(x==="number")M=gO(f,M,P,s,k),D&&(M=AC(D,M,_));else if(x==="category"&&D){var K=D,ee=M.every(function(te){return K.indexOf(te)>=0});ee&&(M=K)}}return se(se({},g),{},Ye({},P,se(se({},b),{},{axisType:s,domain:M,categoricalDomain:L,duplicateDomain:z,originalDomain:(v=b.domain)!==null&&v!==void 0?v:W,isCategorical:p,layout:d})))},{})},yWe=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=_j(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=wK(d,s),m=-1;return n.reduce(function(v,b){var x=b.type.defaultProps!==void 0?se(se({},b.type.defaultProps),b.props):b.props,w=x[a],_=zY("number");if(!v[w]){m++;var N;return g?N=J0(0,p):l&&l[w]&&l[w].hasStack?(N=kK(l[w].stackGroups,c,u),N=gO(f,N,w,s)):(N=AC(_,bK(h,n.filter(function(j){var k,C,P=a in j.props?j.props[a]:(k=j.type.defaultProps)===null||k===void 0?void 0:k[a],A="hide"in j.props?j.props.hide:(C=j.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===w&&!A}),"number",d),i.defaultProps.allowDataOverflow),N=gO(f,N,w,s)),se(se({},v),{},Ye({},w,se(se({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ki(hWe,"".concat(s,".").concat(m%2),null),domain:N,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},xWe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Yi(d,s),p={};return h&&h.length?p=vWe(t,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(p=yWe(t,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},bWe=function(t){var r=El(t),n=Oo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:XT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:D0(r,n)}},F3=function(t){var r=t.children,n=t.defaultShowTooltip,i=$i(r,_h),s=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},wWe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Mo(r&&r.type);return n&&n.indexOf("Bar")>=0})},B3=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_We=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,a=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=$i(f,_h),g=$i(f,Io),m=Object.keys(c).reduce(function(N,j){var k=c[j],C=k.orientation;return!k.mirror&&!k.hide?se(se({},N),{},Ye({},C,N[C]+k.width)):N},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(N,j){var k=a[j],C=k.orientation;return!k.mirror&&!k.hide?se(se({},N),{},Ye({},C,Ki(N,"".concat(C))+k.height)):N},{top:h.top||0,bottom:h.bottom||0}),b=se(se({},v),m),x=b.bottom;p&&(b.bottom+=p.props.height||_h.defaultProps.height),g&&r&&(b=T4e(b,i,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return se(se({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},jWe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},jj=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,a=t.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,x){var w=x.graphicalItems,_=x.stackGroups,N=x.offset,j=x.updateId,k=x.dataStartIndex,C=x.dataEndIndex,P=b.barSize,A=b.layout,I=b.barGap,M=b.barCategoryGap,z=b.maxBarSize,L=B3(A),W=L.numericAxisName,F=L.cateAxisName,D=wWe(w),R=[];return w.forEach(function(B,K){var ee=_j(b.data,{graphicalItems:[B],dataStartIndex:k,dataEndIndex:C}),te=B.type.defaultProps!==void 0?se(se({},B.type.defaultProps),B.props):B.props,S=te.dataKey,O=te.maxBarSize,E=te["".concat(W,"Id")],U=te["".concat(F,"Id")],$={},G=c.reduce(function(H,Q){var ne=x["".concat(Q.axisType,"Map")],Se=te["".concat(Q.axisType,"Id")];ne&&ne[Se]||Q.axisType==="zAxis"||qu();var be=ne[Se];return se(se({},H),{},Ye(Ye({},Q.axisType,be),"".concat(Q.axisType,"Ticks"),Oo(be)))},$),V=G[F],q=G["".concat(F,"Ticks")],X=_&&_[E]&&_[E].hasStack&&z4e(B,_[E].stackGroups),Y=Mo(B.type).indexOf("Bar")>=0,pe=D0(V,q),Ne=[],Ke=D&&E4e({barSize:P,stackGroups:_,totalSize:jWe(G,F)});if(Y){var Ve,He,bt=ct(O)?z:O,Ct=(Ve=(He=D0(V,q,!0))!==null&&He!==void 0?He:bt)!==null&&Ve!==void 0?Ve:0;Ne=P4e({barGap:I,barCategoryGap:M,bandSize:Ct!==pe?Ct:pe,sizeList:Ke[U],maxBarSize:bt}),Ct!==pe&&(Ne=Ne.map(function(H){return se(se({},H),{},{position:se(se({},H.position),{},{offset:H.position.offset-Ct/2})})}))}var wt=B&&B.type&&B.type.getComposedData;wt&&R.push({props:se(se({},wt(se(se({},G),{},{displayedData:ee,props:b,dataKey:S,item:B,bandSize:pe,barPosition:Ne,offset:N,stackedData:X,layout:A,dataStartIndex:k,dataEndIndex:C}))),{},Ye(Ye(Ye({key:B.key||"item-".concat(K)},W,G[W]),F,G[F]),"animationId",j)),childIndex:PSe(B,b.children),item:B})}),R},p=function(b,x){var w=b.props,_=b.dataStartIndex,N=b.dataEndIndex,j=b.updateId;if(!tD({props:w}))return null;var k=w.children,C=w.layout,P=w.stackOffset,A=w.data,I=w.reverseStackOrder,M=B3(C),z=M.numericAxisName,L=M.cateAxisName,W=Yi(k,n),F=B4e(A,W,"".concat(z,"Id"),"".concat(L,"Id"),P,I),D=c.reduce(function(te,S){var O="".concat(S.axisType,"Map");return se(se({},te),{},Ye({},O,xWe(w,se(se({},S),{},{graphicalItems:W,stackGroups:S.axisType===z&&F,dataStartIndex:_,dataEndIndex:N}))))},{}),R=_We(se(se({},D),{},{props:w,graphicalItems:W}),x==null?void 0:x.legendBBox);Object.keys(D).forEach(function(te){D[te]=d(w,D[te],R,te.replace("Map",""),r)});var B=D["".concat(L,"Map")],K=bWe(B),ee=h(w,se(se({},D),{},{dataStartIndex:_,dataEndIndex:N,updateId:j,graphicalItems:W,stackGroups:F,offset:R}));return se(se({formattedGraphicalItems:ee,graphicalItems:W,offset:R,stackGroups:F},K),D)},g=function(v){function b(x){var w,_,N;return rWe(this,b),N=sWe(this,b,[x]),Ye(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ye(N,"accessibilityManager",new zze),Ye(N,"handleLegendBBoxUpdate",function(j){if(j){var k=N.state,C=k.dataStartIndex,P=k.dataEndIndex,A=k.updateId;N.setState(se({legendBBox:j},p({props:N.props,dataStartIndex:C,dataEndIndex:P,updateId:A},se(se({},N.state),{},{legendBBox:j}))))}}),Ye(N,"handleReceiveSyncEvent",function(j,k,C){if(N.props.syncId===j){if(C===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(k)}}),Ye(N,"handleBrushChange",function(j){var k=j.startIndex,C=j.endIndex;if(k!==N.state.dataStartIndex||C!==N.state.dataEndIndex){var P=N.state.updateId;N.setState(function(){return se({dataStartIndex:k,dataEndIndex:C},p({props:N.props,dataStartIndex:k,dataEndIndex:C,updateId:P},N.state))}),N.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),Ye(N,"handleMouseEnter",function(j){var k=N.getMouseInfo(j);if(k){var C=se(se({},k),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var P=N.props.onMouseEnter;Xe(P)&&P(C,j)}}),Ye(N,"triggeredAfterMouseMove",function(j){var k=N.getMouseInfo(j),C=k?se(se({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var P=N.props.onMouseMove;Xe(P)&&P(C,j)}),Ye(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ye(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ye(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),Ye(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var C=N.props.onMouseLeave;Xe(C)&&C(k,j)}),Ye(N,"handleOuterEvent",function(j){var k=ESe(j),C=Ki(N.props,"".concat(k));if(k&&Xe(C)){var P,A;/.*touch.*/i.test(k)?A=N.getMouseInfo(j.changedTouches[0]):A=N.getMouseInfo(j),C((P=A)!==null&&P!==void 0?P:{},j)}}),Ye(N,"handleClick",function(j){var k=N.getMouseInfo(j);if(k){var C=se(se({},k),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var P=N.props.onClick;Xe(P)&&P(C,j)}}),Ye(N,"handleMouseDown",function(j){var k=N.props.onMouseDown;if(Xe(k)){var C=N.getMouseInfo(j);k(C,j)}}),Ye(N,"handleMouseUp",function(j){var k=N.props.onMouseUp;if(Xe(k)){var C=N.getMouseInfo(j);k(C,j)}}),Ye(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ye(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),Ye(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),Ye(N,"handleDoubleClick",function(j){var k=N.props.onDoubleClick;if(Xe(k)){var C=N.getMouseInfo(j);k(C,j)}}),Ye(N,"handleContextMenu",function(j){var k=N.props.onContextMenu;if(Xe(k)){var C=N.getMouseInfo(j);k(C,j)}}),Ye(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&NS.emit(kS,N.props.syncId,j,N.eventEmitterSymbol)}),Ye(N,"applySyncEvent",function(j){var k=N.props,C=k.layout,P=k.syncMethod,A=N.state.updateId,I=j.dataStartIndex,M=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(se({dataStartIndex:I,dataEndIndex:M},p({props:N.props,dataStartIndex:I,dataEndIndex:M,updateId:A},N.state)));else if(j.activeTooltipIndex!==void 0){var z=j.chartX,L=j.chartY,W=j.activeTooltipIndex,F=N.state,D=F.offset,R=F.tooltipTicks;if(!D)return;if(typeof P=="function")W=P(R,j);else if(P==="value"){W=-1;for(var B=0;B<R.length;B++)if(R[B].value===j.activeLabel){W=B;break}}var K=se(se({},D),{},{x:D.left,y:D.top}),ee=Math.min(z,K.x+K.width),te=Math.min(L,K.y+K.height),S=R[W]&&R[W].value,O=xO(N.state,N.props.data,W),E=R[W]?{x:C==="horizontal"?R[W].coordinate:ee,y:C==="horizontal"?te:R[W].coordinate}:UY;N.setState(se(se({},j),{},{activeLabel:S,activeCoordinate:E,activePayload:O,activeTooltipIndex:W}))}else N.setState(j)}),Ye(N,"renderCursor",function(j){var k,C=N.state,P=C.isTooltipActive,A=C.activeCoordinate,I=C.activePayload,M=C.offset,z=C.activeTooltipIndex,L=C.tooltipAxisBandSize,W=N.getTooltipEventType(),F=(k=j.props.active)!==null&&k!==void 0?k:P,D=N.props.layout,R=j.key||"_recharts-cursor";return T.createElement(Yze,{key:R,activeCoordinate:A,activePayload:I,activeTooltipIndex:z,chartName:r,element:j,isActive:F,layout:D,offset:M,tooltipAxisBandSize:L,tooltipEventType:W})}),Ye(N,"renderPolarAxis",function(j,k,C){var P=Ki(j,"type.axisType"),A=Ki(N.state,"".concat(P,"Map")),I=j.type.defaultProps,M=I!==void 0?se(se({},I),j.props):j.props,z=A&&A[M["".concat(P,"Id")]];return y.cloneElement(j,se(se({},z),{},{className:ut(P,z.className),key:j.key||"".concat(k,"-").concat(C),ticks:Oo(z,!0)}))}),Ye(N,"renderPolarGrid",function(j){var k=j.props,C=k.radialLines,P=k.polarAngles,A=k.polarRadius,I=N.state,M=I.radiusAxisMap,z=I.angleAxisMap,L=El(M),W=El(z),F=W.cx,D=W.cy,R=W.innerRadius,B=W.outerRadius;return y.cloneElement(j,{polarAngles:Array.isArray(P)?P:Oo(W,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(A)?A:Oo(L,!0).map(function(K){return K.coordinate}),cx:F,cy:D,innerRadius:R,outerRadius:B,key:j.key||"polar-grid",radialLines:C})}),Ye(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,k=N.props,C=k.children,P=k.width,A=k.height,I=N.props.margin||{},M=P-(I.left||0)-(I.right||0),z=yK({children:C,formattedGraphicalItems:j,legendWidth:M,legendContent:u});if(!z)return null;var L=z.item,W=$3(z,Jze);return y.cloneElement(L,se(se({},W),{},{chartWidth:P,chartHeight:A,margin:I,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ye(N,"renderTooltip",function(){var j,k=N.props,C=k.children,P=k.accessibilityLayer,A=$i(C,Li);if(!A)return null;var I=N.state,M=I.isTooltipActive,z=I.activeCoordinate,L=I.activePayload,W=I.activeLabel,F=I.offset,D=(j=A.props.active)!==null&&j!==void 0?j:M;return y.cloneElement(A,{viewBox:se(se({},F),{},{x:F.left,y:F.top}),active:D,label:W,payload:D?L:[],coordinate:z,accessibilityLayer:P})}),Ye(N,"renderBrush",function(j){var k=N.props,C=k.margin,P=k.data,A=N.state,I=A.offset,M=A.dataStartIndex,z=A.dataEndIndex,L=A.updateId;return y.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Zy(N.handleBrushChange,j.props.onChange),data:P,x:ve(j.props.x)?j.props.x:I.left,y:ve(j.props.y)?j.props.y:I.top+I.height+I.brushBottom-(C.bottom||0),width:ve(j.props.width)?j.props.width:I.width,startIndex:M,endIndex:z,updateId:"brush-".concat(L)})}),Ye(N,"renderReferenceElement",function(j,k,C){if(!j)return null;var P=N,A=P.clipPathId,I=N.state,M=I.xAxisMap,z=I.yAxisMap,L=I.offset,W=j.type.defaultProps||{},F=j.props,D=F.xAxisId,R=D===void 0?W.xAxisId:D,B=F.yAxisId,K=B===void 0?W.yAxisId:B;return y.cloneElement(j,{key:j.key||"".concat(k,"-").concat(C),xAxis:M[R],yAxis:z[K],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:A})}),Ye(N,"renderActivePoints",function(j){var k=j.item,C=j.activePoint,P=j.basePoint,A=j.childIndex,I=j.isRange,M=[],z=k.props.key,L=k.item.type.defaultProps!==void 0?se(se({},k.item.type.defaultProps),k.item.props):k.item.props,W=L.activeDot,F=L.dataKey,D=se(se({index:A,dataKey:F,cx:C.x,cy:C.y,r:4,fill:jA(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},ze(W,!1)),l0(W));return M.push(b.renderActiveDot(W,D,"".concat(z,"-activePoint-").concat(A))),P?M.push(b.renderActiveDot(W,se(se({},D),{},{cx:P.x,cy:P.y}),"".concat(z,"-basePoint-").concat(A))):I&&M.push(null),M}),Ye(N,"renderGraphicChild",function(j,k,C){var P=N.filterFormatItem(j,k,C);if(!P)return null;var A=N.getTooltipEventType(),I=N.state,M=I.isTooltipActive,z=I.tooltipAxis,L=I.activeTooltipIndex,W=I.activeLabel,F=N.props.children,D=$i(F,Li),R=P.props,B=R.points,K=R.isRange,ee=R.baseLine,te=P.item.type.defaultProps!==void 0?se(se({},P.item.type.defaultProps),P.item.props):P.item.props,S=te.activeDot,O=te.hide,E=te.activeBar,U=te.activeShape,$=!!(!O&&M&&D&&(S||E||U)),G={};A!=="axis"&&D&&D.props.trigger==="click"?G={onClick:Zy(N.handleItemMouseEnter,j.props.onClick)}:A!=="axis"&&(G={onMouseLeave:Zy(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Zy(N.handleItemMouseEnter,j.props.onMouseEnter)});var V=y.cloneElement(j,se(se({},P.props),G));function q(Q){return typeof z.dataKey=="function"?z.dataKey(Q.payload):null}if($)if(L>=0){var X,Y;if(z.dataKey&&!z.allowDuplicatedCategory){var pe=typeof z.dataKey=="function"?q:"payload.".concat(z.dataKey.toString());X=o0(B,pe,W),Y=K&&ee&&o0(ee,pe,W)}else X=B==null?void 0:B[L],Y=K&&ee&&ee[L];if(U||E){var Ne=j.props.activeIndex!==void 0?j.props.activeIndex:L;return[y.cloneElement(j,se(se(se({},P.props),G),{},{activeIndex:Ne})),null,null]}if(!ct(X))return[V].concat(Mh(N.renderActivePoints({item:P,activePoint:X,basePoint:Y,childIndex:L,isRange:K})))}else{var Ke,Ve=(Ke=N.getItemByXY(N.state.activeCoordinate))!==null&&Ke!==void 0?Ke:{graphicalItem:V},He=Ve.graphicalItem,bt=He.item,Ct=bt===void 0?j:bt,wt=He.childIndex,H=se(se(se({},P.props),G),{},{activeIndex:wt});return[y.cloneElement(Ct,H),null,null]}return K?[V,null,null]:[V,null]}),Ye(N,"renderCustomized",function(j,k,C){return y.cloneElement(j,se(se({key:"recharts-customized-".concat(C)},N.props),N.state))}),Ye(N,"renderMap",{CartesianGrid:{handler:ix,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:ix},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:ix},YAxis:{handler:ix},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:ad("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=yG(N.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return lWe(b,v),iWe(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,N=w.data,j=w.height,k=w.layout,C=$i(_,Li);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=xO(this.state,N,P,A),M=this.state.tooltipTicks[P].coordinate,z=(this.state.offset.top+j)/2,L=k==="horizontal",W=L?{x:M,y:z}:{y:M,x:z},F=this.state.formattedGraphicalItems.find(function(R){var B=R.item;return B.type.name==="Scatter"});F&&(W=se(se({},W),F.props.points[P].tooltipPosition),I=F.props.points[P].tooltipPayload);var D={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:I,activeCoordinate:W};this.setState(D),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){Gk([$i(w.children,Li)],[$i(this.props.children,Li)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=$i(this.props.children,Li);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),j=rIe(N),k={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},C=N.width/_.offsetWidth||1,P=this.inRange(k.chartX,k.chartY,C);if(!P)return null;var A=this.state,I=A.xAxisMap,M=A.yAxisMap,z=this.getTooltipEventType(),L=L3(this.state,this.props.data,this.props.layout,P);if(z!=="axis"&&I&&M){var W=El(I).scale,F=El(M).scale,D=W&&W.invert?W.invert(k.chartX):null,R=F&&F.invert?F.invert(k.chartY):null;return se(se({},k),{},{xValue:D,yValue:R},L)}return L?se(se({},k),L):null}},{key:"inRange",value:function(w,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,k=w/N,C=_/N;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,A=k>=P.left&&k<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return A?{x:k,y:C}:null}var I=this.state,M=I.angleAxisMap,z=I.radiusAxisMap;if(M&&z){var L=El(M);return uL({x:k,y:C},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),N=$i(w,Li),j={};N&&_==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=l0(this.props,this.handleOuterEvent);return se(se({},k),j)}},{key:"addListener",value:function(){NS.on(kS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){NS.removeListener(kS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,N){for(var j=this.state.formattedGraphicalItems,k=0,C=j.length;k<C;k++){var P=j[k];if(P.item===w||P.props.key===w.key||_===Mo(P.item.type)&&N===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,N=_.left,j=_.top,k=_.height,C=_.width;return T.createElement("defs",null,T.createElement("clipPath",{id:w},T.createElement("rect",{x:N,y:j,height:k,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,N){var j=R3(N,2),k=j[0],C=j[1];return se(se({},_),{},Ye({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,N){var j=R3(N,2),k=j[0],C=j[1];return se(se({},_),{},Ye({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,N=_.formattedGraphicalItems,j=_.activeItem;if(N&&N.length)for(var k=0,C=N.length;k<C;k++){var P=N[k],A=P.props,I=P.item,M=I.type.defaultProps!==void 0?se(se({},I.type.defaultProps),I.props):I.props,z=Mo(I.type);if(z==="Bar"){var L=(A.data||[]).find(function(R){return DFe(w,R)});if(L)return{graphicalItem:P,payload:L}}else if(z==="RadialBar"){var W=(A.data||[]).find(function(R){return uL(w,R)});if(W)return{graphicalItem:P,payload:W}}else if(pj(P,j)||mj(P,j)||rv(P,j)){var F=NBe({graphicalItem:P,activeTooltipItem:j,itemData:M.data}),D=M.activeIndex===void 0?F:M.activeIndex;return{graphicalItem:se(se({},P),{},{childIndex:D}),payload:rv(P,j)?M.data[F]:P.props.data[F]}}}return null}},{key:"render",value:function(){var w=this;if(!tD(this))return null;var _=this.props,N=_.children,j=_.className,k=_.width,C=_.height,P=_.style,A=_.compact,I=_.title,M=_.desc,z=$3(_,Xze),L=ze(z,!1);if(A)return T.createElement(m3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(Yk,of({},L,{width:k,height:C,title:I,desc:M}),this.renderClipPath(),nD(N,this.renderMap)));if(this.props.accessibilityLayer){var W,F;L.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,L.role=(F=this.props.role)!==null&&F!==void 0?F:"application",L.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},L.onFocus=function(){w.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return T.createElement(m3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",of({className:ut("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:k,height:C},P)},D,{ref:function(B){w.container=B}}),T.createElement(Yk,of({},L,{width:k,height:C,title:I,desc:M,style:pWe}),this.renderClipPath(),nD(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Ye(g,"displayName",r),Ye(g,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ye(g,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,w=v.data,_=v.children,N=v.width,j=v.height,k=v.layout,C=v.stackOffset,P=v.margin,A=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var M=F3(v);return se(se(se({},M),{},{updateId:0},p(se(se({props:v},M),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:w,prevWidth:N,prevHeight:j,prevLayout:k,prevStackOffset:C,prevMargin:P,prevChildren:_})}if(x!==b.prevDataKey||w!==b.prevData||N!==b.prevWidth||j!==b.prevHeight||k!==b.prevLayout||C!==b.prevStackOffset||!jf(P,b.prevMargin)){var z=F3(v),L={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},W=se(se({},L3(b,w,k)),{},{updateId:b.updateId+1}),F=se(se(se({},z),L),W);return se(se(se({},F),p(se({props:v},F),b)),{},{prevDataKey:x,prevData:w,prevWidth:N,prevHeight:j,prevLayout:k,prevStackOffset:C,prevMargin:P,prevChildren:_})}if(!Gk(_,b.prevChildren)){var D,R,B,K,ee=$i(_,_h),te=ee&&(D=(R=ee.props)===null||R===void 0?void 0:R.startIndex)!==null&&D!==void 0?D:A,S=ee&&(B=(K=ee.props)===null||K===void 0?void 0:K.endIndex)!==null&&B!==void 0?B:I,O=te!==A||S!==I,E=!ct(w),U=E&&!O?b.updateId:b.updateId+1;return se(se({updateId:U},p(se(se({props:v},b),{},{updateId:U,dataStartIndex:te,dataEndIndex:S}),b)),{},{prevChildren:_,dataStartIndex:te,dataEndIndex:S})}return null}),Ye(g,"renderActiveDot",function(v,b,x){var w;return y.isValidElement(v)?w=y.cloneElement(v,b):Xe(v)?w=v(b):w=T.createElement(Qv,b),T.createElement(yt,{className:"recharts-active-dot",key:x},w)});var m=y.forwardRef(function(b,x){return T.createElement(g,of({},b,{ref:x}))});return m.displayName=g.displayName,m},SWe=jj({chartName:"LineChart",GraphicalChild:Zv,axisComponents:[{axisType:"xAxis",AxisComp:Nc},{axisType:"yAxis",AxisComp:kc}],formatAxisMap:NA}),NWe=jj({chartName:"BarChart",GraphicalChild:ud,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Nc},{axisType:"yAxis",AxisComp:kc}],formatAxisMap:NA}),kWe=jj({chartName:"PieChart",GraphicalChild:al,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hj},{axisType:"radiusAxis",AxisComp:dj}],formatAxisMap:Q4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),CWe=jj({chartName:"AreaChart",GraphicalChild:Xo,axisComponents:[{axisType:"xAxis",AxisComp:Nc},{axisType:"yAxis",AxisComp:kc}],formatAxisMap:NA});const OWe=({data:e})=>{const t=e.map(r=>({...r,date:Pt(HP(r.date),"MMM d"),pending:r.count-r.completed-r.cancelled}));return o.jsxs(le,{className:"col-span-full lg:col-span-2",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xu,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Appointment Trends"})]}),o.jsx(Oe,{children:"Daily appointment volume over time"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(Z_,{width:"100%",height:"100%",children:o.jsxs(CWe,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:0})]})]}),o.jsx(wj,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),o.jsx(Nc,{dataKey:"date",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(kc,{tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Li,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(Io,{wrapperStyle:{fontSize:"12px"}}),o.jsx(Xo,{type:"monotone",dataKey:"count",name:"Total",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorTotal)"}),o.jsx(Xo,{type:"monotone",dataKey:"completed",name:"Completed",stroke:"hsl(152, 60%, 42%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorCompleted)"})]})})})})]})},U3=["hsl(174, 62%, 38%)","hsl(38, 92%, 50%)","hsl(16, 85%, 60%)"],EWe=({data:e})=>{const t=[{name:"Video",value:e.video,icon:""},{name:"Phone",value:e.phone,icon:""},{name:"In-Person",value:e.in_person,icon:""}].filter(n=>n.value>0),r=t.reduce((n,i)=>n+i.value,0);return r===0?o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hr,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Consultation Types"})]}),o.jsx(Oe,{children:"Distribution by type"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No consultation data available"})})]}):o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hr,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Consultation Types"})]}),o.jsx(Oe,{children:"Distribution by type"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(Z_,{width:"100%",height:"100%",children:o.jsxs(kWe,{children:[o.jsx(al,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((n,i)=>o.jsx(qv,{fill:U3[i%U3.length]},`cell-${i}`))}),o.jsx(Li,{formatter:n=>[`${n} (${(n/r*100).toFixed(1)}%)`,"Count"],contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(Io,{formatter:n=>o.jsx("span",{className:"text-sm",children:n})})]})})})})]})},PWe={pending:"hsl(38, 92%, 50%)",confirmed:"hsl(210, 80%, 55%)",in_progress:"hsl(174, 62%, 38%)",completed:"hsl(152, 60%, 42%)",cancelled:"hsl(0, 72%, 51%)"},TWe=({data:e})=>{const t=Object.entries(e).map(([r,n])=>({status:r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1),count:n,color:PWe[r]||"hsl(215, 15%, 45%)"}));return t.length===0?o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(TM,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Status Distribution"})]}),o.jsx(Oe,{children:"Appointment status breakdown"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No status data available"})})]}):o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(TM,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Status Distribution"})]}),o.jsx(Oe,{children:"Appointment status breakdown"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(Z_,{width:"100%",height:"100%",children:o.jsxs(NWe,{data:t,layout:"vertical",margin:{left:20,right:20},children:[o.jsx(wj,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)",horizontal:!1}),o.jsx(Nc,{type:"number",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(kc,{type:"category",dataKey:"status",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1,width:80}),o.jsx(Li,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(ud,{dataKey:"count",radius:[0,4,4,0],children:t.map((r,n)=>o.jsx(qv,{fill:r.color},`cell-${n}`))})]})})})})]})},AWe=({data:e})=>e.length===0?o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($M,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Clinician Performance"})]}),o.jsx(Oe,{children:"Top performing clinicians"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No clinician data available"})})]}):o.jsxs(le,{className:"col-span-full lg:col-span-2",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($M,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Clinician Performance"})]}),o.jsx(Oe,{children:"Top performing clinicians by appointments"})]}),o.jsx(de,{children:o.jsx("div",{className:"space-y-4",children:e.slice(0,5).map((t,r)=>o.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold text-sm",children:r+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("p",{className:"font-medium truncate",children:["Dr. ",t.clinician_name]}),r===0&&o.jsx(Ce,{variant:"default",className:"text-xs",children:"Top Performer"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[t.total_appointments," appointments"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[t.completed_appointments," completed"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium",children:[t.completion_rate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion"})]}),o.jsx("div",{className:"w-24",children:o.jsx(Bu,{value:t.completion_rate,className:"h-2"})}),t.completion_rate>=80?o.jsx(xu,{className:"w-4 h-4 text-success"}):t.completion_rate>=50?o.jsx(xu,{className:"w-4 h-4 text-warning"}):o.jsx(Uee,{className:"w-4 h-4 text-destructive"})]})]},t.clinician_id))})})]}),MWe=({data:e})=>{const t=e.map(r=>({...r,date:Pt(HP(r.date),"MMM d")}));return e.length===0?o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(kb,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Patient Growth"})]}),o.jsx(Oe,{children:"New patient registrations over time"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No growth data available"})})]}):o.jsxs(le,{className:"col-span-full lg:col-span-1",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(kb,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Patient Growth"})]}),o.jsx(Oe,{children:"Total patients over time"})]}),o.jsx(de,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(Z_,{width:"100%",height:"100%",children:o.jsxs(SWe,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[o.jsx(wj,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),o.jsx(Nc,{dataKey:"date",tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(kc,{tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Li,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(Io,{wrapperStyle:{fontSize:"11px"}}),o.jsx(Zv,{type:"monotone",dataKey:"total_patients",name:"Total Patients",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,dot:{fill:"hsl(174, 62%, 38%)",r:3},activeDot:{r:5}})]})})})})]})},IWe=()=>{var hd,Os,sy,at,It,Ht,ui,di,Es,wa,fi,Ps,XA,QA,ZA,e2,t2,r2,n2,i2,s2,a2,o2,l2;const{profile:e,signOut:t}=Lr(),[r,n]=y.useState(30),{data:i,loading:s,error:a,refetch:l}=Lwe(r),[c,u]=y.useState("month"),[d,f]=y.useState(null),[h,p]=y.useState(null),[g,m]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,N]=y.useState(null),[j,k]=y.useState(null),[C,P]=y.useState(!1),[A,I]=y.useState(!1),[M,z]=y.useState(!1),[L,W]=y.useState(null),[F,D]=y.useState(""),[R,B]=y.useState(null),[K,ee]=y.useState(!1),[te,S]=y.useState(null),[O,E]=y.useState("upload"),[U,$]=y.useState([]),[G,V]=y.useState("Campus Africa"),[q,X]=y.useState("university"),[Y,pe]=y.useState(""),[Ne,Ke]=y.useState(null),[Ve,He]=y.useState(null),[bt,Ct]=y.useState(!1),[wt,H]=y.useState(null),[Q,ne]=y.useState(!1),[Se,be]=y.useState(null),[J,he]=y.useState(null),[Ge,nt]=y.useState("preview"),[Vt,rs]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const Ee=await $p.getCorporateClients();Ee!=null&&Ee.clients&&$(Ee.clients)}catch(Ee){console.error("Failed to fetch corporate clients:",Ee)}})()},[]),y.useEffect(()=>{if(!Ne||O!=="importing")return;const re=setInterval(async()=>{try{const Ee=await $p.getJobStatus(Ne);Ee!=null&&Ee.job&&(He(Ee.job),(Ee.job.status==="completed"||Ee.job.status==="failed")&&(clearInterval(re),S({summary:{imported:Ee.job.imported,duplicates:Ee.job.duplicates,errors:Ee.job.errors,skipped:Ee.job.skipped,total_processed:Ee.job.processed},details:Ee.job.details}),E("complete"),Ee.job.status==="completed"?oe.success(`Import complete! ${Ee.job.imported} patients imported.`):oe.error(`Import failed: ${Ee.job.error_message||"Unknown error"}`)))}catch(Ee){console.error("Error polling job status:",Ee)}},2e3);return()=>clearInterval(re)},[Ne,O]),y.useEffect(()=>{if(!Se||Ge!=="sending")return;const re=setInterval(async()=>{try{const Ee=await Uy.getJobStatus(Se);Ee!=null&&Ee.job&&(he(Ee.job),Ee.job.status==="completed"&&(clearInterval(re),nt("complete"),oe.success(`Emails sent! ${Ee.job.sent} delivered, ${Ee.job.failed} failed.`)))}catch(Ee){console.error("Error polling email job status:",Ee)}},2e3);return()=>clearInterval(re)},[Se,Ge]),y.useEffect(()=>{(async()=>{P(!0);try{const[Ee,pr,Pc,wp,_p,Mj,ay]=await Promise.all([dl.getSummary(c),dl.getPeakTimes(c),dl.getCancellationStats(c),dl.getConversionFunnel(c),dl.getNoShowRates(c),dl.getReceptionistWorkload(c),dl.getTimestampTrends(c)]);f(Ee),p(pr),m(Pc),b(wp),w(_p),N(Mj),k(ay)}catch(Ee){console.error("Failed to fetch report data:",Ee)}finally{P(!1)}})()},[c]);const Ci=async()=>{I(!0);try{await dl.exportCSV(c),oe.success("Report exported successfully")}catch(re){console.error("Export failed:",re),oe.error("Failed to export report")}finally{I(!1)}},Cc=re=>{var pr;const Ee=(pr=re.target.files)==null?void 0:pr[0];Ee&&(W(Ee),B(null),S(null),E("upload"))},ns=async()=>{var re,Ee;if(L){ee(!0);try{const pr=await $p.preview(L,F||void 0);B(pr),E("preview"),oe.success(`File parsed successfully. ${pr.total_rows} rows found.`)}catch(pr){console.error("Preview failed:",pr),(re=pr.message)!=null&&re.includes("password protected")?oe.error("File is password protected. Please enter the password."):(Ee=pr.message)!=null&&Ee.includes("Invalid password")?oe.error("Invalid password. Please try again."):oe.error(pr.message||"Failed to preview file")}finally{ee(!1)}}},ol=async()=>{if(!L)return;const re=G==="__new__"?Y:G;if(!re){oe.error("Please select or enter a corporate client name");return}ee(!0),E("importing"),He(null);try{const Ee=await $p.startImport(L,F||void 0,re,q);if(Ee!=null&&Ee.job_id)Ke(Ee.job_id),oe.success(`Import started for ${Ee.total_rows} rows. Processing in background...`);else throw new Error("Failed to start import job")}catch(Ee){console.error("Import failed:",Ee),oe.error(Ee.message||"Failed to start import"),E("preview"),ee(!1)}},ba=async()=>{if(Ne)try{await $p.cancelJob(Ne),oe.success("Import cancelled"),E("preview"),ee(!1)}catch{oe.error("Could not cancel import")}},Oc=()=>{W(null),D(""),B(null),S(null),E("upload"),V("Campus Africa"),X("university"),pe(""),Ke(null),He(null),ee(!1)},bp=async()=>{ne(!0);try{const re=await Uy.preview();H(re),nt("preview")}catch(re){console.error("Failed to preview emails:",re),oe.error("Failed to load email recipients")}finally{ne(!1)}},Ec=async()=>{ne(!0),nt("sending"),he(null);try{const re=await Uy.send({test_mode:Vt});if(re!=null&&re.job_id)be(re.job_id),oe.success(`Sending emails to ${re.total_recipients} students...`);else throw new Error("Failed to start email job")}catch(re){console.error("Email send failed:",re),oe.error(re.message||"Failed to send emails"),nt("preview")}finally{ne(!1)}},ny=async()=>{ne(!0);try{const re=await Uy.sendTest();re!=null&&re.success&&oe.success(re.message||"Test email sent to your email!")}catch(re){oe.error(re.message||"Failed to send test email")}finally{ne(!1)}},iy=()=>{H(null),he(null),nt("preview"),be(null),rs(!1)};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("div",{className:"hidden sm:block",children:o.jsx("span",{className:"font-bold text-lg",children:"Quadcare Telehealth"})})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>l(),disabled:s,className:"hidden sm:flex",children:[o.jsx(Uo,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>l(),disabled:s,className:"sm:hidden",children:o.jsx(Uo,{className:`w-4 h-4 ${s?"animate-spin":""}`})}),o.jsx(Ce,{className:"bg-destructive text-white text-xs sm:text-sm",children:"Admin"}),o.jsxs("span",{className:"hidden md:block text-sm text-muted-foreground",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:t,children:[o.jsx(rc,{className:"w-4 h-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Admin Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"System analytics and administration"})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs(xr,{value:r.toString(),onValueChange:re=>n(parseInt(re)),children:[o.jsx(cr,{className:"w-[140px] sm:w-[180px]",children:o.jsx(br,{placeholder:"Select period"})}),o.jsxs(ur,{children:[o.jsx(qe,{value:"7",children:"Last 7 days"}),o.jsx(qe,{value:"14",children:"Last 14 days"}),o.jsx(qe,{value:"30",children:"Last 30 days"}),o.jsx(qe,{value:"60",children:"Last 60 days"}),o.jsx(qe,{value:"90",children:"Last 90 days"})]})]})})]}),o.jsxs(tl,{defaultValue:"analytics",className:"space-y-6",children:[o.jsxs(ro,{className:"grid w-full grid-cols-2 sm:w-auto sm:inline-grid sm:grid-cols-4 gap-1",children:[o.jsxs(Bt,{value:"analytics",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(Qd,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Analytics"})]}),o.jsxs(Bt,{value:"reports",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(Mr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Reports"})]}),o.jsxs(Bt,{value:"management",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(Ln,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Management"})]}),o.jsxs(Bt,{value:"settings",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(Dx,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),o.jsx(fr,{value:"analytics",className:"space-y-6",children:s?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(re=>o.jsx(tr,{className:"h-28"},re))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(tr,{className:"h-80 lg:col-span-2"}),o.jsx(tr,{className:"h-80"})]})]}):i?o.jsxs(o.Fragment,{children:[o.jsx(Fwe,{overview:i.overview}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(OWe,{data:i.appointment_trends}),o.jsx(EWe,{data:i.consultation_types})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(AWe,{data:i.clinician_performance}),o.jsx(MWe,{data:i.patient_growth})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(TWe,{data:i.status_distribution}),o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xu,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Quick Insights"})]}),o.jsx(Oe,{children:"Key performance indicators"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Session Duration"}),o.jsxs("span",{className:"font-semibold",children:[i.overview.average_consultation_duration.toFixed(1)," min"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),o.jsxs("span",{className:"font-semibold text-success",children:[i.overview.completion_rate,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Appointments This Week"}),o.jsx("span",{className:"font-semibold",children:i.overview.appointments_this_week})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Prescriptions Issued"}),o.jsx("span",{className:"font-semibold",children:i.overview.total_prescriptions})]})]})]})]})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Qd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Failed to load analytics data"}),a&&o.jsx("p",{className:"text-sm mt-2 text-destructive",children:a}),o.jsx(Z,{onClick:()=>l(),className:"mt-4",children:"Try Again"})]})}),o.jsxs(fr,{value:"reports",className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Booking Reports"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed analytics and export options"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(xr,{value:c,onValueChange:u,children:[o.jsx(cr,{className:"w-[150px]",children:o.jsx(br,{placeholder:"Select period"})}),o.jsxs(ur,{children:[o.jsx(qe,{value:"today",children:"Today"}),o.jsx(qe,{value:"week",children:"Last 7 days"}),o.jsx(qe,{value:"month",children:"Last 30 days"}),o.jsx(qe,{value:"quarter",children:"Last 90 days"}),o.jsx(qe,{value:"year",children:"Last year"})]})]}),o.jsxs(Z,{variant:"outline",onClick:Ci,disabled:A,children:[A?o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(yu,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),C?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(re=>o.jsx(tr,{className:"h-32"},re))}):d?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs(le,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsx(Oe,{children:"Total Bookings"}),o.jsx(we,{className:"text-3xl",children:d.booking_stats.total_bookings})]}),o.jsx(de,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.period_start," - ",d.booking_stats.period_end]})})]}),o.jsxs(le,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Oe,{className:"flex items-center gap-1",children:[o.jsx($r,{className:"w-3 h-3 text-green-500"}),"Completed"]}),o.jsx(we,{className:"text-3xl text-green-600",children:d.booking_stats.completed})]}),o.jsx(de,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.total_bookings>0?Math.round(d.booking_stats.completed/d.booking_stats.total_bookings*100):0,"% completion rate"]})})]}),o.jsxs(le,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Oe,{className:"flex items-center gap-1",children:[o.jsx(oa,{className:"w-3 h-3 text-red-500"}),"Cancelled"]}),o.jsx(we,{className:"text-3xl text-red-600",children:d.booking_stats.cancelled})]}),o.jsx(de,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(g==null?void 0:g.cancellation_rate)||0,"% cancellation rate"]})})]}),o.jsxs(le,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Oe,{className:"flex items-center gap-1",children:[o.jsx(nr,{className:"w-3 h-3 text-yellow-500"}),"Pending"]}),o.jsx(we,{className:"text-3xl text-yellow-600",children:d.booking_stats.pending+d.booking_stats.confirmed})]}),o.jsx(de,{children:o.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting consultation"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(xu,{className:"w-5 h-5 text-primary"}),"Peak Times Analysis"]}),o.jsx(Oe,{children:"When are consultations most requested?"})]}),o.jsx(de,{className:"space-y-4",children:h!=null&&h.insights?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),o.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:h.insights.peak_day.day}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_day.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),o.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:h.insights.peak_hour.time}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_hour.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quietest Day"}),o.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300",children:h.insights.offpeak_day.day}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_day.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Off-Peak Hour"}),o.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:h.insights.offpeak_hour.time}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_hour.bookings," bookings"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Bookings by Day of Week"}),(hd=h.by_day_of_week)==null?void 0:hd.map(re=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:re.day}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2",style:{width:`${h.insights.peak_day.bookings>0?re.count/h.insights.peak_day.bookings*100:0}%`}})}),o.jsx("span",{className:"w-8 text-xs text-right",children:re.count})]},re.day))]})]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-5 h-5 text-primary"}),"Service Type Breakdown"]}),o.jsx(Oe,{children:"Distribution of consultation types"})]}),o.jsx(de,{className:"space-y-3",children:((Os=d.service_breakdown)==null?void 0:Os.length)>0?d.service_breakdown.map(re=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:re.service_type}),o.jsxs("span",{className:"font-medium",children:[re.count," (",re.percentage,"%)"]})]}),o.jsx("div",{className:"bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${re.percentage}%`}})})]},re.service_type)):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]})]}),j&&o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(nr,{className:"w-5 h-5 text-primary"}),"Consultation Time Trends"]}),o.jsxs(Oe,{children:["When do students book consultations? Busiest time: ",(at=(sy=j.summary)==null?void 0:sy.busiest_time_slot)==null?void 0:at.description]})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(Ht=(It=j.summary)==null?void 0:It.peak_hour)==null?void 0:Ht.time}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),o.jsxs("p",{className:"text-sm text-blue-600",children:[(di=(ui=j.summary)==null?void 0:ui.peak_hour)==null?void 0:di.count," bookings"]})]}),o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:(wa=(Es=j.summary)==null?void 0:Es.peak_day)==null?void 0:wa.day}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),o.jsxs("p",{className:"text-sm text-green-600",children:[(Ps=(fi=j.summary)==null?void 0:fi.peak_day)==null?void 0:Ps.count," bookings"]})]}),o.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(XA=j.summary)==null?void 0:XA.total_appointments}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Consultations"}),o.jsx("p",{className:"text-sm text-purple-600",children:"in selected period"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Hourly Distribution (SAST)"}),o.jsx("div",{className:"flex items-end gap-1 h-32",children:(QA=j.hourly_distribution)==null?void 0:QA.map(re=>{var pr;const Ee=((pr=j.scaling)==null?void 0:pr.max_hourly)>0?re.count/j.scaling.max_hourly*100:0;return o.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[o.jsx("div",{className:`w-full rounded-t transition-all ${re.is_peak?"bg-primary":"bg-primary/40"} hover:bg-primary/80`,style:{height:`${Math.max(Ee,2)}%`},title:`${re.hour}: ${re.count} bookings`}),o.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 hidden sm:block",children:re.hour_numeric%3===0?re.hour.slice(0,2):""})]},re.hour)})}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[o.jsx("span",{children:"00:00"}),o.jsx("span",{children:"06:00"}),o.jsx("span",{children:"12:00"}),o.jsx("span",{children:"18:00"}),o.jsx("span",{children:"23:00"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Day of Week Distribution"}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:(ZA=j.daily_distribution)==null?void 0:ZA.map(re=>{var pr;const Ee=((pr=j.scaling)==null?void 0:pr.max_daily)>0?re.count/j.scaling.max_daily:0;return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`h-16 rounded-lg flex items-center justify-center text-sm font-medium ${re.is_peak?"bg-primary text-primary-foreground":"bg-primary/20"}`,style:{opacity:Math.max(Ee,.2)},children:re.count}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:re.day_short})]},re.day)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Weekly Heatmap (Day  Hour)"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"min-w-[600px]",children:[o.jsxs("div",{className:"flex mb-1",children:[o.jsx("div",{className:"w-16"}),[0,3,6,9,12,15,18,21].map(re=>o.jsx("div",{className:"flex-1 text-center text-xs text-muted-foreground",children:`${re}:00`},re))]}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((re,Ee)=>o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("div",{className:"w-16 text-xs text-muted-foreground pr-2 text-right",children:re.slice(0,3)}),o.jsx("div",{className:"flex-1 flex gap-[1px]",children:Array.from({length:24},(pr,Pc)=>{var ay,c2,u2;const wp=(c2=(ay=j.heatmap)==null?void 0:ay.data)==null?void 0:c2.find(d2=>d2.day_index===Ee&&d2.hour_index===Pc),_p=(wp==null?void 0:wp.count)||0,Mj=((u2=j.scaling)==null?void 0:u2.max_heatmap)>0?_p/j.scaling.max_heatmap:0;return o.jsx("div",{className:"flex-1 h-6 rounded-sm transition-colors cursor-pointer hover:ring-1 hover:ring-primary",style:{backgroundColor:_p>0?`rgba(59, 130, 246, ${Math.max(Mj,.1)})`:"rgba(0,0,0,0.05)"},title:`${re} ${Pc}:00 - ${_p} bookings`},Pc)})})]},re)),o.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Less"}),o.jsx("div",{className:"flex gap-[1px]",children:[.1,.3,.5,.7,1].map((re,Ee)=>o.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:`rgba(59, 130, 246, ${re})`}},Ee))}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"More"})]})]})})]}),((e2=j.daily_trend)==null?void 0:e2.length)>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Daily Booking Trend"}),o.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:j.daily_trend.map(re=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"w-24 text-muted-foreground",children:re.date}),o.jsx("div",{className:"flex-1 flex items-center gap-1",children:o.jsx("div",{className:"bg-primary h-4 rounded",style:{width:`${Math.max(re.total/Math.max(...j.daily_trend.map(Ee=>Ee.total||1))*100,5)}%`}})}),o.jsxs("span",{className:"w-20 text-right",children:[o.jsx("span",{className:"font-medium",children:re.total}),re.completed>0&&o.jsxs("span",{className:"text-green-600 text-xs ml-1",children:["(",re.completed,")"]})]})]},re.date))})]})]})]}),o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-primary"}),"Clinician Performance"]}),o.jsx(Oe,{children:"Top clinicians by appointment volume"})]}),o.jsx(de,{children:((t2=d.top_clinicians)==null?void 0:t2.length)>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 font-medium",children:"Clinician"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Total"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Completed"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Cancelled"}),o.jsx("th",{className:"text-right py-2 font-medium",children:"Rate"})]})}),o.jsx("tbody",{children:d.top_clinicians.map(re=>o.jsxs("tr",{className:"border-b last:border-0",children:[o.jsx("td",{className:"py-2",children:re.clinician_name}),o.jsx("td",{className:"text-center py-2",children:re.total_appointments}),o.jsx("td",{className:"text-center py-2 text-green-600",children:re.completed}),o.jsx("td",{className:"text-center py-2 text-red-600",children:re.cancelled}),o.jsxs("td",{className:"text-right py-2",children:[re.total_appointments>0?Math.round(re.completed/re.total_appointments*100):0,"%"]})]},re.clinician_name))})]})}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),v&&o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(xu,{className:"w-5 h-5 text-primary"}),"Conversion Funnel"]}),o.jsx(Oe,{children:"Patient journey from chat to completed consultation"})]}),o.jsx(de,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:[{label:"Chats Initiated",value:v.funnel.chats_initiated,color:"bg-blue-500"},{label:"Bookings Created",value:v.funnel.bookings_created,color:"bg-indigo-500"},{label:"Consultations Confirmed",value:v.funnel.consultations_confirmed,color:"bg-purple-500"},{label:"Consultations Completed",value:v.funnel.consultations_completed,color:"bg-green-500"}].map((re,Ee)=>{const pr=v.funnel.chats_initiated||1,Pc=Math.max(re.value/pr*100,5);return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-40 text-sm text-right",children:re.label}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-8 overflow-hidden",children:o.jsx("div",{className:`${re.color} h-full flex items-center justify-end pr-3 transition-all`,style:{width:`${Pc}%`},children:o.jsx("span",{className:"text-white text-sm font-medium",children:re.value})})})]},re.label)})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[v.conversion_rates.chat_to_booking,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Chat  Booking"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[v.conversion_rates.booking_to_completed,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Booking  Completed"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[v.conversion_rates.overall,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall Conversion"})]})]}),o.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Chats without booking (Abandonment)"}),o.jsxs("span",{className:"font-semibold text-orange-700 dark:text-orange-300",children:[v.abandonment.chats_without_booking," (",v.abandonment.abandonment_rate,"%)"]})]})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x&&o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(oa,{className:"w-5 h-5 text-red-500"}),"No-Show Analysis"]}),o.jsx(Oe,{children:"Appointments missed without cancellation"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-red-600",children:x.summary.no_shows}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Shows"})]}),o.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[o.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[x.summary.no_show_rate,"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Show Rate"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"No-Shows by Day"}),(r2=x.by_day_of_week)==null?void 0:r2.map(re=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:re.day}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 rounded-full h-2",style:{width:`${x.summary.no_shows>0?re.no_shows/x.summary.no_shows*100:0}%`}})}),o.jsx("span",{className:"w-8 text-xs text-right",children:re.no_shows})]},re.day))]})]})]}),_&&o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-primary"}),"Receptionist Workload"]}),o.jsx(Oe,{children:"Chat and booking distribution"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold",children:_.summary.total_chats_handled}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Chats"})]}),o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.summary.total_bookings_created}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Bookings Created"})]})]}),((n2=_.by_receptionist)==null?void 0:n2.length)>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"By Receptionist"}),_.by_receptionist.map(re=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:re.receptionist_name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[re.chats_handled," chats  ",re.bookings_created," bookings"]})]}),o.jsxs(Ce,{variant:re.conversion_rate>=50?"default":"secondary",children:[re.conversion_rate,"% conversion"]})]},re.receptionist_id))]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No receptionist data available"})]})]})]})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Mr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No report data available"})]})]}),o.jsxs(fr,{value:"management",className:"space-y-6",children:[o.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:o.jsx(Ln,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"User Management"}),o.jsx(Oe,{children:"Manage all users"})]})]})}),o.jsxs(ni,{open:M,onOpenChange:re=>{z(re),re||Oc()},children:[o.jsx(qb,{asChild:!0,children:o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-green-500/20 hover:border-green-500 bg-green-50/50 dark:bg-green-900/10",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:o.jsx(Wee,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Bulk Import"}),o.jsx(Oe,{children:"Import students from Excel"})]})]})})}),o.jsxs(Un,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(ii,{children:[o.jsxs(si,{className:"flex items-center gap-2",children:[o.jsx(AM,{className:"w-5 h-5"}),"Campus Africa Student Import"]}),o.jsx(Go,{children:"Upload an Excel file to bulk register students. Supports password-protected files."})]}),O==="upload"&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[o.jsx(AM,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),o.jsxs(fe,{htmlFor:"excel-upload",className:"cursor-pointer",children:[o.jsx("span",{className:"text-primary hover:underline",children:"Choose Excel file"}),o.jsx("span",{className:"text-muted-foreground",children:" or drag and drop"})]}),o.jsx(st,{id:"excel-upload",type:"file",accept:".xlsx,.xls",onChange:Cc,className:"hidden"}),L&&o.jsxs("p",{className:"mt-4 text-sm text-green-600 flex items-center justify-center gap-2",children:[o.jsx(Hr,{className:"w-4 h-4"}),L.name," (",(L.size/1024).toFixed(1)," KB)"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"password",children:"File Password (if protected)"}),o.jsx(st,{id:"password",type:"password",placeholder:"Leave empty if not password protected",value:F,onChange:re=>D(re.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"corporate-client",children:"Corporate Client"}),o.jsxs(xr,{value:G,onValueChange:V,children:[o.jsx(cr,{children:o.jsx(br,{placeholder:"Select corporate client"})}),o.jsxs(ur,{children:[U.map(re=>o.jsxs(qe,{value:re.name,children:[re.name," (",re.code||re.type,")"]},re.id)),o.jsx(qe,{value:"__new__",children:"+ Add New Client"})]})]})]}),G==="__new__"&&o.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-primary",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"new-client-name",children:"New Client Name"}),o.jsx(st,{id:"new-client-name",placeholder:"e.g., Company XYZ",value:Y,onChange:re=>pe(re.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"client-type",children:"Client Type"}),o.jsxs(xr,{value:q,onValueChange:X,children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsxs(ur,{children:[o.jsx(qe,{value:"corporate",children:"Corporate"}),o.jsx(qe,{value:"university",children:"University / College"}),o.jsx(qe,{value:"government",children:"Government"}),o.jsx(qe,{value:"ngo",children:"NGO / Non-Profit"})]})]})]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-sm space-y-2",children:[o.jsx("p",{className:"font-medium",children:"Expected Columns:"}),o.jsx("p",{className:"text-muted-foreground",children:"Account Number, Title, First Name, Last Name, I.D Number, DOB, Gender, Cell, Email, Employer, Occupation, Status"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[" All patients will be linked to: ",o.jsx("strong",{children:G==="__new__"?Y||"(enter name above)":G}),o.jsx("br",{})," Rows with invalid/missing email will be skipped",o.jsx("br",{})," Duplicate emails (already in Quadcare) will be skipped",o.jsx("br",{}),' Patients can use "Forgot Password" to set their login password']})]})]}),O==="preview"&&R&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg flex items-center gap-2 mb-4",children:[o.jsx(Sb,{className:"w-5 h-5 text-primary"}),o.jsxs("span",{className:"font-medium",children:["Importing to: ",G==="__new__"?Y:G]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:R.summary.to_import}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"To Import"})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.summary.duplicates||0}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Already in Quadcare"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:R.summary.errors}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid Email"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Preview of first 10 rows from ",R.total_rows," total rows:"]}),o.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[300px]",children:o.jsxs(qx,{children:[o.jsx(Gx,{children:o.jsxs(Vc,{children:[o.jsx(Ti,{className:"w-12",children:"#"}),o.jsx(Ti,{children:"Name"}),o.jsx(Ti,{children:"Email"}),o.jsx(Ti,{children:"Phone"}),o.jsx(Ti,{children:"CA Status"}),o.jsx(Ti,{children:"Action"})]})}),o.jsx(Kx,{children:R.preview_rows.map(re=>{var Ee,pr;return o.jsxs(Vc,{children:[o.jsx(Ai,{className:"font-mono text-xs",children:re.row_number}),o.jsxs(Ai,{children:[re.first_name," ",re.last_name]}),o.jsx(Ai,{className:"text-xs",children:re.email}),o.jsx(Ai,{className:"text-xs",children:re.phone}),o.jsx(Ai,{children:o.jsx(Ce,{variant:(Ee=re.status)!=null&&Ee.includes("existing")?"secondary":"outline",children:re.status||"New"})}),o.jsxs(Ai,{children:[re.import_action==="import"?o.jsxs(Ce,{variant:"default",className:"bg-green-600",children:[o.jsx(Hr,{className:"w-3 h-3 mr-1"}),"Import"]}):re.import_action==="duplicate"?o.jsx(Ce,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Duplicate"}):o.jsxs(Ce,{variant:"destructive",children:[o.jsx(Zo,{className:"w-3 h-3 mr-1"}),"Error"]}),((pr=re.validation_errors)==null?void 0:pr.length)>0&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:re.validation_errors.join(", ")})]})]},re.row_number)})})]})})]}),O==="importing"&&o.jsxs("div",{className:"space-y-4 py-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(et,{className:"w-12 h-12 mx-auto animate-spin text-primary"}),o.jsx("p",{className:"text-lg font-medium mt-4",children:"Importing patients..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing in the background. You can close this dialog - the import will continue."})]}),Ve&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["Progress: ",Ve.processed||0," / ",Ve.total_rows||0]}),o.jsxs("span",{children:[Ve.progress_percent||0,"%"]})]}),o.jsx(Bu,{value:Ve.progress_percent||0,className:"w-full"}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[o.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-green-600",children:Ve.imported||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Imported"})]}),o.jsxs("div",{className:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-yellow-600",children:Ve.skipped||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Skipped"})]}),o.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-blue-600",children:Ve.duplicates||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Duplicates"})]}),o.jsxs("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-red-600",children:Ve.errors||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"})]})]}),o.jsx(Z,{variant:"outline",onClick:ba,className:"w-full",children:"Cancel Import"})]})]}),O==="complete"&&te&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"text-center py-4",children:[o.jsx(Hr,{className:"w-16 h-16 mx-auto text-green-500 mb-4"}),o.jsx("p",{className:"text-xl font-bold",children:"Import Complete!"})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:te.summary.imported}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Imported"})]}),o.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:te.summary.skipped}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:te.summary.duplicates}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Duplicates"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:te.summary.errors}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"})]})]}),((i2=te.details)==null?void 0:i2.length)>0&&o.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[200px]",children:o.jsxs(qx,{children:[o.jsx(Gx,{children:o.jsxs(Vc,{children:[o.jsx(Ti,{className:"w-12",children:"#"}),o.jsx(Ti,{children:"Email"}),o.jsx(Ti,{children:"Status"}),o.jsx(Ti,{children:"Details"})]})}),o.jsx(Kx,{children:te.details.slice(0,20).map((re,Ee)=>o.jsxs(Vc,{children:[o.jsx(Ai,{className:"font-mono text-xs",children:re.row}),o.jsx(Ai,{className:"text-xs",children:re.email}),o.jsx(Ai,{children:o.jsx(Ce,{variant:re.status==="imported"?"default":re.status==="skipped"?"secondary":re.status==="duplicate"?"outline":"destructive",className:re.status==="imported"?"bg-green-600":"",children:re.status})}),o.jsx(Ai,{className:"text-xs text-muted-foreground",children:re.reason})]},Ee))})]})}),o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'Students can now log in using "Forgot Password" to set their password.'})]}),o.jsxs(bu,{children:[O==="upload"&&o.jsx(Z,{onClick:ns,disabled:!L||K,children:K?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):o.jsx(o.Fragment,{children:"Preview File"})}),O==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(Z,{variant:"outline",onClick:()=>E("upload"),children:"Back"}),o.jsx(Z,{onClick:ol,disabled:K||((s2=R==null?void 0:R.summary)==null?void 0:s2.to_import)===0,children:K?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(kb,{className:"w-4 h-4 mr-2"}),"Import ",(a2=R==null?void 0:R.summary)==null?void 0:a2.to_import," Students"]})})]}),O==="complete"&&o.jsx(Z,{onClick:()=>{z(!1),Oc()},children:"Done"})]})]})]}),o.jsxs(ni,{open:bt,onOpenChange:re=>{Ct(re),re||iy(),re&&bp()},children:[o.jsx(qb,{asChild:!0,children:o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-blue-500/20 hover:border-blue-500 bg-blue-50/50 dark:bg-blue-900/10",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:o.jsx(Ia,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Welcome Emails"}),o.jsx(Oe,{children:"Send to Campus Africa students"})]})]})})}),o.jsxs(Un,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(ii,{children:[o.jsxs(si,{className:"flex items-center gap-2",children:[o.jsx(Ia,{className:"w-5 h-5"}),"Send Welcome Emails"]}),o.jsx(Go,{children:"Send personalized welcome emails to Campus Africa students who haven't logged in yet."})]}),Ge==="preview"&&o.jsx("div",{className:"space-y-4 py-4",children:Q?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(et,{className:"w-6 h-6 animate-spin mr-2"}),"Loading recipients..."]}):wt?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-blue-600"}),o.jsxs("span",{className:"font-semibold text-lg",children:[wt.total_eligible," students eligible"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Students who were bulk-imported but haven't logged in yet"})]}),((o2=wt.preview)==null?void 0:o2.length)>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Preview (first 20):"}),o.jsx("div",{className:"border rounded-lg max-h-48 overflow-y-auto",children:o.jsxs(qx,{children:[o.jsx(Gx,{children:o.jsxs(Vc,{children:[o.jsx(Ti,{children:"Name"}),o.jsx(Ti,{children:"Email"})]})}),o.jsx(Kx,{children:wt.preview.map((re,Ee)=>o.jsxs(Vc,{children:[o.jsxs(Ai,{children:[re.first_name," ",re.last_name]}),o.jsx(Ai,{className:"text-sm text-muted-foreground",children:re.email})]},Ee))})]})})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[o.jsx("input",{type:"checkbox",id:"test-mode",checked:Vt,onChange:re=>rs(re.target.checked),className:"rounded"}),o.jsx(fe,{htmlFor:"test-mode",className:"text-sm cursor-pointer",children:"Test mode (send to first 5 students only)"})]})]}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data loaded"})}),Ge==="sending"&&J&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[o.jsx(et,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{className:"font-medium",children:"Sending emails..."})]}),o.jsx(Bu,{value:J.progress_percent,className:"h-3"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:J.sent}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Sent"})]}),o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:J.failed}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed"})]}),o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold",children:J.total}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[J.processed," of ",J.total," processed (",J.progress_percent,"%)"]})]}),Ge==="complete"&&J&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx($r,{className:"w-8 h-8 text-green-600"})}),o.jsx("h3",{className:"text-lg font-semibold",children:"Emails Sent!"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-green-600",children:J.sent}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Successfully Sent"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-red-600",children:J.failed}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]}),((l2=J.errors)==null?void 0:l2.length)>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{className:"text-red-600",children:"Failed emails:"}),o.jsx("div",{className:"border border-red-200 rounded-lg max-h-32 overflow-y-auto p-2",children:J.errors.map((re,Ee)=>o.jsxs("div",{className:"text-sm text-red-600",children:[re.email,": ",re.error]},Ee))})]})]}),o.jsxs(bu,{className:"gap-2",children:[Ge==="preview"&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{variant:"outline",onClick:ny,disabled:Q,children:[o.jsx(FU,{className:"w-4 h-4 mr-2"}),"Send Test to Me"]}),o.jsxs(Z,{onClick:Ec,disabled:Q||!(wt!=null&&wt.total_eligible),children:[Q?o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Send ",Vt?"5 Test":(wt==null?void 0:wt.total_eligible)||0," Emails"]})]}),Ge==="complete"&&o.jsx(Z,{onClick:()=>{Ct(!1),iy()},children:"Done"})]})]})]}),o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-success/10",children:o.jsx(Sb,{className:"w-6 h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Clinics"}),o.jsx(Oe,{children:"Manage clinic locations"})]})]})}),o.jsx(le,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-warning/10",children:o.jsx(Dt,{className:"w-6 h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Appointments"}),o.jsx(Oe,{children:"View all bookings"})]})]})})]}),o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Qd,{className:"w-5 h-5 text-primary"}),"System Activity"]}),o.jsx(Oe,{children:"Recent system events and logs"})]}),o.jsx(de,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Qd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Activity logging coming soon"}),o.jsx("p",{className:"text-sm mt-2",children:"System events will appear here"})]})})]})]}),o.jsx(fr,{value:"settings",className:"space-y-6",children:o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dx,{className:"w-5 h-5 text-primary"}),"System Settings"]}),o.jsx(Oe,{children:"Configure system parameters"})]}),o.jsx(de,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Dx,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Settings panel coming soon"}),o.jsx("p",{className:"text-sm mt-2",children:"System configuration options will appear here"})]})})]})})]})]})]})},RWe=()=>{const e=Wn(),{toast:t}=FE(),{user:r,profile:n,signOut:i,role:s}=Lr(),{currentConversation:a,messages:l,isLoading:c,selectConversation:u,sendMessage:d,claimConversation:f,updateConversationStatus:h}=gW(),[p,g]=y.useState("unassigned"),[m,v]=y.useState([]),[b,x]=y.useState([]),[w,_]=y.useState([]),[N,j]=y.useState({unassigned_count:0,my_chats_count:0,total_active:0}),[k,C]=y.useState(!1),[P,A]=y.useState(!1),[I,M]=y.useState("chat"),[z,L]=y.useState([]),[W,F]=y.useState(!1),[D,R]=y.useState(!1),[B,K]=y.useState([]),[ee,te]=y.useState([]),[S,O]=y.useState({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:"",authorization_number:""}),[E,U]=y.useState(!1),[$,G]=y.useState(!1),[V,q]=y.useState(!1),[X,Y]=y.useState(null),[pe,Ne]=y.useState(null),[Ke,Ve]=y.useState(null),[He,bt]=y.useState(!1);y.useEffect(()=>{(async()=>{if(!(a!=null&&a.patient_id)){Ve(null);return}bt(!0);try{const he=await Ev.getUrl(a.patient_id);Ve((he==null?void 0:he.photo_url)||null)}catch(he){console.error("Error fetching patient photo:",he),Ve(null)}finally{bt(!1)}})()},[a==null?void 0:a.patient_id]),y.useEffect(()=>{(async()=>{if(a!=null&&a.booking_id)try{const Ge=(await wo.list()).find(nt=>nt.id===a.booking_id);Y(Ge||null)}catch(he){console.error("Error fetching booking:",he),Y(null)}else Y(null)})()},[a==null?void 0:a.booking_id]);const Ct=y.useCallback(async()=>{F(!0);try{const he=(await wo.list()||[]).sort((Ge,nt)=>new Date(Ge.scheduled_at).getTime()-new Date(nt.scheduled_at).getTime());L(he)}catch(J){console.error("Error loading bookings:",J)}finally{F(!1)}},[]);y.useEffect(()=>{I==="bookings"&&Ct()},[I,Ct]);const wt=async J=>{Ne(J),G(!0)},H=async()=>{const J=pe||(a!=null&&a.booking_id?{id:a.booking_id}:null);if(J!=null&&J.id){q(!0);try{await wo.cancel(J.id),t({title:"Booking cancelled",description:"The booking has been cancelled successfully"}),G(!1),Ne(null),Y(null),Q(),I==="bookings"&&Ct()}catch(he){t({title:"Error cancelling booking",description:he.message,variant:"destructive"})}finally{q(!1)}}},Q=y.useCallback(async()=>{A(!0);try{const[J,he,Ge,nt]=await Promise.all([on.getUnassignedConversations(),on.getMyChats(),on.getConversations(),on.getStats()]);v(J||[]),x(he||[]),_(Ge||[]),j(nt||{unassigned_count:0,my_chats_count:0,total_active:0})}catch(J){console.error("Error loading data:",J)}finally{A(!1)}},[]);y.useEffect(()=>{Q();const J=setInterval(Q,3e4);return()=>clearInterval(J)},[Q]),y.useEffect(()=>{(async()=>{try{const[he,Ge]=await Promise.all([wo.getFeeSchedule(),wo.getAvailableClinicians()]);K(he||[]),te(Ge||[]),console.log("Loaded clinicians:",Ge)}catch(he){console.error("Error loading booking data:",he)}})()},[]);const ne=async J=>{try{await f(J),t({title:"Chat claimed",description:"You are now handling this conversation"}),await Q(),g("my-chats")}catch(he){t({title:"Error",description:he.message,variant:"destructive"})}},Se=async J=>{await u(J.id)},be=async()=>{if(!a||!S.clinician_id||!S.scheduled_at){t({title:"Error",description:"Please select a clinician and date/time",variant:"destructive"});return}U(!0);try{await wo.create({patient_id:a.patient_id,clinician_id:S.clinician_id,conversation_id:a.id,scheduled_at:new Date(S.scheduled_at).toISOString(),service_type:S.service_type,billing_type:S.billing_type,notes:S.notes||void 0,authorization_number:S.billing_type==="medical_aid"?S.authorization_number:void 0}),t({title:"Booking created",description:"The patient has been notified"}),R(!1),O({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:"",authorization_number:""}),await u(a.id),await Q()}catch(J){t({title:"Error creating booking",description:J.message,variant:"destructive"})}finally{U(!1)}};return s!=="admin"&&s!=="nurse"&&s!=="doctor"&&s!=="receptionist"?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs(le,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),o.jsx(Z,{className:"mt-4",onClick:()=>e("/"),children:"Go Home"})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-lg hidden sm:block",children:"Quadcare Reception"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[o.jsxs(Z,{variant:I==="chat"?"default":"ghost",size:"sm",onClick:()=>M("chat"),children:[o.jsx(Au,{className:"w-4 h-4 mr-2"}),"Chats"]}),o.jsxs(Z,{variant:I==="bookings"?"default":"ghost",size:"sm",onClick:()=>M("bookings"),children:[o.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Bookings"]})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(Ce,{variant:"secondary",className:"gap-1",children:[o.jsx(Eee,{className:"w-3 h-3"}),N.unassigned_count," Unassigned"]}),o.jsxs(Ce,{variant:"default",className:"gap-1",children:[o.jsx(Au,{className:"w-3 h-3"}),N.my_chats_count," My Chats"]})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.first_name)||"Receptionist"}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:i,children:[o.jsx(rc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>C(!k),children:k?o.jsx(Za,{className:"w-5 h-5"}):o.jsx(bv,{className:"w-5 h-5"})})]})}),o.jsx("main",{className:"container mx-auto px-4 py-4",children:I==="chat"?o.jsxs("div",{className:"flex gap-4 h-[calc(100vh-120px)]",children:[o.jsxs(le,{className:"w-80 shrink-0 flex flex-col",children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(we,{className:"text-lg",children:"Chat Queue"}),o.jsx(Z,{variant:"ghost",size:"sm",onClick:Q,disabled:P,children:P?o.jsx(et,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),o.jsx(de,{className:"flex-1 p-0 overflow-hidden",children:o.jsxs(tl,{value:p,onValueChange:g,className:"h-full flex flex-col",children:[o.jsxs(ro,{className:"grid grid-cols-3 mx-4",children:[o.jsxs(Bt,{value:"unassigned",className:"text-xs",children:["Unassigned",N.unassigned_count>0&&o.jsx(Ce,{variant:"destructive",className:"ml-1 px-1 py-0 text-xs",children:N.unassigned_count})]}),o.jsx(Bt,{value:"my-chats",className:"text-xs",children:"My Chats"}),o.jsx(Bt,{value:"all",className:"text-xs",children:"All"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsx(fr,{value:"unassigned",className:"m-0 h-full",children:m.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[o.jsx($r,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No unassigned chats"})]}):o.jsx("div",{className:"divide-y",children:m.map(J=>o.jsxs("div",{className:"p-4 hover:bg-accent",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:J.patient_name}),o.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:J.last_message})]}),o.jsx(Ce,{variant:"secondary",className:"text-xs",children:"New"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:J.last_message_at&&Pt(new Date(J.last_message_at),"HH:mm")}),o.jsxs(Z,{size:"sm",onClick:()=>ne(J.id),children:[o.jsx(kb,{className:"w-3 h-3 mr-1"}),"Claim"]})]})]},J.id))})}),o.jsx(fr,{value:"my-chats",className:"m-0 h-full",children:o.jsx($k,{conversations:b,selectedId:a==null?void 0:a.id,onSelect:Se,showPatientName:!0})}),o.jsx(fr,{value:"all",className:"m-0 h-full",children:o.jsx($k,{conversations:w,selectedId:a==null?void 0:a.id,onSelect:Se,showPatientName:!0})})]})]})})]}),o.jsx(le,{className:"flex-1 flex flex-col",children:a?o.jsxs(o.Fragment,{children:[o.jsx(me,{className:"pb-2 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(sp,{className:"w-14 h-14 border-2 border-border",children:He?o.jsx(lc,{children:o.jsx(et,{className:"w-5 h-5 animate-spin"})}):Ke?o.jsx(b_,{src:Ke,alt:a.patient_name}):o.jsx(lc,{className:"bg-muted",children:o.jsx(Dr,{className:"w-6 h-6 text-muted-foreground"})})}),!Ke&&!He&&o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-amber-500 rounded-full p-1",title:"No verification photo",children:o.jsx(Nm,{className:"w-3 h-3 text-white"})})]}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:a.patient_name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Ce,{variant:"outline",children:a.status.replace("_"," ")}),a.patient_type&&o.jsx(Ce,{variant:"secondary",children:a.patient_type.replace("_"," ")}),!Ke&&!He&&o.jsx(Ce,{variant:"outline",className:"text-amber-600 border-amber-300 bg-amber-50",children:"No Photo"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xr,{value:a.patient_type||"",onValueChange:async J=>{await on.updatePatientType(a.id,J),await u(a.id)},children:[o.jsx(cr,{className:"w-[150px]",children:o.jsx(br,{placeholder:"Patient Type"})}),o.jsxs(ur,{children:[o.jsx(qe,{value:"medical_aid",children:"Medical Aid"}),o.jsx(qe,{value:"campus_africa",children:"Campus Africa"}),o.jsx(qe,{value:"university_student",children:"University Student"}),o.jsx(qe,{value:"cash",children:"Cash / Self-Pay"})]})]}),o.jsxs(ni,{open:D,onOpenChange:R,children:[o.jsx(qb,{asChild:!0,children:o.jsxs(Z,{disabled:a.status==="booked"||!!X,children:[o.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Create Booking"]})}),o.jsxs(Un,{className:"max-w-md",children:[o.jsx(ii,{children:o.jsxs(si,{children:["Create Booking for ",a.patient_name]})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Clinical Associate *"}),o.jsxs(xr,{value:S.clinician_id,onValueChange:J=>O(he=>({...he,clinician_id:J})),children:[o.jsx(cr,{children:o.jsx(br,{placeholder:"Select clinician"})}),o.jsx(ur,{children:ee.length===0?o.jsx(qe,{value:"",disabled:!0,children:"No clinicians available"}):ee.map(J=>o.jsxs(qe,{value:J.id,children:[J.name," (",J.specialization||J.role,")"]},J.id))})]}),ee.length===0&&o.jsx("p",{className:"text-xs text-destructive",children:"No clinicians found. Please create Clinical Associate accounts first."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Date & Time *"}),o.jsx(st,{type:"datetime-local",value:S.scheduled_at,onChange:J=>O(he=>({...he,scheduled_at:J.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Service Type"}),o.jsxs(xr,{value:S.service_type,onValueChange:J=>O(he=>({...he,service_type:J})),children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsx(ur,{children:B.map(J=>o.jsxs(qe,{value:J.service_type,children:[J.name," - R",J.price]},J.service_type))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Billing Type"}),o.jsxs(xr,{value:S.billing_type,onValueChange:J=>O(he=>({...he,billing_type:J,authorization_number:""})),children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsxs(ur,{children:[o.jsx(qe,{value:"medical_aid",children:"Medical Aid"}),o.jsx(qe,{value:"campus_africa",children:"Campus Africa"}),o.jsx(qe,{value:"university_student",children:"University Student"}),o.jsx(qe,{value:"cash",children:"Cash / Self-Pay"})]})]})]}),S.billing_type==="medical_aid"&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fe,{children:["Authorization Number ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(st,{value:S.authorization_number,onChange:J=>O(he=>({...he,authorization_number:J.target.value})),placeholder:"Enter medical aid authorization number",className:S.authorization_number?"":"border-destructive"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for medical aid billing. Obtain from HealthBridge system."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Notes (optional)"}),o.jsx(Zt,{value:S.notes,onChange:J=>O(he=>({...he,notes:J.target.value})),placeholder:"e.g., Patient mentioned skin rash, see uploaded images"})]}),S.billing_type==="cash"&&o.jsx("div",{className:"p-3 bg-muted rounded-lg",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:" Invoice will be auto-generated for cash patients"})})]}),o.jsxs(bu,{children:[o.jsx(Z,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),o.jsx(Z,{onClick:be,disabled:E||!S.clinician_id||S.billing_type==="medical_aid"&&!S.authorization_number.trim(),children:E?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Booking"})]})]})]}),X&&o.jsxs(ni,{open:$,onOpenChange:G,children:[o.jsx(qb,{asChild:!0,children:o.jsxs(Z,{variant:"destructive",size:"sm",children:[o.jsx(oa,{className:"w-4 h-4 mr-2"}),"Cancel Booking"]})}),o.jsxs(Un,{className:"max-w-md",children:[o.jsxs(ii,{children:[o.jsxs(si,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(ai,{className:"w-5 h-5"}),"Cancel Booking"]}),o.jsx(Go,{children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),o.jsx("span",{className:"font-medium",children:a.patient_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),o.jsx("span",{className:"font-medium",children:X.scheduled_at?vi(X.scheduled_at,"MMM d, yyyy 'at' HH:mm"):"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),o.jsx("span",{className:"font-medium",children:X.service_type})]}),X.clinician_name&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Clinician"}),o.jsx("span",{className:"font-medium",children:X.clinician_name})]})]})}),o.jsxs(bu,{children:[o.jsx(Z,{variant:"outline",onClick:()=>G(!1),children:"Keep Booking"}),o.jsx(Z,{variant:"destructive",onClick:H,disabled:V,children:V?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})]})]})]})}),o.jsx(yV,{messages:l,currentUserId:r==null?void 0:r.id}),o.jsx(xV,{onSend:d,disabled:a.status==="closed"})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[o.jsx(Ln,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),o.jsx("p",{className:"text-muted-foreground",children:"Choose a chat from the queue to start helping patients"})]})})]}):o.jsxs("div",{className:"h-[calc(100vh-120px)]",children:[o.jsxs(le,{className:"h-full flex flex-col",children:[o.jsx(me,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dt,{className:"w-5 h-5 text-primary"}),"All Bookings"]}),o.jsx(Oe,{children:"Manage upcoming and past consultations"})]}),o.jsx(Z,{variant:"outline",size:"sm",onClick:Ct,disabled:W,children:W?o.jsx(et,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),o.jsx(de,{className:"flex-1 overflow-y-auto",children:W?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(et,{className:"w-8 h-8 animate-spin text-primary"})}):z.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(Dt,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"No bookings yet"}),o.jsx("p",{className:"text-sm",children:"Bookings will appear here when created"})]}):o.jsx("div",{className:"space-y-3",children:z.map(J=>{var Vt;const he=new Date(J.scheduled_at)<new Date,Ge=J.status==="cancelled",nt=J.status==="completed";return o.jsx("div",{className:`p-4 rounded-lg border ${Ge?"border-red-200 bg-red-50 dark:bg-red-900/10":nt?"border-green-200 bg-green-50 dark:bg-green-900/10":he?"border-muted bg-muted/50":"border-primary/30 bg-primary/5"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-semibold",children:J.patient_name||"Patient"}),o.jsx(Ce,{variant:Ge?"destructive":nt||J.status==="confirmed"?"default":"secondary",children:J.status})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[vi(J.scheduled_at,"EEEE, MMMM d, yyyy 'at' HH:mm")," (SAST)"]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Service: ",o.jsx("span",{className:"text-foreground",children:J.service_type})]}),J.clinician_name&&o.jsxs("span",{className:"text-muted-foreground",children:["Clinician: ",o.jsx("span",{className:"text-foreground",children:J.clinician_name})]}),o.jsxs("span",{className:"text-muted-foreground",children:["Type: ",o.jsx("span",{className:"text-foreground capitalize",children:(Vt=J.billing_type)==null?void 0:Vt.replace("_"," ")})]})]})]}),!Ge&&!nt&&!he&&o.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>wt(J),children:[o.jsx(oa,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})},J.id)})})})]}),o.jsx(ni,{open:$&&!!pe,onOpenChange:J=>{J||(G(!1),Ne(null))},children:o.jsxs(Un,{className:"max-w-md",children:[o.jsxs(ii,{children:[o.jsxs(si,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(ai,{className:"w-5 h-5"}),"Cancel Booking"]}),o.jsx(Go,{children:"Are you sure you want to cancel this booking? A cancellation message will be sent in the patient's chat."})]}),pe&&o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),o.jsx("span",{className:"font-medium",children:pe.patient_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),o.jsx("span",{className:"font-medium",children:vi(pe.scheduled_at,"MMM d, yyyy 'at' HH:mm")})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),o.jsx("span",{className:"font-medium",children:pe.service_type})]})]})}),o.jsxs(bu,{children:[o.jsx(Z,{variant:"outline",onClick:()=>{G(!1),Ne(null)},children:"Keep Booking"}),o.jsx(Z,{variant:"destructive",onClick:H,disabled:V,children:V?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})})]})})]})},$We=()=>o.jsx(vW,{children:o.jsx(RWe,{})});function z3(e,t){if(e==null)return{};var r,n,i=function(a,l){if(a==null)return{};var c={};for(var u in a)if({}.hasOwnProperty.call(a,u)){if(l.indexOf(u)!==-1)continue;c[u]=a[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e){return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(e)}function WY(e){var t=function(r,n){if(Ot(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n);if(Ot(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e,"string");return Ot(t)=="symbol"?t:t+""}function W3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WY(n.key),n)}}function ts(e,t,r){return t&&W3(e.prototype,t),r&&W3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sj(e,t){if(t&&(Ot(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function pa(e){return pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pa(e)}function cv(e,t){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},cv(e,t)}function Nj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cv(e,t)}function Ta(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3(e,t,r,n,i,s,a){try{var l=e[s](a),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,i)}function it(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function a(c){V3(s,n,i,a,l,"next",c)}function l(c){V3(s,n,i,a,l,"throw",c)}a(void 0)})}}function H3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Bn(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var s,a,l,c,u=[],d=!0,f=!1;try{if(l=(i=i.call(r)).next,n===0){if(Object(i)!==i)return;d=!1}else for(;!(d=(s=l.call(i)).done)&&(u.push(s.value),u.length!==n);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(f)throw a}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return H3(r,n);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?H3(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function DWe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q3,sx={exports:{}},bO=function(){if(q3)return sx.exports;q3=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(m,v,b){return Function.prototype.apply.call(m,v,b)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var n=Number.isNaN||function(m){return m!=m};function i(){i.init.call(this)}sx.exports=i,sx.exports.once=function(m,v){return new Promise(function(b,x){function w(N){m.removeListener(v,_),x(N)}function _(){typeof m.removeListener=="function"&&m.removeListener("error",w),b([].slice.call(arguments))}g(m,v,_,{once:!0}),v!=="error"&&function(N,j,k){typeof N.on=="function"&&g(N,"error",j,k)}(m,w,{once:!0})})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function l(m){return m._maxListeners===void 0?i.defaultMaxListeners:m._maxListeners}function c(m,v,b,x){var w,_,N,j;if(a(b),(_=m._events)===void 0?(_=m._events=Object.create(null),m._eventsCount=0):(_.newListener!==void 0&&(m.emit("newListener",v,b.listener?b.listener:b),_=m._events),N=_[v]),N===void 0)N=_[v]=b,++m._eventsCount;else if(typeof N=="function"?N=_[v]=x?[b,N]:[N,b]:x?N.unshift(b):N.push(b),(w=l(m))>0&&N.length>w&&!N.warned){N.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=m,k.type=v,k.count=N.length,j=k,console&&console.warn&&console.warn(j)}return m}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(m,v,b){var x={fired:!1,wrapFn:void 0,target:m,type:v,listener:b},w=u.bind(x);return w.listener=b,x.wrapFn=w,w}function f(m,v,b){var x=m._events;if(x===void 0)return[];var w=x[v];return w===void 0?[]:typeof w=="function"?b?[w.listener||w]:[w]:b?function(_){for(var N=new Array(_.length),j=0;j<N.length;++j)N[j]=_[j].listener||_[j];return N}(w):p(w,w.length)}function h(m){var v=this._events;if(v!==void 0){var b=v[m];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function p(m,v){for(var b=new Array(v),x=0;x<v;++x)b[x]=m[x];return b}function g(m,v,b,x){if(typeof m.on=="function")x.once?m.once(v,b):m.on(v,b);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(v,function w(_){x.once&&m.removeEventListener(v,w),b(_)})}}return Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");s=m}}),i.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(m){for(var v=[],b=1;b<arguments.length;b++)v.push(arguments[b]);var x=m==="error",w=this._events;if(w!==void 0)x=x&&w.error===void 0;else if(!x)return!1;if(x){var _;if(v.length>0&&(_=v[0]),_ instanceof Error)throw _;var N=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw N.context=_,N}var j=w[m];if(j===void 0)return!1;if(typeof j=="function")r(j,this,v);else{var k=j.length,C=p(j,k);for(b=0;b<k;++b)r(C[b],this,v)}return!0},i.prototype.addListener=function(m,v){return c(this,m,v,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(m,v){return c(this,m,v,!0)},i.prototype.once=function(m,v){return a(v),this.on(m,d(this,m,v)),this},i.prototype.prependOnceListener=function(m,v){return a(v),this.prependListener(m,d(this,m,v)),this},i.prototype.removeListener=function(m,v){var b,x,w,_,N;if(a(v),(x=this._events)===void 0)return this;if((b=x[m])===void 0)return this;if(b===v||b.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete x[m],x.removeListener&&this.emit("removeListener",m,b.listener||v));else if(typeof b!="function"){for(w=-1,_=b.length-1;_>=0;_--)if(b[_]===v||b[_].listener===v){N=b[_].listener,w=_;break}if(w<0)return this;w===0?b.shift():function(j,k){for(;k+1<j.length;k++)j[k]=j[k+1];j.pop()}(b,w),b.length===1&&(x[m]=b[0]),x.removeListener!==void 0&&this.emit("removeListener",m,N||v)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(m){var v,b,x;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[m]),this;if(arguments.length===0){var w,_=Object.keys(b);for(x=0;x<_.length;++x)(w=_[x])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=b[m])=="function")this.removeListener(m,v);else if(v!==void 0)for(x=v.length-1;x>=0;x--)this.removeListener(m,v[x]);return this},i.prototype.listeners=function(m){return f(this,m,!0)},i.prototype.rawListeners=function(m){return f(this,m,!1)},i.listenerCount=function(m,v){return typeof m.listenerCount=="function"?m.listenerCount(v):h.call(m,v)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},sx.exports}(),ax=DWe(bO),G3=Object.prototype.hasOwnProperty;function K3(e,t,r){for(r of e.keys())if(Gn(r,t))return r}function Gn(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Gn(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((i=n)&&typeof i=="object"&&!(i=K3(t,i))||!t.has(i))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((i=n[0])&&typeof i=="object"&&!(i=K3(t,i))||!Gn(n[1],t.get(i)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if(G3.call(e,r)&&++n&&!G3.call(t,r)||!(r in t)||!Gn(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const LWe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},VY={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Pr={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Vn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},yl={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ue{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=ue.getVersionPrecision(t),s=ue.getVersionPrecision(r);let a=Math.max(i,s),l=0;const c=ue.map([t,r],u=>{const d=a-ue.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return ue.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(l=a-Math.min(i,s)),a-=1;a>=l;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===l)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const s=t[n];if(r(s,n))return s}}static assign(t,...r){const n=t;let i,s;if(Object.assign)return Object.assign(t,...r);for(i=0,s=r.length;i<s;i+=1){const a=r[i];typeof a=="object"&&a!==null&&Object.keys(a).forEach(l=>{n[l]=a[l]})}return t}static getBrowserAlias(t){return LWe[t]}static getBrowserTypeByAlias(t){return VY[t]||""}}const qt=/version\/(\d+(\.?_?\d+)+)/i,FWe=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=ue.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=ue.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=ue.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=ue.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=ue.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=ue.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=ue.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=ue.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=ue.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=ue.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=ue.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=ue.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=ue.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=ue.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=ue.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=ue.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=ue.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=ue.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=ue.getFirstMatch(qt,e)||ue.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=ue.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=ue.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=ue.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=ue.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=ue.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=ue.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=ue.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=ue.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=ue.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=ue.getFirstMatch(qt,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ue.getFirstMatch(t,e),version:ue.getSecondMatch(t,e)}}}];var BWe=[{test:[/Roku\/DVP/],describe(e){const t=ue.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Vn.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=ue.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Vn.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=ue.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=ue.getWindowsVersionName(t);return{name:Vn.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Vn.iOS},r=ue.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=ue.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=ue.getMacOSVersionName(t),n={name:Vn.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=ue.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Vn.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=ue.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=ue.getAndroidVersionName(t),n={name:Vn.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=ue.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:Vn.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=ue.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||ue.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||ue.getFirstMatch(/\bbb(\d+)/i,e);return{name:Vn.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=ue.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Vn.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=ue.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Vn.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Vn.Linux})},{test:[/CrOS/],describe:()=>({name:Vn.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=ue.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Vn.PlayStation4,version:t}}}],UWe=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=ue.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:Pr.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Pr.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Pr.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Pr.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Pr.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Pr.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Pr.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=ue.getFirstMatch(/(ipod|iphone)/i,e);return{type:Pr.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Pr.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Pr.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:Pr.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:Pr.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:Pr.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:Pr.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:Pr.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:Pr.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:Pr.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:Pr.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:Pr.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:Pr.tv})}],zWe=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:yl.Blink};const t=ue.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:yl.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:yl.Trident},r=ue.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:yl.Presto},r=ue.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:yl.Gecko},r=ue.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:yl.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:yl.WebKit},r=ue.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Y3{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=ue.find(FWe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=ue.find(BWe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=ue.find(UWe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=ue.find(zWe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ue.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let s=0;if(Object.keys(t).forEach(a=>{const l=t[a];typeof l=="string"?(i[a]=l,s+=1):typeof l=="object"&&(r[a]=l,n+=1)}),n>0){const a=Object.keys(r),l=ue.find(a,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=ue.find(a,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(s>0){const a=Object.keys(i),l=ue.find(a,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(i[l])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const s=ue.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(ue.compareVersions(s,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class WWe{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Y3(t,r)}static parse(t){return new Y3(t).getResult()}static get BROWSER_MAP(){return VY}static get ENGINE_MAP(){return yl}static get OS_MAP(){return Vn}static get PLATFORMS_MAP(){return Pr}}function kj(){return Date.now()+Math.random().toString()}function tm(){throw new Error("Method must be implemented in subclass")}function HY(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function dw(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:HY("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function fw(e){try{new URL(e)}catch{return!1}return!0}const Xt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Su="8.55.0",$t=globalThis;function hw(e,t,r){const n=$t,i=n.__SENTRY__=n.__SENTRY__||{},s=i[Su]=i[Su]||{};return s[e]||(s[e]=t())}const dd=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,wO=["debug","info","warn","error","log","assert","trace"],pw={};function ey(e){if(!("console"in $t))return e();const t=$t.console,r={},n=Object.keys(pw);n.forEach(i=>{const s=pw[i];r[i]=t[i],t[i]=s});try{return e()}finally{n.forEach(i=>{t[i]=r[i]})}}const dt=hw("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return dd?wO.forEach(r=>{t[r]=(...n)=>{e&&ey(()=>{$t.console[r](`Sentry Logger [${r}]:`,...n)})}}):wO.forEach(r=>{t[r]=()=>{}}),t}),cu="?",J3=/\(error: (.*)\)/,X3=/captureMessage|captureException/;function ox(e){return e[e.length-1]||{}}const Q3="<anonymous>";function cc(e){try{return e&&typeof e=="function"&&e.name||Q3}catch{return Q3}}function Z3(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const Jx={},eF={};function Nu(e,t){Jx[e]=Jx[e]||[],Jx[e].push(t)}function ku(e,t){if(!eF[e]){eF[e]=!0;try{t()}catch(r){dd&&dt.error(`Error while instrumenting ${e}`,r)}}}function ia(e,t){const r=e&&Jx[e];if(r)for(const n of r)try{n(t)}catch(i){dd&&dt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${cc(n)}
Error:`,i)}}let OS=null;function VWe(){OS=$t.onerror,$t.onerror=function(e,t,r,n,i){return ia("error",{column:n,error:i,line:r,msg:e,url:t}),!!OS&&OS.apply(this,arguments)},$t.onerror.__SENTRY_INSTRUMENTED__=!0}let ES=null;function HWe(){ES=$t.onunhandledrejection,$t.onunhandledrejection=function(e){return ia("unhandledrejection",e),!ES||ES.apply(this,arguments)},$t.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Cj(){return RA($t),$t}function RA(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Su,t[Su]=t[Su]||{}}const qY=Object.prototype.toString;function $A(e){switch(qY.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Ku(e,Error)}}function xp(e,t){return qY.call(e)===`[object ${t}]`}function GY(e){return xp(e,"ErrorEvent")}function tF(e){return xp(e,"DOMError")}function Eo(e){return xp(e,"String")}function DA(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function _O(e){return e===null||DA(e)||typeof e!="object"&&typeof e!="function"}function Ih(e){return xp(e,"Object")}function Oj(e){return typeof Event<"u"&&Ku(e,Event)}function Ej(e){return!!(e&&e.then&&typeof e.then=="function")}function Ku(e,t){try{return e instanceof t}catch{return!1}}function KY(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const LA=$t;function YY(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,i=[];let s=0,a=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&s++<n&&(u=qWe(r,d),!(u==="html"||s>1&&a+i.length*c+u.length>=f));)i.push(u),a+=u.length,r=r.parentNode;return i.reverse().join(l)}catch{return"<unknown>"}}function qWe(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(LA.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const i=t&&t.length?t.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{n.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const a=r.className;if(a&&Eo(a)){const l=a.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const s=["aria-label","type","name","title","alt"];for(const a of s){const l=r.getAttribute(a);l&&n.push(`[${a}="${l}"]`)}return n.join("")}function kf(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function rF(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const i=e[n];try{KY(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function GWe(e,t,r=!1){return!!Eo(e)&&(xp(t,"RegExp")?t.test(e):!!Eo(t)&&(r?e===t:e.includes(t)))}function lx(e,t=[],r=!1){return t.some(n=>GWe(e,n,r))}function Hi(e,t,r){if(!(t in e))return;const n=e[t],i=r(n);typeof i=="function"&&JY(i,n);try{e[t]=i}catch{dd&&dt.log(`Failed to replace method "${t}" in object`,e)}}function Yu(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{dd&&dt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function JY(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,Yu(e,"__sentry_original__",t)}catch{}}function FA(e){return e.__sentry_original__}function XY(e){if($A(e))return{message:e.message,name:e.name,stack:e.stack,...iF(e)};if(Oj(e)){const t={type:e.type,target:nF(e.target),currentTarget:nF(e.currentTarget),...iF(e)};return typeof CustomEvent<"u"&&Ku(e,CustomEvent)&&(t.detail=e.detail),t}return e}function nF(e){try{return t=e,typeof Element<"u"&&Ku(t,Element)?YY(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function iF(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function ms(e){return jO(e,new Map)}function jO(e,t){if(function(r){if(!Ih(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const i of Object.getOwnPropertyNames(e))e[i]!==void 0&&(n[i]=jO(e[i],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(i=>{n.push(jO(i,t))}),n}return e}function ty(){return Date.now()/1e3}const $o=function(){const{performance:e}=$t;if(!e||!e.now)return ty;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function xs(){const e=$t,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function QY(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Sl(e){const{message:t,event_id:r}=e;if(t)return t;const n=QY(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function SO(e,t,r){const n=e.exception=e.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Rh(e,t){const r=QY(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const i={...n&&n.data,...t.data};r.mechanism.data=i}}function sF(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{Yu(e,"__sentry_captured__",!0)}catch{}return!1}var yo;function Ju(e){return new us(t=>{t(e)})}function mw(e){return new us((t,r)=>{r(e)})}(()=>{const{performance:e}=$t;!e||!e.now||(e.now(),e.timing&&e.timing.navigationStart)})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(yo||(yo={}));class us{constructor(t){us.prototype.__init.call(this),us.prototype.__init2.call(this),us.prototype.__init3.call(this),us.prototype.__init4.call(this),this._state=yo.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new us((n,i)=>{this._handlers.push([!1,s=>{if(t)try{n(t(s))}catch(a){i(a)}else n(s)},s=>{if(r)try{n(r(s))}catch(a){i(a)}else i(s)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new us((r,n)=>{let i,s;return this.then(a=>{s=!1,i=a,t&&t()},a=>{s=!0,i=a,t&&t()}).then(()=>{s?n(i):r(i)})})}__init(){this._resolve=t=>{this._setResult(yo.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(yo.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===yo.PENDING&&(Ej(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===yo.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===yo.RESOLVED&&r[1](this._value),this._state===yo.REJECTED&&r[2](this._value),r[0]=!0)})}}}function KWe(e){const t=$o(),r={sid:xs(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return ms({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&$h(r,e),r}function $h(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||$o(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:xs()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function aF(){return xs()}function NO(){return xs().substring(16)}function Pj(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Pj(n[i],t[i],r-1));return n}const kO="_sentrySpan";function oF(e,t){t?Yu(e,kO,t):delete e[kO]}function lF(e){return e[kO]}class BA{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:aF(),spanId:NO()}}clone(){const t=new BA;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,oF(t,lF(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&$h(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,i]=r instanceof uc?[r.getScopeData(),r.getRequestSession()]:Ih(r)?[t,t.requestSession]:[],{tags:s,extra:a,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:f}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,oF(this,void 0),this._attachments=[],this.setPropagationContext({traceId:aF()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const i={timestamp:ty(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:lF(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Pj(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:NO(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:xs();if(!this._client)return dt.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...r,event_id:n},this),n}captureMessage(t,r,n){const i=n&&n.event_id?n.event_id:xs();if(!this._client)return dt.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:s,...n,event_id:i},this),i}captureEvent(t,r){const n=r&&r.event_id?r.event_id:xs();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(dt.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const uc=BA;class YWe{constructor(t,r){let n,i;n=t||new uc,i=r||new uc,this._stack=[{scope:n}],this._isolationScope=i}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(i){throw this._popScope(),i}return Ej(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Dh(){const e=RA(Cj());return e.stack=e.stack||new YWe(hw("defaultCurrentScope",()=>new uc),hw("defaultIsolationScope",()=>new uc))}function JWe(e){return Dh().withScope(e)}function XWe(e,t){const r=Dh();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function cF(e){return Dh().withScope(()=>e(Dh().getIsolationScope()))}function UA(e){const t=RA(e);return t.acs?t.acs:{withIsolationScope:cF,withScope:JWe,withSetScope:XWe,withSetIsolationScope:(r,n)=>cF(n),getCurrentScope:()=>Dh().getScope(),getIsolationScope:()=>Dh().getIsolationScope()}}function fd(){return UA(Cj()).getCurrentScope()}function ry(){return UA(Cj()).getIsolationScope()}function Dn(){return fd().getClient()}function QWe(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=t;return ms({trace_id:r,span_id:n,parent_span_id:i})}function ZWe(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,i]]of t)(r[n]||(r[n]=[])).push(ms(i));return r}const eVe=/^sentry-/;function tVe(e){const t=function(n){if(!(!n||!Eo(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((i,s)=>{const a=uF(s);return Object.entries(a).forEach(([l,c])=>{i[l]=c}),i},{}):uF(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[i,s])=>(i.match(eVe)&&(n[i.slice(7)]=s),n),{});return Object.keys(r).length>0?r:void 0}function uF(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let dF=!1;function rVe(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return ms({parent_span_id:n?t:zA(e).parent_span_id,span_id:n?NO():t,trace_id:r})}function fF(e){return typeof e=="number"?hF(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?hF(e.getTime()):$o()}function hF(e){return e>9999999999?e/1e3:e}function zA(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const i=n;return!!(i.attributes&&i.startTime&&i.name&&i.endTime&&i.status)}(e)){const{attributes:n,startTime:i,name:s,endTime:a,parentSpanId:l,status:c}=e;return ms({span_id:t,trace_id:r,data:n,description:s,parent_span_id:l,start_timestamp:fF(i),timestamp:fF(a)||void 0,status:nVe(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:ZWe(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function nVe(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function ZY(e){return e._sentryRootSpan||e}function iVe(){dF||(ey(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),dF=!0)}const WA="production";function eJ(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},i=ms({environment:r.environment||WA,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",i),i}function sVe(e){const t=Dn();if(!t)return{};const r=ZY(e),n=r._frozenDsc;if(n)return n;const i=r.spanContext().traceState,s=i&&i.get("sentry.dsc"),a=s&&tVe(s);if(a)return a;const l=eJ(e.spanContext().traceId,t),c=zA(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const f=u["sentry.source"],h=c.description;return f!=="url"&&h&&(l.transaction=h),function(p){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const g=Dn(),m=g&&g.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)}()&&(l.sampled=String(function(p){const{traceFlags:g}=p.spanContext();return g===1}(r))),t.emit("createDsc",l,r),l}const aVe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function gw(e,t=!1){const{host:r,path:n,pass:i,port:s,projectId:a,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${a}`}function pF(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function oVe(e){const t=typeof e=="string"?function(r){const n=aVe.exec(r);if(!n)return void ey(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[i,s,a="",l="",c="",u=""]=n.slice(1);let d="",f=u;const h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){const p=f.match(/^\d+/);p&&(f=p[0])}return pF({host:l,pass:a,path:d,projectId:f,port:c,protocol:i,publicKey:s})}(e):pF(e);if(t&&function(r){if(!dd)return!0;const{port:n,projectId:i,protocol:s}=r;return!(["protocol","publicKey","host","projectId"].find(a=>!r[a]&&(dt.error(`Invalid Sentry Dsn: ${a} missing`),!0))||(i.match(/^\d+$/)?function(a){return a==="http"||a==="https"}(s)?n&&isNaN(parseInt(n,10))&&(dt.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(dt.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(dt.error(`Invalid Sentry Dsn: Invalid projectId ${i}`),1)))}(t))return t}function xo(e,t=100,r=1/0){try{return CO("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function tJ(e,t=3,r=102400){const n=xo(e,t);return i=n,function(s){return~-encodeURI(s).split(/%..|./).length}(JSON.stringify(i))>r?tJ(e,t-1,r):n;var i}function CO(e,t,r=1/0,n=1/0,i=function(){const s=typeof WeakSet=="function",a=s?new WeakSet:[];return[function(l){if(s)return!!a.has(l)||(a.add(l),!1);for(let c=0;c<a.length;c++)if(a[c]===l)return!0;return a.push(l),!1},function(l){if(s)a.delete(l);else for(let c=0;c<a.length;c++)if(a[c]===l){a.splice(c,1);break}}]}()){const[s,a]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(p,g){try{if(p==="domain"&&g&&typeof g=="object"&&g._events)return"[Domain]";if(p==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&g===global)return"[Global]";if(typeof window<"u"&&g===window)return"[Window]";if(typeof document<"u"&&g===document)return"[Document]";if(KY(g))return"[VueViewModel]";if(Ih(m=g)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof g=="number"&&!Number.isFinite(g))return`[${g}]`;if(typeof g=="function")return`[Function: ${cc(g)}]`;if(typeof g=="symbol")return`[${String(g)}]`;if(typeof g=="bigint")return`[BigInt: ${String(g)}]`;const v=function(b){const x=Object.getPrototypeOf(b);return x?x.constructor.name:"null prototype"}(g);return/^HTML(\w*)Element$/.test(v)?`[HTMLElement: ${v}]`:`[object ${v}]`}catch(v){return`**non-serializable** (${v})`}var m}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return CO("",u.toJSON(),c-1,n,i)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=XY(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=n){d[p]="[MaxProperties ~]";break}const g=h[p];d[p]=CO(p,g,c-1,n,i),f++}return a(t),d}function uv(e,t=[]){return[e,t]}function lVe(e,t){const[r,n]=e;return[r,[...n,t]]}function mF(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function OO(e){return $t.__SENTRY__&&$t.__SENTRY__.encodePolyfill?$t.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function cVe(e){const[t,r]=e;let n=JSON.stringify(t);function i(s){typeof n=="string"?n=typeof s=="string"?n+s:[OO(n),s]:n.push(typeof s=="string"?OO(s):s)}for(const s of r){const[a,l]=s;if(i(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(xo(l))}i(c)}}return typeof n=="string"?n:function(s){const a=s.reduce((u,d)=>u+d.length,0),l=new Uint8Array(a);let c=0;for(const u of s)l.set(u,c),c+=u.length;return l}(n)}function uVe(e){const t=typeof e.data=="string"?OO(e.data):e.data;return[ms({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const dVe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function gF(e){return dVe[e]}function rJ(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function fVe(e,t,r,n){const i=rJ(r),s=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const a=function(l,c,u,d){const f=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:gw(d)},...f&&{trace:ms({...f})}}}(e,i,n,t);return delete e.sdkProcessingMetadata,uv(a,[[{type:s},e]])}function EO(e,t,r,n=0){return new us((i,s)=>{const a=e[n];if(t===null||typeof a!="function")i(t);else{const l=a({...t},r);Xt&&a.id&&l===null&&dt.log(`Event processor "${a.id}" dropped event`),Ej(l)?l.then(c=>EO(e,c,r,n+1).then(i)).then(null,s):EO(e,l,r,n+1).then(i).then(null,s)}})}let cx,vF,PS;function hVe(e,t){const{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:s}=t;(function(a,l){const{extra:c,tags:u,user:d,contexts:f,level:h,transactionName:p}=l,g=ms(c);g&&Object.keys(g).length&&(a.extra={...g,...a.extra});const m=ms(u);m&&Object.keys(m).length&&(a.tags={...m,...a.tags});const v=ms(d);v&&Object.keys(v).length&&(a.user={...v,...a.user});const b=ms(f);b&&Object.keys(b).length&&(a.contexts={...b,...a.contexts}),h&&(a.level=h),p&&a.type!=="transaction"&&(a.transaction=p)})(e,t),n&&function(a,l){a.contexts={trace:rVe(l),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:sVe(l),...a.sdkProcessingMetadata};const c=ZY(l),u=zA(c).description;u&&!a.transaction&&a.type==="transaction"&&(a.transaction=u)}(e,n),function(a,l){a.fingerprint=a.fingerprint?Array.isArray(a.fingerprint)?a.fingerprint:[a.fingerprint]:[],l&&(a.fingerprint=a.fingerprint.concat(l)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint}(e,r),function(a,l){const c=[...a.breadcrumbs||[],...l];a.breadcrumbs=c.length?c:void 0}(e,i),function(a,l){a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...l}}(e,s)}function yF(e,t){const{extra:r,tags:n,user:i,contexts:s,level:a,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:p,span:g}=t;ux(e,"extra",r),ux(e,"tags",n),ux(e,"user",i),ux(e,"contexts",s),e.sdkProcessingMetadata=Pj(e.sdkProcessingMetadata,l,2),a&&(e.level=a),p&&(e.transactionName=p),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function ux(e,t,r){e[t]=Pj(e[t],r,1)}function pVe(e,t,r,n,i,s){const{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||xs(),timestamp:t.timestamp||ty()},u=r.integrations||e.integrations.map(g=>g.name);(function(g,m){const{environment:v,release:b,dist:x,maxValueLength:w=250}=m;g.environment=g.environment||v||WA,!g.release&&b&&(g.release=b),!g.dist&&x&&(g.dist=x),g.message&&(g.message=kf(g.message,w));const _=g.exception&&g.exception.values&&g.exception.values[0];_&&_.value&&(_.value=kf(_.value,w));const N=g.request;N&&N.url&&(N.url=kf(N.url,w))})(c,e),function(g,m){m.length>0&&(g.sdk=g.sdk||{},g.sdk.integrations=[...g.sdk.integrations||[],...m])}(c,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&function(g,m){const v=function(b){const x=$t._sentryDebugIds;if(!x)return{};const w=Object.keys(x);return PS&&w.length===vF||(vF=w.length,PS=w.reduce((_,N)=>{cx||(cx={});const j=cx[N];if(j)_[j[0]]=j[1];else{const k=b(N);for(let C=k.length-1;C>=0;C--){const P=k[C],A=P&&P.filename,I=x[N];if(A&&I){_[A]=I,cx[N]=[A,I];break}}}return _},{})),PS}(m);try{g.exception.values.forEach(b=>{b.stacktrace.frames.forEach(x=>{v&&x.filename&&(x.debug_id=v[x.filename])})})}catch{}}(c,e.stackParser);const d=function(g,m){if(!m)return g;const v=g?g.clone():new uc;return v.update(m),v}(n,r.captureContext);r.mechanism&&Rh(c,r.mechanism);const f=i?i.getEventProcessors():[],h=hw("globalScope",()=>new uc).getScopeData();s&&yF(h,s.getScopeData()),d&&yF(h,d.getScopeData());const p=[...r.attachments||[],...h.attachments];return p.length&&(r.attachments=p),hVe(c,h),EO([...f,...h.eventProcessors],c,r).then(g=>(g&&function(m){const v={};try{m.exception.values.forEach(x=>{x.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?v[w.abs_path]=w.debug_id:w.filename&&(v[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(v).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const b=m.debug_meta.images;Object.entries(v).forEach(([x,w])=>{b.push({type:"sourcemap",code_file:x,debug_id:w})})}(g),typeof a=="number"&&a>0?function(m,v,b){if(!m)return null;const x={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map(w=>({...w,...w.data&&{data:xo(w.data,v,b)}}))},...m.user&&{user:xo(m.user,v,b)},...m.contexts&&{contexts:xo(m.contexts,v,b)},...m.extra&&{extra:xo(m.extra,v,b)}};return m.contexts&&m.contexts.trace&&x.contexts&&(x.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(x.contexts.trace.data=xo(m.contexts.trace.data,v,b))),m.spans&&(x.spans=m.spans.map(w=>({...w,...w.data&&{data:xo(w.data,v,b)}}))),m.contexts&&m.contexts.flags&&x.contexts&&(x.contexts.flags=xo(m.contexts.flags,3,b)),x}(g,a,l):g))}function xF(e,t){return fd().captureEvent(e,t)}function bF(e){const t=Dn(),r=ry(),n=fd(),{release:i,environment:s=WA}=t&&t.getOptions()||{},{userAgent:a}=$t.navigator||{},l=KWe({release:i,environment:s,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...e}),c=r.getSession();return c&&c.status==="ok"&&$h(c,{status:"exited"}),nJ(),r.setSession(l),n.setSession(l),l}function nJ(){const e=ry(),t=fd(),r=t.getSession()||e.getSession();r&&function(n,i){let s={};n.status==="ok"&&(s={status:"exited"}),$h(n,s)}(r),iJ(),e.setSession(),t.setSession()}function iJ(){const e=ry(),t=fd(),r=Dn(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function wF(e=!1){e?nJ():iJ()}function mVe(e,t,r){return t||`${function(n){return`${function(i){const s=i.protocol?`${i.protocol}:`:"",a=i.port?`:${i.port}`:"";return`${s}//${i.host}${a}${i.path?`/${i.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,i){const s={sentry_version:"7"};return n.publicKey&&(s.sentry_key=n.publicKey),i&&(s.sentry_client=`${i.name}/${i.version}`),new URLSearchParams(s).toString()}(e,r)}`}const _F=[];function jF(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function SF(e,t,r){if(r[t.name])Xt&&dt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,_F.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),_F.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>n(i,s,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),i=Object.assign((s,a)=>n(s,a,e),{id:t.name});e.addEventProcessor(i)}Xt&&dt.log(`Integration installed: ${t.name}`)}}class Ds extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const NF="Not capturing exception because it's already been captured.";class gVe{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=oVe(t.dsn):Xt&&dt.warn("No DSN provided, client will not send events."),this._dsn){const n=mVe(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&ey(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const i=xs();if(sF(t))return Xt&&dt.log(NF),i;const s={event_id:i,...r};return this._process(this.eventFromException(t,s).then(a=>this._captureEvent(a,s,n))),s.event_id}captureMessage(t,r,n,i){const s={event_id:xs(),...n},a=DA(t)?t:String(t),l=_O(t)?this.eventFromMessage(a,r,s):this.eventFromException(t,s);return this._process(l.then(c=>this._captureEvent(c,s,i))),s.event_id}captureEvent(t,r,n){const i=xs();if(r&&r.originalException&&sF(r.originalException))return Xt&&dt.log(NF),i;const s={event_id:i,...r},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,a||n)),s.event_id}captureSession(t){typeof t.release!="string"?Xt&&dt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),$h(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(i=>n&&i))):Ju(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];SF(this,t,this._integrations),r||jF(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=fVe(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of r.attachments||[])n=lVe(n,uVe(s));const i=this.sendEnvelope(n);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const r=function(n,i,s,a){const l=rJ(s);return uv({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!a&&i&&{dsn:gw(i)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const i=typeof n=="number"?n:1,s=`${t}:${r}`;Xt&&dt.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(i=>i(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(Xt&&dt.error("Error while sending envelope:",r),r)):(Xt&&dt.error("Transport disabled"),Ju({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const i={};return n.forEach(s=>{s&&SF(r,s,i)}),i}(this,t),jF(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",i=!1;const s=r.exception&&r.exception.values;if(s){i=!0;for(const l of s){const c=l.mechanism;if(c&&c.handled===!1){n=!0;break}}}const a=t.status==="ok";(a&&t.errors===0||a&&n)&&($h(t,{...n&&{status:"crashed"},errors:t.errors||Number(i||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new us(r=>{let n=0;const i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),r(!0)):(n+=1,t&&n>=t&&(clearInterval(i),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=fd(),i=ry()){const s=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",t,r),t.type||i.setLastEventId(t.event_id||r.event_id),pVe(s,t,r,n,this,i).then(l=>{if(l===null)return l;l.contexts={trace:QWe(n),...l.contexts};const c=function(u,d){const f=d.getPropagationContext();return f.dsc||eJ(f.traceId,u)}(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(i=>i.event_id,i=>{Xt&&(i instanceof Ds&&i.logLevel==="log"?dt.log(i.message):dt.warn(i))})}_processEvent(t,r,n){const i=this.getOptions(),{sampleRate:s}=i,a=CF(t),l=kF(t),c=t.type||"error",u=`before send for type \`${c}\``,d=s===void 0?void 0:function(p){if(typeof p=="boolean")return Number(p);const g=typeof p=="string"?parseFloat(p):p;if(!(typeof g!="number"||isNaN(g)||g<0||g>1))return g;Xt&&dt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(p)} of type ${JSON.stringify(typeof p)}.`)}(s);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),mw(new Ds(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const f=c==="replay_event"?"replay":c,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f,t),new Ds("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return p;const g=function(m,v,b,x){const{beforeSend:w,beforeSendTransaction:_,beforeSendSpan:N}=v;if(kF(b)&&w)return w(b,x);if(CF(b)){if(b.spans&&N){const j=[];for(const k of b.spans){const C=N(k);C?j.push(C):(iVe(),m.recordDroppedEvent("before_send","span"))}b.spans=j}if(_){if(b.spans){const j=b.spans.length;b.sdkProcessingMetadata={...b.sdkProcessingMetadata,spanCountBeforeProcessing:j}}return _(b,x)}}return b}(this,i,p,r);return function(m,v){const b=`${v} must return \`null\` or a valid event.`;if(Ej(m))return m.then(x=>{if(!Ih(x)&&x!==null)throw new Ds(b);return x},x=>{throw new Ds(`${v} rejected with ${x}`)});if(!Ih(m)&&m!==null)throw new Ds(b);return m}(g,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f,t),a){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new Ds(`${u} returned \`null\`, will not send event.`,"log")}const g=n&&n.getSession();if(!a&&g&&this._updateSessionFromEvent(g,p),a){const v=(p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(p.spans?p.spans.length:0);v>0&&this.recordDroppedEvent("before_send","span",v)}const m=p.transaction_info;if(a&&m&&p.transaction!==t.transaction){const v="custom";p.transaction_info={...m,source:v}}return this.sendEvent(p,r),p}).then(null,p=>{throw p instanceof Ds?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Ds(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[i,s]=r.split(":");return{reason:i,category:s,quantity:n}})}_flushOutcomes(){Xt&&dt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Xt&&dt.log("No outcomes to send"));if(!this._dsn)return void(Xt&&dt.log("No dsn provided, will not send outcomes"));Xt&&dt.log("Sending outcomes:",t);const r=(n=t,uv((i=this._options.tunnel&&gw(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:s||ty(),discarded_events:n}]]));var n,i,s;this.sendEnvelope(r)}}function kF(e){return e.type===void 0}function CF(e){return e.type==="transaction"}function vVe(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return mw(new Ds("Not adding Promise because buffer limit was reached."));const i=n();return t.indexOf(i)===-1&&t.push(i),i.then(()=>r(i)).then(null,()=>r(i).then(null,()=>{})),i},drain:function(n){return new us((i,s)=>{let a=t.length;if(!a)return i(!0);const l=setTimeout(()=>{n&&n>0&&i(!1)},n);t.forEach(c=>{Ju(c).then(()=>{--a||(clearTimeout(l),i(!0))},s)})})}}}function yVe(e,{statusCode:t,headers:r},n=Date.now()){const i={...e},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(const l of s.trim().split(",")){const[c,u,,,d]=l.split(":",5),f=parseInt(c,10),h=1e3*(isNaN(f)?60:f);if(u)for(const p of u.split(";"))p==="metric_bucket"&&d&&!d.split(";").includes("custom")||(i[p]=n+h);else i.all=n+h}else a?i.all=n+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(a,n):t===429&&(i.all=n+6e4);return i}function xVe(e,t,r=vVe(e.bufferSize||64)){let n={};return{send:function(i){const s=[];if(mF(i,(c,u)=>{const d=gF(u);if(function(f,h,p=Date.now()){return function(g,m){return g[m]||g.all||0}(f,h)>p}(n,d)){const f=OF(c,u);e.recordDroppedEvent("ratelimit_backoff",d,f)}else s.push(c)}),s.length===0)return Ju({});const a=uv(i[0],s),l=c=>{mF(a,(u,d)=>{const f=OF(u,d);e.recordDroppedEvent(c,gF(d),f)})};return r.add(()=>t({body:cVe(a)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&Xt&&dt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=yVe(n,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof Ds)return Xt&&dt.error("Skipped sending event because buffer is full."),l("queue_overflow"),Ju({});throw c})},flush:i=>r.drain(i)}}function OF(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const bVe=100;function $c(e,t){const r=Dn(),n=ry();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=bVe}=r.getOptions();if(s<=0)return;const a={timestamp:ty(),...e},l=i?ey(()=>i(a,t)):a;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,s))}let EF;const PF=new WeakMap,wVe=()=>({name:"FunctionToString",setupOnce(){EF=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=FA(this),r=PF.has(Dn())&&t!==void 0?t:this;return EF.apply(r,e)}}catch{}},setup(e){PF.set(e,!0)}}),_Ve=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],jVe=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const i=n.getOptions(),s=function(a={},l={}){return{allowUrls:[...a.allowUrls||[],...l.allowUrls||[]],denyUrls:[...a.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...l.ignoreErrors||[],...a.disableErrorDefaults?[]:_Ve],ignoreTransactions:[...a.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:a.ignoreInternal===void 0||a.ignoreInternal}}(e,i);return function(a,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(a)?(Xt&&dt.warn(`Event dropped due to being internal Sentry Error.
Event: ${Sl(a)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const f=[];d.message&&f.push(d.message);let h;try{h=d.exception.values[d.exception.values.length-1]}catch{}return h&&h.value&&(f.push(h.value),h.type&&f.push(`${h.type}: ${h.value}`)),f}(c).some(d=>lx(d,u))}(a,l.ignoreErrors)?(Xt&&dt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Sl(a)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(a)?(Xt&&dt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Sl(a)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&lx(d,u)}(a,l.ignoreTransactions)?(Xt&&dt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Sl(a)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=dx(c);return!!d&&lx(d,u)}(a,l.denyUrls)?(Xt&&dt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Sl(a)}.
Url: ${dx(a)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=dx(c);return!d||lx(d,u)}(a,l.allowUrls)?!1:(Xt&&dt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Sl(a)}.
Url: ${dx(a)}`),!0)}(t,s)?null:t}});function dx(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const i=r[n];if(i&&i.filename!=="<anonymous>"&&i.filename!=="[native code]")return i.filename||null}return null}(t):null}catch{return Xt&&dt.error(`Cannot extract url for event ${Sl(e)}`),null}}function SVe(e,t,r=250,n,i,s,a){if(!(s.exception&&s.exception.values&&a&&Ku(a.originalException,Error)))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var c,u;l&&(s.exception.values=(c=PO(e,t,i,a.originalException,n,s.exception.values,l,0),u=r,c.map(d=>(d.value&&(d.value=kf(d.value,u)),d))))}function PO(e,t,r,n,i,s,a,l){if(s.length>=r+1)return s;let c=[...s];if(Ku(n[i],Error)){TF(a,l);const u=e(t,n[i]),d=c.length;AF(u,i,d,l),c=PO(e,t,r,n[i],i,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(Ku(u,Error)){TF(a,l);const f=e(t,u),h=c.length;AF(f,`errors[${d}]`,h,l),c=PO(e,t,r,u,i,[f,...c],f,h)}}),c}function TF(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function AF(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function TS(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function NVe(){"console"in $t&&wO.forEach(function(e){e in $t.console&&Hi($t.console,e,function(t){return pw[e]=t,function(...r){ia("console",{args:r,level:e});const n=pw[e];n&&n.apply($t.console,r)}})})}function kVe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const CVe=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(i,s){const a=i.message,l=s.message;return!(!a&&!l||a&&!l||!a&&l||a!==l||!IF(i,s)||!MF(i,s))}(r,n)||function(i,s){const a=RF(s),l=RF(i);return!(!a||!l||a.type!==l.type||a.value!==l.value||!IF(i,s)||!MF(i,s))}(r,n)):!1}(t,e))return Xt&&dt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function MF(e,t){let r=Z3(e),n=Z3(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i],a=r[i];if(s.filename!==a.filename||s.lineno!==a.lineno||s.colno!==a.colno||s.function!==a.function)return!1}return!0}function IF(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function RF(e){return e.exception&&e.exception.values&&e.exception.values[0]}function $F(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const AS=$t;function TO(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function OVe(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in AS))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(TO(AS.fetch))return!0;let e=!1;const t=AS.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=TO(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){dd&&dt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function EVe(e,t){const r="fetch";Nu(r,e),ku(r,()=>function(n,i=!1){i&&!OVe()||Hi($t,"fetch",function(s){return function(...a){const l=new Error,{method:c,url:u}=function(f){if(f.length===0)return{method:"GET",url:""};if(f.length===2){const[p,g]=f;return{url:DF(p),method:AO(g,"method")?String(g.method).toUpperCase():"GET"}}const h=f[0];return{url:DF(h),method:AO(h,"method")?String(h.method).toUpperCase():"GET"}}(a),d={args:a,fetchData:{method:c,url:u},startTimestamp:1e3*$o(),virtualError:l};return n||ia("fetch",{...d}),s.apply($t,a).then(async f=>(n?n(f):ia("fetch",{...d,endTimestamp:1e3*$o(),response:f}),f),f=>{throw ia("fetch",{...d,endTimestamp:1e3*$o(),error:f}),$A(f)&&f.stack===void 0&&(f.stack=l.stack,Yu(f,"framesToPop",1)),f})}})}(void 0,t))}function AO(e,t){return!!e&&typeof e=="object"&&!!e[t]}function DF(e){return typeof e=="string"?e:e?AO(e,"url")?e.url:e.toString?e.toString():"":""}const fx=$t,fn=$t;let MO=0;function LF(){return MO>0}function Lh(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(FA(e))return e}catch{return e}const r=function(...n){try{const i=n.map(s=>Lh(s,t));return e.apply(this,i)}catch(i){throw MO++,setTimeout(()=>{MO--}),function(...s){const a=UA(Cj());if(s.length===2){const[l,c]=s;return l?a.withSetScope(l,c):a.withScope(c)}a.withScope(s[0])}(s=>{var a;s.addEventProcessor(l=>(t.mechanism&&(SO(l,void 0),Rh(l,t.mechanism)),l.extra={...l.extra,arguments:n},l)),a=i,fd().captureException(a,void 0)}),i}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}JY(r,e),Yu(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const Tj=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function VA(e,t){const r=HA(e,t),n={type:AVe(t),value:MVe(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function PVe(e,t,r,n){const i=Dn(),s=i&&i.getOptions().normalizeDepth,a=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=u[d];if(f instanceof Error)return f}}(t),l={__serialized__:tJ(t,s)};if(a)return{exception:{values:[VA(e,a)]},extra:l};const c={exception:{values:[{type:Oj(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:IVe(t,{isUnhandledRejection:n})}]},extra:l};if(r){const u=HA(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function MS(e,t){return{exception:{values:[VA(e,t)]}}}function HA(e,t){const r=t.stacktrace||t.stack||"",n=function(s){return s&&TVe.test(s.message)?1:0}(t),i=function(s){return typeof s.framesToPop=="number"?s.framesToPop:0}(t);try{return e(r,n,i)}catch{}return[]}const TVe=/Minified React error #\d+;/i;function sJ(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function AVe(e){const t=e&&e.name;return!t&&sJ(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function MVe(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:sJ(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function IO(e,t,r,n,i){let s;if(GY(t)&&t.error)return MS(e,t.error);if(tF(t)||xp(t,"DOMException")){const a=t;if("stack"in t)s=MS(e,t);else{const l=a.name||(tF(a)?"DOMError":"DOMException"),c=a.message?`${l}: ${a.message}`:l;s=RO(e,c,r,n),SO(s,c)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return $A(t)?MS(e,t):Ih(t)||Oj(t)?(s=PVe(e,t,r,i),Rh(s,{synthetic:!0}),s):(s=RO(e,t,r,n),SO(s,`${t}`),Rh(s,{synthetic:!0}),s)}function RO(e,t,r,n){const i={};if(n&&r){const s=HA(e,r);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),Rh(i,{synthetic:!0})}if(DA(t)){const{__sentry_template_string__:s,__sentry_template_values__:a}=t;return i.logentry={message:s,params:a},i}return i.message=t,i}function IVe(e,{isUnhandledRejection:t}){const r=function(i,s=40){const a=Object.keys(XY(i));a.sort();const l=a[0];if(!l)return"[object has no keys]";if(l.length>=s)return kf(l,s);for(let c=a.length;c>0;c--){const u=a.slice(0,c).join(", ");if(!(u.length>s))return c===a.length?u:kf(u,s)}return""}(e),n=t?"promise rejection":"exception";return GY(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:Oj(e)?`Event \`${function(i){try{const s=Object.getPrototypeOf(i);return s?s.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class RVe extends gVe{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,i,s=[i],a="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${i}`,packages:s.map(c=>({name:`${a}:@sentry/${c}`,version:Su})),version:Su}),n._metadata=l})(r,"browser",["browser"],fn.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&fn.document&&fn.document.addEventListener("visibilitychange",()=>{fn.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,i,s,a){const l=IO(n,i,s&&s.syntheticException||void 0,a);return Rh(l),l.level="error",s&&s.event_id&&(l.event_id=s.event_id),Ju(l)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(i,s,a="info",l,c){const u=RO(i,s,l&&l.syntheticException||void 0,c);return u.level=a,l&&l.event_id&&(u.event_id=l.event_id),Ju(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Tj&&dt.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:i,tunnel:s,dsn:a}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}},...!!s&&!!a&&{dsn:gw(a)}};return uv(l,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const $Ve=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Xn=$t;let FF,IS,RS,hx;function DVe(){if(!Xn.document)return;const e=ia.bind(null,"dom"),t=BF(e,!0);Xn.document.addEventListener("click",t,!1),Xn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=Xn[r],i=n&&n.prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(Hi(i,"addEventListener",function(s){return function(a,l,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[a]=u[a]||{refCount:0};if(!d.handler){const f=BF(e);d.handler=f,s.call(this,a,f,c)}d.refCount++}catch{}return s.call(this,a,l,c)}}),Hi(i,"removeEventListener",function(s){return function(a,l,c){if(a==="click"||a=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[a];d&&(d.refCount--,d.refCount<=0&&(s.call(this,a,d.handler,c),d.handler=void 0,delete u[a]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,a,l,c)}}))})}function BF(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(s){try{return s.target}catch{return null}}(r);if(function(s,a){return s==="keypress"&&(!a||!a.tagName||a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!a.isContentEditable)}(r.type,n))return;Yu(r,"_sentryCaptured",!0),n&&!n._sentryId&&Yu(n,"_sentryId",xs());const i=r.type==="keypress"?"input":r.type;(function(s){if(s.type!==IS)return!1;try{if(!s.target||s.target._sentryId!==RS)return!1}catch{}return!0})(r)||(e({event:r,name:i,global:t}),IS=r.type,RS=n?n._sentryId:void 0),clearTimeout(FF),FF=Xn.setTimeout(()=>{RS=void 0,IS=void 0},1e3)}}function aJ(e){const t="history";Nu(t,e),ku(t,LVe)}function LVe(){if(!function(){const r=fx.chrome,n=r&&r.app&&r.app.runtime,i="history"in fx&&!!fx.history.pushState&&!!fx.history.replaceState;return!n&&i}())return;const e=Xn.onpopstate;function t(r){return function(...n){const i=n.length>2?n[2]:void 0;if(i){const s=hx,a=String(i);hx=a,ia("history",{from:s,to:a})}return r.apply(this,n)}}Xn.onpopstate=function(...r){const n=Xn.location.href,i=hx;if(hx=n,ia("history",{from:i,to:n}),e)try{return e.apply(this,r)}catch{}},Hi(Xn.history,"pushState",t),Hi(Xn.history,"replaceState",t)}const Xx={};function UF(e){Xx[e]=void 0}const hm="__sentry_xhr_v3__";function FVe(){if(!Xn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const i=new Error,s=1e3*$o(),a=Eo(n[0])?n[0].toUpperCase():void 0,l=function(u){if(Eo(u))return u;try{return u.toString()}catch{}}(n[1]);if(!a||!l)return t.apply(r,n);r[hm]={method:a,url:l,request_headers:{}},a==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[hm];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}ia("xhr",{endTimestamp:1e3*$o(),startTimestamp:s,xhr:r,virtualError:i})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,f)=>(c(),u.apply(d,f))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,f){const[h,p]=f,g=d[hm];return g&&Eo(h)&&Eo(p)&&(g.request_headers[h.toLowerCase()]=p),u.apply(d,f)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const i=r[hm];return i?(n[0]!==void 0&&(i.body=n[0]),ia("xhr",{startTimestamp:1e3*$o(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function BVe(e,t=function(r){const n=Xx[r];if(n)return n;let i=Xn[r];if(TO(i))return Xx[r]=i.bind(Xn);const s=Xn.document;if(s&&typeof s.createElement=="function")try{const a=s.createElement("iframe");a.hidden=!0,s.head.appendChild(a);const l=a.contentWindow;l&&l[r]&&(i=l[r]),s.head.removeChild(a)}catch(a){$Ve&&dt.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,a)}return i&&(Xx[r]=i.bind(Xn))}("fetch")){let r=0,n=0;return xVe(e,function(i){const s=i.body.length;r+=s,n++;const a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return UF("fetch"),mw("No fetch implementation available");try{return t(e.url,a).then(l=>(r-=s,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return UF("fetch"),r-=s,n--,mw(l)}})}function $S(e,t,r,n){const i={filename:e,function:t==="<anonymous>"?cu:t,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}const UVe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,zVe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,WVe=/\((\S*)(?::(\d+))(?::(\d+))\)/,VVe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,HVe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,qVe=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{const s=[],a=r.split(`
`);for(let l=n;l<a.length;l++){const c=a[l];if(c.length>1024)continue;const u=J3.test(c)?c.replace(J3,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){s.push(f);break}}if(s.length>=50+i)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(ox(c).function||"")&&c.pop(),c.reverse(),X3.test(ox(c).function||"")&&(c.pop(),X3.test(ox(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||ox(c).filename,function:u.function||cu}))}(s.slice(i))}}([30,e=>{const t=UVe.exec(e);if(t){const[,n,i,s]=t;return $S(n,cu,+i,+s)}const r=zVe.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const s=WVe.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}const[n,i]=zF(r[1]||cu,r[2]);return $S(i,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=VVe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=HVe.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],n=t[1]||cu;return[n,r]=zF(n,r),$S(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),zF=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:cu,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},WF=1024,GVe=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(i){const s="console";Nu(s,i),ku(s,NVe)}(function(i){return function(s){if(Dn()!==i)return;const a={category:"console",data:{arguments:s.args,logger:"console"},level:kVe(s.level),message:rF(s.args," ")};if(s.level==="assert"){if(s.args[0]!==!1)return;a.message=`Assertion failed: ${rF(s.args.slice(1)," ")||"console.assert"}`,a.data.arguments=s.args.slice(1)}$c(a,{input:s.args,level:s.level})}}(r)),t.dom&&(n=function(i,s){return function(a){if(Dn()!==i)return;let l,c,u=typeof s=="object"?s.serializeAttribute:void 0,d=typeof s=="object"&&typeof s.maxStringLength=="number"?s.maxStringLength:void 0;d&&d>WF&&(Tj&&dt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=WF),typeof u=="string"&&(u=[u]);try{const h=a.event,p=function(g){return!!g&&!!g.target}(h)?h.target:h;l=YY(p,{keyAttrs:u,maxStringLength:d}),c=function(g){if(!LA.HTMLElement)return null;let m=g;for(let v=0;v<5;v++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(p)}catch{l="<unknown>"}if(l.length===0)return;const f={category:`ui.${a.name}`,message:l};c&&(f.data={"ui.component_name":c}),$c(f,{event:a.event,name:a.name,global:a.global})}}(r,t.dom),Nu("dom",n),ku("dom",DVe)),t.xhr&&function(i){Nu("xhr",i),ku("xhr",FVe)}(function(i){return function(s){if(Dn()!==i)return;const{startTimestamp:a,endTimestamp:l}=s,c=s.xhr[hm];if(!a||!l||!c)return;const{method:u,url:d,status_code:f,body:h}=c,p={method:u,url:d,status_code:f},g={xhr:s.xhr,input:h,startTimestamp:a,endTimestamp:l};$c({category:"xhr",data:p,type:"http",level:$F(f)},g)}}(r)),t.fetch&&EVe(function(i){return function(s){if(Dn()!==i)return;const{startTimestamp:a,endTimestamp:l}=s;if(l&&(!s.fetchData.url.match(/sentry_key/)||s.fetchData.method!=="POST"))if(s.error)$c({category:"fetch",data:s.fetchData,level:"error",type:"http"},{data:s.error,input:s.args,startTimestamp:a,endTimestamp:l});else{const c=s.response,u={...s.fetchData,status_code:c&&c.status},d={input:s.args,response:c,startTimestamp:a,endTimestamp:l};$c({category:"fetch",data:u,type:"http",level:$F(u.status_code)},d)}}}(r)),t.history&&aJ(function(i){return function(s){if(Dn()!==i)return;let a=s.from,l=s.to;const c=TS(fn.location.href);let u=a?TS(a):void 0;const d=TS(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(a=u.relative),$c({category:"navigation",data:{from:a,to:l}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(i){return function(s){Dn()===i&&$c({category:"sentry."+(s.type==="transaction"?"transaction":"event"),event_id:s.event_id,level:s.level,message:Sl(s)},{event:s})}}(r))}}},KVe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],YVe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&Hi(fn,"setTimeout",VF),t.setInterval&&Hi(fn,"setInterval",VF),t.requestAnimationFrame&&Hi(fn,"requestAnimationFrame",JVe),t.XMLHttpRequest&&"XMLHttpRequest"in fn&&Hi(XMLHttpRequest.prototype,"send",XVe);const r=t.eventTarget;r&&(Array.isArray(r)?r:KVe).forEach(QVe)}}};function VF(e){return function(...t){const r=t[0];return t[0]=Lh(r,{mechanism:{data:{function:cc(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function JVe(e){return function(t){return e.apply(this,[Lh(t,{mechanism:{data:{function:"requestAnimationFrame",handler:cc(e)},handled:!1,type:"instrument"}})])}}function XVe(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&Hi(r,n,function(i){const s={mechanism:{data:{function:n,handler:cc(i)},handled:!1,type:"instrument"}},a=FA(i);return a&&(s.mechanism.data.handler=cc(a)),Lh(i,s)})}),e.apply(this,t)}}function QVe(e){const t=fn[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Hi(r,"addEventListener",function(n){return function(i,s,a){try{typeof s.handleEvent=="function"&&(s.handleEvent=Lh(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:cc(s),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[i,Lh(s,{mechanism:{data:{function:"addEventListener",handler:cc(s),target:e},handled:!1,type:"instrument"}}),a])}}),Hi(r,"removeEventListener",function(n){return function(i,s,a){try{const l=s.__sentry_wrapped__;l&&n.call(this,i,l,a)}catch{}return n.call(this,i,s,a)}}))}const ZVe=()=>({name:"BrowserSession",setupOnce(){fn.document!==void 0?(bF({ignoreDuration:!0}),wF(),aJ(({from:e,to:t})=>{e!==void 0&&e!==t&&(bF({ignoreDuration:!0}),wF())})):Tj&&dt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),e9e=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(i){const s="error";Nu(s,i),ku(s,VWe)})(i=>{const{stackParser:s,attachStacktrace:a}=qF();if(Dn()!==n||LF())return;const{msg:l,url:c,line:u,column:d,error:f}=i,h=function(p,g,m,v){const b=p.exception=p.exception||{},x=b.values=b.values||[],w=x[0]=x[0]||{},_=w.stacktrace=w.stacktrace||{},N=_.frames=_.frames||[],j=v,k=m,C=Eo(g)&&g.length>0?g:function(){try{return LA.document.location.href}catch{return""}}();return N.length===0&&N.push({colno:j,filename:C,function:cu,in_app:!0,lineno:k}),p}(IO(s,f||l,void 0,a,!1),c,u,d);h.level="error",xF(h,{originalException:f,mechanism:{handled:!1,type:"onerror"}})})}(r),HF("onerror")),t.onunhandledrejection&&(function(n){(function(i){const s="unhandledrejection";Nu(s,i),ku(s,HWe)})(i=>{const{stackParser:s,attachStacktrace:a}=qF();if(Dn()!==n||LF())return;const l=function(u){if(_O(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(i),c=_O(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:IO(s,l,void 0,a,!0);c.level="error",xF(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),HF("onunhandledrejection"))}}};function HF(e){Tj&&dt.log(`Global Handler attached: ${e}`)}function qF(){const e=Dn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const t9e=()=>({name:"HttpContext",preprocessEvent(e){if(!fn.navigator&&!fn.location&&!fn.document)return;const t=e.request&&e.request.url||fn.location&&fn.location.href,{referrer:r}=fn.document||{},{userAgent:n}=fn.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),r9e=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,i,s){const a=s.getOptions();SVe(VA,a.stackParser,a.maxValueLength,r,t,n,i)}}};var GF="new",KF="loading",YF="loaded",$O="joining-meeting",Xc="joined-meeting",Dc="left-meeting",hl="error",n9e="playable",DS="unknown",i9e="full",s9e="base",JF="no-room",a9e="end-of-life",o9e="connection-error",l9e="iframe-ready-for-launch-config",c9e="iframe-launch-config",u9e="theme-updated",d9e="loading",f9e="load-attempt-failed",XF="loaded",h9e="started-camera",p9e="camera-error",m9e="joining-meeting",g9e="joined-meeting",v9e="left-meeting",y9e="participant-joined",x9e="participant-updated",b9e="participant-left",w9e="participant-counts-updated",_9e="access-state-updated",j9e="meeting-session-summary-updated",S9e="meeting-session-state-updated",N9e="waiting-participant-added",k9e="waiting-participant-updated",C9e="waiting-participant-removed",O9e="track-started",E9e="track-stopped",P9e="transcription-started",T9e="transcription-stopped",A9e="transcription-error",QF="recording-started",ZF="recording-stopped",M9e="recording-stats",I9e="recording-error",R9e="recording-upload-completed",$9e="recording-data",D9e="app-message",L9e="transcription-message",F9e="remote-media-player-started",B9e="remote-media-player-updated",U9e="remote-media-player-stopped",z9e="local-screen-share-started",W9e="local-screen-share-stopped",V9e="local-screen-share-canceled",H9e="active-speaker-change",q9e="active-speaker-mode-change",G9e="network-quality-change",K9e="network-connection",Y9e="cpu-load-change",J9e="face-counts-updated",px="fullscreen",mx="exited-fullscreen",X9e="live-streaming-started",Q9e="live-streaming-updated",Z9e="live-streaming-stopped",e7e="live-streaming-error",t7e="lang-updated",r7e="receive-settings-updated",e5="input-settings-updated",t5="nonfatal-error",r5="error",LS=4096,n5=102400,FS="iframe-call-message",i5="local-screen-start",s5="daily-method-update-live-streaming-endpoints",gx="transmit-log",Po="daily-custom-track",Qx={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},oJ={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},DO={PLAY:"play",PAUSE:"pause"},BS=["jpg","png","jpeg"],n7e="add-endpoints",i7e="remove-endpoints",a5="sip-call-transfer";function js(){return!St()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function St(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function lJ(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function s7e(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(Xu(),vw())||St())}function o5(){if(St()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var LO="none",a7e="software",o7e="hardware",l7e=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?a7e:o7e:LO}catch{return LO}}();function cJ(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!St()&&l7e!==LO&&(e?function(){return l5()?!1:["Chrome","Firefox"].includes(Xu())}():function(){if(l5())return!1;var t=Xu();if(t==="Safari"){var r=GA();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?qA().major>=77:t==="Firefox"?KA().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function uJ(){if(St()||dJ()||typeof AudioWorkletNode>"u")return!1;switch(Xu()){case"Chrome":case"Firefox":return!0;case"Safari":var e=vw();return e.major>17||e.major===17&&e.minor>=4}return!1}function US(){return lJ()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=Xu();if(!js())return!0;switch(t){case"Chrome":return(e=qA()).major&&e.major>0&&e.major<75;case"Firefox":return(e=KA()).major<91;case"Safari":return(e=GA()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function dJ(){return js().match(/Linux; Android/)}function l5(){var e,t=js(),r=t.match(/Mac/)&&(!St()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!js().match(/DailyAnd\//)||void 0}function Xu(){if(typeof window<"u"){var e=js();return fJ()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||hJ()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function vw(){switch(Xu()){case"Chrome":return qA();case"Safari":return GA();case"Firefox":return KA();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=js().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function qA(){var e=0,t=0,r=0,n=0,i=!1;if(typeof window<"u"){var s=js(),a=s.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(a)try{e=parseInt(a[1]),t=parseInt(a[2]),r=parseInt(a[3]),n=parseInt(a[4]),i=s.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:i}}function fJ(){return!!js().match(/iPad|iPhone|iPod/i)&&lJ()}function hJ(){return js().indexOf("AppleWebKit/605.1.15")>-1}function GA(){var e=0,t=0,r=0;if(typeof window<"u"){var n=js().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(fJ()||hJ())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function KA(){var e=0,t=0;if(typeof window<"u"){var r=js().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var pJ=function(){return ts(function e(){es(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){tm()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){tm()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){tm()}},{key:"sendMessageToDailyJs",value:function(e,t){tm()}},{key:"removeListener",value:function(e){tm()}}])}();function c5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(r),!0).forEach(function(n){Ta(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!e})()}var c7e=function(){function e(){var t,r,n,i;return es(this,e),r=this,n=pa(n=e),(t=Sj(r,mJ()?Reflect.construct(n,[],pa(r).constructor):n.apply(r,i)))._wrappedListeners={},t._messageCallbacks={},t}return Nj(e,pJ),ts(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var i=this,s=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var l=zS({},a.data);if(delete l.from,l.callbackStamp&&i._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;i._messageCallbacks[c].call(n,l),delete i._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(n,l)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var i=function(s){var a;if(!(!s.data||s.data.what!==FS||!s.data.action||s.data.from&&s.data.from!=="module"||s.data.callClientId&&r&&s.data.callClientId!==r||s!=null&&(a=s.data)!==null&&a!==void 0&&a.callFrameId)){var l=s.data;t.call(n,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"sendMessageToCallMachine",value:function(t,r,n,i){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var s=zS({},t);if(s.what=FS,s.from="module",s.callClientId=n,r){var a=kj();this._messageCallbacks[a]=r,s.callbackStamp=a}var l=i?i.contentWindow:window,c=this._callMachineTargetOrigin(i);c&&l.postMessage(s,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=FS,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var i=zS({},t);i.callClientId=n;var s=r?r.contentWindow:window,a=this._callMachineTargetOrigin(r);a&&s.postMessage(i,a)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(i){if(i.data&&i.data.what==="iframe-call-message"&&(!i.data.callClientId||i.data.callClientId===r)&&(!i.data.from||i.data.from!=="module")){var s=i.data;t(s)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gJ=function(){return!!e})()}var u7e=function(){function e(){var t,r,n,i;return es(this,e),r=this,n=pa(n=e),t=Sj(r,gJ()?Reflect.construct(n,[],pa(r).constructor):n.apply(r,i)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new bO.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new bO.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Nj(e,pJ),ts(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,i,s){var a=this,l=function(c){if(c.callClientId===n){if(c.callbackStamp&&a._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;a._messageCallbacks[u].call(i,c),delete a._messageCallbacks[u]}t.call(i,c)}};this._wrappedListeners[t]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(t,r,n,i,s){var a=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?u5(Object(d),!0).forEach(function(f){Ta(c,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):u5(Object(d)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(d,f))})}return c}({},t);if(a.callClientId=n,i){var l=kj();this._messageCallbacks[l]=i,a.callbackStamp=l}r.emit("message",a)}}])}(),FO="replace",BO="shallow-merge",d5=[FO,BO],d7e=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,i=n===void 0?FO:n;es(this,e),e._validateMergeStrategy(i),e._validateData(r,i),this.mergeStrategy=i,this.data=r}return ts(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===BO}},{key:"_validateMergeStrategy",value:function(t){if(!d5.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(d5,"]"))}},{key:"_validateData",value:function(t,r){if(!function(l){if(l==null||Ot(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===FO){var i=JSON.parse(n);Gn(i,t)||console.warn("The meeting session data provided will be modified when serialized.",i,t)}else if(r===BO){for(var s in t)if(Object.hasOwnProperty.call(t,s)&&t[s]!==void 0){var a=JSON.parse(JSON.stringify(t[s]));Gn(t[s],a)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",a,t[s])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(n.length>n5)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(n5,"."))}}])}();function vJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vJ=function(){return!!e})()}function UO(e){var t=typeof Map=="function"?new Map:void 0;return UO=function(r){if(r===null||!function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(i,s,a){if(vJ())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,s);var c=new(i.bind.apply(i,l));return a&&cv(c,a.prototype),c}(r,arguments,pa(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),cv(n,r)},UO(e)}function yJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yJ=function(){return!!e})()}function f5(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var f7e=function(){return ts(function e(t){es(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new h7e(r,function(){n(!1)},function(s,a){a||f5(t._callClientId),i(s,a)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),f5(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),h7e=function(){return ts(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;es(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new h5(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new h5(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),WS=function(){function e(){return es(this,e),t=this,n=arguments,r=pa(r=e),Sj(t,yJ()?Reflect.construct(r,n||[],pa(t).constructor):r.apply(t,n));var t,r,n}return Nj(e,UO(Error)),ts(e)}(),yw=2e4,h5=function(){return ts(function t(r,n,i){es(this,t),this._loadAttemptImpl=St()||!r.avoidEval?new p7e(r,n,i):new m7e(r,n,i)},[{key:"start",value:(e=it(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),p7e=function(){return ts(function i(s,a,l){es(this,i),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=s,this._successCallback=a,this._failureCallback=l},[{key:"start",value:(n=it(function*(){var i=dw(this._dailyConfig);!(yield this._tryLoadFromIOSCache(i))&&this._loadFromNetwork(i)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=it(function*(i){if(!this._iosCache)return!1;try{var s=yield this._iosCache.get(i);return!!this.cancelled||!!s&&(s.code?(Function('"use strict";'+s.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=s.refetchHeaders,!1))}catch{return!1}}),function(i){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=it(function*(i){var s=this;this._networkTimeout=setTimeout(function(){s._networkTimedOut=!0,s._failureCallback({msg:"Timed out (>".concat(yw," ms) when loading call object bundle ").concat(i),type:"timeout"})},yw);try{var a=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(i,a);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new WS;var c=yield this._getBundleCodeFromResponse(i,l);if(this.cancelled)throw new WS;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(i,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof WS||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(i,": ").concat(u),type:u.message})}}),function(i){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=it(function*(i,s){if(s.ok)return yield s.text();if(this._iosCache&&s.status===304)return(yield this._iosCache.renew(i,s.headers)).code;throw new Error("Received ".concat(s.status," response"))}),function(i,s){return e.apply(this,arguments)})}]);var e,t,r,n}(),m7e=function(){return ts(function e(t,r,n){es(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=kj(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=dw(this._dailyConfig);(typeof document>"u"?"undefined":Ot(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(yw," ms) when loading call object bundle ").concat(e),type:"timeout"})},yw);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(i){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(i.target.src),type:i.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),vx=function(e,t,r){return v7e(e.local,t,r)===!0},g7e=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},lf=function(e,t,r,n){var i=y7e(e,t,r,n);return i&&i.pendingTrack},v7e=function(e,t,r){if(!e)return!1;var n=function(s){switch(s){case"avatar":return!0;case"staged":return s;default:return!!s}},i=e.public.subscribedTracks;return i&&i[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&i[t].custom?[!0,"staged"].includes(i[t].custom)?n(i[t].custom):n(i[t].custom[r]):n(i[t][r]):!i||n(i.ALL)},y7e=function(e,t,r,n){var i=Object.values(e.streams||{}).filter(function(s){return s.participantId===t&&s.type===r&&s.pendingTrack&&s.pendingTrack.kind===n}).sort(function(s,a){return new Date(a.starttime)-new Date(s.starttime)});return i&&i[0]},x7e=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function p5(e,t){for(var r=t.getState(),n=0,i=["cam","screen"];n<i.length;n++)for(var s=i[n],a=0,l=["video","audio"];a<l.length;a++){var c=l[a],u=s==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var f=e.local?g7e(r,s,c):lf(r,e.session_id,s,c);d.state==="playable"&&(d.track=f),d.persistentTrack=f}}}function m5(e,t){try{var r=t.getState();for(var n in e.tracks)if(!b7e(n)){var i=e.tracks[n].kind;if(i){var s=e.tracks[n];if(s){var a=e.local?x7e(r,n):lf(r,e.session_id,n,i);s.state==="playable"&&(e.tracks[n].track=a),s.persistentTrack=a}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function b7e(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function g5(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var i=!0;try{var s=n.participants[e.session_id];s&&s.public&&s.public.rtcType&&s.public.rtcType.impl==="peer-to-peer"&&s.private&&!["connected","completed"].includes(s.private.peeringState)&&(i=!1)}catch(d){console.error(d)}if(!i)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&vx(n,e.session_id,"cam-audio")){var a=lf(n,e.session_id,"cam","audio");a&&(t&&t.audioTrack&&t.audioTrack.id===a.id?e.audioTrack=a:a.muted||(e.audioTrack=a)),e.audioTrack||(e.audio=!1)}if(e.video&&vx(n,e.session_id,"cam-video")){var l=lf(n,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&vx(n,e.session_id,"screen-audio")){var c=lf(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&vx(n,e.session_id,"screen-video")){var u=lf(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function w7e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return v5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?v5(c,u):void 0}}(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,s=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw s}}}}function v5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Sa=new Map,Cf=null;function _7e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return y5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?y5(c,u):void 0}}(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,s=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw s}}}}function y5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Na=new Map,Dm=null;function j7e(e){xJ()?function(t){Sa.has(t)||(Sa.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){Sa.has(t)&&(Sa.get(t).lastDevicesString=JSON.stringify(r),Cf||(Cf=function(){var n=it(function*(){var i,s=yield navigator.mediaDevices.enumerateDevices(),a=w7e(Sa.keys());try{for(a.s();!(i=a.n()).done;){var l=i.value,c=JSON.stringify(s);c!==Sa.get(l).lastDevicesString&&(Sa.get(l).lastDevicesString=c,l(s))}}catch(u){a.e(u)}finally{a.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Cf)))}).catch(function(){}))}(e):function(t){Na.has(t)||(Na.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){Na.has(t)&&(Na.get(t).lastDevicesString=JSON.stringify(r),Dm||(Dm=setInterval(it(function*(){var n,i=yield navigator.mediaDevices.enumerateDevices(),s=_7e(Na.keys());try{for(s.s();!(n=s.n()).done;){var a=n.value,l=JSON.stringify(i);l!==Na.get(a).lastDevicesString&&(Na.get(a).lastDevicesString=l,a(i))}}catch(c){s.e(c)}finally{s.f()}}),3e3)))}))}(e)}function S7e(e){xJ()?function(t){Sa.has(t)&&(Sa.delete(t),Sa.size===0&&Cf&&(navigator.mediaDevices.removeEventListener("devicechange",Cf),Cf=null))}(e):function(t){Na.has(t)&&(Na.delete(t),Na.size===0&&Dm&&(clearInterval(Dm),Dm=null))}(e)}function xJ(){var e;return St()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var N7e=new Set;function k7e(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!N7e.has(r.id)}(e)}function x5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(r),!0).forEach(function(n){Ta(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var pm=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),C7e=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Lm=Object.values(pm),b5=["v","a","sv","sa","cv","ca"];Object.freeze(Lm.reduce(function(e,t,r){return e[t]=b5[r],e},{})),Object.freeze(b5.reduce(function(e,t,r){return e[t]=Lm[r],e},{}));var O7e=[pm.VIDEO,pm.AUDIO,pm.SCREEN_VIDEO,pm.SCREEN_AUDIO],w5=Object.values(C7e),_5=["p","s","t"];Object.freeze(w5.reduce(function(e,t,r){return e[t]=_5[r],e},{})),Object.freeze(_5.reduce(function(e,t,r){return e[t]=w5[r],e},{}));var bJ=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,i=t.byParticipantId;es(this,e),this.base=r,this.byUserId=n,this.byParticipantId=i}return ts(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof yn?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof yn?n.clone():n}if(this.byParticipantId!==void 0)for(var i in t.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[i];t.byParticipantId[i]=s instanceof yn?s.clone():s}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof yn&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof yn?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var i in t.byParticipantId={},this.byParticipantId){var s=this.byParticipantId[i];t.byParticipantId[i]=s instanceof yn?s.toJSONObject():s}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var i in t.p={},this.byParticipantId){var s=this.byParticipantId[i];t.p[i]=typeof s=="boolean"?s:s.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof yn&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=Bn(t,2),n=r[0],i=r[1];return[n,i instanceof yn?i.normalize():i]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=Bn(t,2),n=r[0],i=r[1];return[n,i instanceof yn?i.normalize():i]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,i;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:yn.fromJSONObject(t.base)),t.byUserId!==void 0)for(var s in n={},t.byUserId){var a=t.byUserId[s];n[s]=typeof a=="boolean"?a:yn.fromJSONObject(a)}if(t.byParticipantId!==void 0)for(var l in i={},t.byParticipantId){var c=t.byParticipantId[l];i[l]=typeof c=="boolean"?c:yn.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:i})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,i;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:yn.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var s in n={},t.u){var a=t.u[s];n[s]=typeof a=="boolean"?a:yn.fromMinifiedJSONObject(a)}if(t.p!==void 0)for(var l in i={},t.p){var c=t.p[l];i[l]=typeof c=="boolean"?c:yn.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:i})}},{key:"validateJSONObject",value:function(t){if(Ot(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,i=Object.keys(t);n<i.length;n++){var s=i[n];if(!r.includes(s))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(s==="base"){var a=Bn(yn.validateJSONObject(t.base,!0),2),l=a[0],c=a[1];if(!l)return[!1,c]}else{if(Ot(t[s])!=="object")return[!1,"invalid (non-object) value for field '".concat(s,"' in canReceive")];for(var u=0,d=Object.values(t[s]);u<d.length;u++){var f=d[u],h=Bn(yn.validateJSONObject(f),2),p=h[0],g=h[1];if(!p)return[!1,g]}}}return[!0]}}])}(),yn=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,i=t.screenVideo,s=t.screenAudio,a=t.customVideo,l=t.customAudio;es(this,e),this.video=r,this.audio=n,this.screenVideo=i,this.screenAudio=s,this.customVideo=a,this.customAudio=l}return ts(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=pl({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=pl({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=pl({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=pl({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=pl({},this.customVideo)),this.customAudio!==void 0&&(t.ca=pl({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?pl({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?pl({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(Ot(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),i=0,s=n;i<s.length;i++){var a=s[i];if(!Lm.includes(a))return[!1,"invalid media type '".concat(a,"' in canReceive")];if(O7e.includes(a)){if(typeof t[a]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(a,"' in canReceive")]}else{if(Ot(t[a])!=="object")return[!1,"invalid (non-object) value for media type '".concat(a,"' in canReceive")];for(var l=0,c=Object.values(t[a]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(a,"' in canReceive")];if(r&&t[a]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(a,"'")]}}return r&&n.length!==Lm.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Lm.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),E7e=["result"],P7e=["preserveIframe"];function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){Ta(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wJ=function(){return!!e})()}function S5(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return N5(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?N5(c,u):void 0}}(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){l=!0,s=c},f:function(){try{a||r.return==null||r.return()}finally{if(l)throw s}}}}function N5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Lc={},k5="video",T7e="voice",C5=St()?{data:{}}:{data:{},topology:"none"},O5={present:0,hidden:0},_J={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},VS=Object.keys(_J),E5=["state","volume","simulcastEncodings"],P5={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},xw={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},zO={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Fc={customIntegrations:{validate:PJ,help:OJ()},customTrayButtons:{validate:EJ,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(xw))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return TJ(e,P5)},help:"reactNativeConfig should look like ".concat(JSON.stringify(P5),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return jJ(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:Po};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:Po};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var i=0,s=Object.keys(n);i<s.length;i++){var a=s[i];if(!t.includes(a))return console.error('unsupported color "'.concat(a,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[a].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(a,' theme color should be provided in valid hex color format. Received: "').concat(n[a],'"')),!1}return!0};return Ot(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return SJ(e,{allowAllParticipantsKey:!1})},help:CJ({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(i){return console.error("Failed to validate send settings",i),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!NJ(e)&&(t._inputSettings||(t._inputSettings={}),kJ(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:WO()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},yx={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!St()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],i=function(s){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in s)if(l==="custom"){if(!r.includes(s[l])&&!i(s[l],!0))return!1}else{var c=!a&&!n.includes(l),u=!r.includes(s[l]);if(c||u)return!1}return!0};return i(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(St()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=Bn(r[t],2),i=n[0],s=n[1];switch(i){case"hasPresence":if(typeof s!="boolean")return!1;break;case"canSend":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var a,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=S5(s);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(!l.includes(u))return!1}}catch(b){c.e(b)}finally{c.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(e.canSend=new Set(s));break;case"canReceive":var d=Bn(bJ.validateJSONObject(s),2),f=d[0],h=d[1];if(!f)return console.error(h),!1;break;case"canAdmin":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var p,g=["participants","streaming","transcription"],m=S5(s);try{for(m.s();!(p=m.n()).done;){var v=p.value;if(!g.includes(v))return!1}}catch(b){m.e(b)}finally{m.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(e.canAdmin=new Set(s));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=it(function*(t){return new Promise(function(r,n){var i=[];t.forEach(function(s){return Promise.resolve(s).then(function(a){r(a)}).catch(function(a){i.push(a),i.length===t.length&&n(i)})})})});return function(t){return e.apply(this,arguments)}}());var T5=function(){function e(S){var O,E,U,$,G,V,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(es(this,e),U=this,$=pa($=e),Ta(E=Sj(U,wJ()?Reflect.construct($,[],pa(U).constructor):$.apply(U,G)),"startListeningForDeviceChanges",function(){j7e(E.handleDeviceChange)}),Ta(E,"stopListeningForDeviceChanges",function(){S7e(E.handleDeviceChange)}),Ta(E,"handleDeviceChange",function(Y){Y=Y.map(function(pe){return JSON.parse(JSON.stringify(pe))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Y})}),Ta(E,"handleNativeAppStateChange",function(){var Y=it(function*(pe){if(pe==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var Ne=pe==="active";E.disableReactNativeAutoDeviceManagement("video")||(Ne?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(pe){return Y.apply(this,arguments)}}()),Ta(E,"handleNativeAudioFocusChange",function(Y){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=Y,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),Ta(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!US()&&!St())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=q.strictMode===void 0||q.strictMode,E.allowMultipleCallInstances=(O=q.allowMultipleCallInstances)!==null&&O!==void 0&&O,Object.keys(Lc).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=kj(),Lc[(V=E).callClientId]=V,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,q.dailyJsVersion=e.version(),E._iframe=S,E._callObjectMode=q.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},q.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!q.showLocalVideo:E._showLocalVideo=!0,q.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!q.showParticipantsBar:E._showParticipantsBar=!0,q.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=q.customIntegrations:E._customIntegrations={},q.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=q.customTrayButtons:E._customTrayButtons={},q.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!q.activeSpeakerMode:E._activeSpeakerMode=!1,q.receiveSettings?E._callObjectMode?E._receiveSettings=q.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(q),E.properties=We({},q),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new f7e(E.callClientId):null,E._callState=GF,E._isPreparingToJoin=!1,E._accessState={access:DS},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=GS(C5,E._callObjectMode),E._nativeInCallAudioMode=k5,E._participants={},E._isScreenSharing=!1,E._participantCounts=O5,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=LS,E._messageChannel=St()?new u7e:new c7e,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:px}),E.sendMessageToCallMachine({action:px})):(E.emitDailyJSEvent({action:mx}),E.sendMessageToCallMachine({action:mx}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:px}),E.sendMessageToCallMachine({action:px})):(E.emitDailyJSEvent({action:mx}),E.sendMessageToCallMachine({action:mx}))})),St()){var X=E.nativeUtils();X.addAudioFocusChangeListener&&X.removeAudioFocusChangeListener&&X.addAppStateChangeListener&&X.removeAppStateChangeListener&&X.addSystemScreenCaptureStopListener&&X.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,X.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),X.addAppStateChangeListener(E.handleNativeAppStateChange),X.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return Nj(e,ax),ts(e,[{key:"destroy",value:(te=it(function*(){var S;try{yield this.leave()}catch{}var O=this._iframe;if(O){var E=O.parentElement;E&&E.removeChild(O)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),St()){var U=this.nativeUtils();U.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),U.removeAppStateChangeListener(this.handleNativeAppStateChange),U.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Lc[this.callClientId],!((S=window)===null||S===void 0||(S=S._daily)===null||S===void 0)&&S.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return te.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(S){var O=S.bodyClass,E=S.cssFile,U=S.cssText;return jt(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:O,cssText:U}),this}},{key:"iframe",value:function(){return jt(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return Is(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return Is(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(S,O){for(var E in O){if(!yx[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(yx[E].validate&&!yx[E].validate(O[E],this,this._participants[S]))throw new Error(yx[E].help)}}},{key:"updateParticipant",value:function(S,O){return this._participants.local&&this._participants.local.session_id===S&&(S="local"),S&&O&&(this.validateParticipantProperties(S,O),this.sendMessageToCallMachine({action:"update-participant",id:S,properties:O})),this}},{key:"updateParticipants",value:function(S){var O=this._participants.local&&this._participants.local.session_id;for(var E in S)E===O&&(E="local"),E&&S[E]&&this.validateParticipantProperties(E,S[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:S}),this}},{key:"updateWaitingParticipant",value:(ee=it(function*(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Is(this._callObjectMode,"updateWaitingParticipant()"),Gt(this._callState,"updateWaitingParticipant()"),typeof O!="string"||Ot(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(U,$){S.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:O,updates:E},function(G){G.error&&$(G.error),G.id||$(new Error("unknown error in updateWaitingParticipant()")),U({id:G.id})})})}),function(){return ee.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(K=it(function*(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Is(this._callObjectMode,"updateWaitingParticipants()"),Gt(this._callState,"updateWaitingParticipants()"),Ot(O)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,U){S.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:O},function($){$.error&&U($.error),$.ids||U(new Error("unknown error in updateWaitingParticipants()")),E({ids:$.ids})})})}),function(){return K.apply(this,arguments)})},{key:"requestAccess",value:(B=it(function*(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=O.access,U=E===void 0?{level:i9e}:E,$=O.name,G=$===void 0?"":$;return Is(this._callObjectMode,"requestAccess()"),Gt(this._callState,"requestAccess()"),new Promise(function(V,q){S.sendMessageToCallMachine({action:"daily-method-request-access",access:U,name:G},function(X){X.error&&q(X.error),X.access||q(new Error("unknown error in requestAccess()")),V({access:X.access,granted:X.granted})})})}),function(){return B.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in O&&(St()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),O={}):S&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),O={})),this.sendMessageToCallMachine({action:"local-audio",state:S,options:O}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(S){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:S}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(S){return this.sendMessageToCallMachine({action:"local-video",state:S}),this}},{key:"_setAllowLocalAudio",value:function(S){if(this._preloadCache.allowLocalAudio=S,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:S}),this}},{key:"_setAllowLocalVideo",value:function(S){if(this._preloadCache.allowLocalVideo=S,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:S}),this}},{key:"getReceiveSettings",value:(R=it(function*(S){var O=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,U=E!==void 0&&E;if(Is(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ot(S)){case"string":return new Promise(function($){O.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:S,showInheritedValues:U},function(G){$(G.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(S){return R.apply(this,arguments)})},{key:"updateReceiveSettings",value:(D=it(function*(S){var O=this;if(Is(this._callObjectMode,"updateReceiveSettings()"),!SJ(S,{allowAllParticipantsKey:!0}))throw new Error(CJ({allowAllParticipantsKey:!0}));return Gt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){O.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:S},function(U){E({receiveSettings:U.receiveSettings})})})}),function(S){return D.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(S,O){if(S){var E={};if(S.audio){var U,$,G;S.audio.settings&&(!Object.keys(S.audio.settings).length&&O||(E.audio={settings:We({},S.audio.settings)})),O&&(U=E.audio)!==null&&U!==void 0&&(U=U.settings)!==null&&U!==void 0&&U.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var V=(($=S.audio.processor)===null||$===void 0?void 0:$.type)==="none"&&((G=S.audio.processor)===null||G===void 0?void 0:G._isDefaultWhenNone);if(S.audio.processor&&!V){var q=We({},S.audio.processor);delete q._isDefaultWhenNone,E.audio=We(We({},E.audio),{},{processor:q})}}if(S.video){var X,Y,pe;S.video.settings&&(!Object.keys(S.video.settings).length&&O||(E.video={settings:We({},S.video.settings)})),O&&(X=E.video)!==null&&X!==void 0&&(X=X.settings)!==null&&X!==void 0&&X.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var Ne=((Y=S.video.processor)===null||Y===void 0?void 0:Y.type)==="none"&&((pe=S.video.processor)===null||pe===void 0?void 0:pe._isDefaultWhenNone);if(S.video.processor&&!Ne){var Ke=We({},S.video.processor);delete Ke._isDefaultWhenNone,E.video=We(We({},E.video),{},{processor:Ke})}}return E}}},{key:"getInputSettings",value:function(){var S=this;return jt(),new Promise(function(O){O(S._getInputSettings())})}},{key:"_getInputSettings",value:function(){var S,O,E,U,$,G,V={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(S=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||V,O=((U=this._inputSettings)===null||U===void 0?void 0:U.audio)||V):(S=(($=this._preloadCache)===null||$===void 0||($=$.inputSettings)===null||$===void 0?void 0:$.video)||V,O=((G=this._preloadCache)===null||G===void 0||(G=G.inputSettings)===null||G===void 0?void 0:G.audio)||V);var q={audio:O,video:S};return this._prepInputSettingsForSharing(q,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(S,O){var E=this._inputSettings||{},U={};if(S.video){var $,G,V;U.video={},S.video.settings?(U.video.settings={},O||S.video.settings.customTrack||(V=E.video)===null||V===void 0||!V.settings?U.video.settings=S.video.settings:U.video.settings=We(We({},E.video.settings),S.video.settings),Object.keys(U.video.settings).length||delete U.video.settings):($=E.video)!==null&&$!==void 0&&$.settings&&(U.video.settings=E.video.settings),S.video.processor?U.video.processor=S.video.processor:(G=E.video)!==null&&G!==void 0&&G.processor&&(U.video.processor=E.video.processor)}else E.video&&(U.video=E.video);if(S.audio){var q,X,Y;U.audio={},S.audio.settings?(U.audio.settings={},O||S.audio.settings.customTrack||(Y=E.audio)===null||Y===void 0||!Y.settings?U.audio.settings=S.audio.settings:U.audio.settings=We(We({},E.audio.settings),S.audio.settings),Object.keys(U.audio.settings).length||delete U.audio.settings):(q=E.audio)!==null&&q!==void 0&&q.settings&&(U.audio.settings=E.audio.settings),S.audio.processor?U.audio.processor=S.audio.processor:(X=E.audio)!==null&&X!==void 0&&X.processor&&(U.audio.processor=E.audio.processor)}else E.audio&&(U.audio=E.audio);this._maybeUpdateInputSettings(U)}},{key:"_devicesFromInputSettings",value:function(S){var O,E,U=(S==null||(O=S.video)===null||O===void 0||(O=O.settings)===null||O===void 0?void 0:O.deviceId)||null,$=(S==null||(E=S.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,G=this._preloadCache.outputDeviceId||null;return{camera:U?{deviceId:U}:{},mic:$?{deviceId:$}:{},speaker:G?{deviceId:G}:{}}}},{key:"updateInputSettings",value:(F=it(function*(S){var O=this;return jt(),NJ(S)?S.video||S.audio?(kJ(S,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(S,!0),this._getInputSettings()):new Promise(function(E,U){O.sendMessageToCallMachine({action:"update-input-settings",inputSettings:S},function($){if($.error)U($.error);else{if($.returnPreloadCache)return O._updatePreloadCacheInputSettings(S,!0),void E(O._getInputSettings());O._maybeUpdateInputSettings($.inputSettings),E(O._prepInputSettingsForSharing($.inputSettings,!0))}})})):this._getInputSettings():(console.error(WO()),Promise.reject(WO()))}),function(S){return F.apply(this,arguments)})},{key:"setBandwidth",value:function(S){var O=S.kbs,E=S.trackConstraints;if(jt(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:O,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var S=this;if(jt(),this._callMachineInitialized)return new Promise(function(O){S.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,O(E)})})}},{key:"setDailyLang",value:function(S){return jt(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:S}),this}},{key:"setProxyUrl",value:function(S){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:S}),this}},{key:"setIceConfig",value:function(S){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:S}),this}},{key:"meetingSessionSummary",value:function(){return[Dc,hl].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(W=it(function*(){var S=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Gt(this._callState,"getMeetingSession()"),new Promise(function(O){S.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,O(E)})})}),function(){return W.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Gt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";Is(this._callObjectMode,"setMeetingSessionData()"),Gt(this._callState,"setMeetingSessionData");try{(function(E,U){new d7e({data:E,mergeStrategy:U})})(S,O)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:S,mergeStrategy:O})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(S,O){var E=this;return this.properties.userName=S,new Promise(function(U){E.sendMessageToCallMachine({action:"set-user-name",name:S??"",thisMeetingOnly:St()||!!O&&!!O.thisMeetingOnly},function($){delete $.action,delete $.callbackStamp,U($)})})}},{key:"setUserData",value:(L=it(function*(S){var O=this;try{jJ(S)}catch(E){throw console.error(E),E}if(this.properties.userData=S,this._callMachineInitialized)return new Promise(function(E){try{O.sendMessageToCallMachine({action:"set-user-data",userData:S},function(U){delete U.action,delete U.callbackStamp,E(U)})}catch(U){throw new Error("Error setting user data: ".concat(U))}})}),function(S){return L.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(S){if(S&&(S<100||typeof S!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(S){var O=this;if(typeof AudioWorkletNode>"u"&&!St())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(S),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,U){O.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:S},function($){O._isLocalAudioLevelObserverRunning=!$.error,$.error?U({error:$.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:S}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(S){var O=this;if(this.validateAudioLevelInterval(S),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,U){O.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:S},function($){O._isRemoteParticipantsAudioLevelObserverRunning=!$.error,$.error?U({error:$.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:S}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(z=it(function*(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Is(this._callObjectMode,"startCamera()"),HS(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(O)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(O.url&&O.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(O.token&&O.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(O),this.properties=We(We({},this.properties),O)}return new Promise(function(E){S._preloadCache.inputSettings=S._prepInputSettingsForSharing(S._inputSettings,!1),S.sendMessageToCallMachine({action:"start-camera",properties:Ad(S.properties,S.callClientId),preloadCache:Ad(S._preloadCache,S.callClientId)},function(U){E({camera:U.camera,mic:U.mic,speaker:U.speaker})})})}),function(){return z.apply(this,arguments)})},{key:"validateCustomTrack",value:function(S,O,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(O&&O!=="music"&&O!=="speech"&&!(O instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(S instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return jt(),Gt(this._callState,"startCustomTrack()"),this.validateCustomTrack(O.track,O.mode,O.trackName),new Promise(function(E,U){S._sharedTracks.customTrack=O.track,O.track=Po,S.sendMessageToCallMachine({action:"start-custom-track",properties:O},function($){$.error?U({error:$.error}):E($.mediaTag)})})}},{key:"stopCustomTrack",value:function(S){var O=this;return jt(),Gt(this._callState,"stopCustomTrack()"),new Promise(function(E){O.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:S},function(U){E(U.mediaTag)})})}},{key:"setCamera",value:function(S){var O=this;return rm(),xx(this._callMachineInitialized,"setCamera()"),new Promise(function(E){O.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:S},function(U){E({device:U.device})})})}},{key:"setAudioDevice",value:(M=it(function*(S){return rm(),this.nativeUtils().setAudioDevice(S),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(S){return M.apply(this,arguments)})},{key:"cycleCamera",value:function(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){S.sendMessageToCallMachine({action:"cycle-camera",properties:O},function(U){E({device:U.device})})})}},{key:"cycleMic",value:function(){var S=this;return jt(),new Promise(function(O){S.sendMessageToCallMachine({action:"cycle-mic"},function(E){O({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var S=this;return rm(),new Promise(function(O){S.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){O(E.facingMode)})})}},{key:"setInputDevicesAsync",value:(I=it(function*(S){var O=this,E=S.audioDeviceId,U=S.videoDeviceId,$=S.audioSource,G=S.videoSource;if(jt(),$!==void 0&&(E=$),G!==void 0&&(U=G),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof U=="boolean"&&(this._setAllowLocalVideo(U),U=void 0),!E&&!U)return yield this.getInputDevices();var V={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=Po,V.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,V.audio={settings:{deviceId:E}})),U&&(U instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=U,U=Po,V.video={settings:{customTrack:U}}):(delete this._sharedTracks.videoTrack,V.video={settings:{deviceId:U}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(V,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(q){O.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:U},function(X){if(delete X.action,delete X.callbackStamp,X.returnPreloadCache)return O._updatePreloadCacheInputSettings(V,!1),void q(O._devicesFromInputSettings(O._inputSettings));q(X)})})}),function(S){return I.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(A=it(function*(S){var O=this,E=S.outputDeviceId;if(jt(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(U,$){O.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(G){if(delete G.action,delete G.callbackStamp,G.error){var V=new Error(G.error.message);return V.type=G.error.type,void $(V)}G.returnPreloadCache?U(O._devicesFromInputSettings(O._inputSettings)):U(G)})})}),function(S){return A.apply(this,arguments)})},{key:"getInputDevices",value:(P=it(function*(){var S=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(O){S.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?O(S._devicesFromInputSettings(S._inputSettings)):O({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return P.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return rm(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(S){if(rm(),[k5,T7e].includes(S)){if(S!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=S,!this.disableReactNativeAutoDeviceManagement("audio")&&Zx(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",S)}},{key:"preAuth",value:(C=it(function*(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Is(this._callObjectMode,"preAuth()"),HS(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(O)),!O.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(O),this.properties=We(We({},this.properties),O),new Promise(function(E,U){S._preloadCache.inputSettings=S._prepInputSettingsForSharing(S._inputSettings,!1),S.sendMessageToCallMachine({action:"daily-method-preauth",properties:Ad(S.properties,S.callClientId),preloadCache:Ad(S._preloadCache,S.callClientId)},function($){return $.error?U($.error):$.access?(S._didPreAuth=!0,void E({access:$.access})):U(new Error("unknown error in preAuth()"))})})}),function(){return C.apply(this,arguments)})},{key:"load",value:(k=it(function*(S){var O=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(S&&(this.validateProperties(S),this.properties=We(We({},this.properties),S)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(KF),this.emitDailyJSEvent({action:d9e}),this._callObjectMode?new Promise(function(E,U){O._callObjectLoader.cancel();var $=Date.now();O._callObjectLoader.load(O.properties.dailyConfig,function(G){O._bundleLoadTime=G?"no-op":Date.now()-$,O._updateCallState(YF),G&&O.emitDailyJSEvent({action:XF}),E()},function(G,V){if(O.emitDailyJSEvent({action:f9e}),!V){O._updateCallState(hl),O.resetMeetingDependentVars();var q={action:r5,errorMsg:G.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:G,bundleUrl:dw(O.properties.dailyConfig)}}};O._maybeSendToSentry(q),O.emitDailyJSEvent(q),U(G.msg)}})}):(this._iframe.src=HY(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,U){O._loadedCallback=function($){O._callState!==hl?(O._updateCallState(YF),(O.properties.cssFile||O.properties.cssText)&&O.loadCss(O.properties),E()):U($)}}))}}),function(S){return k.apply(this,arguments)})},{key:"join",value:(j=it(function*(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(O)}catch(U){return this.updateIsPreparingToJoin(!1),Promise.reject(U)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(O.url&&O.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(O.token&&O.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(O.url&&!this._callObjectMode&&O.url&&O.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(O.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(O),this.properties=We(We({},this.properties),O)}return O.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!O.showLocalVideo),O.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!O.showParticipantsBar),this._callState===Xc||this._callState===$O?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState($O,!1),this.emitDailyJSEvent({action:m9e}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Ad(this.properties,this.callClientId),preloadCache:Ad(this._preloadCache,this.callClientId)}),new Promise(function(U,$){S._joinedCallback=function(G,V){if(S._callState!==hl){if(S._updateCallState(Xc),G)for(var q in G){if(S._callObjectMode){var X=S._callMachine().store;p5(G[q],X),m5(G[q],X),g5(G[q],S._participants[q],X)}S._participants[q]=We({},G[q]),S.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&S.loadCss(S.properties),U(G)}else $(V)}}))}),function(){return j.apply(this,arguments)})},{key:"leave",value:(N=it(function*(){var S=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(O){S._callState===Dc||S._callState===hl?O():S._callObjectLoader&&!S._callObjectLoader.loaded?(S._callObjectLoader.cancel(),S._updateCallState(Dc),S.resetMeetingDependentVars(),S.emitDailyJSEvent({action:Dc}),O()):(S._resolveLeave=O,S.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return N.apply(this,arguments)})},{key:"startScreenShare",value:(_=it(function*(){var S=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(xx(this._callMachineInitialized,"startScreenShare()"),O.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",O.screenVideoSendSettings),O.mediaStream&&(this._sharedTracks.screenMediaStream=O.mediaStream,O.mediaStream=Po),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:t5,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),S.sendMessageToCallMachine({action:i5,captureOptions:O})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:i5,captureOptions:O})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){xx(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=S.type;if(O&&O!=="cloud"&&O!=="raw-tracks"&&O!=="local")throw new Error("invalid type: ".concat(O,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(We({action:"local-recording-start"},S))}},{key:"updateRecording",value:function(S){var O=S.layout,E=O===void 0?{preset:"default"}:O,U=S.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:U})}},{key:"stopRecording",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(We({action:"local-recording-stop"},S))}},{key:"startLiveStreaming",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(We({action:"daily-method-start-live-streaming"},S))}},{key:"updateLiveStreaming",value:function(S){var O=S.layout,E=O===void 0?{preset:"default"}:O,U=S.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:U})}},{key:"addLiveStreamingEndpoints",value:function(S){var O=S.endpoints,E=S.instanceId;this.sendMessageToCallMachine({action:s5,endpointsOp:n7e,endpoints:O,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(S){var O=S.endpoints,E=S.instanceId;this.sendMessageToCallMachine({action:s5,endpointsOp:i7e,endpoints:O,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(We({action:"daily-method-stop-live-streaming"},S))}},{key:"validateDailyConfig",value:function(S){S.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(S.camSimulcastEncodings)),S.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),dJ()&&S.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(S){if(!(S instanceof Array||Array.isArray(S)))throw new Error("encodings must be an Array");if(!$5(S.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var U=0;U<S.length;U++){var $=S[U];for(var G in this._validateEncodingLayerHasValidProperties($),$)if(VS.includes(G)){if(typeof $[G]!="number")throw new Error("".concat(G," must be a number"));if(O){var V=O[G],q=V.min,X=V.max;if(!$5($[G],q,X))throw new Error("".concat(G," value not in range. valid range: ").concat(q," to ").concat(X))}}else if(!["active","scalabilityMode"].includes(G))throw new Error("Invalid key ".concat(G,", valid keys are:")+Object.values(VS));if(E&&!$.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=it(function*(S){var O=this,E=S.url,U=S.settings,$=U===void 0?{state:DO.PLAY}:U;try{(function(G){if(typeof G!="string")throw new Error('url parameter must be "string" type')})(E),R5($),function(G){for(var V in G)if(!E5.includes(V))throw new Error("Invalid key ".concat(V,", valid keys are: ").concat(E5));G.simulcastEncodings&&this.validateSimulcastEncodings(G.simulcastEncodings,_J,!0)}($)}catch(G){throw console.error("invalid argument Error: ".concat(G)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),G}return new Promise(function(G,V){O.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:$},function(q){q.error?V({error:q.error,errorMsg:q.errorMsg}):G({session_id:q.session_id,remoteMediaPlayerState:{state:q.state,settings:q.settings}})})})}),function(S){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(x=it(function*(S){var O=this;if(typeof S!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,U){O.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:S},function($){$.error?U({error:$.error,errorMsg:$.errorMsg}):E()})})}),function(S){return x.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(b=it(function*(S){var O=this,E=S.session_id,U=S.settings;try{R5(U)}catch($){throw console.error("invalid argument Error: ".concat($)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),$}return new Promise(function($,G){O.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:U},function(V){V.error?G({error:V.error,errorMsg:V.errorMsg}):$({session_id:V.session_id,remoteMediaPlayerState:{state:V.state,settings:V.settings}})})})}),function(S){return b.apply(this,arguments)})},{key:"startTranscription",value:function(S){Gt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(We({action:"daily-method-start-transcription"},S))}},{key:"updateTranscription",value:function(S){if(Gt(this._callState,"updateTranscription()"),!S)throw new Error("updateTranscription Error: options is mandatory");if(Ot(S)!=="object")throw new Error("updateTranscription Error: options must be object type");if(S.participants&&!Array.isArray(S.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(We({action:"daily-method-update-transcription"},S))}},{key:"stopTranscription",value:function(S){if(Gt(this._callState,"stopTranscription()"),S&&Ot(S)!=="object")throw new Error("stopTranscription Error: options must be object type");if(S&&!S.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(We({action:"daily-method-stop-transcription"},S))}},{key:"startDialOut",value:(v=it(function*(S){var O=this;Gt(this._callState,"startDialOut()");var E=function(V){if(V){if(!Array.isArray(V))throw new Error("Error starting dial out: audio codec must be an array");if(V.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");V.forEach(function(q){if(typeof q!="string")throw new Error("Error starting dial out: audio codec must be a string");if(q!=="OPUS"&&q!=="PCMU"&&q!=="PCMA"&&q!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!S.sipUri&&!S.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(S.sipUri&&S.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(S.sipUri){if(typeof S.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!S.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(S.video&&typeof S.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(V){if(V&&(E(V.audio),V.video)){if(!Array.isArray(V.video))throw new Error("Error starting dial out: video codec must be an array");if(V.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");V.video.forEach(function(q){if(typeof q!="string")throw new Error("Error starting dial out: video codec must be a string");if(q!=="H264"&&q!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(S.codecs)}if(S.phoneNumber){if(typeof S.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(S.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");S.codecs&&E(S.codecs.audio)}if(S.callerId){if(typeof S.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(S.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(S.displayName){if(typeof S.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(S.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(S.userId){if(typeof S.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(S.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(A5(S),S.permissions&&S.permissions.canReceive){var U=Bn(bJ.validateJSONObject(S.permissions.canReceive),2),$=U[0],G=U[1];if(!$)throw new Error(G)}if(S.provider){if(S.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(S.provider));if(S.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(V,q){O.sendMessageToCallMachine(We({action:"dialout-start"},S),function(X){X.error?q(X.error):V(X)})})}),function(S){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(S){var O=this;return Gt(this._callState,"stopDialOut()"),new Promise(function(E,U){O.sendMessageToCallMachine(We({action:"dialout-stop"},S),function($){$.error?U($.error):E($)})})}},{key:"sipCallTransfer",value:(m=it(function*(S){var O=this;if(Gt(this._callState,"sipCallTransfer()"),!S)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return S.useSipRefer=!1,I5(S,"sipCallTransfer"),A5(S),new Promise(function(E,U){O.sendMessageToCallMachine(We({action:a5},S),function($){$.error?U($.error):E($)})})}),function(S){return m.apply(this,arguments)})},{key:"sipRefer",value:(g=it(function*(S){var O=this;if(Gt(this._callState,"sipRefer()"),!S)throw new Error("sessionId and toEndPoint are mandatory parameter");return S.useSipRefer=!0,I5(S,"sipRefer"),new Promise(function(E,U){O.sendMessageToCallMachine(We({action:a5},S),function($){$.error?U($.error):E($)})})}),function(S){return g.apply(this,arguments)})},{key:"sendDTMF",value:(p=it(function*(S){var O=this;return Gt(this._callState,"sendDTMF()"),function(E){var U=E.sessionId,$=E.tones;if(!U||!$)throw new Error("sessionId and tones are mandatory parameter");if(typeof U!="string"||typeof $!="string")throw new Error("sessionId and tones should be of string type");if($.length>20)throw new Error("tones string must be upto 20 characters");var G=/[^0-9A-D*#]/g,V=$.match(G);if(V&&V[0])throw new Error("".concat(V[0]," is not valid DTMF tone"))}(S),new Promise(function(E,U){O.sendMessageToCallMachine(We({action:"send-dtmf"},S),function($){$.error?U($.error):E($)})})}),function(S){return p.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var S=this;return this._callState!==Xc?Promise.resolve(We({stats:{latest:{}}},this._network)):new Promise(function(O){S.sendMessageToCallMachine({action:"get-calc-stats"},function(E){O(We(We({},S._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(h=it(function*(){var S=this;if(qS(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(O){return Promise.reject(O)}return new Promise(function(O,E){S.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(U){U.error?E(U.error):O(U.results)})})}),function(){return h.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(S){return S?S instanceof MediaStreamTrack?!!k7e(S)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(f=it(function*(){var S=this;jt(),Is(this._callObjectMode,"testCallQuality()"),xx(this._callMachineInitialized,"testCallQuality()",null,!0),HS(this._callState,this._isPreparingToJoin,"testCallQuality()");var O=this._testCallAlreadyInProgress,E=function($){O||(S._testCallInProgress=$)};if(E(!0),this.needsLoad())try{var U=this._callState;yield this.load(),this._callState=U}catch($){return E(!1),Promise.reject($)}return new Promise(function($){S.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:S.properties.dailyJsVersion},function(G){var V=G.results,q=V.result,X=z3(V,E7e);if(q==="failed"){var Y,pe=We({},X);(Y=X.error)!==null&&Y!==void 0&&Y.details?(X.error.details=JSON.parse(X.error.details),pe.error=We(We({},pe.error),{},{details:We({},pe.error.details)}),pe.error.details.duringTest="testCallQuality"):(pe.error=pe.error?We({},pe.error):{},pe.error.details={duringTest:"testCallQuality"}),S._maybeSendToSentry(pe)}E(!1),$(We({result:q},X))})})}),function(){return f.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=it(function*(S){var O;St()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),O=yield this.testPeerToPeerCallQuality(S)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),O=yield this.testCallQuality());var E={result:O.result,secondsElapsed:O.secondsElapsed};return O.data&&(E.data={maxRTT:O.data.maxRoundTripTime,packetLoss:O.data.avgRecvPacketLoss}),E}),function(S){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=it(function*(S){var O=this;if(qS(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch($){return Promise.reject($)}var E=S.videoTrack,U=S.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function($,G){O.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:U},function(V){V.error?G(V.error):$(V.results)})})}),function(S){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){St()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=it(function*(S){var O=this;if(qS(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(S))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=S,new Promise(function(E,U){O.sendMessageToCallMachine({action:"test-network-connectivity"},function($){$.error?U($.error):E($.results)})})}),function(S){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var S=this;return new Promise(function(O){S._callState===Xc?S.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){O(E.cpuStats)}):O({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(S){var O;if(!(((O=Object.keys(S))===null||O===void 0?void 0:O.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(VS))}},{key:"_validateVideoSendSettings",value:function(S,O){var E=S==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],U="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof O=="string"){if(!E.includes(O))throw new Error(U)}else{if(Ot(O)!=="object")throw new Error(U);if(!O.maxQuality&&!O.encodings&&O.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(O.maxQuality&&["low","medium","high"].indexOf(O.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(O.encodings){var $=!1;switch(Object.keys(O.encodings).length){case 1:$=!O.encodings.low;break;case 2:$=!O.encodings.low||!O.encodings.medium;break;case 3:$=!O.encodings.low||!O.encodings.medium||!O.encodings.high;break;default:$=!0}if($)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");O.encodings.low&&this._validateEncodingLayerHasValidProperties(O.encodings.low),O.encodings.medium&&this._validateEncodingLayerHasValidProperties(O.encodings.medium),O.encodings.high&&this._validateEncodingLayerHasValidProperties(O.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(S){var O=this;if(!S||Object.keys(S).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(S).forEach(function(E){var U=Bn(E,2),$=U[0],G=U[1];O._validateVideoSendSettings($,G)})}},{key:"updateSendSettings",value:function(S){var O=this;return this.validateUpdateSendSettings(S),this.needsLoad()?(this._preloadCache.sendSettings=S,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,U){O.sendMessageToCallMachine({action:"update-send-settings",sendSettings:S},function($){$.error?U($.error):E($.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return jt(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(S){return jt(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:S}),this}},{key:"activeSpeakerMode",value:function(){return jt(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(S){return Gt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=S,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:S}),this}},{key:"enumerateDevices",value:(l=it(function*(){var S=this;if(this._callObjectMode){var O=yield navigator.mediaDevices.enumerateDevices();return Xu()==="Firefox"&&vw().major>115&&vw().major<123&&(O=O.filter(function(E){return E.kind!=="audiooutput"})),{devices:O.map(function(E){var U=JSON.parse(JSON.stringify(E));if(!St()&&E.kind==="videoinput"&&E.getCapabilities){var $,G=E.getCapabilities();U.facing=(G==null||($=G.facingMode)===null||$===void 0?void 0:$.length)>=1?G.facingMode[0]:void 0}return U})}}return new Promise(function(E){S.sendMessageToCallMachine({action:"enumerate-devices"},function(U){E({devices:U.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Gt(this._callState,"sendAppMessage()"),JSON.stringify(S).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:S,to:O}),this}},{key:"addFakeParticipant",value:function(S){return jt(),Gt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(We({action:"add-fake-participant"},S)),this}},{key:"setShowNamesMode",value:function(S){return Oi(this._callObjectMode,"setShowNamesMode()"),jt(),S&&S!=="always"&&S!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:S}),this)}},{key:"setShowLocalVideo",value:function(){var S=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Oi(this._callObjectMode,"setShowLocalVideo()"),jt(),Gt(this._callState,"setShowLocalVideo()"),typeof S!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:S}),this._showLocalVideo=S,this)}},{key:"showLocalVideo",value:function(){return Oi(this._callObjectMode,"showLocalVideo()"),jt(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var S=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Oi(this._callObjectMode,"setShowParticipantsBar()"),jt(),Gt(this._callState,"setShowParticipantsBar()"),typeof S!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:S}),this._showParticipantsBar=S,this)}},{key:"showParticipantsBar",value:function(){return Oi(this._callObjectMode,"showParticipantsBar()"),jt(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return jt(),Oi(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(S){return jt(),Oi(this._callObjectMode,"setCustomIntegrations()"),Gt(this._callState,"setCustomIntegrations()"),PJ(S)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:S}),this._customIntegrations=S,this):this}},{key:"startCustomIntegrations",value:function(S){var O=this;if(jt(),Oi(this._callObjectMode,"startCustomIntegrations()"),Gt(this._callState,"startCustomIntegrations()"),Array.isArray(S)&&S.some(function($){return typeof $!="string"})||!Array.isArray(S)&&typeof S!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof S=="string"?[S]:S,U=E.filter(function($){return!($ in O._customIntegrations)});return U.length?(console.error(`Can't find custom integration(s): "`.concat(U.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(S){var O=this;if(jt(),Oi(this._callObjectMode,"stopCustomIntegrations()"),Gt(this._callState,"stopCustomIntegrations()"),Array.isArray(S)&&S.some(function($){return typeof $!="string"})||!Array.isArray(S)&&typeof S!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof S=="string"?[S]:S,U=E.filter(function($){return!($ in O._customIntegrations)});return U.length?(console.error(`Can't find custom integration(s): "`.concat(U.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return Oi(this._callObjectMode,"customTrayButtons()"),jt(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(S){return Oi(this._callObjectMode,"updateCustomTrayButtons()"),jt(),Gt(this._callState,"updateCustomTrayButtons()"),EJ(S)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:S}),this._customTrayButtons=S,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(xw))),this)}},{key:"theme",value:function(){return Oi(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(S){var O=this;return Oi(this._callObjectMode,"setTheme()"),new Promise(function(E,U){try{O.validateProperties({theme:S}),O.properties.theme=We({},S),O.sendMessageToCallMachine({action:"set-theme",theme:O.properties.theme});try{O.emitDailyJSEvent({action:u9e,theme:O.properties.theme})}catch($){console.log("could not emit 'theme-updated'",$)}E(O.properties.theme)}catch($){U($)}})}},{key:"requestFullscreen",value:(a=it(function*(){if(jt(),this._iframe&&!document.fullscreenElement&&o5())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(S){console.log("could not make video call fullscreen",S)}}),function(){return a.apply(this,arguments)})},{key:"exitFullscreen",value:function(){jt(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(s=it(function*(){var S=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(O){S.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){O(E.view)})})}),function(){return s.apply(this,arguments)})},{key:"setSidebarView",value:function(S){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:S}),this)}},{key:"room",value:(i=it(function*(){var S=this,O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=O===void 0||O;return this._accessState.access===DS||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(U){S.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function($){delete $.action,delete $.callbackStamp,U($)})})}),function(){return i.apply(this,arguments)})},{key:"geo",value:(n=it(function*(){try{var S=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield S.json()).geo}}catch(O){return console.error("geo lookup failed",O),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=it(function*(S){var O=this;return jt(),Gt(this._callState,"setNetworkTopology()"),new Promise(function(E,U){O.sendMessageToCallMachine({action:"set-network-topology",opts:S},function($){$.error?U({error:$.error}):E({workerId:$.workerId})})})}),function(S){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=it(function*(){var S=this;return new Promise(function(O,E){S.needsLoad()&&O({topology:"none"}),S.sendMessageToCallMachine({action:"get-network-topology"},function(U){U.error?E({error:U.error}):O({topology:U.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(S){if(jt(),typeof S!="number"&&S!==!0&&S!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(S));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:S})}},{key:"on",value:function(S,O){return ax.prototype.on.call(this,S,O)}},{key:"once",value:function(S,O){return ax.prototype.once.call(this,S,O)}},{key:"off",value:function(S,O){return ax.prototype.off.call(this,S,O)}},{key:"validateProperties",value:function(S){var O,E;if(S!=null&&(O=S.dailyConfig)!==null&&O!==void 0&&O.userMediaAudioConstraints){var U,$;St()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var G=S.inputSettings||{};G.audio=((U=S.inputSettings)===null||U===void 0?void 0:U.audio)||{},G.audio.settings=(($=S.inputSettings)===null||$===void 0||($=$.audio)===null||$===void 0?void 0:$.settings)||{},G.audio.settings=We(We({},G.audio.settings),S.dailyConfig.userMediaAudioConstraints),S.inputSettings=G,delete S.dailyConfig.userMediaAudioConstraints}if(S!=null&&(E=S.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var V,q;St()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var X=S.inputSettings||{};X.video=((V=S.inputSettings)===null||V===void 0?void 0:V.video)||{},X.video.settings=((q=S.inputSettings)===null||q===void 0||(q=q.video)===null||q===void 0?void 0:q.settings)||{},X.video.settings=We(We({},X.video.settings),S.dailyConfig.userMediaVideoConstraints),S.inputSettings=X,delete S.dailyConfig.userMediaVideoConstraints}for(var Y in S)if(Fc[Y]){if(Fc[Y].validate&&!Fc[Y].validate(S[Y],this))throw new Error("property '".concat(Y,"': ").concat(Fc[Y].help))}else console.warn("Ignoring unrecognized property '".concat(Y,"'")),delete S[Y]}},{key:"assembleMeetingUrl",value:function(){var S,O,E=We(We({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(S=this.properties.dailyConfig)!==null&&S!==void 0&&S.proxyUrl?encodeURIComponent((O=this.properties.dailyConfig)===null||O===void 0?void 0:O.proxyUrl):void 0}),U=E.url.match(/\?/)?"&":"?";return E.url+U+Object.keys(Fc).filter(function($){return Fc[$].queryString&&E[$]!==void 0}).map(function($){return"".concat(Fc[$].queryString,"=").concat(E[$])}).join("&")}},{key:"needsLoad",value:function(){return[GF,KF,Dc,hl].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(S,O){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(S,O,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(S){this._messageChannel.forwardPackagedMessageToCallMachine(S,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(S){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(S,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(S){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(S)}},{key:"handleMessageFromCallMachine",value:function(S){switch(S.action){case l9e:this.sendMessageToCallMachine(We({action:c9e},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var O={action:gx,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:dw(this.properties.dailyConfig)}};this.sendMessageToCallMachine(O),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case XF:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(S);break;case g9e:var E,U=We({},S);delete U.internal,this._maxAppMessageSize=((E=S.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||LS,this._joinedCallback&&(this._joinedCallback(S.participants),this._joinedCallback=null),this.emitDailyJSEvent(U);break;case y9e:case x9e:if(this._callState===Dc)return;if(S.participant&&S.participant.session_id){var $=S.participant.local?"local":S.participant.session_id;if(this._callObjectMode){var G=this._callMachine().store;p5(S.participant,G),m5(S.participant,G),g5(S.participant,this._participants[$],G)}try{this.maybeParticipantTracksStopped(this._participants[$],S.participant),this.maybeParticipantTracksStarted(this._participants[$],S.participant),this.maybeEventRecordingStopped(this._participants[$],S.participant),this.maybeEventRecordingStarted(this._participants[$],S.participant)}catch(J){console.error("track events error",J)}this.compareEqualForParticipantUpdateEvent(S.participant,this._participants[$])||(this._participants[$]=We({},S.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(S))}break;case b9e:if(S.participant&&S.participant.session_id){var V=this._participants[S.participant.session_id];V&&this.maybeParticipantTracksStopped(V,null),delete this._participants[S.participant.session_id],this.emitDailyJSEvent(S)}break;case w9e:Gn(this._participantCounts,S.participantCounts)||(this._participantCounts=S.participantCounts,this.emitDailyJSEvent(S));break;case _9e:var q={access:S.access};S.awaitingAccess&&(q.awaitingAccess=S.awaitingAccess),Gn(this._accessState,q)||(this._accessState=q,this.emitDailyJSEvent(S));break;case j9e:if(S.meetingSession){this._meetingSessionSummary=S.meetingSession,this.emitDailyJSEvent(S);var X=We(We({},S),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(X)}break;case r5:var Y;this._iframe&&!S.preserveIframe&&(this._iframe.src=""),this._updateCallState(hl),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(S.errorMsg),this._loadedCallback=null),S.preserveIframe;var pe=z3(S,P7e);pe!=null&&(Y=pe.error)!==null&&Y!==void 0&&Y.details&&(pe.error.details=JSON.parse(pe.error.details)),this._maybeSendToSentry(S),this._joinedCallback&&(this._joinedCallback(null,pe),this._joinedCallback=null),this.emitDailyJSEvent(pe);break;case v9e:this._callState!==hl&&this._updateCallState(Dc),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(S);break;case"selected-devices-updated":S.devices&&this.emitDailyJSEvent(S);break;case G9e:var Ne=S.state,Ke=S.threshold,Ve=S.quality,He=Ne.state,bt=Ne.reasons;He===this._network.networkState&&Gn(bt,this._network.networkStateReasons)&&Ke===this._network.threshold&&Ve===this._network.quality||(this._network.networkState=He,this._network.networkStateReasons=bt,this._network.quality=Ve,this._network.threshold=Ke,S.networkState=He,bt.length&&(S.networkStateReasons=bt),delete S.state,this.emitDailyJSEvent(S));break;case Y9e:S&&S.cpuLoadState&&this.emitDailyJSEvent(S);break;case J9e:S&&S.faceCounts!==void 0&&this.emitDailyJSEvent(S);break;case H9e:var Ct=S.activeSpeaker;this._activeSpeaker.peerId!==Ct.peerId&&(this._activeSpeaker.peerId=Ct.peerId,this.emitDailyJSEvent({action:S.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var wt=S.show;this._showLocalVideo=wt,this.emitDailyJSEvent({action:S.action,show:wt});break;case q9e:var H=S.enabled;this._activeSpeakerMode!==H&&(this._activeSpeakerMode=H,this.emitDailyJSEvent({action:S.action,enabled:this._activeSpeakerMode}));break;case N9e:case k9e:case C9e:this._waitingParticipants=S.allWaitingParticipants,this.emitDailyJSEvent({action:S.action,participant:S.participant});break;case r7e:Gn(this._receiveSettings,S.receiveSettings)||(this._receiveSettings=S.receiveSettings,this.emitDailyJSEvent({action:S.action,receiveSettings:S.receiveSettings}));break;case e5:this._maybeUpdateInputSettings(S.inputSettings);break;case"send-settings-updated":Gn(this._sendSettings,S.sendSettings)||(this._sendSettings=S.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:S.action,sendSettings:S.sendSettings}));break;case"local-audio-level":this._localAudioLevel=S.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(S);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=S.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(S);break;case F9e:var Q=S.session_id;this._rmpPlayerState[Q]=S.playerState,this.emitDailyJSEvent(S);break;case U9e:delete this._rmpPlayerState[S.session_id],this.emitDailyJSEvent(S);break;case B9e:var ne=S.session_id,Se=this._rmpPlayerState[ne];Se&&this.compareEqualForRMPUpdateEvent(Se,S.remoteMediaPlayerState)||(this._rmpPlayerState[ne]=S.remoteMediaPlayerState,this.emitDailyJSEvent(S));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(S);break;case S9e:var be=this._meetingSessionState.topology!==(S.meetingSessionState&&S.meetingSessionState.topology);this._meetingSessionState=GS(S.meetingSessionState,this._callObjectMode),(this._callObjectMode||be)&&this.emitDailyJSEvent(S);break;case z9e:this._isScreenSharing=!0,this.emitDailyJSEvent(S);break;case W9e:case V9e:this._isScreenSharing=!1,this.emitDailyJSEvent(S);break;case QF:case ZF:case M9e:case I9e:case R9e:case P9e:case T9e:case A9e:case h9e:case p9e:case D9e:case L9e:case"test-completed":case K9e:case $9e:case X9e:case Q9e:case Z9e:case e7e:case t5:case t7e:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(S);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(S,O){var E="record";S&&(O.local||O[E]!==!1||S[E]===O[E]||this.emitDailyJSEvent({action:ZF}))}},{key:"maybeEventRecordingStarted",value:function(S,O){var E="record";S&&(O.local||O[E]!==!0||S[E]===O[E]||this.emitDailyJSEvent({action:QF}))}},{key:"_trackStatePlayable",value:function(S){return!(!S||S.state!==n9e)}},{key:"_trackChanged",value:function(S,O){return(S==null?void 0:S.id)!==(O==null?void 0:O.id)}},{key:"maybeEventTrackStopped",value:function(S,O,E){var U,$,G=(U=O==null?void 0:O.tracks[S])!==null&&U!==void 0?U:null,V=($=E==null?void 0:E.tracks[S])!==null&&$!==void 0?$:null,q=G==null?void 0:G.track;if(q){var X=this._trackStatePlayable(G),Y=this._trackStatePlayable(V),pe=this._trackChanged(q,V==null?void 0:V.track);X&&(Y&&!pe||this.emitDailyJSEvent({action:E9e,track:q,participant:E??O,type:S}))}}},{key:"maybeEventTrackStarted",value:function(S,O,E){var U,$,G=(U=O==null?void 0:O.tracks[S])!==null&&U!==void 0?U:null,V=($=E==null?void 0:E.tracks[S])!==null&&$!==void 0?$:null,q=V==null?void 0:V.track;if(q){var X=this._trackStatePlayable(G),Y=this._trackStatePlayable(V),pe=this._trackChanged(G==null?void 0:G.track,q);Y&&(X&&!pe||this.emitDailyJSEvent({action:O9e,track:q,participant:E,type:S}))}}},{key:"maybeParticipantTracksStopped",value:function(S,O){if(S)for(var E in S.tracks)this.maybeEventTrackStopped(E,S,O)}},{key:"maybeParticipantTracksStarted",value:function(S,O){if(O)for(var E in O.tracks)this.maybeEventTrackStarted(E,S,O)}},{key:"compareEqualForRMPUpdateEvent",value:function(S,O){var E,U;return S.state===O.state&&((E=S.settings)===null||E===void 0?void 0:E.volume)===((U=O.settings)===null||U===void 0?void 0:U.volume)}},{key:"emitDailyJSEvent",value:function(S){try{S.callClientId=this.callClientId,this.emit(S.action,S)}catch(O){console.log("could not emit",S,O)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(S,O){return!!Gn(S,O)&&(!S.videoTrack||!O.videoTrack||S.videoTrack.id===O.videoTrack.id&&S.videoTrack.muted===O.videoTrack.muted&&S.videoTrack.enabled===O.videoTrack.enabled)&&(!S.audioTrack||!O.audioTrack||S.audioTrack.id===O.audioTrack.id&&S.audioTrack.muted===O.audioTrack.muted&&S.audioTrack.enabled===O.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return St()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(S){this._updateCallState(this._callState,S)}},{key:"_updateCallState",value:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(S!==this._callState||O!==this._isPreparingToJoin){var E=this._callState,U=this._isPreparingToJoin;this._callState=S,this._isPreparingToJoin=O;var $=this._callState===Xc;this.updateShowAndroidOngoingMeetingNotification($);var G=Zx(E,U),V=Zx(this._callState,this._isPreparingToJoin);G!==V&&(this.updateKeepDeviceAwake(V),this.updateDeviceAudioMode(V),this.updateNoOpRecordingEnsuringBackgroundContinuity(V))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=O5,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:DS},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=GS(C5,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=LS,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(S){St()&&this.nativeUtils().setKeepDeviceAwake(S,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(S){if(St()&&!this.disableReactNativeAutoDeviceManagement("audio")){var O=S?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(O)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(S){if(St()&&this.nativeUtils().setShowOngoingMeetingNotification){var O,E,U,$;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var G=this.properties.reactNativeConfig.androidInCallNotification;O=G.title,E=G.subtitle,U=G.iconName,$=G.disableForCustomOverride}$&&(S=!1),this.nativeUtils().setShowOngoingMeetingNotification(S,O,E,U,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(S){St()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(S)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var S;if(St()){var O=(S=this._callMachine())===null||S===void 0||(S=S.store)===null||S===void 0?void 0:S.getState();for(var E in O==null?void 0:O.streams){var U=O.streams[E];U&&U.pendingTrack&&U.pendingTrack.kind==="audio"&&(U.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(S){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[S]}},{key:"absoluteUrl",value:function(S){if(S!==void 0){var O=document.createElement("a");return O.href=S,O.href}}},{key:"sayHello",value:function(){var S="hello, world.";return console.log(S),S}},{key:"_logUseAfterDestroy",value:function(){var S=Object.values(Lc)[0];if(this.needsLoad())if(S&&!S.needsLoad()){var O={action:gx,level:"error",code:this.strictMode?9995:9997};S.sendMessageToCallMachine(O)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:gx,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var S=0,O=Object.values(Lc);S<O.length;S++){var E=O[S];E._callMachineInitialized?(E.sendMessageToCallMachine({action:gx,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(S){var O,E,U,$;if(!((O=S.error)!==null&&O!==void 0&&O.type&&(![o9e,a9e,JF].includes(S.error.type)||S.error.type===JF&&S.error.msg.includes("deleted")))){var G=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,V="production";G&&G.host.includes(".staging.daily")&&(V="staging");var q,X,Y,pe,Ne,Ke=function(Q){const ne=[jVe(),wVe(),YVe(),GVe(),e9e(),r9e(),CVe(),t9e()];return Q.autoSessionTracking!==!1&&ne.push(ZVe()),ne}({}).filter(function(Q){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Q.name)}),Ve=new RVe({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:BVe,stackParser:qVe,integrations:Ke,environment:V}),He=new uc;if(He.setClient(Ve),Ve.init(),this.session_id&&He.setExtra("sessionId",this.session_id),this.properties){var bt=We({},this.properties);bt.userName=bt.userName?"[Filtered]":void 0,bt.userData=bt.userData?"[Filtered]":void 0,bt.token=bt.token?"[Filtered]":void 0,He.setExtra("properties",bt)}if(G){var Ct=G.searchParams.get("domain");if(!Ct){var wt=G.host.match(/(.*?)\./);Ct=wt&&wt[1]||""}Ct&&He.setTag("domain",Ct)}S.error&&(He.setTag("fatalErrorType",S.error.type),He.setExtra("errorDetails",S.error.details),!((q=S.error.details)===null||q===void 0)&&q.uri&&He.setTag("serverAddress",S.error.details.uri),!((X=S.error.details)===null||X===void 0)&&X.workerGroup&&He.setTag("workerGroup",S.error.details.workerGroup),!((Y=S.error.details)===null||Y===void 0)&&Y.geoGroup&&He.setTag("geoGroup",S.error.details.geoGroup),!((pe=S.error.details)===null||pe===void 0)&&pe.on&&He.setTag("connectionAttempt",S.error.details.on),(Ne=S.error.details)!==null&&Ne!==void 0&&Ne.bundleUrl&&(He.setTag("bundleUrl",S.error.details.bundleUrl),He.setTag("bundleError",S.error.details.sourceError.type))),He.setTags({callMode:this._callObjectMode?St()?"reactNative":(U=this.properties)!==null&&U!==void 0&&(U=U.dailyConfig)!==null&&U!==void 0&&(U=U.callMode)!==null&&U!==void 0&&U.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var H=(($=S.error)===null||$===void 0?void 0:$.msg)||S.errorMsg;He.captureException(new Error(H))}}},{key:"_callMachine",value:function(){var S;return(S=window._daily)===null||S===void 0||(S=S.instances)===null||S===void 0||(S=S[this.callClientId])===null||S===void 0?void 0:S.callMachine}},{key:"_maybeUpdateInputSettings",value:function(S){if(!Gn(this._inputSettings,S)){var O=this._getInputSettings();this._inputSettings=S;var E=this._getInputSettings();Gn(O,E)||this.emitDailyJSEvent({action:e5,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(St())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var S=WWe.getParser(js());return{supported:!!US(),mobile:S.getPlatformType()==="mobile",name:S.getBrowserName(),version:S.getBrowserVersion(),supportsFullscreen:!!o5(),supportsScreenShare:!!s7e(),supportsSfu:!!US(),supportsVideoProcessing:cJ(),supportsAudioProcessing:uJ()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return S.layout="none",new e(null,S)}},{key:"wrap",value:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jt(),!S||!S.contentWindow||typeof S.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return O.layout||(O.customLayout?O.layout="custom-v1":O.layout="browser"),new e(S,O)}},{key:"createFrame",value:function(S,O){var E,U;jt(),S&&O?(E=S,U=O):S&&S.append?(E=S,U={}):(E=document.body,U=S||{});var $=U.iframeStyle;$||($=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var G=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?G.allow="microphone, camera":G.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",G.style.visibility="hidden",E.appendChild(G),G.style.visibility=null,Object.keys($).forEach(function(V){return G.style[V]=$[V]}),U.layout||(U.customLayout?U.layout="custom-v1":U.layout="browser");try{return new e(G,U)}catch(V){throw E.removeChild(G),V}}},{key:"createTransparentFrame",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jt();var O=document.createElement("iframe");return O.allow="microphone; camera; autoplay",O.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(O),S.layout||(S.layout="custom-v1"),e.wrap(O,S)}},{key:"getCallInstance",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return S?Lc[S]:Object.values(Lc)[0]}}]);var t,r,n,i,s,a,l,c,u,d,f,h,p,g,m,v,b,x,w,_,N,j,k,C,P,A,I,M,z,L,W,F,D,R,B,K,ee,te}();function A5(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Ad(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=Po;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=s,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function Gt(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==Xc){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function Zx(e,t){return[$O,Xc].includes(e)||t}function HS(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(Zx(e,t)){var i="".concat(r," not supported after joining a meeting.");throw n&&(i+=" ".concat(n)),console.error(i),new Error(i)}}function xx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function qS(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function Is(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function Oi(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function jt(){if(St())throw new Error("This daily-js method is not currently supported in React Native")}function rm(){if(!St())throw new Error("This daily-js method is only supported in React Native")}function jJ(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Gn(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function SJ(e,t){for(var r=t.allowAllParticipantsKey,n=function(f){var h=["local"];return r||h.push("*"),f&&!h.includes(f)},i=function(f){return!!(f.layer===void 0||Number.isInteger(f.layer)&&f.layer>=0||f.layer==="inherit")},s=function(f){return!!f&&!(f.video&&!i(f.video))&&!(f.screenVideo&&!i(f.screenVideo))},a=0,l=Object.entries(e);a<l.length;a++){var c=Bn(l[a],2),u=c[0],d=c[1];if(!n(u)||!s(d))return!1}return!0}function NJ(e){if(Ot(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=Bn(r[t],2),i=n[0],s=n[1];switch(i){case"video":if(Ot(s)!=="object")return!1;for(var a=0,l=Object.entries(s);a<l.length;a++){var c=Bn(l[a],2),u=c[0],d=c[1];switch(u){case"processor":if(!M7e(d))return!1;break;case"settings":if(!M5(d))return!1;break;default:return!1}}break;case"audio":if(Ot(s)!=="object")return!1;for(var f=0,h=Object.entries(s);f<h.length;f++){var p=Bn(h[f],2),g=p[0],m=p[1];switch(g){case"processor":if(!A7e(m))return!1;break;case"settings":if(!M5(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function kJ(e,t,r){var n,i=[];e.video&&e.video.processor&&(cJ((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,i.push("video"))),e.audio&&e.audio.processor&&(uJ()||(e.audio.settings?delete e.audio.processor:delete e.audio,i.push("audio"))),i.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(i.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:Po}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:Po}):delete r.videoTrack)}function A7e(e){if(St())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&Ot(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(oJ).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function M7e(e){if(St())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||Ot(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(Qx).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(Ot(e.config)!=="object"||!function(r,n){var i=Object.keys(n);if(i.length===0)return!0;var s="invalid object in inputSettings -> video -> processor -> config";switch(r){case Qx.BGBLUR:return i.length>1||i[0]!=="strength"?(console.error(s),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(s,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case Qx.BGIMAGE:return!(n.source!==void 0&&!function(a){if(a.source==="default")return a.type="default",!0;if(a.source instanceof ArrayBuffer)return!0;if(fw(a.source))return a.type="url",!!function(u){var d=new URL(u),f=d.pathname;if(d.protocol==="data:")try{var h=f.substring(f.indexOf(":")+1,f.indexOf(";")).split("/")[1];return BS.includes(h)}catch(g){return console.error("failed to deduce blob content type",g),!1}var p=f.split(".").at(-1).toLowerCase().trim();return BS.includes(p)}(a.source)||(console.error("invalid image type; supported types: [".concat(BS.join(", "),"]")),!1);return l=a.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(a.type="daily-preselect",!0);var l,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function M5(e){return Ot(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function WO(){var e=Object.values(Qx).join(" | "),t=Object.values(oJ).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function CJ(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(s9e).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function OJ(){return"customIntegrations should be an object of type ".concat(JSON.stringify(zO),".")}function EJ(e){if(e&&Ot(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(xw),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=Bn(r[t],1)[0],i=0,s=Object.entries(e[n]);i<s.length;i++){var a=Bn(s[i],2),l=a[0],c=a[1],u=xw.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!fw(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(Ot(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function PJ(e){if(!e||e&&Ot(e)!=="object"||Array.isArray(e))return console.error(OJ()),!1;for(var t=function(f){return"".concat(f," should be ").concat(zO.id[f])},r=function(f,h){return console.error("customIntegration ".concat(f,": ").concat(h))},n=0,i=Object.entries(e);n<i.length;n++){var s=Bn(i[n],1)[0];if(!("label"in e[s]))return r(s,"label is required"),!1;if(!("location"in e[s]))return r(s,"location is required"),!1;if(!("src"in e[s])&&!("srcdoc"in e[s]))return r(s,"src or srcdoc is required"),!1;for(var a=0,l=Object.entries(e[s]);a<l.length;a++){var c=Bn(l[a],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(s,t(u)),!1;break;case"iconURL":if(!fw(d))return r(s,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[s])return r(s,"cannot have both src and srcdoc"),!1;if(!fw(d))return r(s,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[s])return r(s,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(s,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(s,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(f){return typeof f!="string"})))return r(s,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(f){return typeof f!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(s,t(u)),!1;break;default:if(!zO.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function TJ(e,t){if(t===void 0)return!1;switch(Ot(t)){case"string":return Ot(e)===t;case"object":if(Ot(e)!=="object")return!1;for(var r in e)if(!TJ(e[r],t[r]))return!1;return!0;default:return!1}}function I5(e,t){var r=e.sessionId,n=e.toEndPoint,i=e.callerId,s=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(s&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(i&&typeof i!="string")throw new Error("callerId must be of type string");if(i&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function R5(e){if(Ot(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(DO).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(DO));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function $5(e,t,r){return!(typeof e!="number"||e<t||e>r)}function GS(e,t){return e&&!t&&delete e.data,e}const I7e=({isOpen:e,onClose:t,appointmentId:r,clinicianName:n})=>{const[i,s]=y.useState(0),[a,l]=y.useState(0),[c,u]=y.useState(""),[d,f]=y.useState(!1),[h,p]=y.useState(!1),g={1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"},m=async()=>{if(i===0){oe.error("Please select a rating");return}f(!0);try{const b=await pW.submit({appointment_id:r,rating:i,feedback:c.trim()||void 0});b!=null&&b.success&&(p(!0),oe.success("Thank you for your feedback!"),setTimeout(()=>{t()},2e3))}catch(b){console.error("Rating submission error:",b),oe.error(b.message||"Failed to submit rating")}finally{f(!1)}},v=()=>{oe.info("You can rate this consultation later from your dashboard"),t()};return h?o.jsx(ni,{open:e,onOpenChange:t,children:o.jsx(Un,{className:"sm:max-w-md",children:o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:o.jsx(Hr,{className:"w-8 h-8 text-green-600"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Thank You!"}),o.jsx("p",{className:"text-muted-foreground text-center",children:"Your feedback helps us improve our services."})]})})}):o.jsx(ni,{open:e,onOpenChange:()=>{},children:o.jsxs(Un,{className:"sm:max-w-md",onInteractOutside:b=>b.preventDefault(),children:[o.jsxs(ii,{children:[o.jsx(si,{className:"text-center text-xl",children:"How was your consultation?"}),o.jsxs(Go,{className:"text-center",children:["Rate your experience with ",n]})]}),o.jsxs("div",{className:"py-6",children:[o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(b=>o.jsx("button",{type:"button",onClick:()=>s(b),onMouseEnter:()=>l(b),onMouseLeave:()=>l(0),className:"p-1 transition-transform hover:scale-110 focus:outline-none",children:o.jsx(KE,{className:`w-10 h-10 transition-colors ${b<=(a||i)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},b))}),o.jsx("div",{className:"h-6",children:(a||i)>0&&o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:g[a||i]})})]}),o.jsxs("div",{className:"mt-6 space-y-2",children:[o.jsx(fe,{htmlFor:"feedback",className:"text-sm text-muted-foreground",children:"Additional feedback (optional)"}),o.jsx(Zt,{id:"feedback",value:c,onChange:b=>u(b.target.value),placeholder:"Tell us about your experience...",className:"resize-none",rows:3,maxLength:1e3}),o.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[c.length,"/1000"]})]}),o.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:" Your feedback is anonymous and helps us improve our services."})]}),o.jsxs(bu,{className:"flex gap-2 sm:gap-0",children:[o.jsx(Z,{variant:"ghost",onClick:v,disabled:d,children:"Skip"}),o.jsx(Z,{onClick:m,disabled:d||i===0,children:d?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Rating"})]})]})})},R7e=({appointmentId:e,patientId:t,patientName:r,clinicianName:n,audioBlob:i,onClose:s})=>{const[a,l]=y.useState("processing"),[c,u]=y.useState(""),[d,f]=y.useState(!1),[h,p]=y.useState(!1),[g,m]=y.useState(!1),[v,b]=y.useState(null),[x,w]=y.useState(!1),[_,N]=y.useState(""),[j,k]=y.useState(""),[C,P]=y.useState(""),[A,I]=y.useState(""),[M,z]=y.useState("");y.useEffect(()=>{i&&i.size>0?L():(l("editing"),oe.info("No audio recording available. Please enter notes manually or paste a transcript."))},[]);const L=async()=>{var D,R,B,K;if(i){f(!0),b(null);try{const ee=await A1.transcribe(i,e);if(ee!=null&&ee.success)u(ee.transcript||""),N(((D=ee.soap_notes)==null?void 0:D.subjective)||""),k(((R=ee.soap_notes)==null?void 0:R.objective)||""),P(((B=ee.soap_notes)==null?void 0:B.assessment)||""),I(((K=ee.soap_notes)==null?void 0:K.plan)||""),l("editing"),oe.success("Transcription complete! Please review and edit the notes.");else throw new Error("Failed to process audio")}catch(ee){console.error("Processing error:",ee),b(ee.message||"Failed to process audio"),l("editing"),oe.error("Audio processing failed. Please enter notes manually.")}finally{f(!1)}}},W=async()=>{if(!c.trim()){oe.error("Please enter a transcript first");return}p(!0);try{const D=await A1.generateSoap(e,c);D!=null&&D.success&&D.soap_notes&&(N(D.soap_notes.subjective||""),k(D.soap_notes.objective||""),P(D.soap_notes.assessment||""),I(D.soap_notes.plan||""),oe.success("SOAP notes regenerated!"))}catch(D){oe.error(D.message||"Failed to regenerate SOAP notes")}finally{p(!1)}},F=async()=>{if(!_.trim()&&!j.trim()&&!C.trim()&&!A.trim()){oe.error("Please fill in at least one SOAP section");return}m(!0);try{const D=await A1.save({appointment_id:e,transcript:c,soap_subjective:_,soap_objective:j,soap_assessment:C,soap_plan:A,additional_notes:M||void 0});D!=null&&D.success&&(l("saved"),oe.success("Clinical notes saved successfully!"))}catch(D){oe.error(D.message||"Failed to save notes")}finally{m(!1)}};return a==="processing"&&d?o.jsx(le,{className:"max-w-4xl mx-auto",children:o.jsx(de,{className:"py-12",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx(et,{className:"w-12 h-12 animate-spin text-primary"}),o.jsx(Nb,{className:"w-6 h-6 text-yellow-500 absolute -top-2 -right-2 animate-pulse"})]}),o.jsx("h3",{className:"text-lg font-semibold mt-4",children:"Processing Consultation Audio"}),o.jsxs("p",{className:"text-muted-foreground mt-2 text-center",children:["Transcribing audio and generating SOAP notes...",o.jsx("br",{}),o.jsx("span",{className:"text-sm",children:"This may take a minute."})]})]})})}):a==="saved"?o.jsxs(le,{className:"max-w-4xl mx-auto",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx(Hr,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx(we,{children:"Clinical Notes Saved!"}),o.jsxs(Oe,{children:["Consultation with ",r,"  Notes saved to patient record"]})]})]})}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-4",children:[o.jsx("h4",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Saved Notes Summary"}),o.jsxs("div",{className:"grid gap-3",children:[_&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-5 h-5 rounded bg-blue-100 text-blue-700 flex items-center justify-center text-xs font-bold",children:"S"}),o.jsx("span",{className:"font-medium text-sm",children:"Subjective"})]}),o.jsx("p",{className:"text-sm text-muted-foreground pl-7 line-clamp-2",children:_})]}),j&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-5 h-5 rounded bg-green-100 text-green-700 flex items-center justify-center text-xs font-bold",children:"O"}),o.jsx("span",{className:"font-medium text-sm",children:"Objective"})]}),o.jsx("p",{className:"text-sm text-muted-foreground pl-7 line-clamp-2",children:j})]}),C&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-5 h-5 rounded bg-amber-100 text-amber-700 flex items-center justify-center text-xs font-bold",children:"A"}),o.jsx("span",{className:"font-medium text-sm",children:"Assessment"})]}),o.jsx("p",{className:"text-sm text-muted-foreground pl-7 line-clamp-2",children:C})]}),A&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-5 h-5 rounded bg-purple-100 text-purple-700 flex items-center justify-center text-xs font-bold",children:"P"}),o.jsx("span",{className:"font-medium text-sm",children:"Plan"})]}),o.jsx("p",{className:"text-sm text-muted-foreground pl-7 line-clamp-2",children:A})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs(Z,{variant:"outline",onClick:()=>l("editing"),className:"flex-1",children:[o.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Edit Notes"]}),t&&o.jsxs(Z,{variant:"outline",onClick:()=>w(!0),className:"flex-1",children:[o.jsx($x,{className:"w-4 h-4 mr-2"}),"View Patient History"]}),o.jsxs(Z,{onClick:s,className:"flex-1",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You can view and edit these notes later from the patient's clinical history."}),t&&o.jsx(I7,{open:x,onOpenChange:w,patientId:t,patientName:r})]})]}):o.jsxs(le,{className:"max-w-4xl mx-auto",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-5 h-5"}),"Clinical Notes"]}),o.jsxs(Oe,{children:["Consultation with ",r]})]}),o.jsxs(Ce,{variant:"outline",className:"flex items-center gap-1",children:[o.jsx(Nb,{className:"w-3 h-3"}),"AI-Assisted"]})]})}),o.jsxs(de,{className:"space-y-6",children:[v&&o.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(Zo,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-amber-800",children:"Audio Processing Issue"}),o.jsx("p",{className:"text-sm text-amber-700",children:v}),o.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"You can still enter notes manually below."})]})]}),o.jsxs(tl,{defaultValue:"soap",className:"w-full",children:[o.jsxs(ro,{className:"grid w-full grid-cols-2",children:[o.jsx(Bt,{value:"soap",children:"SOAP Notes"}),o.jsx(Bt,{value:"transcript",children:"Transcript"})]}),o.jsxs(fr,{value:"soap",className:"space-y-4 mt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fe,{htmlFor:"subjective",className:"text-base font-semibold flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded bg-blue-100 text-blue-700 flex items-center justify-center text-sm font-bold",children:"S"}),"Subjective"]}),o.jsx(Zt,{id:"subjective",value:_,onChange:D=>N(D.target.value),placeholder:"Patient's chief complaint, history of present illness, symptoms...",className:"min-h-[100px]"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fe,{htmlFor:"objective",className:"text-base font-semibold flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded bg-green-100 text-green-700 flex items-center justify-center text-sm font-bold",children:"O"}),"Objective"]}),o.jsx(Zt,{id:"objective",value:j,onChange:D=>k(D.target.value),placeholder:"Vital signs, physical examination findings, observable data...",className:"min-h-[100px]"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fe,{htmlFor:"assessment",className:"text-base font-semibold flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded bg-amber-100 text-amber-700 flex items-center justify-center text-sm font-bold",children:"A"}),"Assessment"]}),o.jsx(Zt,{id:"assessment",value:C,onChange:D=>P(D.target.value),placeholder:"Clinical impression, diagnosis, differential diagnoses...",className:"min-h-[100px]"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fe,{htmlFor:"plan",className:"text-base font-semibold flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded bg-purple-100 text-purple-700 flex items-center justify-center text-sm font-bold",children:"P"}),"Plan"]}),o.jsx(Zt,{id:"plan",value:A,onChange:D=>I(D.target.value),placeholder:"Treatment plan, medications, follow-up, referrals...",className:"min-h-[100px]"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"additional",className:"text-base font-semibold",children:"Additional Notes (Optional)"}),o.jsx(Zt,{id:"additional",value:M,onChange:D=>z(D.target.value),placeholder:"Any additional notes or observations...",className:"min-h-[80px]"})]}),c&&o.jsxs(Z,{variant:"outline",onClick:W,disabled:h,className:"w-full",children:[h?o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Hee,{className:"w-4 h-4 mr-2"}),"Regenerate SOAP from Transcript"]})]}),o.jsx(fr,{value:"transcript",className:"space-y-4 mt-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(fe,{htmlFor:"transcript",className:"text-base font-semibold flex items-center gap-2",children:[o.jsx(qE,{className:"w-4 h-4"}),"Consultation Transcript"]}),o.jsx(Ce,{variant:"secondary",className:"text-xs",children:"Audit Trail"})]}),o.jsx(Zt,{id:"transcript",value:c,onChange:D=>u(D.target.value),placeholder:"The consultation transcript will appear here after processing, or you can paste/type one manually...",className:"min-h-[300px] font-mono text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This transcript is saved for audit purposes. You can edit it for accuracy."})]})})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[o.jsx(Z,{variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),o.jsxs(Z,{onClick:F,disabled:g,className:"flex-1",children:[g?o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(LU,{className:"w-4 h-4 mr-2"}),"Save Clinical Notes"]})]})]})]})},$7e=()=>{const[e]=pP(),t=Wn(),{user:r,profile:n,role:i}=Lr(),s=e.get("appointment"),[a,l]=y.useState(!0),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,p]=y.useState(null),[g,m]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(!1),[_,N]=y.useState(!1),[j,k]=y.useState(null),[C,P]=y.useState(!1),[A,I]=y.useState(!1),[M,z]=y.useState(!1),[L,W]=y.useState(!1),[F,D]=y.useState(null),R=y.useRef(null),B=y.useRef([]),K=y.useRef(null),ee=y.useRef(null);y.useEffect(()=>{(async()=>{if(!s||!r){f("No appointment specified"),l(!1);return}try{const{data:q,error:X}=await Ie.from("appointments").select("*").eq("id",s).single();if(X||!q){f("Appointment not found"),l(!1);return}const Y=q.patient_id===r.id,pe=q.clinician_id===r.id,Ne=i&&["admin","receptionist"].includes(i);if(!Y&&!pe&&!Ne){f("You are not authorized to join this consultation"),l(!1);return}const[Ke,Ve]=await Promise.all([Ie.from("profiles").select("first_name, last_name").eq("id",q.patient_id).single(),Ie.from("profiles").select("first_name, last_name").eq("id",q.clinician_id).single()]);if(p({...q,patient_name:Ke.data?`${Ke.data.first_name} ${Ke.data.last_name}`.trim():"Patient",clinician_name:Ve.data?`${Ve.data.first_name} ${Ve.data.last_name}`.trim():"Clinician"}),pe||Ne){P(!0);try{const wt=await Ev.getUrl(q.patient_id);k((wt==null?void 0:wt.photo_url)||null)}catch(wt){console.error("Error fetching patient photo:",wt)}finally{P(!1)}}const He=await kR.createRoom(s),bt=n?`${n.first_name} ${n.last_name}`.trim():i==="patient"?"Patient":"Clinician",Ct=await kR.createToken(He.room_name,bt,i!=="patient");m(Ct.room_url),b(Ct.token),q.status!=="in_progress"&&await Ie.from("appointments").update({status:"in_progress"}).eq("id",s)}catch(q){console.error("Error setting up video call:",q),f(q.message||"Failed to set up video consultation")}finally{l(!1)}})()},[s,r,n,i]),y.useEffect(()=>()=>{ee.current&&(ee.current.destroy(),ee.current=null)},[]);const te=y.useCallback(async()=>{if(!(!g||!v)){if(u(!0),await new Promise(V=>setTimeout(V,100)),!K.current){f("Video container not ready"),u(!1);return}try{const V=T5.getCallInstance();V&&await V.destroy();const q=T5.createFrame(K.current,{iframeStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"0"},showLeaveButton:!0,showFullscreenButton:!0});ee.current=q,q.on("joined-meeting",()=>{console.log("Joined Daily meeting"),oe.success("Connected to consultation"),w(!0),i!=="patient"&&S()}),q.on("left-meeting",()=>{console.log("Left Daily meeting"),O(),E()}),q.on("error",X=>{console.error("Daily error:",X),oe.error("Video call error occurred"),f("Video call error: "+((X==null?void 0:X.errorMsg)||"Unknown error")),w(!1),u(!1)}),q.on("participant-joined",X=>{var Y,pe;console.log("Participant joined:",(Y=X==null?void 0:X.participant)==null?void 0:Y.user_name),(pe=X==null?void 0:X.participant)!=null&&pe.user_name&&oe.info(`${X.participant.user_name} joined the call`)}),q.on("participant-left",X=>{var Y,pe,Ne;console.log("Participant left:",(Y=X==null?void 0:X.participant)==null?void 0:Y.user_name),(pe=X==null?void 0:X.participant)!=null&&pe.user_name&&!((Ne=X==null?void 0:X.participant)!=null&&Ne.local)&&oe.info(`${X.participant.user_name} left the call`)}),await q.join({url:g,token:v}),u(!1)}catch(V){console.error("Failed to join Daily call:",V),f("Failed to join video call: "+(V.message||"Unknown error")),oe.error("Failed to join video call"),u(!1)}}},[g,v,i]),S=async()=>{try{const V=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0}});B.current=[];const q=new MediaRecorder(V,{mimeType:MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4"});q.ondataavailable=X=>{X.data.size>0&&B.current.push(X.data)},q.onstop=()=>{const X=new Blob(B.current,{type:q.mimeType});D(X),console.log(`Audio recording completed: ${X.size} bytes`),V.getTracks().forEach(Y=>Y.stop())},R.current=q,q.start(1e3),console.log("Audio recording started")}catch(V){console.error("Failed to start audio recording:",V)}},O=()=>{R.current&&R.current.state!=="inactive"&&(R.current.stop(),console.log("Audio recording stopped"))},E=async()=>{if(ee.current){try{await ee.current.destroy()}catch(V){console.error("Error destroying call frame:",V)}ee.current=null}if(w(!1),N(!0),h&&(await Ie.from("appointments").update({status:"completed"}).eq("id",h.id),i==="patient"))try{const V=await pW.check(h.id);V!=null&&V.exists?z(!0):I(!0)}catch(V){console.error("Error checking rating:",V),I(!0)}},U=async()=>{if(ee.current)try{await ee.current.leave()}catch(V){console.error("Error leaving call:",V)}u(!1),E()},$=()=>{I(!1),z(!0)},G=()=>{t(i==="patient"?"/patient":i==="nurse"||i==="doctor"?"/clinician":"/")};return a?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(et,{className:"w-12 h-12 animate-spin mx-auto text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Setting up your consultation..."})]})}):d?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(le,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(Zo,{className:"w-12 h-12 text-destructive mx-auto mb-2"}),o.jsx(we,{children:"Unable to Join"}),o.jsx(Oe,{children:d})]}),o.jsx(de,{children:o.jsxs(Z,{onClick:G,className:"w-full",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})})]})}):_?L&&h&&i!=="patient"?o.jsx("div",{className:"min-h-screen bg-background p-4 py-8",children:o.jsx(R7e,{appointmentId:h.id,patientId:h.patient_id,patientName:h.patient_name||"Patient",clinicianName:h.clinician_name||"Clinician",audioBlob:F,onClose:G})}):o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:[i==="patient"&&h&&o.jsx(I7e,{isOpen:A,onClose:$,appointmentId:h.id,clinicianName:h.clinician_name||"your clinician"}),o.jsxs(le,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(hr,{className:"w-12 h-12 text-primary mx-auto mb-2"}),o.jsx(we,{children:"Consultation Ended"}),o.jsxs(Oe,{children:["Your video consultation has ended successfully.",i==="patient"&&!M&&!A&&o.jsx("span",{className:"block mt-2 text-primary",children:"Please rate your experience!"})]})]}),o.jsxs(de,{className:"space-y-4",children:[i==="patient"&&!M&&o.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>I(!0),children:" Rate This Consultation"}),i!=="patient"&&o.jsxs(Z,{className:"w-full",onClick:()=>W(!0),children:[o.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Generate Clinical Notes",F&&F.size>0&&o.jsxs(Ce,{variant:"secondary",className:"ml-2 text-xs",children:[o.jsx(qE,{className:"w-3 h-3 mr-1"}),"AI"]})]}),o.jsxs(Z,{onClick:G,className:"w-full",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})]}):x||c?o.jsxs("div",{className:"fixed inset-0 bg-black",children:[o.jsx("div",{ref:K,className:"w-full h-full",style:{position:"relative"}}),o.jsxs(Z,{variant:"destructive",size:"sm",className:"absolute bottom-4 right-4 z-50",onClick:U,children:[o.jsx(YE,{className:"w-4 h-4 mr-2"}),"Leave Call"]})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5 flex items-center justify-center p-4",children:o.jsxs(le,{className:"max-w-lg w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(hr,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsx(we,{className:"text-2xl",children:"Ready to Join?"}),o.jsx(Oe,{children:i==="patient"?`Your consultation with ${h==null?void 0:h.clinician_name}`:`Consultation with ${h==null?void 0:h.patient_name}`})]}),o.jsxs(de,{className:"space-y-6",children:[i!=="patient"&&o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(RM,{className:"w-5 h-5 text-blue-600"}),o.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Patient Identity Verification"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(sp,{className:"w-20 h-20 border-2 border-blue-300",children:C?o.jsx(lc,{className:"bg-blue-100",children:o.jsx(et,{className:"w-6 h-6 animate-spin text-blue-600"})}):j?o.jsx(b_,{src:j,alt:h==null?void 0:h.patient_name}):o.jsx(lc,{className:"bg-blue-100",children:o.jsx(Dr,{className:"w-8 h-8 text-blue-600"})})}),!j&&!C&&o.jsx("div",{className:"absolute -bottom-1 -right-1 bg-amber-500 rounded-full p-1",title:"No verification photo on file",children:o.jsx(IM,{className:"w-3 h-3 text-white"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-lg",children:h==null?void 0:h.patient_name}),j?o.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-1",children:[o.jsx(RM,{className:"w-4 h-4"}),"Verification photo on file"]}):o.jsxs("p",{className:"text-sm text-amber-600 flex items-center gap-1",children:[o.jsx(IM,{className:"w-4 h-4"}),"No verification photo"]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Please verify the patient's identity when the video connects"})]})]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(nr,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled Time"}),o.jsx("p",{className:"font-medium",children:h!=null&&h.scheduled_at?new Date(h.scheduled_at).toLocaleString():"N/A"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Dr,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:i==="patient"?"Clinician":"Patient"}),o.jsx("p",{className:"font-medium",children:i==="patient"?h==null?void 0:h.clinician_name:h==null?void 0:h.patient_name})]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[o.jsx("p",{children:"Before joining, please ensure:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[o.jsx("li",{children:"You're in a quiet, private location"}),o.jsx("li",{children:"Your camera and microphone are working"}),o.jsx("li",{children:"You have a stable internet connection"})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Ce,{variant:"outline",className:"text-green-600 border-green-600",children:"Room Ready"})}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs(Z,{size:"lg",onClick:te,className:"w-full",children:[o.jsx(hr,{className:"w-5 h-5 mr-2"}),"Join Consultation"]}),o.jsxs(Z,{variant:"outline",onClick:G,className:"w-full",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})},D7e=()=>o.jsx($7e,{}),L7e=()=>{const[e,t]=y.useState({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null}),r=y.useRef(null),n=y.useRef(null),i=y.useCallback(()=>{e.localStream&&e.localStream.getTracks().forEach(d=>d.stop()),e.remoteStream&&e.remoteStream.getTracks().forEach(d=>d.stop())},[e.localStream,e.remoteStream]),s=y.useCallback(d=>{const f=document.createElement("canvas");f.width=1280,f.height=720,n.current=f;const h=f.getContext("2d"),p=document.createElement("video");p.srcObject=d,p.muted=!0,p.play(),r.current=p;const g=()=>{h&&p.readyState>=2&&(h.save(),h.scale(-1,1),h.drawImage(p,-f.width,0,f.width,f.height),h.restore(),h.fillStyle="rgba(0, 100, 200, 0.03)",h.fillRect(0,0,f.width,f.height)),requestAnimationFrame(g)};g();const m=f.captureStream(30),v=d.getAudioTracks()[0];return v&&m.addTrack(v.clone()),m},[]),a=y.useCallback(async()=>{t(d=>({...d,isConnecting:!0,error:null}));try{const d=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});t(h=>({...h,localStream:d})),await new Promise(h=>setTimeout(h,1500));const f=s(d);t(h=>({...h,remoteStream:f,isConnected:!0,isConnecting:!1}))}catch(d){console.error("Failed to start demo call:",d),t(f=>({...f,isConnecting:!1,error:d.message||"Failed to access camera/microphone"}))}},[s]),l=y.useCallback(async()=>{i(),t({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null})},[i]),c=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getAudioTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isMuted:!d.enabled})))}},[e.localStream]),u=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getVideoTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isVideoOff:!d.enabled})))}},[e.localStream]);return y.useEffect(()=>()=>{i()},[i]),{...e,startCall:a,endCall:l,toggleMute:c,toggleVideo:u}},KS=({stream:e,muted:t=!1,isLocal:r=!1,isVideoOff:n=!1,userName:i="Participant",className:s=""})=>{const a=y.useRef(null);y.useEffect(()=>{a.current&&e&&(a.current.srcObject=e)},[e]);const l=i.split(" ").map(c=>c[0]).join("").toUpperCase();return!e||n?o.jsxs("div",{className:`relative bg-muted flex items-center justify-center ${s}`,children:[o.jsxs("div",{className:"text-center",children:[o.jsx(sp,{className:"w-24 h-24 mx-auto mb-4",children:o.jsx(lc,{className:"bg-primary/20 text-primary text-2xl",children:l||o.jsx(Dr,{className:"w-12 h-12"})})}),n&&o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(YE,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Camera off"})]})]}),r&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 px-2 py-1 rounded text-xs",children:"You"})]}):o.jsxs("div",{className:`relative bg-black ${s}`,children:[o.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,muted:t,className:`w-full h-full object-cover ${r?"transform -scale-x-100":""}`,style:{imageRendering:"auto",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}}),r&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:"You"}),!r&&i&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:i})]})},F7e=({isMuted:e,isVideoOff:t,onToggleMute:r,onToggleVideo:n,onEndCall:i,isConnected:s})=>o.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-background/80 backdrop-blur-sm rounded-full",children:[o.jsx(Z,{variant:e?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:r,title:e?"Unmute":"Mute",children:e?o.jsx(Iee,{className:"w-6 h-6"}):o.jsx(qE,{className:"w-6 h-6"})}),o.jsx(Z,{variant:t?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:n,title:t?"Turn on camera":"Turn off camera",children:t?o.jsx(YE,{className:"w-6 h-6"}):o.jsx(hr,{className:"w-6 h-6"})}),o.jsx(Z,{variant:"destructive",size:"lg",className:"rounded-full w-14 h-14",onClick:i,title:"End call",children:o.jsx(Lee,{className:"w-6 h-6"})})]}),B7e=()=>{const e=Wn(),[t,r]=y.useState(0),[n,i]=y.useState(!1),[s,a]=y.useState(!0),{localStream:l,remoteStream:c,isConnected:u,isConnecting:d,isMuted:f,isVideoOff:h,error:p,startCall:g,endCall:m,toggleMute:v,toggleVideo:b}=L7e();y.useEffect(()=>{let j;return u&&(j=setInterval(()=>{r(k=>k+1)},1e3)),()=>clearInterval(j)},[u]);const x=j=>{const k=Math.floor(j/60),C=j%60;return`${k.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},w=async()=>{await g(),p||(a(!1),oe.success("Demo consultation started!"))},_=async()=>{await m(),oe.info("Demo ended"),e(-1)},N=()=>{document.fullscreenElement?(document.exitFullscreen(),i(!1)):(document.documentElement.requestFullscreen(),i(!0))};return s&&!u?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(le,{className:"w-full max-w-2xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:o.jsxs(Ce,{variant:"outline",className:"bg-warning/10 text-warning border-warning",children:[o.jsx(ai,{className:"w-3 h-3 mr-1"}),"Demo Mode"]})}),o.jsx(we,{className:"text-2xl",children:"Video Consultation Demo"}),o.jsx(Oe,{children:"Test the video consultation features without needing a second account. Your camera will be mirrored to simulate a remote participant."})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden relative",children:l?o.jsx(KS,{stream:l,muted:!0,isLocal:!0,userName:"Your Preview",className:"w-full h-full"}):o.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx(hr,{className:"w-12 h-12 mb-2 opacity-50"}),o.jsx("p",{children:"Camera preview will appear here"})]})}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:"What you can test:"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Camera and microphone access"}),o.jsx("li",{children:" Video/audio mute controls"}),o.jsx("li",{children:" Picture-in-picture layout"}),o.jsx("li",{children:" Fullscreen mode"}),o.jsx("li",{children:" Call duration timer"})]})]}),p&&o.jsx("div",{className:"bg-destructive/10 text-destructive rounded-lg p-4 text-sm",children:p}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(Z,{variant:"outline",onClick:()=>e(-1),className:"flex-1",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Z,{onClick:w,disabled:d,className:"flex-1 gradient-primary",children:d?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(GE,{className:"w-4 h-4 mr-2"}),"Start Demo"]})})]})]})]})}):o.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[o.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent",children:[o.jsxs(Z,{variant:"ghost",size:"sm",onClick:_,className:"text-white",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Leave Demo"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Ce,{variant:"outline",className:"bg-warning/20 text-warning border-warning",children:[o.jsx(ai,{className:"w-3 h-3 mr-1"}),"Demo"]}),o.jsxs(Ce,{variant:"secondary",className:"bg-white/20 text-white",children:[o.jsx(nr,{className:"w-3 h-3 mr-1"}),x(t)]}),o.jsx(Z,{variant:"ghost",size:"sm",onClick:N,className:"text-white",children:n?o.jsx(Ree,{className:"w-4 h-4"}):o.jsx(Mee,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(KS,{stream:c,userName:"Simulated Remote",className:"w-full h-full"}),o.jsx("div",{className:"absolute bottom-24 right-4 w-48 aspect-video rounded-lg overflow-hidden shadow-xl border-2 border-white/20",children:o.jsx(KS,{stream:l,muted:!0,isLocal:!0,isVideoOff:h,userName:"You",className:"w-full h-full"})})]}),o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:o.jsx(F7e,{isMuted:f,isVideoOff:h,onToggleMute:v,onToggleVideo:b,onEndCall:_,isConnected:u})})]})},U7e=()=>o.jsx(B7e,{});var Aj="Checkbox",[z7e]=kn(Aj),[W7e,YA]=z7e(Aj);function V7e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:s,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=aa({prop:r,defaultProp:i??!1,onChange:c,caller:Aj}),[g,m]=y.useState(null),[v,b]=y.useState(null),x=y.useRef(!1),w=g?!!a||!!g.closest("form"):!0,_={checked:h,disabled:s,setChecked:p,control:g,setControl:m,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Zl(i)?!1:i,isFormControl:w,bubbleInput:v,setBubbleInput:b};return o.jsx(W7e,{scope:t,..._,children:H7e(f)?f(_):n})}var AJ="CheckboxTrigger",MJ=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:s,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=YA(AJ,e),m=rt(i,d),v=y.useRef(c);return y.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const x=()=>f(v.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[s,f]),o.jsx(Fe.button,{type:"button",role:"checkbox","aria-checked":Zl(c)?"mixed":c,"aria-required":u,"data-state":LJ(c),"data-disabled":l?"":void 0,disabled:l,value:a,...n,ref:m,onKeyDown:ge(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ge(r,b=>{f(x=>Zl(x)?!0:!x),g&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});MJ.displayName=AJ;var JA=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(V7e,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:l,required:a,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(MJ,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(DJ,{__scopeCheckbox:r})]})})});JA.displayName=Aj;var IJ="CheckboxIndicator",RJ=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=YA(IJ,r);return o.jsx(nn,{present:n||Zl(s.checked)||s.checked===!0,children:o.jsx(Fe.span,{"data-state":LJ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});RJ.displayName=IJ;var $J="CheckboxBubbleInput",DJ=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=YA($J,e),g=rt(r,p),m=s_(s),v=qw(n);y.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,j=!i.current;if(m!==s&&N){const k=new Event("click",{bubbles:j});x.indeterminate=Zl(s),N.call(x,Zl(s)?!1:s),x.dispatchEvent(k)}},[h,m,s,i]);const b=y.useRef(Zl(s)?!1:s);return o.jsx(Fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});DJ.displayName=$J;function H7e(e){return typeof e=="function"}function Zl(e){return e==="indeterminate"}function LJ(e){return Zl(e)?"indeterminate":e?"checked":"unchecked"}const cf=y.forwardRef(({className:e,...t},r)=>o.jsx(JA,{ref:r,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(RJ,{className:_e("flex items-center justify-center text-current"),children:o.jsx(Uw,{className:"h-4 w-4"})})}));cf.displayName=JA.displayName;const YS="",q7e=["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","Northern Cape","North West","Western Cape"],G7e=["A+","A-","B+","B-","O+","O-","AB+","AB-","unknown"],K7e=["Penicillin","Sulfa drugs","Aspirin","NSAIDs","Codeine","Peanuts","Tree nuts","Shellfish","Eggs","Milk","Wheat","Latex","Bee stings","Pollen","Dust mites"],Y7e=["Diabetes Type 1","Diabetes Type 2","Hypertension","Asthma","COPD","Heart Disease","Epilepsy","Arthritis","HIV/AIDS","Thyroid Disorder","Depression","Anxiety","Cancer"],J7e=({onComplete:e,prefilledIdType:t="sa_id",prefilledIdNumber:r,prefilledPassportNumber:n,prefilledPassportCountry:i,prefilledData:s})=>{const[a,l]=y.useState(1),[c,u]=y.useState(!1),[d,f]=y.useState([]),[h,p]=y.useState(s||null),[g,m]=y.useState({first_name:"",last_name:"",id_type:t,id_number:r||"",passport_number:n||"",passport_country:i||"",date_of_birth:(s==null?void 0:s.date_of_birth)||"",gender:(s==null?void 0:s.gender)||"",email:"",phone:"",alternative_phone:"",address_line_1:"",address_line_2:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relationship:"",emergency_contact_phone:"",has_medical_aid:!1,medical_aid_scheme:"",medical_aid_number:"",medical_aid_plan:"",medical_aid_dependent_code:"00",allergies:[],chronic_conditions:[],current_medications:[],past_surgeries:[],blood_type:"unknown",smoking_status:"never",alcohol_use:"none",consent_telehealth:!1,consent_data_processing:!1,consent_marketing:!1});y.useEffect(()=>{m(j=>({...j,id_type:t,id_number:r||j.id_number,passport_number:n||j.passport_number,passport_country:i||j.passport_country,date_of_birth:(s==null?void 0:s.date_of_birth)||j.date_of_birth,gender:(s==null?void 0:s.gender)||j.gender})),s&&p(s)},[t,r,n,i,s]),y.useEffect(()=>{v()},[]);const v=async()=>{try{const k=await(await fetch(`${YS}/api/patient/medical-aid-schemes`)).json();f(k.schemes||[])}catch(j){console.error("Failed to fetch schemes:",j)}},b=async j=>{if(j.length===13)try{const C=await(await fetch(`${YS}/api/patient/validate-id?id_number=${j}`,{method:"POST"})).json();p(C),C.valid?(m(P=>({...P,date_of_birth:C.date_of_birth,gender:C.gender})),oe.success("ID number validated successfully")):oe.error(C.error||"Invalid ID number")}catch(k){console.error("ID validation failed:",k)}},x=async()=>{u(!0);try{const{supabase:j}=await qo(async()=>{const{supabase:A}=await Promise.resolve().then(()=>Vo);return{supabase:A}},void 0),{data:{session:k}}=await j.auth.getSession();if(!(k!=null&&k.access_token)){oe.error("Please sign in to continue");return}const C={first_name:g.first_name,last_name:g.last_name,id_type:g.id_type,id_number:g.id_type==="sa_id"?g.id_number:null,passport_number:g.id_type==="passport"?g.passport_number:null,passport_country:g.id_type==="passport"?g.passport_country:null,date_of_birth:g.date_of_birth,gender:g.gender,email:g.email,phone:g.phone,alternative_phone:g.alternative_phone||null,address_line_1:g.address_line_1||null,address_line_2:g.address_line_2||null,city:g.city||null,province:g.province||null,postal_code:g.postal_code||null,emergency_contact:g.emergency_contact_name?{name:g.emergency_contact_name,relationship:g.emergency_contact_relationship,phone:g.emergency_contact_phone}:null,has_medical_aid:g.has_medical_aid,medical_aid:g.has_medical_aid?{scheme:g.medical_aid_scheme,membership_number:g.medical_aid_number,plan:g.medical_aid_plan||null,dependent_code:g.medical_aid_dependent_code}:null,medical_history:{allergies:g.allergies,chronic_conditions:g.chronic_conditions,current_medications:g.current_medications.map(A=>({name:A,dosage:"",frequency:""})),past_surgeries:g.past_surgeries,blood_type:g.blood_type},consent_telehealth:g.consent_telehealth,consent_data_processing:g.consent_data_processing,consent_marketing:g.consent_marketing},P=await fetch(`${YS}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k.access_token}`},body:JSON.stringify(C)});if(!P.ok){const A=await P.json();throw new Error(A.detail||"Onboarding failed")}oe.success("Profile completed successfully!"),e==null||e()}catch(j){oe.error(j.message||"Failed to complete onboarding")}finally{u(!1)}},w=5,_=a/w*100,N=d.find(j=>j.code===g.medical_aid_scheme);return o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(Bu,{value:_,className:"h-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",a," of ",w]})]}),a===1&&o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),o.jsx(Oe,{children:"Tell us about yourself"})]}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"first_name",children:"First Name *"}),o.jsx(st,{id:"first_name",value:g.first_name,onChange:j=>m({...g,first_name:j.target.value}),placeholder:"Enter first name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(st,{id:"last_name",value:g.last_name,onChange:j=>m({...g,last_name:j.target.value}),placeholder:"Enter last name"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fe,{htmlFor:"id_number",className:"flex items-center gap-2",children:[o.jsx(Cee,{className:"w-4 h-4"}),"South African ID Number *"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(st,{id:"id_number",value:g.id_number,onChange:j=>{const k=j.target.value.replace(/\D/g,"").slice(0,13);m({...g,id_number:k}),k.length===13&&b(k)},placeholder:"13-digit ID number",maxLength:13}),(h==null?void 0:h.valid)&&o.jsxs(Ce,{className:"bg-success shrink-0",children:[o.jsx(Hr,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(h==null?void 0:h.valid)&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["DOB: ",h.date_of_birth," | Gender: ",h.gender," | Age: ",h.age]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"email",children:"Email *"}),o.jsx(st,{id:"email",type:"email",value:g.email,onChange:j=>m({...g,email:j.target.value}),placeholder:"your@email.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"phone",children:"Phone Number *"}),o.jsx(st,{id:"phone",value:g.phone,onChange:j=>m({...g,phone:j.target.value}),placeholder:"0XX XXX XXXX"})]})]})]})]}),a===2&&o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(DU,{className:"w-5 h-5 text-primary"}),"Address & Emergency Contact"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Address Line 1"}),o.jsx(st,{value:g.address_line_1,onChange:j=>m({...g,address_line_1:j.target.value}),placeholder:"Street address"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"City"}),o.jsx(st,{value:g.city,onChange:j=>m({...g,city:j.target.value}),placeholder:"City"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Province"}),o.jsxs(xr,{value:g.province,onValueChange:j=>m({...g,province:j}),children:[o.jsx(cr,{children:o.jsx(br,{placeholder:"Select province"})}),o.jsx(ur,{children:q7e.map(j=>o.jsx(qe,{value:j,children:j},j))})]})]})]}),o.jsx(r0,{className:"my-4"}),o.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[o.jsx(Si,{className:"w-4 h-4"}),"Emergency Contact"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Contact Name"}),o.jsx(st,{value:g.emergency_contact_name,onChange:j=>m({...g,emergency_contact_name:j.target.value}),placeholder:"Full name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Relationship"}),o.jsx(st,{value:g.emergency_contact_relationship,onChange:j=>m({...g,emergency_contact_relationship:j.target.value}),placeholder:"e.g., Spouse, Parent"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Contact Phone"}),o.jsx(st,{value:g.emergency_contact_phone,onChange:j=>m({...g,emergency_contact_phone:j.target.value}),placeholder:"0XX XXX XXXX"})]})]})]}),a===3&&o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(wv,{className:"w-5 h-5 text-primary"}),"Medical Aid Details"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(cf,{id:"has_medical_aid",checked:g.has_medical_aid,onCheckedChange:j=>m({...g,has_medical_aid:!!j})}),o.jsx(fe,{htmlFor:"has_medical_aid",children:"I have medical aid coverage"})]}),g.has_medical_aid&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Medical Aid Scheme *"}),o.jsxs(xr,{value:g.medical_aid_scheme,onValueChange:j=>m({...g,medical_aid_scheme:j,medical_aid_plan:""}),children:[o.jsx(cr,{children:o.jsx(br,{placeholder:"Select your medical aid"})}),o.jsx(ur,{children:d.map(j=>o.jsx(qe,{value:j.code,children:j.name},j.code))})]})]}),N&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Plan"}),o.jsxs(xr,{value:g.medical_aid_plan,onValueChange:j=>m({...g,medical_aid_plan:j}),children:[o.jsx(cr,{children:o.jsx(br,{placeholder:"Select your plan"})}),o.jsx(ur,{children:N.plans.map(j=>o.jsx(qe,{value:j,children:j},j))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Membership Number *"}),o.jsx(st,{value:g.medical_aid_number,onChange:j=>m({...g,medical_aid_number:j.target.value}),placeholder:"Your member number"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Dependent Code"}),o.jsx(st,{value:g.medical_aid_dependent_code,onChange:j=>m({...g,medical_aid_dependent_code:j.target.value}),placeholder:"00 for main member"})]})]})]}),!g.has_medical_aid&&o.jsx("p",{className:"text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:"No problem! You can still use our services as a cash-pay patient."})]})]}),a===4&&o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(HE,{className:"w-5 h-5 text-primary"}),"Medical History"]}),o.jsx(Oe,{children:"This information helps us provide better care"})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fe,{className:"flex items-center gap-2",children:[o.jsx(ai,{className:"w-4 h-4 text-warning"}),"Allergies"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:K7e.map(j=>o.jsx(Ce,{variant:g.allergies.some(k=>k.allergen===j)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.allergies.some(C=>C.allergen===j);m(k?{...g,allergies:g.allergies.filter(C=>C.allergen!==j)}:{...g,allergies:[...g.allergies,{allergen:j,reaction:"",severity:"mild"}]})},children:j},j))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(fe,{className:"flex items-center gap-2",children:[o.jsx(Zr,{className:"w-4 h-4"}),"Chronic Conditions"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Y7e.map(j=>o.jsx(Ce,{variant:g.chronic_conditions.some(k=>k.condition===j)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.chronic_conditions.some(C=>C.condition===j);m(k?{...g,chronic_conditions:g.chronic_conditions.filter(C=>C.condition!==j)}:{...g,chronic_conditions:[...g.chronic_conditions,{condition:j}]})},children:j},j))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Blood Type"}),o.jsxs(xr,{value:g.blood_type,onValueChange:j=>m({...g,blood_type:j}),children:[o.jsx(cr,{className:"w-[200px]",children:o.jsx(br,{})}),o.jsx(ur,{children:G7e.map(j=>o.jsx(qe,{value:j,children:j},j))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Smoking Status"}),o.jsxs(xr,{value:g.smoking_status,onValueChange:j=>m({...g,smoking_status:j}),children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsxs(ur,{children:[o.jsx(qe,{value:"never",children:"Never smoked"}),o.jsx(qe,{value:"former",children:"Former smoker"}),o.jsx(qe,{value:"current",children:"Current smoker"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Alcohol Use"}),o.jsxs(xr,{value:g.alcohol_use,onValueChange:j=>m({...g,alcohol_use:j}),children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsxs(ur,{children:[o.jsx(qe,{value:"none",children:"None"}),o.jsx(qe,{value:"occasional",children:"Occasional"}),o.jsx(qe,{value:"moderate",children:"Moderate"}),o.jsx(qe,{value:"heavy",children:"Heavy"})]})]})]})]})]})]}),a===5&&o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"w-5 h-5 text-primary"}),"Terms & Consent"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(cf,{id:"consent_telehealth",checked:g.consent_telehealth,onCheckedChange:j=>m({...g,consent_telehealth:!!j})}),o.jsxs("div",{children:[o.jsx(fe,{htmlFor:"consent_telehealth",className:"font-medium",children:"Telehealth Consent *"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to receive healthcare services via telehealth (video/audio consultation) and understand the limitations compared to in-person visits."})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(cf,{id:"consent_data",checked:g.consent_data_processing,onCheckedChange:j=>m({...g,consent_data_processing:!!j})}),o.jsxs("div",{children:[o.jsx(fe,{htmlFor:"consent_data",className:"font-medium",children:"Data Processing Consent (POPIA) *"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to the collection, storage, and processing of my personal and health information in accordance with POPIA and the National Health Act."})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(cf,{id:"consent_marketing",checked:g.consent_marketing,onCheckedChange:j=>m({...g,consent_marketing:!!j})}),o.jsxs("div",{children:[o.jsx(fe,{htmlFor:"consent_marketing",className:"font-medium",children:"Marketing Communications (Optional)"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I would like to receive health tips, appointment reminders, and promotional offers via email/SMS."})]})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsxs(Z,{variant:"outline",onClick:()=>l(j=>j-1),disabled:a===1,children:[o.jsx(VE,{className:"w-4 h-4 mr-2"}),"Back"]}),a<w?o.jsxs(Z,{onClick:()=>l(j=>j+1),children:["Next",o.jsx(Vf,{className:"w-4 h-4 ml-2"})]}):o.jsx(Z,{onClick:x,disabled:c||!g.consent_telehealth||!g.consent_data_processing,children:c?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hr,{className:"w-4 h-4 mr-2"})," Complete Registration"]})})]})]})},bx="",X7e=()=>{var D,R;const e=Wn(),{profile:t,onboardingComplete:r,refreshProfile:n,isLoading:i}=Lr(),[s,a]=y.useState("check"),[l,c]=y.useState("sa_id"),[u,d]=y.useState(""),[f,h]=y.useState(""),[p,g]=y.useState(""),[m,v]=y.useState(""),[b,x]=y.useState(!1),[w,_]=y.useState(null),[N,j]=y.useState(null),[k,C]=y.useState([]),[P,A]=y.useState(null),[I,M]=y.useState(!1);y.useEffect(()=>{z()},[]),y.useEffect(()=>{!i&&r&&e("/patient")},[i,r,e]);const z=async()=>{try{const K=await(await fetch(`${bx}/api/patient/countries`)).json();C(K.countries||[])}catch(B){console.error("Failed to fetch countries:",B),C([{code:"ZW",name:"Zimbabwe"},{code:"MZ",name:"Mozambique"},{code:"MW",name:"Malawi"},{code:"LS",name:"Lesotho"},{code:"NG",name:"Nigeria"},{code:"OTHER",name:"Other"}])}},L=async()=>{x(!0);try{let B=`${bx}/api/patient/validate-id?id_type=${l}`;if(l==="sa_id"){if(u.length!==13){oe.error("Please enter a valid 13-digit SA ID number"),x(!1);return}B+=`&id_number=${u}`}else{if(!f||f.length<5){oe.error("Please enter a valid passport number"),x(!1);return}if(!p){oe.error("Please select your country of citizenship"),x(!1);return}if(!m){oe.error("Please enter your date of birth"),x(!1);return}B+=`&passport_number=${f}&country_code=${p}&date_of_birth=${m}`}const ee=await(await fetch(B,{method:"POST"})).json();if(!ee.valid){oe.error(ee.error||"Invalid identification"),x(!1);return}if(j(ee),l==="sa_id"){const{supabase:te}=await qo(async()=>{const{supabase:O}=await Promise.resolve().then(()=>Vo);return{supabase:O}},void 0),{data:{session:S}}=await te.auth.getSession();if(S!=null&&S.access_token)try{const O=await fetch(`${bx}/api/patient/lookup-existing?id_number=${u}`,{method:"POST",headers:{Authorization:`Bearer ${S.access_token}`}});if(O.ok){const E=await O.json();if(_(E),E.found){oe.success("We found your existing records! Let's take a quick photo first."),a("photo");return}}}catch{console.log("EHR lookup not available")}}oe.info("Let's take a quick photo for identity verification."),a("photo")}catch(B){console.error("Validation failed:",B),oe.error("Could not validate identification. Please try again.")}finally{x(!1)}},W=async()=>{console.log("[Onboarding] Onboarding complete, refreshing profile..."),await n(),oe.success("Profile completed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})},F=async()=>{x(!0);try{const{supabase:B}=await qo(async()=>{const{supabase:S}=await Promise.resolve().then(()=>Vo);return{supabase:S}},void 0),{data:{session:K}}=await B.auth.getSession();if(!(K!=null&&K.access_token)){oe.error("Please sign in to continue");return}const ee={first_name:(w==null?void 0:w.first_name)||(t==null?void 0:t.first_name),last_name:(w==null?void 0:w.last_name)||(t==null?void 0:t.last_name),id_type:"sa_id",id_number:u,date_of_birth:(w==null?void 0:w.date_of_birth)||(N==null?void 0:N.date_of_birth),gender:(w==null?void 0:w.gender)||(N==null?void 0:N.gender),email:(w==null?void 0:w.email)||"",phone:(w==null?void 0:w.phone)||"",has_medical_aid:!!(w!=null&&w.medical_aid),medical_aid:(w==null?void 0:w.medical_aid)||null,consent_telehealth:!0,consent_data_processing:!0,consent_marketing:!1,medical_history:{allergies:((w==null?void 0:w.allergies)||[]).map(S=>({allergen:S,reaction:"",severity:"mild"})),chronic_conditions:((w==null?void 0:w.chronic_conditions)||[]).map(S=>({condition:S})),current_medications:[],past_surgeries:[],blood_type:"unknown"}};if(!(await fetch(`${bx}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K.access_token}`},body:JSON.stringify(ee)})).ok)throw new Error("Failed to save profile");await n(),oe.success("Profile confirmed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})}catch(B){console.error("Confirmation failed:",B),oe.error("Failed to confirm profile. Please try again.")}finally{x(!1)}};if(i)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(s==="check")return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsx("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]})})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:o.jsxs(le,{children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(qN,{className:"w-8 h-8 text-primary"})}),o.jsxs(we,{className:"text-xl sm:text-2xl",children:["Welcome, ",t==null?void 0:t.first_name,"!"]}),o.jsx(Oe,{className:"text-sm sm:text-base",children:"Let's verify your identity and check for existing records."})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(fe,{children:"Type of Identification"}),o.jsxs(Ng,{value:l,onValueChange:B=>c(B),className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Fa,{value:"sa_id",id:"sa_id"}),o.jsxs(fe,{htmlFor:"sa_id",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(Mr,{className:"w-4 h-4"}),"SA ID"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(Fa,{value:"passport",id:"passport"}),o.jsxs(fe,{htmlFor:"passport",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(Nee,{className:"w-4 h-4"}),"Passport"]})]})]})]}),l==="sa_id"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"id_number",children:"South African ID Number"}),o.jsx(st,{id:"id_number",value:u,onChange:B=>d(B.target.value.replace(/\D/g,"").slice(0,13)),placeholder:"Enter your 13-digit ID number",maxLength:13,className:"text-lg tracking-wider"}),u.length>0&&u.length<13&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[13-u.length," digits remaining"]})]}),l==="passport"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"passport_country",children:"Country of Citizenship"}),o.jsxs(xr,{value:p,onValueChange:g,children:[o.jsx(cr,{children:o.jsx(br,{placeholder:"Select your country"})}),o.jsx(ur,{children:k.filter(B=>B.code!=="ZA").map(B=>o.jsx(qe,{value:B.code,children:B.name},B.code))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"passport_number",children:"Passport Number"}),o.jsx(st,{id:"passport_number",value:f,onChange:B=>h(B.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),placeholder:"Enter your passport number",className:"text-lg tracking-wider uppercase"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{htmlFor:"date_of_birth",children:"Date of Birth"}),o.jsx(st,{id:"date_of_birth",type:"date",value:m,onChange:B=>v(B.target.value),max:new Date().toISOString().split("T")[0]})]})]}),o.jsx(Z,{className:"w-full",size:"lg",onClick:L,disabled:b||l==="sa_id"&&u.length!==13||l==="passport"&&(!f||!p||!m),children:b?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"})," Verifying..."]}):o.jsxs(o.Fragment,{children:[o.jsx(qN,{className:"w-4 h-4 mr-2"})," Verify & Continue"]})}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure and protected under POPIA."})]})]})})]});if(s==="photo"){const B=async K=>{A(K),M(!0);try{const ee=await Ev.upload(K);ee!=null&&ee.success?(oe.success("Photo saved successfully!"),w!=null&&w.found?a("confirm"):a("onboarding")):oe.error("Failed to save photo. Please try again.")}catch(ee){console.error("Photo upload error:",ee),oe.error(ee.message||"Failed to upload photo")}finally{M(!1)}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>a("check"),children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:I?o.jsx(le,{children:o.jsx(de,{className:"py-12",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(et,{className:"w-8 h-8 animate-spin text-primary mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Saving your photo..."})]})})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(Nm,{className:"w-8 h-8 text-primary"})}),o.jsx("h2",{className:"text-xl font-bold",children:"Identity Verification Photo"}),o.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"This photo helps us verify your identity during consultations and protects your healthcare benefits."})]}),o.jsx(bV,{onCapture:B,required:!0,title:"Take a Selfie",description:"Position your face clearly in the frame and ensure good lighting."}),o.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:"Your photo is stored securely and only visible to Quadcare healthcare staff for identity verification."})]})})]})}return s==="confirm"&&(w!=null&&w.found)?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>a("check"),children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:o.jsxs(le,{children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(Hr,{className:"w-8 h-8 text-success"})}),o.jsx(we,{className:"text-xl sm:text-2xl",children:"Records Found!"}),o.jsx(Oe,{children:"We found your existing records. Please confirm your details."})]}),o.jsxs(de,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Personal Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Name"}),o.jsxs("p",{className:"font-medium",children:[w.first_name," ",w.last_name]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Date of Birth"}),o.jsx("p",{className:"font-medium",children:w.date_of_birth})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Gender"}),o.jsx("p",{className:"font-medium capitalize",children:w.gender})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:w.phone||"Not on file"})]})]})]}),w.medical_aid&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Medical Aid"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"text-muted-foreground",children:"Scheme"}),o.jsx("p",{className:"font-medium",children:w.medical_aid.scheme}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Member Number"}),o.jsx("p",{className:"font-medium",children:w.medical_aid.membership_number})]})]}),(((D=w.allergies)==null?void 0:D.length)||((R=w.chronic_conditions)==null?void 0:R.length))&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Medical History"}),w.allergies&&w.allergies.length>0&&o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allergies"}),o.jsx("p",{className:"text-sm font-medium",children:w.allergies.join(", ")})]}),w.chronic_conditions&&w.chronic_conditions.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Chronic Conditions"}),o.jsx("p",{className:"text-sm font-medium",children:w.chronic_conditions.join(", ")})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx(Z,{className:"w-full",size:"lg",onClick:F,disabled:b,children:b?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"})," Confirming..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hr,{className:"w-4 h-4 mr-2"})," Confirm & Continue"]})}),o.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>a("onboarding"),children:"Update My Information"})]})]})]})})]}):s==="onboarding"?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>a("check"),children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 sm:py-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Complete Your Profile"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Help us provide better care by completing your health profile"}),N&&o.jsx("div",{className:"mt-3 p-3 bg-success/10 rounded-lg text-sm",children:o.jsxs("p",{className:"text-success",children:[" ",l==="sa_id"?"ID":"Passport"," Verified",N.date_of_birth&&`  DOB: ${N.date_of_birth}`,N.gender&&`  ${N.gender}`,N.age&&`  Age ${N.age}`]})})]}),o.jsx(J7e,{onComplete:W,prefilledIdType:l,prefilledIdNumber:l==="sa_id"?u:void 0,prefilledPassportNumber:l==="passport"?f:void 0,prefilledPassportCountry:l==="passport"?p:void 0,prefilledData:N})]})]}):null},Q7e="",D5=[{value:"red",label:"Red - Immediate",color:"bg-red-500",description:"Life-threatening"},{value:"orange",label:"Orange - Very Urgent",color:"bg-orange-500",description:"Within 10 minutes"},{value:"yellow",label:"Yellow - Urgent",color:"bg-yellow-500",description:"Within 60 minutes"},{value:"green",label:"Green - Standard",color:"bg-green-500",description:"Within 2 hours"},{value:"blue",label:"Blue - Non-urgent",color:"bg-blue-500",description:"Within 4 hours"}],Z7e=[{value:"proceed_to_doctor",label:"Proceed to Doctor Consultation"},{value:"refer_to_emergency",label:"Refer to Emergency Services"},{value:"specialist_referral",label:"Specialist Referral Required"},{value:"follow_up",label:"Schedule Follow-up"},{value:"self_care",label:"Self-Care with Instructions"}],eHe=({appointmentId:e,patientId:t,patientName:r,aiAssessment:n,onComplete:i})=>{const[s,a]=y.useState(!1),[l,c]=y.useState({blood_pressure_systolic:null,blood_pressure_diastolic:null,heart_rate:null,respiratory_rate:null,temperature:null,oxygen_saturation:null,weight:null,height:null,pain_score:null}),[u,d]=y.useState({chief_complaint:"",symptom_duration:"",symptom_onset:"gradual",triage_priority:(n==null?void 0:n.urgency)==="emergency"?"red":"green",nurse_notes:"",allergies_confirmed:!1,medications_confirmed:!1,identity_verified:!1,consent_obtained:!1,medical_aid_verified:!1,patient_education_provided:!1,recommended_action:"proceed_to_doctor",referral_reason:"",doctor_notes:""}),f=(g,m)=>{const v=m?parseFloat(m):null;c(b=>({...b,[g]:v}))},h=async()=>{if(!u.chief_complaint){oe.error("Chief complaint is required");return}a(!0);try{const{supabase:g}=await qo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>Vo);return{supabase:x}},void 0),{data:{session:m}}=await g.auth.getSession();if(!(m!=null&&m.access_token)){oe.error("Please sign in to continue");return}const v={appointment_id:e,patient_id:t,vital_signs:l,chief_complaint:u.chief_complaint,symptom_duration:u.symptom_duration,symptom_onset:u.symptom_onset,ai_urgency:n==null?void 0:n.urgency,ai_urgency_score:n==null?void 0:n.urgency_score,ai_care_pathway:n==null?void 0:n.care_pathway,ai_assessment_summary:n==null?void 0:n.assessment_summary,triage_priority:u.triage_priority,nurse_notes:u.nurse_notes,allergies_confirmed:u.allergies_confirmed,medications_confirmed:u.medications_confirmed,identity_verified:u.identity_verified,consent_obtained:u.consent_obtained,medical_aid_verified:u.medical_aid_verified,patient_education_provided:u.patient_education_provided,recommended_action:u.recommended_action,referral_reason:u.referral_reason||void 0,doctor_notes:u.doctor_notes||void 0},b=await fetch(`${Q7e}/api/triage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify(v)});if(!b.ok){const x=await b.json();throw new Error(x.detail||"Triage submission failed")}oe.success("Triage assessment saved successfully"),i==null||i()}catch(g){oe.error(g.message||"Failed to save triage")}finally{a(!1)}},p=D5.find(g=>g.value===u.triage_priority);return o.jsxs("div",{className:"space-y-6",children:[o.jsx(le,{children:o.jsx(me,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dr,{className:"w-5 h-5 text-primary"}),"Patient: ",r]}),n&&o.jsxs(Ce,{variant:"outline",className:"text-sm",children:["AI Assessment: ",n.urgency," (",n.urgency_score,"/10)"]})]})})}),o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(HE,{className:"w-5 h-5 text-primary"}),"Vital Signs"]})}),o.jsx(de,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{className:"text-xs",children:"Blood Pressure (mmHg)"}),o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx(st,{type:"number",placeholder:"Sys",value:l.blood_pressure_systolic||"",onChange:g=>f("blood_pressure_systolic",g.target.value),className:"w-16"}),o.jsx("span",{children:"/"}),o.jsx(st,{type:"number",placeholder:"Dia",value:l.blood_pressure_diastolic||"",onChange:g=>f("blood_pressure_diastolic",g.target.value),className:"w-16"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{className:"text-xs",children:"Heart Rate (bpm)"}),o.jsx(st,{type:"number",placeholder:"HR",value:l.heart_rate||"",onChange:g=>f("heart_rate",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{className:"text-xs",children:"Temperature (C)"}),o.jsx(st,{type:"number",step:"0.1",placeholder:"Temp",value:l.temperature||"",onChange:g=>f("temperature",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{className:"text-xs",children:"SpO2 (%)"}),o.jsx(st,{type:"number",placeholder:"SpO2",value:l.oxygen_saturation||"",onChange:g=>f("oxygen_saturation",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{className:"text-xs",children:"Respiratory Rate"}),o.jsx(st,{type:"number",placeholder:"RR",value:l.respiratory_rate||"",onChange:g=>f("respiratory_rate",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{className:"text-xs",children:"Weight (kg)"}),o.jsx(st,{type:"number",step:"0.1",placeholder:"kg",value:l.weight||"",onChange:g=>f("weight",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{className:"text-xs",children:"Height (cm)"}),o.jsx(st,{type:"number",placeholder:"cm",value:l.height||"",onChange:g=>f("height",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{className:"text-xs",children:"Pain Score (0-10)"}),o.jsx(st,{type:"number",min:"0",max:"10",placeholder:"0-10",value:l.pain_score||"",onChange:g=>f("pain_score",g.target.value)})]})]})})]}),o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-5 h-5 text-primary"}),"Chief Complaint"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"What is the main reason for this visit? *"}),o.jsx(Zt,{value:u.chief_complaint,onChange:g=>d({...u,chief_complaint:g.target.value}),placeholder:"Describe the patient's primary complaint...",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Duration of Symptoms"}),o.jsx(st,{value:u.symptom_duration,onChange:g=>d({...u,symptom_duration:g.target.value}),placeholder:"e.g., 2 days"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Onset"}),o.jsxs(xr,{value:u.symptom_onset,onValueChange:g=>d({...u,symptom_onset:g}),children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsxs(ur,{children:[o.jsx(qe,{value:"sudden",children:"Sudden"}),o.jsx(qe,{value:"gradual",children:"Gradual"})]})]})]})]})]})]}),o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(ai,{className:"w-5 h-5 text-primary"}),"Triage Priority"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs(xr,{value:u.triage_priority,onValueChange:g=>d({...u,triage_priority:g}),children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsx(ur,{children:D5.map(g=>o.jsx(qe,{value:g.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),g.label," - ",g.description]})},g.value))})]}),p&&o.jsxs("div",{className:`p-3 rounded-lg ${p.color} bg-opacity-10`,children:[o.jsx("p",{className:"text-sm font-medium",children:p.label}),o.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]})]}),o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"w-5 h-5 text-primary"}),"Pre-Consultation Checklist"]})}),o.jsx(de,{className:"space-y-3",children:[{key:"identity_verified",label:"Patient identity verified"},{key:"consent_obtained",label:"Telehealth consent obtained"},{key:"allergies_confirmed",label:"Allergies reviewed and confirmed"},{key:"medications_confirmed",label:"Current medications reviewed"},{key:"medical_aid_verified",label:"Medical aid details verified"},{key:"patient_education_provided",label:"Patient education provided"}].map(g=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(cf,{id:g.key,checked:u[g.key],onCheckedChange:m=>d({...u,[g.key]:!!m})}),o.jsx(fe,{htmlFor:g.key,children:g.label})]},g.key))})]}),o.jsxs(le,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(vs,{className:"w-5 h-5 text-primary"}),"Assessment & Recommendation"]})}),o.jsxs(de,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Nurse Assessment Notes"}),o.jsx(Zt,{value:u.nurse_notes,onChange:g=>d({...u,nurse_notes:g.target.value}),placeholder:"Clinical observations and nursing assessment...",rows:4})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Recommended Action"}),o.jsxs(xr,{value:u.recommended_action,onValueChange:g=>d({...u,recommended_action:g}),children:[o.jsx(cr,{children:o.jsx(br,{})}),o.jsx(ur,{children:Z7e.map(g=>o.jsx(qe,{value:g.value,children:g.label},g.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(fe,{children:"Notes for Doctor (optional)"}),o.jsx(Zt,{value:u.doctor_notes,onChange:g=>d({...u,doctor_notes:g.target.value}),placeholder:"Any specific notes for the consulting doctor...",rows:2})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(Z,{variant:"outline",children:"Cancel"}),o.jsx(Z,{onClick:h,disabled:s,children:s?o.jsxs(o.Fragment,{children:[o.jsx(et,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hr,{className:"w-4 h-4 mr-2"})," Complete Triage"]})})]})]})},tHe="",L5={emergency:{color:"text-red-600",bgColor:"bg-red-100"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100"},routine:{color:"text-green-600",bgColor:"bg-green-100"}},rHe=()=>{const e=Wn(),[t]=pP(),{profile:r,role:n,signOut:i}=Lr(),[s,a]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(!1),p=t.get("appointment");y.useEffect(()=>{g()},[]),y.useEffect(()=>{if(p&&s.length>0){const v=s.find(b=>b.appointment.id===p);v&&d(v)}},[p,s]);const g=async()=>{c(!0);try{const{supabase:v}=await qo(async()=>{const{supabase:_}=await Promise.resolve().then(()=>Vo);return{supabase:_}},void 0),{data:{session:b}}=await v.auth.getSession();if(!(b!=null&&b.access_token)){oe.error("Please sign in to continue");return}const x=await fetch(`${tHe}/api/triage/queue`,{headers:{Authorization:`Bearer ${b.access_token}`}});if(!x.ok)throw new Error("Failed to fetch triage queue");const w=await x.json();a(w.queue||[])}catch(v){console.error("Error fetching triage queue:",v),oe.error("Failed to load triage queue")}finally{c(!1)}},m=()=>{d(null),g(),oe.success("Triage completed successfully")};return u?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>d(null),children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back to Queue"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-6 sm:py-8 max-w-4xl",children:o.jsx(eHe,{appointmentId:u.appointment.id,patientId:u.appointment.patient_id,patientName:u.patient_name,aiAssessment:u.latest_symptom_assessment,onComplete:m})})]}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(Z,{variant:"ghost",size:"sm",onClick:g,disabled:l,children:[o.jsx(Uo,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),o.jsx(Ce,{className:"bg-success text-white",children:"Nurse"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:g,disabled:l,children:o.jsx(Uo,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>h(!f),children:f?o.jsx(Za,{className:"w-5 h-5"}):o.jsx(bv,{className:"w-5 h-5"})})]})]}),f&&o.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),className:"justify-start",children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-2",children:[o.jsx(vs,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),"Nurse Triage"]}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Assess patients before their doctor consultation"})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(le,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Ln,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:s.length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting"})]})]})})}),o.jsx(le,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:o.jsx(ai,{className:"w-5 h-5 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:s.filter(v=>{var b,x;return((b=v.latest_symptom_assessment)==null?void 0:b.urgency)==="urgent"||((x=v.latest_symptom_assessment)==null?void 0:x.urgency)==="emergency"}).length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent"})]})]})})}),o.jsx(le,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:o.jsx(vs,{className:"w-5 h-5 text-success"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:s.filter(v=>v.latest_symptom_assessment).length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Assessed"})]})]})})}),o.jsx(le,{children:o.jsx(de,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:o.jsx(nr,{className:"w-5 h-5 text-warning"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:"~15"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Min/Patient"})]})]})})})]}),o.jsxs(le,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ln,{className:"w-5 h-5 text-primary"}),"Triage Queue"]}),o.jsx(Oe,{children:"Patients waiting for nurse triage assessment"})]}),o.jsx(de,{children:l?o.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>o.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},v))}):s.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(vs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No patients waiting for triage"}),o.jsx("p",{className:"text-sm",children:"Check back soon or refresh the queue"})]}):o.jsx("div",{className:"space-y-3",children:s.map(v=>{var x;const b=v.latest_symptom_assessment?L5[v.latest_symptom_assessment.urgency]||L5.routine:null;return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors gap-3 cursor-pointer",onClick:()=>d(v),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"text-primary font-medium",children:v.patient_name.split(" ").map(w=>w[0]).join("")})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"font-medium",children:v.patient_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Pt(new Date(v.appointment.scheduled_at),"h:mm a"),"  ",v.appointment.consultation_type]}),v.latest_symptom_assessment&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:["AI: ",v.latest_symptom_assessment.assessment_summary]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 pl-13 sm:pl-0",children:[v.latest_symptom_assessment&&b&&o.jsxs(Ce,{className:`${b.bgColor} ${b.color}`,children:[v.latest_symptom_assessment.urgency," (",v.latest_symptom_assessment.urgency_score,"/10)"]}),((x=v.patient_profile)==null?void 0:x.has_medical_aid)&&o.jsx(Ce,{variant:"outline",className:"text-xs",children:"Medical Aid"}),o.jsx(Z,{size:"sm",variant:"ghost",children:o.jsx(Vf,{className:"w-4 h-4"})})]})]},v.appointment.id)})})})]})]})]})},nHe=()=>{const e=to();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},iHe=new bie,sHe=()=>o.jsx(_ie,{client:iHe,children:o.jsx(sle,{children:o.jsxs(qne,{children:[o.jsx(Cte,{}),o.jsx(sre,{}),o.jsx(_se,{children:o.jsxs(pse,{children:[o.jsx(Ei,{path:"/",element:o.jsx(_le,{})}),o.jsx(Ei,{path:"/auth",element:o.jsx(ude,{})}),o.jsx(Ei,{path:"/patient/*",element:o.jsx(oo,{allowedRoles:["patient"],children:o.jsx(Qge,{})})}),o.jsx(Ei,{path:"/book-appointment",element:o.jsx(oo,{allowedRoles:["patient"],children:o.jsx(Axe,{})})}),o.jsx(Ei,{path:"/onboarding",element:o.jsx(oo,{allowedRoles:["patient"],children:o.jsx(X7e,{})})}),o.jsx(Ei,{path:"/clinician/*",element:o.jsx(oo,{allowedRoles:["nurse","doctor"],children:o.jsx(Iwe,{})})}),o.jsx(Ei,{path:"/nurse-triage",element:o.jsx(oo,{allowedRoles:["nurse","doctor"],children:o.jsx(rHe,{})})}),o.jsx(Ei,{path:"/admin/*",element:o.jsx(oo,{allowedRoles:["admin"],children:o.jsx(IWe,{})})}),o.jsx(Ei,{path:"/receptionist/*",element:o.jsx(oo,{allowedRoles:["admin","nurse","doctor","receptionist"],children:o.jsx($We,{})})}),o.jsx(Ei,{path:"/consultation",element:o.jsx(oo,{allowedRoles:["patient","nurse","doctor"],children:o.jsx(D7e,{})})}),o.jsx(Ei,{path:"/demo-consultation",element:o.jsx(oo,{allowedRoles:["patient","nurse","doctor"],children:o.jsx(U7e,{})})}),o.jsx(Ei,{path:"*",element:o.jsx(nHe,{})})]})})]})})});aU(document.getElementById("root")).render(o.jsx(sHe,{}));
